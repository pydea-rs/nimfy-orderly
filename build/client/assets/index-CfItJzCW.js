import{r as b,j as t}from"./index-_b-vxSi4.js";import{Z as W,_ as M,M as I,C as _e,S as Y,z as S,$ as y,a as je,b as Le,u as ce,c as ue,e as Et,g as P,h as Be,j as de,i as cn,k as un,X as pe,l as Vt,n as Ft,o as Me,t as ot,p as dn,q as Tt,r as Rt,s as Pt,v as mn,P as Se,w as hn,y as Bt,E as fn,V as xn,x as Qe,Y as Ut,A as Kt,B as Ht,D as Xt,F as gn,G as pn}from"./index-hxeryC1o.js";import{T as bn}from"./Trans-DyzQVnhk.js";function jn(e){return Object.prototype.toString.call(e)==="[object Object]"}function It(e){return jn(e)||Array.isArray(e)}function vn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function rt(e,s){const n=Object.keys(e),o=Object.keys(s);if(n.length!==o.length)return!1;const r=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(s.breakpoints||{}));return r!==i?!1:n.every(a=>{const l=e[a],c=s[a];return typeof l=="function"?`${l}`==`${c}`:!It(l)||!It(c)?l===c:rt(l,c)})}function Ot(e){return e.concat().sort((s,n)=>s.name>n.name?1:-1).map(s=>s.options)}function yn(e,s){if(e.length!==s.length)return!1;const n=Ot(e),o=Ot(s);return n.every((r,i)=>{const a=o[i];return rt(r,a)})}function it(e){return typeof e=="number"}function et(e){return typeof e=="string"}function at(e){return typeof e=="boolean"}function zt(e){return Object.prototype.toString.call(e)==="[object Object]"}function U(e){return Math.abs(e)}function lt(e){return Math.sign(e)}function ke(e,s){return U(e-s)}function wn(e,s){if(e===0||s===0||U(e)<=U(s))return 0;const n=ke(U(e),U(s));return U(n/e)}function Ie(e){return Oe(e).map(Number)}function ne(e){return e[Ae(e)]}function Ae(e){return Math.max(0,e.length-1)}function ct(e,s){return s===Ae(e)}function _t(e,s=0){return Array.from(Array(e),(n,o)=>s+o)}function Oe(e){return Object.keys(e)}function Wt(e,s){return[e,s].reduce((n,o)=>(Oe(o).forEach(r=>{const i=n[r],a=o[r],l=zt(i)&&zt(a);n[r]=l?Wt(i,a):a}),n),{})}function tt(e,s){return typeof s.MouseEvent<"u"&&e instanceof s.MouseEvent}function Sn(e,s){const n={start:o,center:r,end:i};function o(){return 0}function r(c){return i(c)/2}function i(c){return s-c}function a(c,u){return et(e)?n[e](c):e(s,c,u)}return{measure:a}}function ze(){let e=[];function s(r,i,a,l={passive:!0}){let c;if("addEventListener"in r)r.addEventListener(i,a,l),c=()=>r.removeEventListener(i,a,l);else{const u=r;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),o}function n(){e=e.filter(r=>r())}const o={add:s,clear:n};return o}function Nn(e,s,n,o){const r=ze(),i=1e3/60;let a=null,l=0,c=0;function u(){r.add(e,"visibilitychange",()=>{e.hidden&&m()})}function x(){j(),r.clear()}function d(p){if(!c)return;a||(a=p);const g=p-a;for(a=p,l+=g;l>=i;)n(),l-=i;const v=U(l/i);o(v),c&&s.requestAnimationFrame(d)}function h(){c||(c=s.requestAnimationFrame(d))}function j(){s.cancelAnimationFrame(c),a=null,l=0,c=0}function m(){a=null,l=0}return{init:u,destroy:x,start:h,stop:j,update:n,render:o}}function Cn(e,s){const n=s==="rtl",o=e==="y",r=o?"y":"x",i=o?"x":"y",a=!o&&n?-1:1,l=x(),c=d();function u(m){const{height:f,width:p}=m;return o?f:p}function x(){return o?"top":n?"right":"left"}function d(){return o?"bottom":n?"left":"right"}function h(m){return m*a}return{scroll:r,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:h}}function be(e=0,s=0){const n=U(e-s);function o(u){return u<e}function r(u){return u>s}function i(u){return o(u)||r(u)}function a(u){return i(u)?o(u)?e:s:u}function l(u){return n?u-n*Math.ceil((u-s)/n):u}return{length:n,max:s,min:e,constrain:a,reachedAny:i,reachedMax:r,reachedMin:o,removeOffset:l}}function qt(e,s,n){const{constrain:o}=be(0,e),r=e+1;let i=a(s);function a(h){return n?U((r+h)%r):o(h)}function l(){return i}function c(h){return i=a(h),d}function u(h){return x().set(l()+h)}function x(){return qt(e,l(),n)}const d={get:l,set:c,add:u,clone:x};return d}function kn(e,s,n,o,r,i,a,l,c,u,x,d,h,j,m,f,p,g,v){const{cross:w,direction:O}=e,T=["INPUT","SELECT","TEXTAREA"],N={passive:!1},k=ze(),z=ze(),L=be(50,225).constrain(j.measure(20)),A={mouse:300,touch:400},F={mouse:500,touch:600},D=m?43:25;let H=!1,E=0,_=0,R=!1,q=!1,J=!1,re=!1;function fe(C){if(!v)return;function V($){(at(v)||v(C,$))&&Q($)}const X=s;k.add(X,"dragstart",$=>$.preventDefault(),N).add(X,"touchmove",()=>{},N).add(X,"touchend",()=>{}).add(X,"touchstart",V).add(X,"mousedown",V).add(X,"touchcancel",G).add(X,"contextmenu",G).add(X,"click",ye,!0)}function ie(){k.clear(),z.clear()}function ve(){const C=re?n:s;z.add(C,"touchmove",se,N).add(C,"touchend",G).add(C,"mousemove",se,N).add(C,"mouseup",G)}function ae(C){const V=C.nodeName||"";return T.includes(V)}function Ne(){return(m?F:A)[re?"mouse":"touch"]}function Ce(C,V){const X=d.add(lt(C)*-1),$=x.byDistance(C,!m).distance;return m||U(C)<L?$:p&&V?$*.5:x.byIndex(X.get(),0).distance}function Q(C){const V=tt(C,o);re=V,J=m&&V&&!C.buttons&&H,H=ke(r.get(),a.get())>=2,!(V&&C.button!==0)&&(ae(C.target)||(R=!0,i.pointerDown(C),u.useFriction(0).useDuration(0),r.set(a),ve(),E=i.readPoint(C),_=i.readPoint(C,w),h.emit("pointerDown")))}function se(C){if(!tt(C,o)&&C.touches.length>=2)return G(C);const X=i.readPoint(C),$=i.readPoint(C,w),oe=ke(X,E),ee=ke($,_);if(!q&&!re&&(!C.cancelable||(q=oe>ee,!q)))return G(C);const te=i.pointerMove(C);oe>f&&(J=!0),u.useFriction(.3).useDuration(.75),l.start(),r.add(O(te)),C.preventDefault()}function G(C){const X=x.byDistance(0,!1).index!==d.get(),$=i.pointerUp(C)*Ne(),oe=Ce(O($),X),ee=wn($,oe),te=D-10*ee,xe=g+ee/50;q=!1,R=!1,z.clear(),u.useDuration(te).useFriction(xe),c.distance(oe,!m),re=!1,h.emit("pointerUp")}function ye(C){J&&(C.stopPropagation(),C.preventDefault(),J=!1)}function Z(){return R}return{init:fe,destroy:ie,pointerDown:Z}}function Tn(e,s){let o,r;function i(d){return d.timeStamp}function a(d,h){const m=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(tt(d,s)?d:d.touches[0])[m]}function l(d){return o=d,r=d,a(d)}function c(d){const h=a(d)-a(r),j=i(d)-i(o)>170;return r=d,j&&(o=d),h}function u(d){if(!o||!r)return 0;const h=a(r)-a(o),j=i(d)-i(o),m=i(d)-i(r)>170,f=h/j;return j&&!m&&U(f)>.1?f:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:a}}function In(){function e(n){const{offsetTop:o,offsetLeft:r,offsetWidth:i,offsetHeight:a}=n;return{top:o,right:r+i,bottom:o+a,left:r,width:i,height:a}}return{measure:e}}function On(e){function s(o){return e*(o/100)}return{measure:s}}function zn(e,s,n,o,r,i,a){let l,c,u=[],x=!1;function d(f){return r.measureSize(a.measure(f))}function h(f){if(!i)return;c=d(e),u=o.map(d);function p(v){for(const w of v){const O=w.target===e,T=o.indexOf(w.target),N=O?c:u[T],k=d(O?e:o[T]);if(U(k-N)>=.5){n.requestAnimationFrame(()=>{f.reInit(),s.emit("resize")});break}}}l=new ResizeObserver(v=>{x||(at(i)||i(f,v))&&p(v)}),[e].concat(o).forEach(v=>l.observe(v))}function j(){l&&l.disconnect(),x=!0}return{init:h,destroy:j}}function _n(e,s,n,o,r){let i=0,a=0,l=o,c=r,u=e.get(),x=0;function d(){const T=n.get()-e.get(),N=!l;let k=0;return N?(i=0,e.set(n),k=T):(i+=T/l,i*=c,u+=i,e.add(i),k=u-x),a=lt(k),x=u,O}function h(){const T=n.get()-s.get();return U(T)<.001}function j(){return l}function m(){return a}function f(){return i}function p(){return v(o)}function g(){return w(r)}function v(T){return l=T,O}function w(T){return c=T,O}const O={direction:m,duration:j,velocity:f,seek:d,settled:h,useBaseFriction:g,useBaseDuration:p,useFriction:w,useDuration:v};return O}function Ln(e,s,n,o,r){const i=r.measure(10),a=r.measure(50),l=be(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(s.get()))}function x(j){if(!u())return;const m=e.reachedMin(s.get())?"min":"max",f=U(e[m]-s.get()),p=n.get()-s.get(),g=l.constrain(f/a);n.subtract(p*g),!j&&U(p)<i&&(n.set(e.constrain(n.get())),o.useDuration(25).useBaseFriction())}function d(j){c=!j}return{shouldConstrain:u,constrain:x,toggleActive:d}}function Mn(e,s,n,o,r){const i=be(-s+e,0),a=d(),l=x(),c=h();function u(m,f){return ke(m,f)<1}function x(){const m=a[0],f=ne(a),p=a.lastIndexOf(m),g=a.indexOf(f)+1;return be(p,g)}function d(){return n.map((m,f)=>{const{min:p,max:g}=i,v=i.constrain(m),w=!f,O=ct(n,f);return w?g:O||u(p,v)?p:u(g,v)?g:v}).map(m=>parseFloat(m.toFixed(3)))}function h(){if(s<=e+r)return[i.max];if(o==="keepSnaps")return a;const{min:m,max:f}=l;return a.slice(m,f)}return{snapsContained:c,scrollContainLimit:l}}function An(e,s,n){const o=s[0],r=n?o-e:ne(s);return{limit:be(r,o)}}function Dn(e,s,n,o){const i=s.min+.1,a=s.max+.1,{reachedMin:l,reachedMax:c}=be(i,a);function u(h){return h===1?c(n.get()):h===-1?l(n.get()):!1}function x(h){if(!u(h))return;const j=e*(h*-1);o.forEach(m=>m.add(j))}return{loop:x}}function En(e){const{max:s,length:n}=e;function o(i){const a=i-s;return n?a/-n:0}return{get:o}}function Vn(e,s,n,o,r){const{startEdge:i,endEdge:a}=e,{groupSlides:l}=r,c=d().map(s.measure),u=h(),x=j();function d(){return l(o).map(f=>ne(f)[a]-f[0][i]).map(U)}function h(){return o.map(f=>n[i]-f[i]).map(f=>-U(f))}function j(){return l(u).map(f=>f[0]).map((f,p)=>f+c[p])}return{snaps:u,snapsAligned:x}}function Fn(e,s,n,o,r,i){const{groupSlides:a}=r,{min:l,max:c}=o,u=x();function x(){const h=a(i),j=!e||s==="keepSnaps";return n.length===1?[i]:j?h:h.slice(l,c).map((m,f,p)=>{const g=!f,v=ct(p,f);if(g){const w=ne(p[0])+1;return _t(w)}if(v){const w=Ae(i)-ne(p)[0]+1;return _t(w,ne(p)[0])}return m})}return{slideRegistry:u}}function Rn(e,s,n,o,r){const{reachedAny:i,removeOffset:a,constrain:l}=o;function c(m){return m.concat().sort((f,p)=>U(f)-U(p))[0]}function u(m){const f=e?a(m):l(m),p=s.map((v,w)=>({diff:x(v-f,0),index:w})).sort((v,w)=>U(v.diff)-U(w.diff)),{index:g}=p[0];return{index:g,distance:f}}function x(m,f){const p=[m,m+n,m-n];if(!e)return m;if(!f)return c(p);const g=p.filter(v=>lt(v)===f);return g.length?c(g):ne(p)-n}function d(m,f){const p=s[m]-r.get(),g=x(p,f);return{index:m,distance:g}}function h(m,f){const p=r.get()+m,{index:g,distance:v}=u(p),w=!e&&i(p);if(!f||w)return{index:g,distance:m};const O=s[g]-v,T=m+x(O,0);return{index:g,distance:T}}return{byDistance:h,byIndex:d,shortcut:x}}function Pn(e,s,n,o,r,i,a){function l(d){const h=d.distance,j=d.index!==s.get();i.add(h),h&&(o.duration()?e.start():(e.update(),e.render(1),e.update())),j&&(n.set(s.get()),s.set(d.index),a.emit("select"))}function c(d,h){const j=r.byDistance(d,h);l(j)}function u(d,h){const j=s.clone().set(d),m=r.byIndex(j.get(),h);l(m)}return{distance:c,index:u}}function Bn(e,s,n,o,r,i,a){let l=0;function c(){i.add(document,"keydown",u,!1),s.forEach(x)}function u(h){h.code==="Tab"&&(l=new Date().getTime())}function x(h){const j=()=>{if(new Date().getTime()-l>10)return;e.scrollLeft=0;const p=s.indexOf(h),g=n.findIndex(v=>v.includes(p));it(g)&&(r.useDuration(0),o.index(g,0),a.emit("slideFocus"))};i.add(h,"focus",j,{passive:!0,capture:!0})}return{init:c}}function Fe(e){let s=e;function n(){return s}function o(c){s=a(c)}function r(c){s+=a(c)}function i(c){s-=a(c)}function a(c){return it(c)?c:c.get()}return{get:n,set:o,add:r,subtract:i}}function $t(e,s){const n=e.scroll==="x"?i:a,o=s.style;let r=!1;function i(d){return`translate3d(${d}px,0px,0px)`}function a(d){return`translate3d(0px,${d}px,0px)`}function l(d){r||(o.transform=n(e.direction(d)))}function c(d){r=!d}function u(){r||(o.transform="",s.getAttribute("style")||s.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function Un(e,s,n,o,r,i,a,l,c){const x=Ie(r),d=Ie(r).reverse(),h=g().concat(v());function j(k,z){return k.reduce((L,A)=>L-r[A],z)}function m(k,z){return k.reduce((L,A)=>j(L,z)>0?L.concat([A]):L,[])}function f(k){return i.map((z,L)=>({start:z-o[L]+.5+k,end:z+s-.5+k}))}function p(k,z,L){const A=f(z);return k.map(F=>{const D=L?0:-n,H=L?n:0,E=L?"end":"start",_=A[F][E];return{index:F,loopPoint:_,slideLocation:Fe(-1),translate:$t(e,c[F]),target:()=>l.get()>_?D:H}})}function g(){const k=a[0],z=m(d,k);return p(z,n,!1)}function v(){const k=s-a[0]-1,z=m(x,k);return p(z,-n,!0)}function w(){return h.every(({index:k})=>{const z=x.filter(L=>L!==k);return j(z,s)<=.1})}function O(){h.forEach(k=>{const{target:z,translate:L,slideLocation:A}=k,F=z();F!==A.get()&&(L.to(F),A.set(F))})}function T(){h.forEach(k=>k.translate.clear())}return{canLoop:w,clear:T,loop:O,loopPoints:h}}function Kn(e,s,n){let o,r=!1;function i(c){if(!n)return;function u(x){for(const d of x)if(d.type==="childList"){c.reInit(),s.emit("slidesChanged");break}}o=new MutationObserver(x=>{r||(at(n)||n(c,x))&&u(x)}),o.observe(e,{childList:!0})}function a(){o&&o.disconnect(),r=!0}return{init:i,destroy:a}}function Hn(e,s,n,o){const r={};let i=null,a=null,l,c=!1;function u(){l=new IntersectionObserver(m=>{c||(m.forEach(f=>{const p=s.indexOf(f.target);r[p]=f}),i=null,a=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:o}),s.forEach(m=>l.observe(m))}function x(){l&&l.disconnect(),c=!0}function d(m){return Oe(r).reduce((f,p)=>{const g=parseInt(p),{isIntersecting:v}=r[g];return(m&&v||!m&&!v)&&f.push(g),f},[])}function h(m=!0){if(m&&i)return i;if(!m&&a)return a;const f=d(m);return m&&(i=f),m||(a=f),f}return{init:u,destroy:x,get:h}}function Xn(e,s,n,o,r,i){const{measureSize:a,startEdge:l,endEdge:c}=e,u=n[0]&&r,x=m(),d=f(),h=n.map(a),j=p();function m(){if(!u)return 0;const v=n[0];return U(s[l]-v[l])}function f(){if(!u)return 0;const v=i.getComputedStyle(ne(o));return parseFloat(v.getPropertyValue(`margin-${c}`))}function p(){return n.map((v,w,O)=>{const T=!w,N=ct(O,w);return T?h[w]+x:N?h[w]+d:O[w+1][l]-v[l]}).map(U)}return{slideSizes:h,slideSizesWithGaps:j,startGap:x,endGap:d}}function Wn(e,s,n,o,r,i,a,l,c){const{startEdge:u,endEdge:x,direction:d}=e,h=it(n);function j(g,v){return Ie(g).filter(w=>w%v===0).map(w=>g.slice(w,w+v))}function m(g){return g.length?Ie(g).reduce((v,w,O)=>{const T=ne(v)||0,N=T===0,k=w===Ae(g),z=r[u]-i[T][u],L=r[u]-i[w][x],A=!o&&N?d(a):0,F=!o&&k?d(l):0,D=U(L-F-(z+A));return O&&D>s+c&&v.push(w),k&&v.push(g.length),v},[]).map((v,w,O)=>{const T=Math.max(O[w-1]||0);return g.slice(T,v)}):[]}function f(g){return h?j(g,n):m(g)}return{groupSlides:f}}function qn(e,s,n,o,r,i,a){const{align:l,axis:c,direction:u,startIndex:x,loop:d,duration:h,dragFree:j,dragThreshold:m,inViewThreshold:f,slidesToScroll:p,skipSnaps:g,containScroll:v,watchResize:w,watchSlides:O,watchDrag:T}=i,N=2,k=In(),z=k.measure(s),L=n.map(k.measure),A=Cn(c,u),F=A.measureSize(z),D=On(F),H=Sn(l,F),E=!d&&!!v,_=d||!!v,{slideSizes:R,slideSizesWithGaps:q,startGap:J,endGap:re}=Xn(A,z,L,n,_,r),fe=Wn(A,F,p,d,z,L,J,re,N),{snaps:ie,snapsAligned:ve}=Vn(A,H,z,L,fe),ae=-ne(ie)+ne(q),{snapsContained:Ne,scrollContainLimit:Ce}=Mn(F,ae,ve,v,N),Q=E?Ne:ve,{limit:se}=An(ae,Q,d),G=qt(Ae(Q),x,d),ye=G.clone(),Z=Ie(n),K=({dragHandler:ge,scrollBody:Ye,scrollBounds:Je,options:{loop:Ve}})=>{Ve||Je.constrain(ge.pointerDown()),Ye.seek()},C=({scrollBody:ge,translate:Ye,location:Je,offsetLocation:Ve,scrollLooper:tn,slideLooper:nn,dragHandler:sn,animation:on,eventHandler:wt,scrollBounds:rn,options:{loop:St}},an)=>{const Nt=ge.velocity(),Ct=ge.settled(),ln=!rn.shouldConstrain(),kt=St?Ct:Ct&&ln;kt&&!sn.pointerDown()&&(on.stop(),wt.emit("settle")),kt||wt.emit("scroll"),Ve.set(Je.get()-Nt+Nt*an),St&&(tn.loop(ge.direction()),nn.loop()),Ye.to(Ve.get())},V=Nn(o,r,()=>K(Ge),ge=>C(Ge,ge)),X=.68,$=Q[G.get()],oe=Fe($),ee=Fe($),te=Fe($),xe=_n(oe,ee,te,h,X),qe=Rn(d,Q,ae,se,te),$e=Pn(V,G,ye,xe,qe,te,a),jt=En(se),vt=ze(),Zt=Hn(s,n,a,f),{slideRegistry:yt}=Fn(E,v,Q,Ce,fe,Z),en=Bn(e,n,yt,$e,xe,vt,a),Ge={ownerDocument:o,ownerWindow:r,eventHandler:a,containerRect:z,slideRects:L,animation:V,axis:A,dragHandler:kn(A,e,o,r,te,Tn(A,r),oe,V,$e,xe,qe,G,a,D,j,m,g,X,T),eventStore:vt,percentOfView:D,index:G,indexPrevious:ye,limit:se,location:oe,offsetLocation:ee,options:i,resizeHandler:zn(s,a,r,n,A,w,k),scrollBody:xe,scrollBounds:Ln(se,ee,te,xe,D),scrollLooper:Dn(ae,se,ee,[oe,ee,te]),scrollProgress:jt,scrollSnapList:Q.map(jt.get),scrollSnaps:Q,scrollTarget:qe,scrollTo:$e,slideLooper:Un(A,F,ae,R,q,ie,Q,ee,n),slideFocus:en,slidesHandler:Kn(s,a,O),slidesInView:Zt,slideIndexes:Z,slideRegistry:yt,slidesToScroll:fe,target:te,translate:$t(A,s)};return Ge}function $n(){let e={},s;function n(u){s=u}function o(u){return e[u]||[]}function r(u){return o(u).forEach(x=>x(s,u)),c}function i(u,x){return e[u]=o(u).concat([x]),c}function a(u,x){return e[u]=o(u).filter(d=>d!==x),c}function l(){e={}}const c={init:n,emit:r,off:a,on:i,clear:l};return c}const Gn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function Yn(e){function s(i,a){return Wt(i,a||{})}function n(i){const a=i.breakpoints||{},l=Oe(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>s(c,u),{});return s(i,l)}function o(i){return i.map(a=>Oe(a.breakpoints||{})).reduce((a,l)=>a.concat(l),[]).map(e.matchMedia)}return{mergeOptions:s,optionsAtMedia:n,optionsMediaQueries:o}}function Jn(e){let s=[];function n(i,a){return s=a.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),s.forEach(l=>l.init(i,e)),a.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function o(){s=s.filter(i=>i.destroy())}return{init:n,destroy:o}}function Pe(e,s,n){const o=e.ownerDocument,r=o.defaultView,i=Yn(r),a=Jn(i),l=ze(),c=$n(),{mergeOptions:u,optionsAtMedia:x,optionsMediaQueries:d}=i,{on:h,off:j,emit:m}=c,f=F;let p=!1,g,v=u(Gn,Pe.globalOptions),w=u(v),O=[],T,N,k;function z(){const{container:K,slides:C}=w;N=(et(K)?e.querySelector(K):K)||e.children[0];const X=et(C)?N.querySelectorAll(C):C;k=[].slice.call(X||N.children)}function L(K){const C=qn(e,N,k,o,r,K,c);if(K.loop&&!C.slideLooper.canLoop()){const V=Object.assign({},K,{loop:!1});return L(V)}return C}function A(K,C){p||(v=u(v,K),w=x(v),O=C||O,z(),g=L(w),d([v,...O.map(({options:V})=>V)]).forEach(V=>l.add(V,"change",F)),w.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(),g.eventHandler.init(Z),g.resizeHandler.init(Z),g.slidesHandler.init(Z),g.options.loop&&g.slideLooper.loop(),N.offsetParent&&k.length&&g.dragHandler.init(Z),T=a.init(Z,O)))}function F(K,C){const V=ie();D(),A(u({startIndex:V},K),C),c.emit("reInit")}function D(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),l.clear()}function H(){p||(p=!0,l.clear(),D(),c.emit("destroy"),c.clear())}function E(K,C,V){!w.active||p||(g.scrollBody.useBaseFriction().useDuration(C===!0?0:w.duration),g.scrollTo.index(K,V||0))}function _(K){const C=g.index.add(1).get();E(C,K,-1)}function R(K){const C=g.index.add(-1).get();E(C,K,1)}function q(){return g.index.add(1).get()!==ie()}function J(){return g.index.add(-1).get()!==ie()}function re(){return g.scrollSnapList}function fe(){return g.scrollProgress.get(g.location.get())}function ie(){return g.index.get()}function ve(){return g.indexPrevious.get()}function ae(){return g.slidesInView.get()}function Ne(){return g.slidesInView.get(!1)}function Ce(){return T}function Q(){return g}function se(){return e}function G(){return N}function ye(){return k}const Z={canScrollNext:q,canScrollPrev:J,containerNode:G,internalEngine:Q,destroy:H,off:j,on:h,emit:m,plugins:Ce,previousScrollSnap:ve,reInit:f,rootNode:se,scrollNext:_,scrollPrev:R,scrollProgress:fe,scrollSnapList:re,scrollTo:E,selectedScrollSnap:ie,slideNodes:ye,slidesInView:ae,slidesNotInView:Ne};return A(s,n),setTimeout(()=>c.emit("init"),0),Z}Pe.globalOptions=void 0;function ut(e={},s=[]){const n=b.useRef(e),o=b.useRef(s),[r,i]=b.useState(),[a,l]=b.useState(),c=b.useCallback(()=>{r&&r.reInit(n.current,o.current)},[r]);return b.useEffect(()=>{if(vn()&&a){Pe.globalOptions=ut.globalOptions;const u=Pe(a,n.current,o.current);return i(u),()=>u.destroy()}else i(void 0)},[a,i]),b.useEffect(()=>{rt(n.current,e)||(n.current=e,c())},[e,c]),b.useEffect(()=>{yn(o.current,s)||(o.current=s,c())},[s,c]),[l,r]}ut.globalOptions=void 0;var Gt=b.createContext({}),De=e=>{let[s,n]=b.useState(""),o=b.useCallback(()=>{n("")},[]);return t.jsx(Gt.Provider,{value:{searchValue:s,onSearchValueChange:n,clearSearchValue:o,symbol:e.symbol,onSymbolChange:e.onSymbolChange},children:e.children})};function B(){return b.useContext(Gt)}var Qn=e=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M3.333 12.667h.95L10.8 6.15l-.95-.95-6.517 6.517zM2.667 14a.65.65 0 0 1-.475-.192.65.65 0 0 1-.192-.475v-1.616a1.32 1.32 0 0 1 .383-.934l8.417-8.4q.2-.183.442-.283.24-.1.508-.1.267 0 .517.1.249.1.433.3l.917.933q.2.184.291.434a1.44 1.44 0 0 1 0 1.008 1.25 1.25 0 0 1-.291.442l-8.4 8.4a1.32 1.32 0 0 1-.933.383zm7.65-8.317L9.85 5.2l.95.95z"})})]}),Zn=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M7.205 1.334c-.345 0-.674.136-.918.38L6.001 2H2.667a.667.667 0 1 0 0 1.334h10.667a.667.667 0 1 0 0-1.334h-3.333l-.287-.286a1.3 1.3 0 0 0-.918-.38zM2.911 4.667l1.018 8.842c.088.66.656 1.158 1.322 1.158h5.498c.666 0 1.235-.497 1.323-1.163l1.019-8.837z"})}),es=e=>t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"12",height:"12",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 0h12v12H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M8.5 10a.48.48 0 0 1-.356-.144A.48.48 0 0 1 8 9.5V7q0-.213.144-.356A.48.48 0 0 1 8.5 6.5h1q.212 0 .356.144A.48.48 0 0 1 10 7v2.5q0 .212-.144.356A.48.48 0 0 1 9.5 10zm-3 0a.48.48 0 0 1-.356-.144A.48.48 0 0 1 5 9.5v-7q0-.212.144-.356A.48.48 0 0 1 5.5 2h1q.213 0 .356.144A.48.48 0 0 1 7 2.5v7q0 .212-.144.356A.48.48 0 0 1 6.5 10zm-3 0a.48.48 0 0 1-.356-.144A.48.48 0 0 1 2 9.5V5q0-.213.144-.356A.48.48 0 0 1 2.5 4.5h1q.212 0 .356.144A.48.48 0 0 1 4 5v4.5q0 .212-.144.356A.48.48 0 0 1 3.5 10z"})})]}),ts=e=>t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M5.993.958a.416.416 0 0 0-.41.422v.416a.416.416 0 1 0 .832 0V1.38a.416.416 0 0 0-.422-.422M2.749 2.29a.416.416 0 0 0-.29.714l.291.292a.416.416 0 1 0 .589-.588l-.292-.292a.42.42 0 0 0-.298-.126m6.489 0a.42.42 0 0 0-.286.126l-.292.292a.416.416 0 1 0 .588.588l.292-.292a.416.416 0 0 0-.302-.714m-3.239.753a2.895 2.895 0 0 0-2.913 2.914A2.86 2.86 0 0 0 4.751 8.58v1.123c0 .458.374.833.832.833h.832a.835.835 0 0 0 .833-.833V8.58a2.86 2.86 0 0 0 1.665-2.622 2.895 2.895 0 0 0-2.914-2.914M1.421 5.541a.416.416 0 1 0 0 .833h.417a.416.416 0 1 0 0-.833zm8.74 0a.416.416 0 1 0 0 .833h.416a.417.417 0 1 0 0-.833zM3.037 8.492a.42.42 0 0 0-.287.126l-.291.292a.416.416 0 1 0 .588.588l.292-.292a.416.416 0 0 0-.302-.714m5.913 0a.416.416 0 0 0-.29.714l.292.292a.416.416 0 1 0 .588-.588l-.292-.292a.42.42 0 0 0-.298-.126"})}),Ue=e=>t.jsxs("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"21",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 .5h20v20H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"m10 14.074-3.2 1.913a.6.6 0 0 1-.332.068.6.6 0 0 1-.277-.101.5.5 0 0 1-.186-.256.5.5 0 0 1-.005-.336l.84-3.556-2.82-2.394a.5.5 0 0 1-.174-.281.6.6 0 0 1 .013-.315.5.5 0 0 1 .173-.252.55.55 0 0 1 .305-.112l3.693-.33 1.467-3.393a.57.57 0 0 1 .211-.255A.54.54 0 0 1 10 4.39q.16 0 .292.083.131.082.211.255l1.467 3.414 3.693.309q.178.014.305.123.126.11.173.262t.002.304a.56.56 0 0 1-.183.27l-2.8 2.395.84 3.556a.5.5 0 0 1-.005.336.5.5 0 0 1-.186.256.6.6 0 0 1-.277.101.6.6 0 0 1-.332-.068z"})})]}),nt=e=>t.jsxs("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"21",children:t.jsx("path",{fill:"#D9D9D9",d:"M0 .5h20v20H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M7.333 14.396 10 12.813l2.688 1.583-.709-3 2.313-1.98-3.063-.27L10 6.292 8.77 9.146l-3.062.27 2.334 1.98zM10 14.074l-3.2 1.913a.6.6 0 0 1-.332.068.6.6 0 0 1-.277-.101.5.5 0 0 1-.186-.256.5.5 0 0 1-.005-.336l.84-3.556-2.82-2.394a.5.5 0 0 1-.174-.281.6.6 0 0 1 .013-.315.5.5 0 0 1 .173-.252.55.55 0 0 1 .305-.112l3.693-.33 1.467-3.393a.57.57 0 0 1 .211-.255A.54.54 0 0 1 10 4.39q.16 0 .292.083.131.082.211.255l1.467 3.414 3.693.309q.178.014.305.123.126.11.173.262t.002.304a.56.56 0 0 1-.183.27l-2.8 2.395.84 3.556a.5.5 0 0 1-.005.336.5.5 0 0 1-.186.256.6.6 0 0 1-.277.101.6.6 0 0 1-.332-.068z"})})]}),Ee=e=>t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M5.841 1.14a4.667 4.667 0 0 0 0 9.333 4.74 4.74 0 0 0 2.875-.975l2.54 2.56a.6.6 0 0 0 .838 0 .6.6 0 0 0 0-.838L9.537 8.677a4.72 4.72 0 0 0 .971-2.871 4.667 4.667 0 0 0-4.667-4.667m0 1.166a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7"})}),ns=e=>t.jsx("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M10 5.5a.76.76 0 0 0-.583.25l-4.334 4c0 .083-.083.25-.083.333 0 .25.167.417.417.417h2.916v6.667c0 .416.334.833.834.833h1.666c.5 0 .834-.417.834-.833V10.5h2.916c.25 0 .417-.167.417-.417 0-.083-.083-.25-.083-.333l-4.25-4.084c-.25-.083-.417-.166-.667-.166M2.177 3.06A.8.8 0 0 1 2.5 3h15a.834.834 0 1 1 0 1.667h-15a.833.833 0 0 1-.323-1.607"})}),Te=e=>t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.015.34h-.029a5.98 5.98 0 0 0-3.93 1.477c-.074.065-.027.184.072.184h7.745c.099 0 .146-.119.072-.184A5.98 5.98 0 0 0 6.015.341M3.48 7.866a.23.23 0 0 1 .187.1A2.85 2.85 0 0 0 6 9.178a2.85 2.85 0 0 0 2.334-1.213.23.23 0 0 1 .186-.1h3.104c.09 0 .155.086.13.172A6 6 0 0 1 6 12.327a6 6 0 0 1-5.755-4.29.134.134 0 0 1 .13-.172zM8.26 4.6a.29.29 0 0 0 .229.116h3.11c.09 0 .156-.086.13-.173a6 6 0 0 0-1.106-2.03.22.22 0 0 0-.165-.077H1.543a.22.22 0 0 0-.165.077 6 6 0 0 0-1.105 2.03.134.134 0 0 0 .13.173h3.11A.29.29 0 0 0 3.74 4.6 2.85 2.85 0 0 1 6 3.488c.92 0 1.738.436 2.26 1.112m.414 2.717c-.02.055.02.115.079.115h3.033a.135.135 0 0 0 .133-.112 6 6 0 0 0-.015-2.058.135.135 0 0 0-.133-.11H8.72c-.06 0-.1.061-.078.117a2.83 2.83 0 0 1 .032 2.048m-5.427.115c.06 0 .1-.06.079-.115a2.84 2.84 0 0 1 .032-2.048.085.085 0 0 0-.078-.118H.23a.135.135 0 0 0-.134.11A6 6 0 0 0 .08 7.32c.01.065.067.112.133.112z"})}),dt=e=>t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M6.012 1.72c-.286 0-.577.178-.75.532L4.2 4.438l-2.42.344c-.78.108-1.03.872-.47 1.42l1.75 1.703-.407 2.39c-.133.773.508 1.24 1.203.874.268-.142 1.648-.857 2.155-1.124l2.155 1.124c.695.367 1.339-.1 1.202-.874l-.421-2.39 1.749-1.702c.565-.547.326-1.31-.453-1.421l-2.436-.344L6.76 2.252c-.172-.354-.464-.531-.75-.531"})}),mt=e=>t.jsx("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M6.012 1.72c-.286 0-.577.178-.75.532L4.2 4.438l-2.42.344c-.78.108-1.03.872-.47 1.42l1.75 1.703-.407 2.39c-.133.773.508 1.24 1.203.874.268-.142 1.648-.857 2.155-1.124l2.155 1.124c.695.367 1.339-.1 1.202-.874l-.421-2.39 1.749-1.702c.565-.547.326-1.31-.453-1.421l-2.436-.344L6.76 2.252c-.172-.354-.464-.531-.75-.531m0 1.297 1.03 2.108c.073.15.211.242.375.266l2.343.343-1.702 1.64a.48.48 0 0 0-.14.437l.405 2.312L6.246 9.03a.5.5 0 0 0-.468 0L3.7 10.123l.39-2.296a.52.52 0 0 0-.14-.453l-1.687-1.64 2.327-.328a.52.52 0 0 0 .39-.28z"})}),ht=e=>t.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M2.01 2.915a.667.667 0 1 0 0 1.334h12a.667.667 0 0 0 0-1.334zM7.343 13.59a.667.667 0 0 0 1.333 0V7.88l2 1.98.937-.938L8.49 5.777a.686.686 0 0 0-.959 0L4.405 8.923l.938.937 2-1.979z"})}),ft=e=>t.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M4.67 2.203A2.667 2.667 0 0 0 2.005 4.87v6.667a2.667 2.667 0 0 0 2.667 2.666h6.666a2.667 2.667 0 0 0 2.667-2.666V4.87a2.667 2.667 0 0 0-2.667-2.667zm1.334 3.334c.17 0 .349.057.48.187l1.52 1.52 1.52-1.52a.68.68 0 0 1 .48-.187c.17 0 .349.057.48.187.26.26.26.698 0 .959l-1.521 1.52 1.52 1.52c.26.262.26.699 0 .96a.687.687 0 0 1-.958 0L8.004 9.162l-1.52 1.52a.687.687 0 0 1-.96 0 .687.687 0 0 1 0-.958l1.521-1.52-1.52-1.521a.687.687 0 0 1 0-.96.68.68 0 0 1 .479-.186"})}),ss=e=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[t.jsx("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("path",{d:"M0 0h16v16H0z"})}),t.jsx("g",{mask:"url(#a)",children:t.jsx("path",{d:"M7.333 8.667h-4V7.333h4v-4h1.333v4h4v1.334h-4v4H7.333z"})})]}),os=e=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:[t.jsx("path",{d:"M5.99536 1.46487C5.71936 1.46487 5.49536 1.68887 5.49536 1.96487V5.46487H1.99536C1.71936 5.46487 1.49536 5.68887 1.49536 5.96487C1.49536 6.24087 1.71936 6.46487 1.99536 6.46487H5.49536V9.96487C5.49536 10.2409 5.71936 10.4649 5.99536 10.4649C6.27136 10.4649 6.49536 10.2409 6.49536 9.96487V6.46487H9.99536C10.2714 6.46487 10.4954 6.24087 10.4954 5.96487C10.4954 5.68887 10.2714 5.46487 9.99536 5.46487H6.49536V1.96487C6.49536 1.68887 6.27136 1.46487 5.99536 1.46487Z",fill:"url(#paint0_linear_1951_55156)"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"paint0_linear_1951_55156",x1:"10.4954",y1:"5.96487",x2:"1.49536",y2:"5.96487",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"rgb(var(--oui-gradient-brand-end))"}),t.jsx("stop",{offset:"1",stopColor:"rgb(var(--oui-gradient-brand-start))"})]})})]}),rs=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M6.326 8.826a.84.84 0 0 0-.6.234L2.16 12.627v-2.135H.492v4.167c0 .46.373.833.834.833h4.166v-1.667H3.357l3.567-3.567a.857.857 0 0 0 0-1.198.84.84 0 0 0-.598-.234M10.502.492V2.16h2.135L9.07 5.726a.857.857 0 0 0 0 1.199.86.86 0 0 0 1.197 0l3.568-3.568v2.135h1.667V1.326a.834.834 0 0 0-.834-.834z"})}),is=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M14.668.492a.85.85 0 0 0-.599.234l-3.567 3.568V2.159H8.835v4.167c0 .46.373.833.833.833h4.167V5.492H11.7l3.569-3.567a.86.86 0 0 0 0-1.199.85.85 0 0 0-.6-.234m-12.5 8.334v1.666h2.135L.736 14.06a.86.86 0 0 0 0 1.198.86.86 0 0 0 1.198 0l3.568-3.567v2.134h1.666V9.66a.834.834 0 0 0-.833-.833z"})}),Yt=e=>t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M3.003 3.998a.494.494 0 0 0-.39.797l3 4c.2.266.597.266.797 0l3-4a.5.5 0 0 0-.407-.797z"})}),as=e=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{d:"M9.186 3.348a.67.67 0 0 0-.436.27l-2.657 4a.69.69 0 0 0 0 .75l2.657 4a.68.68 0 0 0 .934.188.685.685 0 0 0 .187-.937L7.463 7.993 9.87 4.37a.685.685 0 0 0-.187-.938.65.65 0 0 0-.498-.083"})}),ls=e=>{let{emblaRef:s,emblaApi:n,scrollIndex:o,enableScroll:r,news:i,gainers:a,losers:l,total24Amount:c,totalOpenInterest:u,tvl:x,favorite:d}=e,{onSymbolChange:h}=B(),{t:j}=W(),m=I("oui-flex-[0_0_calc((100%_-_32px)_/_3)] 3xl:oui-flex-[0_0_calc((100%_-_48px)_/_4)] oui-min-w-0",r&&"oui-select-none oui-cursor-pointer"),f=p=>{h==null||h(p),d.addToHistory(p)};return t.jsxs("div",{id:"oui-markets-header",className:"oui-overflow-hidden",ref:r?s:void 0,children:[t.jsxs(S,{width:"100%",gapX:4,mt:4,children:[t.jsx(cs,{total24Amount:c,totalOpenInterest:u,tvl:x,className:m}),t.jsx(Ze,{data:i,title:t.jsx(y.gradient,{color:"brand",children:j("markets.newListings")}),className:m,onSymbol:f}),t.jsx(Ze,{data:a,title:t.jsx(y,{className:"oui-text-success-light",children:j("markets.topGainers")}),className:m,onSymbol:f}),t.jsx(Ze,{data:l,title:t.jsx(y,{className:"oui-text-danger-light",children:j("markets.topLosers")}),className:m,onSymbol:f})]}),t.jsx("div",{className:"oui-mt-1 oui-mb-3  3xl:oui-mt-4 3xl:oui-mb-0",children:t.jsx(ms,{scrollIndex:o,scrollPrev:n==null?void 0:n.scrollPrev,scrollNext:n==null?void 0:n.scrollNext})})]})},cs=e=>{let{total24Amount:s,totalOpenInterest:n,tvl:o}=e,{t:r}=W(),i=b.useMemo(()=>[{label:t.jsxs(S,{gapX:1,children:[t.jsx(Te,{})," ",r("markets.column.24hVolume")]}),value:s},{label:t.jsxs(S,{gapX:1,children:[t.jsx(Te,{})," ",r("markets.openInterest")]}),value:n},{label:t.jsxs(S,{gapX:1,children:[t.jsx(Te,{})," ",`${r("common.assets")} (TVL)`]}),value:o}],[s,n,o]);return t.jsx(S,{direction:"column",justify:"between",width:"100%",height:236,className:e.className,children:i==null?void 0:i.map((a,l)=>t.jsx(us,{...a},l))})},us=e=>t.jsxs(M,{intensity:900,r:"lg",px:4,py:3,width:"100%",children:[t.jsx(y,{as:"div",intensity:36,size:"xs",weight:"semibold",children:e.label}),t.jsx(y.numeral,{size:"base",currency:"$",dp:e.dp||0,rm:P.ROUND_DOWN,rule:e.rule,children:e.value})]}),Ze=e=>{var s;return t.jsxs(M,{intensity:900,r:"lg",py:4,pb:2,height:236,className:e.className,children:[t.jsx(M,{px:4,children:t.jsx(y.gradient,{color:"brand",size:"sm",weight:"semibold",children:e.title})}),t.jsx(S,{direction:"column",itemAlign:"start",mt:2,children:(s=e.data)==null?void 0:s.map((n,o)=>t.jsx(ds,{item:n,onSymbol:e.onSymbol},n.symbol))})]})},ds=e=>{let{item:s}=e;return t.jsxs(S,{width:"100%",gapX:3,py:2,px:4,className:I("hover:oui-bg-base-8 oui-cursor-pointer",e.className),onClick:()=>{e.onSymbol(s)},children:[t.jsx(S,{width:"100%",gapX:1,children:t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"xs",weight:"semibold",showIcon:!0,children:s.symbol})}),t.jsx(S,{width:"100%",justify:"end",children:t.jsx(y.numeral,{currency:"$",size:"xs",weight:"semibold",dp:s.quote_dp,children:s["24h_close"]})}),t.jsx(S,{width:"100%",justify:"end",children:t.jsx(y.numeral,{rule:"percentages",coloring:!0,size:"xs",weight:"semibold",showIdentifier:!0,children:s.change})})]})},ms=e=>{let{scrollIndex:s,scrollPrev:n,scrollNext:o}=e;return t.jsx(S,{gapX:1,justify:"center",className:"3xl:oui-hidden",children:[0,1].map(r=>t.jsx(M,{py:1,pl:r===0?1:0,pr:r===1?1:0,onClick:()=>{s===0&&r===1?o==null||o():s===1&&r===0&&(n==null||n())},className:"oui-cursor-pointer",children:t.jsx(M,{width:8,height:4,r:"full",className:I("oui-transition-all oui-duration-300",s===r?"oui-bg-base-contrast-36 oui-w-4":"oui-bg-base-contrast-20")},r)},r))})};function Re(e,s,n){let o=[...e||[]],r=i=>i==null;return s&&n&&o.sort((i,a)=>{let l=i[s],c=a[s];return r(l)?1:r(c)?-1:n==="desc"?c-l:l-c}),o}function me(e,s,n){let[o,r]=b.useState(),[i,a]=b.useState(),l=b.useCallback(d=>{r(d==null?void 0:d.sortKey),a(d==null?void 0:d.sort),n==null||n(d==null?void 0:d.sortKey,d==null?void 0:d.sort)},[n]),c=o||e,u=i||s,x=b.useCallback(d=>Re(d,c,u),[c,u]);return{onSort:l,getSortedList:x,sortKey:c,sortOrder:u}}function he(e,s="",n){let o=new RegExp(s,"i");return e==null?void 0:e.filter(r=>o.test(hs(r.symbol,n)))}function hs(e,s="base"){let n=e.split("_"),o=n[0],r=n[1],i=n[2];return s.replace("type",o).replace("base",r).replace("quote",i)}function fs(){let[e,s]=b.useState(0),[n,o]=b.useState(0);return b.useEffect(()=>{s(window.innerWidth),o(window.innerHeight);let r=()=>{o(window.innerHeight),s(window.innerWidth)};return window==null||window.addEventListener("resize",r),()=>{window==null||window.removeEventListener("resize",r)}},[]),{width:e,height:n}}var xs=()=>{let[e,s]=b.useState(0),n=gs(),{width:o}=fs(),[r,i]=ut({loop:!0,slidesToScroll:"auto"});return b.useEffect(()=>{i==null||i.on("select",()=>{s(i==null?void 0:i.selectedScrollSnap())})},[i]),{scrollIndex:e,setScrollIndex:s,emblaRef:r,emblaApi:i,enableScroll:o<1440,...n}};function gs(){let[e,s]=ce(ue.ALL),{data:n}=Et("/v1/public/balance/stats"),o=b.useMemo(()=>Re(e,"created_time","desc").slice(0,5),[e]),r=b.useMemo(()=>Re(e,"change","desc").slice(0,5),[e]),i=b.useMemo(()=>Re(e,"change","asc").slice(0,5),[e]),a=b.useMemo(()=>(e==null?void 0:e.reduce((u,x)=>u.add(x["24h_amount"]||0),new P(0)))||new P(0),[e]),l=b.useMemo(()=>(e==null?void 0:e.reduce((u,x)=>u.add(x.openInterest||0),new P(0)))||new P(0),[e]),c=b.useMemo(()=>{if(!n)return 0;let{total_holding:u=0}=n;return new P(u).toNumber()},[n]);return{markets:e,news:o,gainers:r,losers:i,total24Amount:a.toNumber(),totalOpenInterest:l.toNumber(),tvl:c,favorite:s}}var ps=()=>{let e=xs();return t.jsx(ls,{...e})},bs=e=>{var T;let{symbol:s,favoriteTabs:n,open:o,onOpenChange:r,inputVisible:i,selectedTabs:a,value:l,onValueChange:c,hide:u,hideInput:x,showInput:d,onCheck:h,addTab:j,confirm:m}=e,{t:f}=W(),p=(l==null?void 0:l.length)>15,g=()=>{if(i)return t.jsxs(M,{children:[t.jsxs(S,{gapX:2,children:[t.jsx(je,{autoFocus:!0,value:l,onValueChange:c,classNames:{root:I("oui-bg-base-6 oui-h-7 oui-w-full oui-ml-[1px] oui-rounded-sm",p&&"focus-visible:oui-outline-danger focus-within:oui-outline-danger")},autoComplete:"off",suffix:l&&t.jsx(M,{mr:2,children:t.jsx(Le,{opacity:1,size:14,className:"oui-text-base-contrast-20 oui-cursor-pointer",onClick:()=>{c("")}})})}),t.jsx(Qe,{className:"oui-rounded-sm",size:"sm",onClick:j,disabled:!l||p,children:f("common.add")})]}),p&&t.jsxs(S,{itemAlign:"center",gapX:1,mt:1,children:[t.jsx("div",{className:"oui-h-1 oui-w-1 oui-bg-danger oui-rounded-full"}),t.jsx(y,{color:"danger",children:f("markets.favorites.tabs.maxName")})]})]});let N=n.length>=10;return t.jsx(pe,{open:N?void 0:!1,content:t.jsx(y,{size:"2xs",intensity:80,children:f("markets.favorites.tabs.maxList")}),className:"oui-bg-base-6",delayDuration:0,arrow:{className:"oui-fill-base-6"},children:t.jsx("div",{children:t.jsxs(S,{className:I(N?"oui-cursor-not-allowed":"oui-cursor-pointer"),itemAlign:"center",gapX:2,p:2,intensity:N?500:600,onClick:N?void 0:d,height:28,r:"base",children:[t.jsx(gn,{size:14,className:"oui-text-base-contrast-36",opacity:1}),t.jsx(y,{className:"",intensity:20,children:f("markets.favorites.dropdown.addPlaceholder")})]})})})},v=t.jsxs(S,{justify:"between",className:"oui-mt-3 oui-mb-[10px]",children:[t.jsxs(S,{gapX:1,children:[f("markets.favorites.dropdown.title"),t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"base",showIcon:!0,children:s})]}),t.jsx(Bt,{size:16,className:"oui-text-base-contrast oui-cursor-pointer",onClick:u})]}),w=t.jsxs(M,{children:[t.jsx(M,{my:2,className:"oui-max-h-[288px] oui-overflow-y-auto oui-custom-scrollbar",children:(T=n==null?void 0:n.slice(0,10))==null?void 0:T.map(N=>{let k=!!a.find(z=>z.id===N.id);return t.jsx(M,{className:"oui-cursor-pointer",children:t.jsxs(S,{className:"oui-gap-x-[6px] hover:oui-bg-base-6",p:2,r:"md",onClick:()=>{h(N,k)},children:[k?t.jsx(fn,{size:18,className:"oui-text-base-contrast-80"}):t.jsx(xn,{size:18,className:"oui-text-base-contrast-80"}),t.jsx(y,{intensity:54,children:N.name})]})},N.id)})}),t.jsx(M,{mt:3,pb:5,children:g()})]}),O=t.jsxs(S,{gapX:3,mt:3,children:[t.jsx(Qe,{color:"gray",onClick:u,fullWidth:!0,className:"oui-text-sm",size:"md",children:f("common.cancel")},"secondary"),t.jsx(Qe,{onClick:m,fullWidth:!0,className:"oui-text-sm",size:"md",children:f("common.confirm")},"primary")]});return t.jsxs(Ut,{open:o,onOpenChange:r,children:[t.jsx(Kt,{asChild:!0,children:e.children}),t.jsx(Ht,{children:t.jsx(Xt,{onCloseAutoFocus:N=>N.preventDefault(),onClick:N=>N.stopPropagation(),align:"start",alignOffset:-12,sideOffset:24,className:"oui-markets-favorite-dropdown-menu-content oui-bg-base-8",children:t.jsx(M,{px:5,pb:5,width:360,children:t.jsxs(y,{as:"div",size:"sm",weight:"semibold",children:[v,t.jsx(ot,{}),w,O]})})})})]})};function js(e){let{symbol:s}=e.row||{},{favorites:n,favoriteTabs:o,updateFavoriteTabs:r,updateSymbolFavoriteState:i}=e.favorite,[a,l]=b.useState(!1),[c,u]=b.useState(!1),[x,d]=b.useState(""),[h,j]=b.useState([]),m=()=>{l(!1)},f=()=>{u(!0)},p=()=>{u(!1)},g=()=>{d(""),p(),j([])},v=()=>{let T={name:x||`WatchList_${o.length}`,id:Date.now()};r(T,{add:!0}),g()},w=(T,N)=>{j(N?h==null?void 0:h.filter(k=>k.id!==T.id):[...h,T]),p()},O=()=>{i(e.row,h,!1),l(!1)};return b.useEffect(()=>{var N;if(!a)return;let T=n==null?void 0:n.find(k=>k.name===s);(N=T==null?void 0:T.tabs)!=null&&N.length&&j(T==null?void 0:T.tabs)},[a,n,o,s]),b.useEffect(()=>{a||g()},[a]),{symbol:s,favoriteTabs:o,open:a,onOpenChange:l,inputVisible:c,selectedTabs:h,value:x,onValueChange:d,hide:m,hideInput:p,showInput:f,onCheck:w,addTab:v,confirm:O}}var Ke=e=>{let s=js(e);return t.jsx(bs,{...s,children:e.children})},Jt=(e,s=!1)=>{let{t:n}=W();return b.useMemo(()=>[{title:t.jsx(nt,{className:"oui-mt-1"}),dataIndex:"isFavorite",align:"center",width:30,render:(o,r)=>{let i=t.jsx(S,{width:"100%",height:"100%",mr:3,justify:"center",itemAlign:"center",onClick:s?a=>{e.updateSymbolFavoriteState(r,e.selectedFavoriteTab,!0),a.stopPropagation()}:void 0,"data-testid":"oui-testid-markets-table-row-favorite-icon",children:o?t.jsx(Ue,{className:"oui-text-[rgba(255,154,46,1)]"}):t.jsx(nt,{className:"oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})});return s?i:t.jsx(Ke,{row:r,favorite:e,children:i})}},{title:n("markets.column.market"),dataIndex:"symbol",width:90,render:o=>t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",showIcon:!0,children:o})},{title:n("common.price"),dataIndex:"24h_close",width:100,align:"right",onSort:!0,render:(o,r)=>t.jsx(y.numeral,{dp:r.quote_dp||2,currency:"$",children:o})},{title:n("markets.column.24hChange"),dataIndex:"change",width:100,align:"right",onSort:!0,render:o=>t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:o})},{title:t.jsxs(S,{gapX:1,children:[t.jsx(Te,{})," ",n("markets.column.24hVolume")]}),dataIndex:"24h_amount",width:100,align:"right",onSort:!0,render:o=>t.jsx(y.numeral,{currency:"$",dp:0,rm:P.ROUND_DOWN,children:o})},{title:t.jsxs(S,{gapX:1,children:[t.jsx(Te,{})," ",n("markets.openInterest")]}),dataIndex:"openInterest",width:100,align:"right",onSort:!0,render:o=>t.jsx(y.numeral,{currency:"$",dp:0,rm:P.ROUND_DOWN,children:o})},{title:n("markets.dataList.column.8hFunding"),dataIndex:"8h_funding",width:100,align:"right",onSort:!0,render:o=>o===null?"--":t.jsx(y.numeral,{rule:"percentages",coloring:!0,dp:4,rm:P.ROUND_DOWN,showIdentifier:!0,children:o})},{dataIndex:"action",type:"action",width:40,render:(o,r)=>s?t.jsx(S,{justify:"end",mr:4,children:t.jsx(pe,{content:n("markets.dataList.column.moveTop"),align:"center",delayDuration:0,children:t.jsx(M,{className:"oui-hidden group-hover:oui-block oui-cursor-pointer",onClick:i=>{i.stopPropagation(),e.pinToTop(r)},"data-testid":"oui-markets-favorites-pinned-icon",children:t.jsx(ns,{className:"oui-text-base-contrast-20 hover:oui-text-base-contrast"})})})}):null}],[e,s,n])},vs=e=>{let{loading:s,dataSource:n,favorite:o,onSort:r,initialSort:i,type:a,pagination:l}=e,{symbol:c,onSymbolChange:u}=B(),x=Jt(o,!1);return t.jsx(de,{bordered:!0,columns:x,loading:s,dataSource:n,onRow:(d,h)=>({className:I("oui-h-[55px] oui-cursor-pointer"),onClick:()=>{u==null||u(d),o.addToHistory(d)},"data-testid":`oui-testid-markets-${a==="new"?"newListing":"all"}-tr-${d.symbol}`}),generatedRowKey:d=>d.symbol,rowSelection:{[c]:!0},onSort:r,initialSort:i,pagination:l,classNames:{header:"oui-h-12"},manualSorting:!0})},ys=e=>{let[s,n]=b.useState(!0),{setPage:o,pagination:r}=Be({pageSize:10}),[i,a]=ce(ue.ALL),{searchValue:l}=B(),{onSort:c,getSortedList:u,sortKey:x,sortOrder:d}=me(e==null?void 0:e.sortKey,e==null?void 0:e.sortOrder),h=b.useMemo(()=>{let j=u(i);return he(j,l,"base-type")},[i,u,l]);return b.useEffect(()=>{n(!1)},[i]),b.useEffect(()=>{o(1)},[l]),b.useEffect(()=>{e.type==="all"&&a.updateTabsSortState("all",x,d)},[x,d,e.type]),{loading:s,dataSource:h,favorite:a,onSort:c,pagination:r}},Lt=e=>{var o;let s=ys(e),n=e.type==="all"?(o=s.favorite.tabSort)==null?void 0:o.all:void 0;return t.jsx(vs,{...s,type:e.type,initialSort:{sortKey:(n==null?void 0:n.sortKey)||e.sortKey,sort:(n==null?void 0:n.sortOrder)||e.sortOrder}})},ws=e=>{var E;let{open:s,setOpen:n,container:o,inputRef:r,inputWidth:i,spanRef:a,editing:l,value:c,onValueChange:u,updateCurTab:x,onEdit:d,addTab:h,delTab:j,size:m="default",scrollable:f}=e,{t:p}=W(),{selectedFavoriteTab:g,favoriteTabs:v,updateSelectedFavoriteTab:w}=e.favorite,O=m==="sm"?28:36,T=m==="sm"?18:24,N=(c==null?void 0:c.length)>15,k="oui-bg-gradient-to-r oui-from-[rgb(var(--oui-gradient-brand-start)_/_0.12)] oui-to-[rgb(var(--oui-gradient-brand-end)_/_0.12)]",z=_=>{pn.confirm({title:p("markets.favorites.tabs.delete.dialog.title"),content:t.jsx(y,{size:"sm",children:p("markets.favorites.tabs.delete.dialog.description",{name:_.name})}),onOk(){return j(_),Promise.resolve()}})},L=_=>{_.key==="Enter"&&x(N)},A=_=>t.jsxs(S,{gapX:2,itemAlign:"center",px:2,py:1,children:[t.jsx(Qn,{className:"oui-text-base-contrast-36 hover:oui-text-base-contrast oui-cursor-pointer",onClick:()=>{d(_)}}),t.jsx(Zn,{className:"oui-text-base-contrast-36 hover:oui-text-base-contrast oui-cursor-pointer",onClick:()=>{z(_)}})]}),F=()=>{let _=v.length>=10,R=t.jsx(S,{className:I("oui-inline-flex",_?"oui-cursor-not-allowed":"oui-cursor-pointer",_?"oui-bg-base-3":k),width:O,height:T,r:"base",justify:"center",itemAlign:"center",onClick:_?void 0:h,children:_?t.jsx(ss,{className:"oui-text-base-contrast-54 oui-w-3 oui-h-3 oui-z-[1]"}):t.jsx(os,{className:"oui-w-3 oui-h-3"})});return _?t.jsx(pe,{content:t.jsx(y,{size:"2xs",intensity:80,children:"Maximum 10 groups in the favorite list"}),className:"oui-bg-base-6",delayDuration:0,arrow:{className:"oui-fill-base-6"},children:R}):R},D=_=>t.jsx(pe,{open:N,content:t.jsx(y,{size:"2xs",intensity:80,children:"List name cannot exceed 15 characters"}),className:"oui-bg-base-6",delayDuration:0,sideOffset:0,children:t.jsx(je,{ref:r,style:N?{width:i}:{"--oui-gradient-angle":"270deg",backgroundClip:"text",WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text",width:i},classNames:{root:I("oui-p-0 oui-rounded oui-px-2 oui-my-[1px]","focus-visible:oui-outline-none focus-within:oui-outline-transparent",m==="sm"?"oui-h-[18px]":"oui-h-[24px]",_&&I(N?"oui-bg-danger/15":k)),input:I("oui-font-semibold oui-caret-[rgba(217,217,217,1)]",N?"oui-text-danger":"oui-text-transparent oui-gradient-brand ",m==="sm"?"oui-text-2xs":"oui-text-sm")},value:c,onValueChange:u,onBlur:()=>{x(N)},onKeyUp:L,autoComplete:"off"})}),H=(_,R)=>{if(l&&R)return D(R);let q={weight:"semibold",size:m==="sm"?"2xs":"sm",className:m==="sm"?"oui-leading-[18px]":"oui-leading-[24px]",as:"div"},J=R?t.jsx(y.gradient,{color:"brand",angle:270,...q,children:_.name}):t.jsx(y,{...q,children:_.name});return t.jsx(M,{r:"base",px:2,height:T,className:I("oui-cursor-pointer oui-select-none",R?"oui-markets-favorites-active-tab-item":"oui-markets-favorites-tab-item",R?k:"oui-bg-line-6 oui-text-base-contrast-36 hover:oui-text-base-contrast"),onClick:()=>{w(_),R&&n(!0)},children:J})};return t.jsxs(S,{width:"100%",gapX:3,className:e.className,children:[t.jsxs(S,{ref:o,id:"oui-markets-favorites-tabs-container",className:I("oui-relative oui-cursor-pointer oui-hide-scrollbar","oui-overflow-hidden oui-overflow-x-auto"),gapX:m==="sm"?2:3,width:"100%",children:[(E=v==null?void 0:v.slice(0,10))==null?void 0:E.map(_=>{let R=g.id===_.id;return t.jsx(pe,{open:R&&!l?s:!1,onOpenChange:q=>{R&&n(q)},content:A(_),delayDuration:0,className:I("oui-bg-base-5"),arrow:{className:"oui-fill-base-5"},children:H(_,R)},_.id)}),!f&&F(),t.jsx(y,{size:"xs",ref:a,className:"oui-invisible",children:c})]}),f&&F()]})};function Ss(e){let{favorite:s,size:n="default"}=e,{favorites:o,favoriteTabs:r,selectedFavoriteTab:i,updateFavoriteTabs:a,updateSelectedFavoriteTab:l,updateFavorites:c}=s,[u,x]=b.useState(!1),[d,h]=b.useState(!1),[j,m]=b.useState(""),[f,p]=b.useState(!1),g=b.useRef(null),v=b.useRef(null),w=b.useRef(null),[O,T]=b.useState(50),N=()=>{setTimeout(()=>{let{scrollWidth:D,clientWidth:H}=g.current||{};D>H&&p(!0)},0)},k=()=>{setTimeout(()=>{g.current&&(g.current.scrollLeft=g.current.scrollWidth-g.current.clientWidth)},0)},z=D=>{h(!0),m(D.name),setTimeout(()=>{var H,E;(H=v.current)==null||H.focus(),(E=v.current)==null||E.setSelectionRange(-1,-1)},0)},L=D=>{a({...i,name:D?i.name:j},{update:!0}),h(!1),x(!1),N()},A=()=>{let D={name:`WatchList_${r.length}`,id:Date.now()};a(D,{add:!0}),l(D),N(),k()},F=D=>{a(D,{delete:!0}),setTimeout(()=>{let H=o.map(R=>{var q;return{...R,tabs:(q=R.tabs)==null?void 0:q.filter(J=>J.id!==D.id)}});c(H);let E=r.filter(R=>R.id!==D.id),_=(E==null?void 0:E[(E==null?void 0:E.length)-1])||(E==null?void 0:E[0]);l(_)},0)};return b.useEffect(()=>{var D;if(j){let H=(D=w.current)==null?void 0:D.getBoundingClientRect(),E=n==="sm"?0:14;T(Math.max(((H==null?void 0:H.width)||0)+E,50))}},[j]),b.useEffect(()=>{N()},[]),{favorite:s,open:u,setOpen:x,container:g,inputRef:v,inputWidth:O,spanRef:w,editing:d,value:j,onValueChange:m,onEdit:z,updateCurTab:L,addTab:A,delTab:F,scrollable:f}}var Qt=e=>{let{className:s,...n}=e,o=Ss(n);return t.jsx(ws,{...o,size:e.size,className:s})},Ns=Jt,Cs=e=>{let{dataSource:s,favorite:n,onSort:o,loading:r,pagination:i}=e,{symbol:a,onSymbolChange:l}=B(),c=Ns(n,!0);return t.jsxs("div",{children:[t.jsx(Qt,{favorite:n,className:"oui-my-3"}),t.jsx(de,{bordered:!0,columns:c,dataSource:s,emptyView:t.jsx(S,{className:"oui-text-xs oui-text-base-contrast-36",children:t.jsx(bn,{i18nKey:"markets.dataList.favorites.empty",components:[t.jsx(nt,{className:"oui-text-base-contrast-36"})]})}),loading:r,onRow:(u,x)=>({className:I("oui-h-[55px] oui-cursor-pointer"),onClick:()=>{l==null||l(u),n.addToHistory(u)}}),generatedRowKey:u=>u.symbol,rowSelection:{[a]:!0},onSort:o,pagination:i,manualSorting:!0})]})},ks=()=>{let{setPage:e,pagination:s}=Be({pageSize:10}),[n,o]=ce(ue.FAVORITES),[r,i]=b.useState(!0),{favorites:a,selectedFavoriteTab:l}=o,{searchValue:c}=B(),{onSort:u,getSortedList:x}=me(),d=b.useMemo(()=>{var m,f;let j=(f=(m=a==null?void 0:a.filter(p=>{var g;return((g=p.tabs)==null?void 0:g.findIndex(v=>v.id===l.id))!==-1}))==null?void 0:m.map(p=>{let g=n==null?void 0:n.findIndex(v=>v.symbol===p.name);return g!==-1?n[g]:null}))==null?void 0:f.filter(p=>p);return he(j,c,"base-type")},[n,l,a,c]),h=b.useMemo(()=>x(d),[d,x]);return b.useEffect(()=>{i(!1)},[a]),b.useEffect(()=>{e(1)},[c]),{loading:r,dataSource:h,favorite:o,onSort:u,pagination:s}},Ts=()=>{let e=ks();return t.jsx(Cs,{...e})},Is=e=>{let{activeTab:s,onTabChange:n}=e,{t:o}=W(),{searchValue:r,onSearchValueChange:i,clearSearchValue:a}=B(),l=t.jsx(je,{value:r,onValueChange:i,placeholder:o("markets.search.placeholder"),className:"oui-w-[240px] oui-my-1",size:"sm","data-testid":"oui-testid-markets-searchMarket-input",prefix:t.jsx(M,{pl:3,pr:1,children:t.jsx(Ee,{className:"oui-text-base-contrast-36"})}),suffix:r&&t.jsx(M,{mr:2,children:t.jsx(Le,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:a})}),autoComplete:"off"});return t.jsx(M,{id:"oui-markets-list",intensity:900,p:6,r:"2xl",children:t.jsxs(_e,{variant:"contained",size:"xl",value:s,onValueChange:n,trailing:l,children:[t.jsx(Y,{title:o("markets.favorites"),icon:t.jsx(Ue,{}),value:"favorites",testid:"oui-testid-markets-favorites-tab",children:t.jsx(Ts,{})}),t.jsx(Y,{title:o("markets.allMarkets"),icon:t.jsx(es,{}),value:"all",testid:"oui-testid-markets-all-tab",children:t.jsx(Lt,{type:"all",sortKey:"24h_amount",sortOrder:"desc"})}),t.jsx(Y,{title:o("markets.newListings"),icon:t.jsx(ts,{}),value:"new",testid:"oui-testid-markets-newListings-tab",children:t.jsx(Lt,{type:"new",sortKey:"created_time",sortOrder:"desc"})})]})})};function Os(){let[e,s]=b.useState("all"),{clearSearchValue:n}=B();return b.useEffect(()=>{n==null||n()},[e]),{activeTab:e,onTabChange:o=>s(o)}}var zs=()=>{let e=Os();return t.jsx(Is,{...e})},He=(e,s=!1)=>{let{t:n}=W();return[{title:n("markets.column.market&Volume"),dataIndex:"24h_amount",onSort:!0,className:"oui-h-[36px]",render:(o,r)=>{let i;return s||(i=t.jsx(Ke,{row:r,favorite:e,children:t.jsx(S,{width:12,height:12,justify:"center",itemAlign:"center",className:"oui-cursor-pointer oui-mr-1",children:r.isFavorite?t.jsx(dt,{className:"oui-w-3 oui-h-3 oui-text-[rgba(255,154,46,1)]"}):t.jsx(mt,{className:"oui-w-3 oui-h-3 oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})})})),t.jsxs(S,{children:[i,t.jsxs(S,{direction:"column",itemAlign:"start",gapY:1,children:[t.jsxs(S,{gapX:1,children:[t.jsx(Se,{symbol:r.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:r.symbol}),t.jsxs(Me,{size:"xs",color:"primary",children:[r.leverage,"x"]})]}),t.jsx(y.numeral,{intensity:54,size:"2xs",rule:"human",dp:2,rm:P.ROUND_DOWN,children:o})]})]})}},{title:n("markets.column.price&Change"),dataIndex:"change",align:"right",onSort:!0,className:"oui-h-[36px]",render:(o,r)=>{let i=c=>{e.updateSymbolFavoriteState(r,e.selectedFavoriteTab,!0),c.stopPropagation()},a="oui-w-4 oui-h-4 oui-text-base-contrast-54 hover:oui-text-base-contrast",l=t.jsx("div",{className:I("oui-absolute oui-right-0 oui-top-[6.5px]","oui-hidden group-hover:oui-block"),children:t.jsxs(S,{className:I("oui-inline-flex","oui-bg-primary-darken oui-py-[6px]"),r:"base",width:52,justify:"center",itemAlign:"end",gapX:2,children:[t.jsx(ht,{className:a,onClick:c=>{c.stopPropagation(),e.pinToTop(r)}}),t.jsx(ft,{className:a,onClick:i})]})});return t.jsxs("div",{className:"oui-relative",children:[s&&l,t.jsxs(S,{direction:"column",justify:"end",itemAlign:"end",gapY:1,className:I(s&&"group-hover:oui-invisible"),children:[t.jsx(y.numeral,{dp:r.quote_dp||2,size:"2xs",children:r["24h_close"]}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:o})]})]})}}]},Xe=e=>{var r;let{symbol:s,onSymbolChange:n}=B(),{t:o}=W();return t.jsx("div",{className:"oui-overflow-y-auto oui-custom-scrollbar oui-h-full",children:t.jsx(S,{direction:"column",px:2,gapY:1,children:(r=e.dataSource)==null?void 0:r.map(i=>{let a=t.jsxs(S,{intensity:800,p:2,className:"oui-gap-x-7",r:"base",children:[t.jsxs(S,{direction:"column",itemAlign:"start",gapY:1,children:[t.jsxs(S,{gapX:1,children:[t.jsx(Se,{symbol:i.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:i.symbol})]}),t.jsx(y,{size:"2xs",intensity:36,children:o("markets.column.last")}),t.jsx(y,{size:"2xs",intensity:36,children:o("markets.column.24hPercentage")})]}),t.jsxs(S,{direction:"column",itemAlign:"end",gapY:1,children:[t.jsxs(Me,{size:"xs",color:"primary",children:[i.leverage,"x"]}),t.jsx(y.numeral,{dp:i.quote_dp||2,currency:"$",size:"2xs",intensity:80,children:i["24h_close"]}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:i.change})]})]});return t.jsx(pe,{side:"right",sideOffset:6,content:a,delayDuration:0,children:t.jsxs(S,{direction:"column",justify:"center",itemAlign:"center",gapY:1,width:54,height:54,r:"lg",className:I("oui-cursor-pointer","hover:oui-bg-base-7",s===i.symbol&&"oui-bg-base-6 hover:oui-bg-base-6"),onClick:()=>{n==null||n(i)},children:[t.jsx(Se,{symbol:i.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:i.change})]})},i.symbol)})})})},_s=e=>{var d,h,j,m;let{dataSource:s,favorite:n,onSort:o,loading:r,getColumns:i,collapsed:a}=e,{symbol:l,onSymbolChange:c}=B(),u=He(n,!0),x=typeof i=="function"?i(n,!0):u;return a?t.jsx(Xe,{dataSource:s}):t.jsxs(t.Fragment,{children:[t.jsx(M,{px:3,className:"oui-my-[6px]",children:t.jsx(Qt,{favorite:n,size:"sm"})}),t.jsx(de,{classNames:{root:(d=e.tableClassNames)==null?void 0:d.root,body:(h=e.tableClassNames)==null?void 0:h.body,header:I("oui-h-9",(j=e.tableClassNames)==null?void 0:j.header),scroll:(m=e.tableClassNames)==null?void 0:m.scroll},columns:x,dataSource:s,loading:r,onRow:(f,p)=>({className:I("oui-h-[53px]",e.rowClassName),onClick:()=>{c==null||c(f),n.addToHistory(f)}}),generatedRowKey:f=>f.symbol,rowSelection:{[l]:!0},onSort:o,manualSorting:!0})]})},Ls=()=>{let[e,s]=ce(ue.FAVORITES),[n,o]=b.useState(!0),{favorites:r,selectedFavoriteTab:i}=s,{searchValue:a}=B(),{onSort:l,getSortedList:c}=me(),u=b.useMemo(()=>{var h,j;let x=(j=(h=r==null?void 0:r.filter(m=>{var f;return((f=m.tabs)==null?void 0:f.findIndex(p=>p.id===i.id))!==-1}))==null?void 0:h.map(m=>{let f=e==null?void 0:e.findIndex(p=>p.symbol===m.name);return f!==-1?e[f]:null}))==null?void 0:j.filter(m=>m),d=he(x,a,"base");return c(d)},[e,i,r,a,c]);return b.useEffect(()=>{o(!1)},[e]),{loading:n,dataSource:u,favorite:s,onSort:l}},xt=e=>{let s=Ls();return t.jsx(_s,{...s,...e})},Ms=e=>{var h,j,m,f;let{loading:s,dataSource:n,favorite:o,onSort:r,initialSort:i,getColumns:a,collapsed:l}=e,{symbol:c,onSymbolChange:u}=B(),x=He(o,!1),d=typeof a=="function"?a(o,!1):x;return l?t.jsx(Xe,{dataSource:n}):t.jsx(de,{classNames:{root:(h=e.tableClassNames)==null?void 0:h.root,body:(j=e.tableClassNames)==null?void 0:j.body,header:I("oui-h-9",(m=e.tableClassNames)==null?void 0:m.header),scroll:(f=e.tableClassNames)==null?void 0:f.scroll},columns:d,loading:s,dataSource:n,onRow:(p,g)=>({className:I("oui-h-[53px]",e.rowClassName),onClick:()=>{u==null||u(p),o.addToHistory(p)}}),generatedRowKey:p=>p.symbol,rowSelection:{[c]:!0},onSort:r,initialSort:i,manualSorting:!0})},As=e=>{let[s,n]=b.useState(!0),[o,r]=ce(ue.ALL),{searchValue:i}=B(),{onSort:a,getSortedList:l}=me(e==null?void 0:e.sortKey,e==null?void 0:e.sortOrder,e.onSort),c=b.useMemo(()=>{let u=he(o,i,"base");return l(u)},[o,l,i]);return b.useEffect(()=>{n(!1)},[o]),{loading:s,dataSource:c,favorite:r,onSort:a}},We=e=>{let s=As(e);return t.jsx(Ms,{...s,initialSort:{sortKey:e.sortKey,sort:e.sortOrder},getColumns:e.getColumns,collapsed:e.collapsed,tableClassNames:e.tableClassNames,rowClassName:e.rowClassName})},Ds=e=>{var d,h,j,m;let{dataSource:s,favorite:n,onSort:o,loading:r,getColumns:i,collapsed:a}=e,{symbol:l,onSymbolChange:c}=B(),u=He(n,!1),x=typeof i=="function"?i(n,!1):u;return a?t.jsx(Xe,{dataSource:s}):t.jsx(de,{classNames:{root:(d=e.tableClassNames)==null?void 0:d.root,body:(h=e.tableClassNames)==null?void 0:h.body,header:I("oui-h-9",(j=e.tableClassNames)==null?void 0:j.header),scroll:(m=e.tableClassNames)==null?void 0:m.scroll},columns:x,dataSource:s,loading:r,onRow:(f,p)=>({className:I("oui-h-[53px]",e.rowClassName),onClick:()=>{c==null||c(f),n.addToHistory(f)}}),generatedRowKey:f=>f.symbol,rowSelection:{[l]:!0},onSort:o,manualSorting:!0})},Es=()=>{let[e,s]=ce(ue.RECENT),[n,o]=b.useState(!0),{searchValue:r}=B(),{onSort:i,getSortedList:a}=me(),l=b.useMemo(()=>{let c=he(e,r,"base");return a(c)},[e,r,a]);return b.useEffect(()=>{o(!1)},[e]),{loading:n,dataSource:l,favorite:s,onSort:i}},gt=e=>{let s=Es();return t.jsx(Ds,{...s,...e})},Vs=e=>{var d,h,j,m;let{dataSource:s,favorite:n,onSort:o,loading:r,getColumns:i,collapsed:a}=e,{symbol:l,onSymbolChange:c}=B(),u=He(n,!1),x=typeof i=="function"?i(n,!1):u;return a?t.jsx(Xe,{dataSource:s}):t.jsx(de,{classNames:{root:(d=e.tableClassNames)==null?void 0:d.root,body:(h=e.tableClassNames)==null?void 0:h.body,header:I("oui-h-9",(j=e.tableClassNames)==null?void 0:j.header),scroll:(m=e.tableClassNames)==null?void 0:m.scroll},columns:x,dataSource:s,loading:r,onRow:(f,p)=>({className:I("oui-h-[53px]",e.rowClassName),onClick:()=>{c==null||c(f),n.addToHistory(f)}}),generatedRowKey:f=>f.symbol,rowSelection:{[l]:!0},onSort:o,manualSorting:!0})},Fs=()=>{let[e,s]=ce(ue.NEW_LISTING),[n,o]=b.useState(!0),{searchValue:r}=B(),{onSort:i,getSortedList:a}=me(),l=b.useMemo(()=>{let c=he(e,r,"base");return a(c)},[e,r,a]);return b.useEffect(()=>{o(!1)},[e]),{loading:n,dataSource:l,favorite:s,onSort:i}},pt=e=>{let s=Fs();return t.jsx(Vs,{...s,...e})},Rs=e=>{let{activeTab:s,onTabChange:n,tabSort:o,onTabSort:r}=e,{searchValue:i,onSearchValueChange:a,clearSearchValue:l}=B(),{t:c}=W(),u=t.jsx(je,{value:i,onValueChange:a,placeholder:c("markets.search.placeholder"),classNames:{root:"oui-border oui-mt-[1px] oui-border-line"},size:"sm",prefix:t.jsx(M,{pl:3,pr:1,children:t.jsx(Ee,{className:"oui-text-base-contrast-36"})}),suffix:i&&t.jsx(M,{mr:2,children:t.jsx(Le,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:l})}),autoComplete:"off"}),x="oui-h-[calc(100%_-_36px)]";return t.jsxs(M,{className:I("oui-font-semibold oui-overflow-hidden"),height:"100%",children:[t.jsx(M,{px:3,pb:2,children:u}),t.jsxs(_e,{variant:"contained",size:"md",value:s,onValueChange:n,classNames:{tabsList:I("oui-my-[6px]"),tabsContent:"oui-h-full",scrollIndicator:"oui-mx-3"},className:x,showScrollIndicator:!0,children:[t.jsx(Y,{title:c("markets.favorites"),icon:t.jsx(Ue,{}),value:"favorites",children:t.jsx("div",{className:x,children:t.jsx(xt,{tableClassNames:{scroll:"oui-px-1"}})})}),t.jsx(Y,{title:c("markets.recent"),value:"recent",children:t.jsx("div",{className:x,children:t.jsx(gt,{tableClassNames:{scroll:"oui-px-1"}})})}),t.jsx(Y,{title:c("common.all"),value:"all",children:t.jsx("div",{className:x,children:t.jsx(We,{type:"all",sortKey:o==null?void 0:o.sortKey,sortOrder:o==null?void 0:o.sortOrder,onSort:r,tableClassNames:{scroll:"oui-px-1"}})})}),t.jsx(Y,{title:c("markets.newListings"),value:"newListing",children:t.jsx("div",{className:x,children:t.jsx(pt,{tableClassNames:{scroll:"oui-px-1"}})})})]})]})},Mt="24h_amount",At="desc";function bt(e){let{storageKey:s,type:n="all",initialSort:o}=e,[r,i]=hn(s,{[n]:{sortKey:(o==null?void 0:o.sortKey)||Mt,sortOrder:(o==null?void 0:o.sortOrder)||At}}),a=b.useCallback((l=Mt,c=At)=>{i({...r,all:{sortKey:l,sortOrder:c}})},[]);return{tabSort:r[n],onTabSort:a}}function Ps(e){let[s,n]=b.useState(e==null?void 0:e.activeTab),{tabSort:o,onTabSort:r}=bt({storageKey:"orderly_side_markets_tab_sort"}),{clearSearchValue:i}=B(),a=b.useCallback(l=>{typeof(e==null?void 0:e.onTabChange)=="function"?e.onTabChange(l):n(l)},[e==null?void 0:e.onTabChange]);return b.useEffect(()=>{n((e==null?void 0:e.activeTab)||"favorites")},[e==null?void 0:e.activeTab]),b.useEffect(()=>{i==null||i()},[s]),{activeTab:s,onTabChange:a,tabSort:o,onTabSort:r}}var Bs=e=>{let s=Ps({activeTab:e.activeTab,onTabChange:e.onTabChange});return t.jsx(De,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(Rs,{...s})})},le=(e=5)=>s=>s===0?t.jsx(y,{children:" - "}):t.jsx(y.numeral,{rule:"percentages",dp:e,coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:s}),Us=(e,s)=>{let{t:n}=W();return[{title:n("markets.column.market"),dataIndex:"symbol",width:120,render:o=>t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",showIcon:!0,children:o})},{title:n("markets.funding.column.estFunding"),dataIndex:"estFunding",width:120,onSort:!0,render:o=>t.jsxs("div",{children:[t.jsx(y.numeral,{rule:"percentages",dp:5,coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:o}),t.jsx("span",{className:"oui-text-base-contrast-54",children:" / 4h "})]})},{title:n("markets.funding.column.lastFunding"),dataIndex:"lastFunding",width:90,onSort:!0,render:le()},{title:n("markets.funding.column.1dAvg"),dataIndex:"funding1d",width:90,onSort:!0,render:le()},{title:n("markets.funding.column.3dAvg"),dataIndex:"funding3d",width:90,onSort:!0,render:le()},{title:n("markets.funding.column.7dAvg"),dataIndex:"funding7d",width:90,onSort:!0,render:le()},{title:n("markets.funding.column.14dAvg"),dataIndex:"funding14d",width:90,onSort:!0,render:le()},{title:n("markets.funding.column.30dAvg"),dataIndex:"funding30d",width:90,onSort:!0,render:le()},{title:n("markets.funding.column.90dAvg"),dataIndex:"funding90d",width:90,onSort:!0,render:le()},{title:t.jsxs("div",{className:"oui-flex oui-gap-1",children:[t.jsx("select",{value:e,onChange:o=>s(o.target.value),onClick:o=>o.stopPropagation(),className:"oui-w-12 oui-rounded-md oui-border oui-border-line oui-bg-[var(--oui-table-background-color)]",children:[{label:n("common.select.1d"),value:"1dPositive"},{label:n("common.select.3d"),value:"3dPositive"},{label:n("common.select.7d"),value:"7dPositive"},{label:n("common.select.14d"),value:"14dPositive"},{label:n("common.select.30d"),value:"30dPositive"},{label:n("common.select.90d"),value:"90dPositive"}].map(o=>t.jsx("option",{value:o.value,children:o.label},o.value))}),t.jsx("span",{children:n("markets.funding.column.positiveRate")})]}),dataIndex:e,width:130,align:"right",onSort:!0,render:le(2)}]},Ks=e=>{let{dataSource:s,isLoading:n,pagination:o,onSort:r}=e,[i,a]=b.useState("1dPositive"),l=Us(i,a);return t.jsx("div",{className:"w-full",children:t.jsx(de,{columns:l,dataSource:s,loading:n,bordered:!0,onRow:()=>({className:I("oui-h-[48px] oui-cursor-pointer")}),classNames:{header:"oui-h-12"},pagination:o,onSort:r,manualSorting:!0,generatedRowKey:c=>c.symbol})})},Hs=()=>{let{pagination:e}=Be({pageSize:10}),[s]=ce(ue.ALL),{data:n,isLoading:o,getPositiveRates:r}=cn(),{onSort:i,getSortedList:a}=me(),{searchValue:l}=B(),c=b.useMemo(()=>{if(!(s!=null&&s.length))return[];let x=["1d","3d","7d","14d","30d","90d"].reduce((d,h)=>(d[h]=r(n,h),d),{});return s.map(d=>{var j,m,f,p,g,v,w,O,T,N,k,z;let h=n==null?void 0:n.find(L=>L.symbol===d.symbol);return{symbol:d.symbol,estFunding:d.est_funding_rate,lastFunding:d.last_funding_rate,funding1d:((m=(j=h==null?void 0:h.funding)==null?void 0:j["1d"])==null?void 0:m.rate)??0,funding3d:((p=(f=h==null?void 0:h.funding)==null?void 0:f["3d"])==null?void 0:p.rate)??0,funding7d:((v=(g=h==null?void 0:h.funding)==null?void 0:g["7d"])==null?void 0:v.rate)??0,funding14d:((O=(w=h==null?void 0:h.funding)==null?void 0:w["14d"])==null?void 0:O.rate)??0,funding30d:((N=(T=h==null?void 0:h.funding)==null?void 0:T["30d"])==null?void 0:N.rate)??0,funding90d:((z=(k=h==null?void 0:h.funding)==null?void 0:k["90d"])==null?void 0:z.rate)??0,"1dPositive":x["1d"][d.symbol]??"-","3dPositive":x["3d"][d.symbol]??"-","7dPositive":x["7d"][d.symbol]??"-","14dPositive":x["14d"][d.symbol]??"-","30dPositive":x["30d"][d.symbol]??"-","90dPositive":x["90d"][d.symbol]??"-"}})},[s,n,r]),u=b.useMemo(()=>he(c,l,"base-type"),[c,l,e]);return{dataSource:b.useMemo(()=>a(u),[u,a]),isLoading:o,pagination:e,onSort:i}},Xs=()=>{let e=Hs();return t.jsx(Ks,{...e})},st=["WOOFi Pro","Binance","OKX","Bybit","dYdX","Bitget","Kucoin"],Ws=()=>{let{pagination:e}=Be({pageSize:10}),{onSort:s,getSortedList:n}=me(),{searchValue:o}=B(),r=un(),{data:i,isLoading:a}=Et("/v1/public/market_info/funding_comparison"),l=b.useMemo(()=>i!=null&&i.length?i.map(u=>{let x={symbol:u.symbol};return st.forEach((d,h)=>{let j=d.toLowerCase();if(j==="woofi pro"){let f=r[u.symbol];x[`exchange_${h}`]=f("last_funding_rate")??null;return}let m=u.exchanges.find(f=>f.name.toLowerCase()===j);x[`exchange_${h}`]=(m==null?void 0:m.last)??null}),x}):[],[i,st,r]),c=b.useMemo(()=>he(l,o,"base-type"),[l,o,e]);return{data:b.useMemo(()=>n(c),[c,n]),isLoading:a,pagination:e,onSort:s}},qs=()=>{let{t:e}=W();return[{title:e("markets.column.market"),dataIndex:"symbol",width:150,onSort:!0,render:s=>t.jsx(y.formatted,{rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",showIcon:!0,children:s})},...st.map((s,n)=>({title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("img",{src:`https://oss.orderly.network/static/exchange_logo/${s.toLowerCase().replace(" ","_")}.png`,style:{width:"24px",height:"24px",objectFit:"cover",borderRadius:"50%"}}),t.jsx("span",{children:s})]}),dataIndex:`exchange_${n}`,width:100,render:o=>o===null?"-":t.jsx(y.numeral,{rule:"percentages",dp:5,coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:o})}))]},$s=({data:e,isLoading:s,pagination:n})=>{let o=qs();return t.jsx(de,{columns:o,dataSource:e,loading:s,onRow:()=>({className:I("oui-h-[48px] oui-cursor-pointer")}),classNames:{header:"oui-h-12"},bordered:!0,pagination:n})},Gs=()=>{let e=Ws();return t.jsx($s,{...e})},Ys=e=>{let{collapsable:s,collapsed:n,onCollapse:o,activeTab:r,onTabChange:i,className:a}=e,{symbol:l,onSymbolChange:c}=B(),u=()=>n?r==="favorites"?t.jsx(xt,{collapsed:n}):r==="recent"?t.jsx(gt,{collapsed:n}):r==="newListing"?t.jsx(pt,{collapsed:n}):t.jsx(We,{type:"all",sortKey:"24h_amount",sortOrder:"desc",collapsed:n}):t.jsx(Bs,{activeTab:r,onTabChange:i,symbol:l,onSymbolChange:c});return t.jsxs(S,{id:"oui-side-markets",className:I("oui-font-semibold",a),direction:"column",gapY:5,height:"100%",width:"100%",children:[t.jsx(Js,{collapsable:s,collapsed:n,onCollapse:o}),t.jsx(M,{width:"100%",className:I(n?"oui-h-[calc(100%_-_52px)]":"oui-h-[calc(100%_-_56px)]"),children:u()})]})},Js=e=>{let{collapsable:s,collapsed:n,onCollapse:o}=e,{t:r}=W(),i=I("oui-text-base-contrast-36",s?"oui-cursor-pointer hover:oui-text-base-contrast-80":"oui-cursor-not-allowed");return n?t.jsx(rs,{className:i,onClick:()=>{s&&(o==null||o(!1))}}):t.jsxs(S,{justify:"between",px:3,width:"100%",children:[t.jsx(y,{size:"base",intensity:80,children:r("common.markets")}),t.jsx(is,{className:i,onClick:()=>{s&&(o==null||o(!0))}})]})};function Qs(e){let[s,n]=b.useState(e==null?void 0:e.collapsed),[o,r]=Rt("orderly_side_markets_sel_tab_key","all"),i=b.useMemo(()=>(e==null?void 0:e.collapsable)??!0,[e==null?void 0:e.collapsable]),a=b.useCallback(l=>{typeof(e==null?void 0:e.onCollapse)=="function"?e.onCollapse(l):n(l)},[e==null?void 0:e.onCollapse]);return b.useEffect(()=>{n(e==null?void 0:e.collapsed)},[e==null?void 0:e.collapsed]),{collapsable:i,collapsed:s,onCollapse:a,activeTab:o,onTabChange:r}}var vo=e=>{let s=Qs({collapsable:e.collapsable,collapsed:e.collapsed,onCollapse:e.onCollapse});return t.jsx(De,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(Ys,{...s,className:e.className})})},Zs=()=>{let{t:e}=W();return b.useCallback((s,n=!1)=>[{title:e("common.symbol"),dataIndex:"symbol",width:150,render:(o,r)=>{let i;return n||(i=t.jsx(Ke,{row:r,favorite:s,children:t.jsx(S,{width:12,height:12,justify:"center",itemAlign:"center",className:"oui-cursor-pointer oui-mr-1",children:r.isFavorite?t.jsx(dt,{className:"oui-w-3 oui-h-3 oui-text-[rgba(255,154,46,1)]"}):t.jsx(mt,{className:"oui-w-3 oui-h-3 oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})})})),t.jsxs(S,{gapX:1,children:[i,t.jsx(Se,{symbol:o,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:o}),t.jsxs(Me,{size:"xs",color:"primary",children:[r.leverage,"x"]})]})}},{title:e("markets.column.last"),dataIndex:"24h_close",align:"right",onSort:!0,width:100,render:(o,r)=>t.jsx(y.numeral,{dp:r.quote_dp||2,size:"2xs",children:o})},{title:e("markets.column.24hPercentage"),dataIndex:"change",align:"right",onSort:!0,width:80,render:o=>t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:o})},{title:e("common.volume"),dataIndex:"24h_amount",align:"right",onSort:!0,className:"oui-relative",width:80,render:(o,r)=>{let i=c=>{s.updateSymbolFavoriteState(r,s.selectedFavoriteTab,!0),c.stopPropagation()},a="oui-w-4 oui-h-4 oui-text-base-contrast-54 hover:oui-text-base-contrast",l=t.jsx("div",{className:I("oui-absolute oui-right-1 oui-top-[3px]"),children:t.jsxs(S,{className:I("oui-bg-primary-darken oui-py-[6px]","oui-hidden group-hover:oui-inline-flex"),r:"base",width:52,justify:"center",itemAlign:"end",gapX:2,children:[t.jsx(ht,{className:a,onClick:c=>{c.stopPropagation(),s.pinToTop(r)}}),t.jsx(ft,{className:a,onClick:i})]})});return t.jsxs(t.Fragment,{children:[n&&l,t.jsx(y.numeral,{rule:"human",dp:2,rm:P.ROUND_DOWN,className:I(n&&"group-hover:oui-invisible"),children:o})]})}}],[e])},eo=e=>t.jsxs(Ut,{open:e.open,onOpenChange:e.onOpenChange,children:[t.jsx(Kt,{asChild:!0,children:e.children}),t.jsx(Ht,{children:t.jsx(Xt,{onCloseAutoFocus:s=>s.preventDefault(),onClick:s=>s.stopPropagation(),align:"start",alignOffset:-32,sideOffset:20,className:I("oui-markets-dropdown-menu-content oui-bg-base-8 oui-p-0",e.contentClassName),children:t.jsx(to,{...e,hide:e.hide})})})]}),to=e=>{let{activeTab:s,onTabChange:n,tabSort:o,onTabSort:r}=e,{searchValue:i,onSearchValueChange:a}=B(),{t:l}=W(),c=Zs(),u=t.jsxs(S,{mx:3,gapX:3,pt:3,pb:2,children:[t.jsx(je,{value:i,onValueChange:a,placeholder:l("markets.search.placeholder"),classNames:{root:"oui-border oui-mt-[1px] oui-border-line oui-flex-1"},size:"sm",prefix:t.jsx(M,{pl:3,pr:1,children:t.jsx(Ee,{className:"oui-text-base-contrast-36"})}),autoComplete:"off"}),t.jsx(Bt,{size:12,className:"oui-text-base-contrast-80 oui-cursor-pointer",onClick:e.hide,opacity:1})]}),x="oui-h-[calc(100%_-_36px)]";return t.jsxs(M,{className:I("oui-font-semibold oui-overflow-hidden"),height:"100%",intensity:800,children:[u,t.jsxs(_e,{variant:"contained",size:"md",value:s,onValueChange:n,classNames:{tabsList:"oui-my-[6px] oui-px-3",tabsContent:"oui-h-full"},className:x,children:[t.jsx(Y,{title:l("markets.favorites"),icon:t.jsx(Ue,{}),value:"favorites",children:t.jsx("div",{className:x,children:t.jsx(xt,{getColumns:c,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})}),t.jsx(Y,{title:l("markets.recent"),value:"recent",children:t.jsx("div",{className:x,children:t.jsx(gt,{getColumns:c,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})}),t.jsx(Y,{title:l("common.all"),value:"all",children:t.jsx("div",{className:x,children:t.jsx(We,{type:"all",sortKey:o==null?void 0:o.sortKey,sortOrder:o==null?void 0:o.sortOrder,onSort:r,getColumns:c,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})}),t.jsx(Y,{title:l("markets.newListings"),value:"newListing",children:t.jsx("div",{className:x,children:t.jsx(pt,{getColumns:c,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-5 oui-px-1"},rowClassName:"!oui-h-[34px]"})})})]})]})};function no(e){let[s,n]=b.useState(!1),[o,r]=Rt("orderly_dropdown_markets_sel_tab_key","all"),{tabSort:i,onTabSort:a}=bt({storageKey:"orderly_dropdown_markets_tab_sort"}),{clearSearchValue:l}=B(),c=()=>{n(!1)};return b.useEffect(()=>{l==null||l()},[o]),{activeTab:o,onTabChange:u=>r(u),open:s,onOpenChange:n,hide:c,tabSort:i,onTabSort:a}}var so=e=>{let s=no();return t.jsx(De,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(eo,{...s,contentClassName:e.contentClassName,children:e.children})})},oo=(e,s=!1)=>[{title:Tt.t("markets.column.market&Volume"),dataIndex:"24h_amount",onSort:!0,className:"oui-h-[36px]",render:(n,o)=>t.jsxs(S,{direction:"column",itemAlign:"start",gapY:1,children:[t.jsxs(S,{gapX:1,children:[t.jsx(Se,{symbol:o.symbol,className:"oui-w-[18px] oui-h-[18px]"}),t.jsx(y.formatted,{rule:"symbol",formatString:"base",size:"2xs",weight:"semibold",children:o.symbol}),t.jsxs(Me,{size:"xs",color:"primary",children:[o.leverage,"x"]})]}),t.jsx(y.numeral,{intensity:54,rule:"human",dp:2,rm:P.ROUND_DOWN,children:n})]})},{title:Tt.t("markets.column.price&Change"),dataIndex:"change",align:"right",onSort:!0,className:"oui-h-[36px]",render:(n,o)=>{let r=l=>{e.updateSymbolFavoriteState(o,e.selectedFavoriteTab,!0),l.stopPropagation()},i="oui-w-4 oui-h-4 oui-text-base-contrast-54 hover:oui-text-base-contrast",a=t.jsx("div",{className:I("oui-absolute oui-right-0 oui-top-[6.5px]","oui-hidden group-hover:oui-block"),children:t.jsxs(S,{className:I("oui-inline-flex","oui-bg-primary-darken oui-py-[6px]"),r:"base",width:52,justify:"center",itemAlign:"end",gapX:2,children:[t.jsx(ht,{className:i,onClick:l=>{l.stopPropagation(),e.pinToTop(o)}}),t.jsx(ft,{className:i,onClick:r})]})});return t.jsxs("div",{className:"oui-relative",children:[s&&a,t.jsxs(S,{direction:"column",justify:"end",itemAlign:"end",gapY:1,className:I(s&&"group-hover:oui-invisible"),children:[t.jsx(y.numeral,{dp:o.quote_dp||2,size:"2xs",children:o["24h_close"]}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,size:"2xs",children:n})]})]})}}],ro=e=>{let{className:s,tabSort:n,onTabSort:o}=e,{searchValue:r,onSearchValueChange:i,clearSearchValue:a}=B(),{t:l}=W(),c=t.jsx(je,{value:r,onValueChange:i,placeholder:l("markets.search.placeholder"),classNames:{root:"oui-border oui-border-line oui-mt-4"},size:"sm",prefix:t.jsx(M,{pl:3,pr:1,children:t.jsx(Ee,{className:"oui-text-base-contrast-36"})}),suffix:r&&t.jsx(M,{mr:2,children:t.jsx(Le,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:a})}),autoComplete:"off"});return t.jsxs(dn,{cols:1,className:I("oui-font-semibold oui-grid-rows-[auto,1fr]",s),height:"100%",width:"100%",children:[t.jsxs(M,{px:3,mt:3,children:[t.jsx(y,{size:"base",intensity:80,children:l("common.markets")}),c]}),t.jsx("div",{className:"oui-relative",children:t.jsx(M,{width:"100%",mt:2,className:"oui-absolute oui-left-0 oui-right-9 oui-top-0 oui-bottom-0",children:t.jsx(We,{type:"all",sortKey:n==null?void 0:n.sortKey,sortOrder:n==null?void 0:n.sortOrder,onSort:o,getColumns:oo,tableClassNames:{root:"!oui-bg-base-8",scroll:"oui-pb-[calc(env(safe-area-inset-bottom))]"}})})})]})};function io(e){let{tabSort:s,onTabSort:n}=bt({storageKey:"orderly_side_markets_tab_sort"});return{tabSort:s,onTabSort:n}}var yo=e=>{let s=io();return t.jsx(De,{symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsx(ro,{...s,className:e.className})})},ao=e=>{let{symbol:s,data:n,leverage:o,onSymbol:r}=e,i=t.jsxs(S,{className:"oui-cursor-pointer oui-gap-x-[6px]",onClick:r,children:[t.jsx(y.formatted,{className:"oui-break-normal oui-whitespace-nowrap",rule:"symbol",formatString:"base-type",size:"sm",weight:"semibold",showIcon:!0,children:s}),t.jsx(Yt,{className:"oui-text-base-contrast-54 oui-w-[14px] oui-h-[14px]"})]});return t.jsxs(S,{className:I("oui-symbol-info-bar-mobile","oui-font-semibold oui-h-full",e.className),children:[t.jsxs(S,{gapX:3,className:"oui-flex-1 oui-overflow-hidden oui-h-full",children:[t.jsxs(S,{gapX:3,children:[i,t.jsxs(Me,{size:"xs",color:"primary",children:[o,"x"]})]}),t.jsx(ot,{className:"oui-h-6",direction:"vertical",intensity:8}),t.jsx(y.numeral,{size:"2xs",rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:n==null?void 0:n.change})]}),e.trailing]})};function lo(e){let{symbol:s}=e,n=Vt(s),o=Ft(),r=b.useMemo(()=>{let i=o[s],a=i("base_imr");return co(a)},[s,o]);return{symbol:s,data:n,leverage:r}}function co(e){return e?1/e:void 0}var wo=e=>{let{symbol:s,...n}=e,o=lo({symbol:s});return t.jsx(ao,{...o,...n})},uo=e=>{let{symbol:s,isFavorite:n,favorite:o,data:r,quotoDp:i,openInterest:a,fundingRate:l,containerRef:c,leadingElementRef:u,tailingElementRef:x,leadingVisible:d,tailingVisible:h,onScoll:j}=e,{t:m}=W(),f=t.jsx(Ke,{row:{symbol:s},favorite:o,children:t.jsx(S,{width:12,height:12,justify:"center",itemAlign:"center",className:"oui-cursor-pointer oui-mr-1",children:n?t.jsx(dt,{className:"oui-w-3 oui-h-3 oui-text-[rgba(255,154,46,1)]"}):t.jsx(mt,{className:"oui-w-3 oui-h-3 oui-text-base-contrast-36 hover:oui-text-[rgba(255,154,46,1)]"})})}),p=t.jsx(so,{contentClassName:"oui-w-[429px] oui-h-[496px]",symbol:e.symbol,onSymbolChange:e.onSymbolChange,children:t.jsxs(S,{gapX:1,className:"oui-cursor-pointer",children:[t.jsx(Se,{symbol:s,className:"oui-w-4 oui-h-4"}),t.jsx(y.formatted,{className:"oui-break-normal oui-whitespace-nowrap",rule:"symbol",formatString:"base-type",size:"xs",weight:"semibold",intensity:98,children:s}),t.jsx(Yt,{className:"oui-text-base-contrast-54"})]})}),g=t.jsx(y.numeral,{dp:i||2,currency:"$",size:"sm",intensity:98,className:"oui-data-value",children:r==null?void 0:r["24h_close"]}),v=t.jsxs(t.Fragment,{children:[t.jsx(y.numeral,{coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:r==null?void 0:r["24h_change"]}),t.jsx(y,{intensity:36,children:"/"}),t.jsx(y.numeral,{rule:"percentages",coloring:!0,rm:P.ROUND_DOWN,showIdentifier:!0,children:r==null?void 0:r.change})]});return t.jsxs(S,{className:I("oui-symbol-info-bar-desktop","oui-font-semibold oui-h-[54px]",e.className),style:{transform:"translateZ(0)",willChange:"transform"},children:[t.jsxs(S,{gapX:6,className:"oui-flex-1 oui-overflow-hidden oui-h-full",children:[t.jsxs(S,{gapX:1,children:[f,p]}),t.jsx(ot,{className:"oui-h-[26px]",direction:"vertical",intensity:8}),g,t.jsxs("div",{className:"oui-relative oui-overflow-hidden oui-h-full",children:[t.jsx("div",{ref:c,className:"oui-overflow-x-auto oui-hide-scrollbar oui-h-full",children:t.jsxs(S,{gapX:8,height:"100%",children:[t.jsx("div",{ref:u,children:t.jsx(we,{label:m("markets.column.24hChange"),value:v})}),t.jsx(we,{label:m("markets.symbolInfoBar.Mark"),value:t.jsx(y.numeral,{dp:i,"data-testid":"oui-testid-tokenInfo-markPrice-value",children:r==null?void 0:r.mark_price}),hint:m("markets.symbolInfoBar.Mark.tooltip")}),t.jsx(we,{label:m("markets.symbolInfoBar.Index"),value:t.jsx(y.numeral,{dp:i,children:r==null?void 0:r.index_price}),hint:m("markets.symbolInfoBar.Index.tooltip")}),t.jsx(we,{label:m("markets.symbolInfoBar.24hVolume"),value:t.jsx(y.numeral,{rule:"human",dp:2,children:r==null?void 0:r["24h_amount"]}),hint:m("markets.symbolInfoBar.24hVolume.tooltip")}),t.jsx(we,{label:m("markets.symbolInfoBar.predFundingRate"),value:t.jsx(mo,{symbol:s}),hint:m("markets.symbolInfoBar.predFundingRate.tooltip")}),t.jsx("div",{ref:x,children:t.jsx(we,{label:m("markets.openInterest"),value:t.jsxs(t.Fragment,{children:[t.jsx(y.numeral,{rule:"human",dp:2,children:a}),t.jsx(y,{intensity:36,children:" USDC"})]}),hint:m("markets.openInterest.tooltip")})})]})}),t.jsx(Dt,{leading:!0,onClick:j,visible:d}),t.jsx(Dt,{tailing:!0,onClick:j,visible:h})]})]}),e.trailing]})},we=e=>t.jsxs(S,{direction:"column",itemAlign:"start",children:[t.jsx(pe,{open:e.hint?void 0:!1,content:e.hint,className:"oui-max-w-[240px] oui-bg-base-6 ",arrow:{className:"oui-fill-base-6"},delayDuration:300,children:t.jsx(y,{size:"2xs",intensity:36,className:I("oui-data-label","oui-break-normal oui-whitespace-nowrap",e.hint&&"oui-cursor-pointer oui-border-b oui-border-dashed oui-border-line-12"),children:e.label})}),t.jsx(y,{size:"2xs",intensity:98,className:I("oui-data-value","oui-leading-[20px] oui-break-normal oui-whitespace-nowrap"),children:e.value})]}),Dt=e=>{let{visible:s,leading:n,tailing:o,onClick:r}=e;return s?t.jsx("button",{onClick:()=>{r==null||r(n?"left":"right")},style:{background:"linear-gradient(90deg, #07080A 0%, rgba(7, 8, 10, 0.60) 65%, rgba(7, 8, 10, 0.00) 100%)"},className:I("oui-flex oui-items-center oui-w-[80px]","oui-absolute oui-top-0 oui-bottom-0 oui-rounded-l",n&&"oui-left-0 oui-pl-1",o&&"oui-right-0 oui-pr-1 oui-rotate-180"),children:t.jsx(as,{className:"oui-text-base-contrast-54 hover:oui-text-base-contrast-80"})}):null},mo=({symbol:e})=>{let s=Pt(e);return(s==null?void 0:s.est_funding_rate)===null?"--":t.jsxs("div",{children:[t.jsx(y.numeral,{unit:"%",dp:4,className:"oui-text-[#FF9A2E]",children:s.est_funding_rate}),t.jsx(y,{intensity:36,className:"oui-tabular-nums",children:` in ${s.countDown}`})]})};function ho(e){let{symbol:s}=e,n=Vt(s),o=Pt(s),r=mn(),i=Ft()[s]("quote_dp"),[a,l]=b.useState(!1),[c,u]=b.useState(!1),x=b.useRef(null),d=b.useRef(null),h=b.useRef(null),j=b.useMemo(()=>!!r.favorites.find(f=>f.name===s),[r.favorites,s]),m=b.useMemo(()=>new P((n==null?void 0:n.open_interest)??0).mul((n==null?void 0:n.index_price)??0).toDecimalPlaces(2).valueOf(),[n]);return b.useEffect(()=>{let f=new IntersectionObserver(p=>{for(let g=0;g<p.length;g++){let v=p[g];v&&(v.target===d.current&&l(!v.isIntersecting),v.target===h.current&&u(!v.isIntersecting))}});return d.current&&f.observe(d.current),h.current&&f.observe(h.current),()=>{f.disconnect()}},[]),{symbol:s,isFavorite:j,favorite:r,data:n,quotoDp:i,openInterest:m,fundingRate:o,containerRef:x,leadingElementRef:d,tailingElementRef:h,leadingVisible:a,tailingVisible:c,onScoll:f=>{var p,g;f==="left"?(p=x.current)==null||p.scrollBy({left:-100,behavior:"smooth"}):(g=x.current)==null||g.scrollBy({left:100,behavior:"smooth"})}}}var So=e=>{let{symbol:s,...n}=e,o=ho({symbol:s});return t.jsx(uo,{...o,...n})},fo=({activeFundingTab:e,onFundingTabChange:s})=>{let{searchValue:n,onSearchValueChange:o,clearSearchValue:r}=B(),{t:i}=W(),a=t.jsx(je,{value:n,onValueChange:o,placeholder:i("markets.search.placeholder"),className:"oui-w-[240px] oui-my-1",size:"sm","data-testid":"oui-testid-markets-searchMarket-input",prefix:t.jsx(M,{pl:3,pr:1,children:t.jsx(Ee,{className:"oui-text-base-contrast-36"})}),suffix:n&&t.jsx(M,{mr:2,children:t.jsx(Le,{size:14,className:"oui-text-base-contrast-36 oui-cursor-pointer",onClick:r})}),autoComplete:"off"});return t.jsx(M,{id:"oui-funding-list",intensity:900,p:6,mt:4,r:"2xl",children:t.jsxs(_e,{variant:"contained",size:"lg",value:e,onValueChange:s,trailing:a,children:[t.jsx(Y,{title:i("common.overview"),value:"overview",testid:"oui-testid-funding-overview-tab",children:t.jsx(Xs,{})}),t.jsx(Y,{title:i("markets.funding.comparison"),value:"comparison",testid:"oui-testid-funding-comparison-tab",children:t.jsx(Gs,{})})]})})};function xo(){let[e,s]=b.useState("overview");return{activeFundingTab:e,onFundingTabChange:n=>s(n)}}var go=()=>{let e=xo();return t.jsx(fo,{...e})},No=e=>{let[s,n]=b.useState("markets"),{t:o}=W();return t.jsx(De,{onSymbolChange:e.onSymbolChange,children:t.jsx(M,{id:"oui-markets-home-page",className:I("oui-font-semibold",e.className),p:6,children:t.jsxs(_e,{variant:"text",size:"xl",value:s,onValueChange:n,children:[t.jsxs(Y,{title:o("common.markets"),value:"markets",testid:"oui-testid-markets-tab",children:[t.jsx(ps,{}),t.jsx(zs,{})]}),t.jsx(Y,{title:o("common.funding"),value:"funding",testid:"oui-testid-funding-tab",children:t.jsx(go,{})})]})})})};export{No as B,yo as J,vo as M,wo as i,So as y};
