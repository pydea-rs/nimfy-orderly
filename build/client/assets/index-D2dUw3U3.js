import{aX as O,aZ as Z,aW as Ne,b2 as j,b6 as he,b7 as ys,b8 as ms,ac as Re,b9 as Bt,b1 as Q,b3 as ft,b5 as At,ba as gs,bb as Ue,b4 as ws,bc as br,bd as vs,be as dt,bf as Cn,aY as ye,ad as qe}from"./root-GkU6dJ0W.js";import{bh as gc,bi as wc,bk as vc,bj as Ec,a_ as xc,bl as Pc,bg as Bc,a$ as Ac,ae as Tc,b0 as Ic,bn as Oc,bo as Sc,bm as kc,bp as Nc,bq as Rc}from"./root-GkU6dJ0W.js";import{k as W,c as ee,i as te,I as ve,s as xt,a as pr,b as Es,d as xs,e as Ps,p as an,f as me,E as gt,F as Ht,g as jn,N as Fn,h as qn,j as Mn,l as zn,m as Ln,n as _n,T as Dn,o as Gt,U as cn,q as Bs,r as hr,t as As,u as Ts,v as Is,w as Os,x as Ss,y as yr,P as ks,z as Ee,C as Ut,A as mr,B as gr,D as Ns,G as wr,H as Rs,J as $s,K as Cs,L as js,M as Hn,O as Fs,Q as qs,R as Ms,S as zs,W as Gn}from"./number-2FU5RTY6.js";import{X as Cc,Y as jc,Z as Fc,_ as qc,a6 as Mc,a7 as zc,a8 as Lc,a9 as _c,ab as Dc,$ as Hc,ac as Gc,a0 as Uc,a2 as Vc,a3 as Zc,V as Wc,a4 as Yc,ae as Jc,af as Kc,ad as Xc,ag as Qc,aa as eu,a5 as tu,a1 as nu}from"./number-2FU5RTY6.js";import{dF as Ls}from"./index-hxeryC1o.js";import"./index-_b-vxSi4.js";import"./index-BcrQDpUm.js";import"./config-DaBgEe5Y.js";import"./index-Di9JU0ht.js";import"./components-CdH6ss3X.js";function _s(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Un=/^tuple(?<array>(\[(\d*)\])*)$/;function Vt(e){let t=e.type;if(Un.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Vt(o),s<n-1&&(t+=", ")}const r=_s(Un,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Vt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function He(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Vt(s),r!==n-1&&(t+=", ")}return t}function Ds(e){return e.type==="function"?`function ${e.name}(${He(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${He(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${He(e.inputs)})`:e.type==="error"?`error ${e.name}(${He(e.inputs)})`:e.type==="constructor"?`constructor(${He(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function N(e,t,n){return r=>{var s,o;return((s=e[t.name])==null?void 0:s.call(e,r))??((o=e[n])==null?void 0:o.call(e,r))??t(e,r)}}function se(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new to(e.type);return`${e.name}(${Tt(e.inputs,{includeName:t})})`}function Tt(e,{includeName:t=!1}={}){return e?e.map(n=>Hs(n,{includeName:t})).join(t?", ":","):""}function Hs(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Tt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Gs extends O{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Vn extends O{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class vr extends O{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Tt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class It extends O{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Us extends O{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Vs extends O{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Zs extends O{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Er extends O{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ws extends O{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class xr extends O{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Zn extends O{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Pt extends O{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Ys extends O{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Js extends O{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${se(t.abiItem)}\`, and`,`\`${n.type}\` in \`${se(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Ks extends O{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ve extends O{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Tt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Ot extends O{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${se(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Xs extends O{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Qs extends O{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class eo extends O{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class to extends O{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class no extends O{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const ro=e=>W(Ne(e));function so(e){return ro(e)}function oo(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new O("Unable to normalize signature.");return s}const ao=e=>{const t=typeof e=="string"?e:Ds(e);return oo(t)};function Pr(e){return so(ao(e))}const un=Pr;function Me(e,t){if(e.length!==t.length)throw new Zs({expectedLength:e.length,givenLength:t.length});const n=io({params:e,values:t}),r=dn(n);return r.length===0?"0x":r}function io({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(fn({param:e[r],value:t[r]}));return n}function fn({param:e,value:t}){const n=ln(e.type);if(n){const[r,s]=n;return uo(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return ho(t,{param:e});if(e.type==="address")return co(t);if(e.type==="bool")return lo(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return bo(t,{signed:r})}if(e.type.startsWith("bytes"))return fo(t,{param:e});if(e.type==="string")return po(t);throw new Xs(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function dn(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=Z(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(j(t+s,{size:32})),r.push(i),s+=Z(i)):n.push(i)}return ee([...n,...r])}function co(e){if(!te(e))throw new ve({address:e});return{dynamic:!1,encoded:he(e.toLowerCase())}}function uo(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new eo(e);if(!r&&e.length!==t)throw new Us({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=fn({param:n,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(r||s){const a=dn(o);if(r){const i=j(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ee([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ee(o.map(({encoded:a})=>a))}}function fo(e,{param:t}){const[,n]=t.type.split("bytes"),r=Z(e);if(!n){let s=e;return r%32!==0&&(s=he(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ee([he(j(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new Vs({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:he(e,{dir:"right"})}}function lo(e){if(typeof e!="boolean")throw new O(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:he(ys(e))}}function bo(e,{signed:t}){return{dynamic:!1,encoded:j(e,{size:32,signed:t})}}function po(e){const t=ms(e),n=Math.ceil(Z(t)/32),r=[];for(let s=0;s<n;s++)r.push(he(xt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ee([he(j(Z(t),{size:32})),...r])}}function ho(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=fn({param:o,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?dn(r):ee(r.map(({encoded:s})=>s))}}function ln(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const bn=e=>xt(Pr(e),0,4);function lt(e){const{abi:t,args:n=[],name:r}=e,s=Re(r,{strict:!1}),o=t.filter(i=>s?i.type==="function"?bn(i)===r:i.type==="event"?un(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,d)=>{const f="inputs"in i&&i.inputs[d];return f?Zt(u,f):!1})){if(a&&"inputs"in a&&a.inputs){const u=Br(i.inputs,a.inputs,n);if(u)throw new Js({abiItem:i,type:u[0]},{abiItem:a,type:u[1]})}a=i}}return a||o[0]}function Zt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return te(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Zt(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Zt(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Br(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Br(s.components,o.components,n[r]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?te(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?te(n[r],{strict:!1}):!1)return a}}const Wn="/docs/contract/encodeEventTopics";function bt(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=lt({abi:t,name:n});if(!u)throw new Zn(n,{docsPath:Wn});s=u}if(s.type!=="event")throw new Zn(void 0,{docsPath:Wn});const o=se(s),a=un(o);let i=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(f=>"indexed"in f&&f.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(f=>r[f.name]))??[]:[];d.length>0&&(i=(u==null?void 0:u.map((f,l)=>Array.isArray(d[l])?d[l].map((m,p)=>Yn({param:f,value:d[l][p]})):d[l]?Yn({param:f,value:d[l]}):null))??[])}return[a,...i]}function Yn({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return W(Ne(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new no(e.type);return Me([e],[t])}function St(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:a,status:i,transport:c})=>{i==="success"&&t===o&&(n[a]=c.request)})),o=>n[o]||e.request}async function Ar(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:a,strict:i,toBlock:c}=t,u=St(e,{method:"eth_newFilter"}),d=o?bt({abi:r,args:s,eventName:o}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?j(a):a,toBlock:typeof c=="bigint"?j(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:f,request:u(f),strict:!!i,type:"event"}}function de(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Jn="/docs/contract/encodeFunctionData";function yo(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=lt({abi:t,args:n,name:r});if(!o)throw new Pt(r,{docsPath:Jn});s=o}if(s.type!=="function")throw new Pt(void 0,{docsPath:Jn});return{abi:[s],functionName:bn(se(s))}}function Be(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:yo(e)})(),s=n[0],o=r,a="inputs"in s&&s.inputs?Me(s.inputs,t??[]):void 0;return pr([o,a??"0x"])}const Tr={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},mo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},go={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function wo(e,t={}){typeof t.size<"u"&&Bt(e,{size:t.size});const n=Q(e,t);return Ue(n,t)}function vo(e,t={}){let n=e;if(typeof t.size<"u"&&(Bt(n,{size:t.size}),n=At(n)),n.length>1||n[0]>1)throw new gs(n);return!!n[0]}function re(e,t={}){typeof t.size<"u"&&Bt(e,{size:t.size});const n=Q(e,t);return ft(n,t)}function Eo(e,t={}){let n=e;return typeof t.size<"u"&&(Bt(n,{size:t.size}),n=At(n,{dir:"right"})),new TextDecoder().decode(n)}function kt(e,t){const n=typeof t=="string"?ws(t):t,r=Es(n);if(Z(n)===0&&e.length>0)throw new It;if(Z(t)&&Z(t)<32)throw new vr({data:typeof t=="string"?t:Q(t),params:e,size:Z(t)});let s=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];r.setPosition(s);const[c,u]=Se(r,i,{staticPosition:0});s+=u,o.push(c)}return o}function Se(e,t,{staticPosition:n}){const r=ln(t.type);if(r){const[s,o]=r;return Po(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Io(e,t,{staticPosition:n});if(t.type==="address")return xo(e);if(t.type==="bool")return Bo(e);if(t.type.startsWith("bytes"))return Ao(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return To(e,t);if(t.type==="string")return Oo(e,{staticPosition:n});throw new Qs(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Kn=32,Wt=32;function xo(e){const t=e.readBytes(32);return[xs(Q(Ps(t,-20))),32]}function Po(e,t,{length:n,staticPosition:r}){if(!n){const a=re(e.readBytes(Wt)),i=r+a,c=i+Kn;e.setPosition(i);const u=re(e.readBytes(Kn)),d=Ze(t);let f=0;const l=[];for(let m=0;m<u;++m){e.setPosition(c+(d?m*32:f));const[p,b]=Se(e,t,{staticPosition:c});f+=b,l.push(p)}return e.setPosition(r+32),[l,32]}if(Ze(t)){const a=re(e.readBytes(Wt)),i=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[d]=Se(e,t,{staticPosition:i});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let a=0;a<n;++a){const[i,c]=Se(e,t,{staticPosition:r+s});s+=c,o.push(i)}return[o,s]}function Bo(e){return[vo(e.readBytes(32),{size:32}),32]}function Ao(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=re(e.readBytes(32));e.setPosition(n+a);const i=re(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[Q(c),32]}return[Q(e.readBytes(Number.parseInt(s),32)),32]}function To(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?wo(s,{signed:n}):re(s,{signed:n}),32]}function Io(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let o=0;if(Ze(t)){const a=re(e.readBytes(Wt)),i=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+o);const[d,f]=Se(e,u,{staticPosition:i});o+=f,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,u]=Se(e,i,{staticPosition:n});s[r?a:i==null?void 0:i.name]=c,o+=u}return[s,o]}function Oo(e,{staticPosition:t}){const n=re(e.readBytes(32)),r=t+n;e.setPosition(r);const s=re(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=Eo(At(o));return e.setPosition(t+32),[a,32]}function Ze(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ze);const n=ln(e.type);return!!(n&&Ze({...e,type:n[1]}))}function Ir(e){const{abi:t,data:n}=e,r=xt(n,0,4);if(r==="0x")throw new It;const o=[...t||[],mo,go].find(a=>a.type==="error"&&r===bn(se(a)));if(!o)throw new Er(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?kt(o.inputs,xt(n,4)):void 0,errorName:o.name}}const _=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Or({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?_(t[o]):t[o]}`).join(", ")})`}class So extends O{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class ko extends O{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function Xn(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function No(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Xn(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Xn(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class Sr extends O{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l,stateOverride:m}){var y;const p=n?de(n):void 0;let b=an({from:p==null?void 0:p.address,to:f,value:typeof l<"u"&&`${br(l)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${me(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${me(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:d});m&&(b+=`
${No(m)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Ro extends O{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:a,sender:i}){const c=lt({abi:n,args:r,name:a}),u=c?Or({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?se(c,{includeName:!0}):void 0,f=an({address:s&&vs(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=i}}class Yt extends O{constructor({abi:t,data:n,functionName:r,message:s}){let o,a,i,c;if(n&&n!=="0x")try{a=Ir({abi:t,data:n});const{abiItem:d,errorName:f,args:l}=a;if(f==="Error")c=l[0];else if(f==="Panic"){const[m]=l;c=Tr[m]}else{const m=d?se(d,{includeName:!0}):void 0,p=d&&l?Or({abiItem:d,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[m?`Error: ${m}`:"",p&&p!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof Er&&(u=o.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=c,this.signature=u}}class $o extends O{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class pn extends O{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class ge extends O{constructor({body:t,details:n,headers:r,status:s,url:o}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${dt(o)}`,t&&`Request body: ${_(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=o}}class kr extends O{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${dt(r)}`,`Request body: ${_(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Qn extends O{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${dt(n)}`,`Request body: ${_(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Co=-1;class H extends O{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof kr?t.code:n??Co}}class ze extends H{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class We extends H{constructor(t){super(t,{code:We.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(We,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ye extends H{constructor(t){super(t,{code:Ye.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Ye,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Je extends H{constructor(t){super(t,{code:Je.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ke extends H{constructor(t){super(t,{code:Ke.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class xe extends H{constructor(t){super(t,{code:xe.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Pe extends H{constructor(t){super(t,{code:Pe.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Pe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xe extends H{constructor(t){super(t,{code:Xe.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qe extends H{constructor(t){super(t,{code:Qe.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class et extends H{constructor(t){super(t,{code:et.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class tt extends H{constructor(t){super(t,{code:tt.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class $e extends H{constructor(t){super(t,{code:$e.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty($e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nt extends H{constructor(t){super(t,{code:nt.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ke extends ze{constructor(t){super(t,{code:ke.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rt extends ze{constructor(t){super(t,{code:rt.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class st extends ze{constructor(t){super(t,{code:st.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ot extends ze{constructor(t){super(t,{code:ot.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class at extends ze{constructor(t){super(t,{code:at.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(at,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class it extends ze{constructor(t){super(t,{code:it.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class jo extends H{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Fo=3;function ct(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:a}){const{code:i,data:c,message:u,shortMessage:d}=e instanceof pn?e:e instanceof O?e.walk(l=>"data"in l)||e.walk():{},f=e instanceof It?new $o({functionName:o}):[Fo,xe.code].includes(i)&&(c||u||d)?new Yt({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:d??u}):e;return new Ro(f,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:a})}class qo extends O{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:f,value:l}){var p;const m=an({from:n==null?void 0:n.address,to:f,value:typeof l<"u"&&`${br(l)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${me(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${me(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${me(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}function Nr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof O?e.walk(s=>s.code===gt.code):e;return r instanceof O?new gt({cause:e,message:r.details}):gt.nodeMessage.test(n)?new gt({cause:e,message:e.details}):Ht.nodeMessage.test(n)?new Ht({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):jn.nodeMessage.test(n)?new jn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Fn.nodeMessage.test(n)?new Fn({cause:e,nonce:t==null?void 0:t.nonce}):qn.nodeMessage.test(n)?new qn({cause:e,nonce:t==null?void 0:t.nonce}):Mn.nodeMessage.test(n)?new Mn({cause:e,nonce:t==null?void 0:t.nonce}):zn.nodeMessage.test(n)?new zn({cause:e}):Ln.nodeMessage.test(n)?new Ln({cause:e,gas:t==null?void 0:t.gas}):_n.nodeMessage.test(n)?new _n({cause:e,gas:t==null?void 0:t.gas}):Dn.nodeMessage.test(n)?new Dn({cause:e}):Gt.nodeMessage.test(n)?new Gt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new cn({cause:e})}function Mo(e,{docsPath:t,...n}){const r=(()=>{const s=Nr(e,n);return s instanceof cn?e:s})();return new qo(r,{docsPath:t,...n})}function Rr(e,{format:t}){if(!t)return{};const n={};function r(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&r(o[i])}const s=t(e||{});return r(s),n}function er(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Cn({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Cn({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function zo(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=j(t)),n!==void 0&&(a.nonce=j(n)),r!==void 0&&(a.state=er(r)),s!==void 0){if(a.state)throw new ko;a.stateDiff=er(s)}return a}function $r(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!te(n,{strict:!1}))throw new ve({address:n});if(t[n])throw new So({address:n});t[n]=zo(r)}return t}function hn(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,a=t?de(t):void 0;if(a&&!te(a.address))throw new ve({address:a.address});if(o&&!te(o))throw new ve({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Bs;if(r&&r>2n**256n-1n)throw new Ht({maxFeePerGas:r});if(s&&r&&s>r)throw new Gt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Lo extends O{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class yn extends O{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class _o extends O{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${me(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Cr extends O{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function ce(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,f,l;const o=r??"latest",a=s??!1,i=n!==void 0?j(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||o,a]}),!c)throw new Cr({blockHash:t,blockNumber:n});return(((l=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.block)==null?void 0:l.format)||hr)(c)}async function mn(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Do(e,t){return jr(e,t)}async function jr(e,t){var o,a,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)=="function"){const c=n||await N(e,ce,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Ue(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):N(e,ce,"getBlock")({}),N(e,mn,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new yn;const d=u-c.baseFeePerGas;return d<0n?0n:d}}async function Ho(e,t){return Jt(e,t)}async function Jt(e,t){var l,m;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new Lo;const c=10**(((l=a.toString().split(".")[1])==null?void 0:l.length)??0),u=p=>p*BigInt(Math.ceil(a*c))/BigInt(c),d=n||await N(e,ce,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new yn;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await jr(e,{block:d,chain:r,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await N(e,mn,"getGasPrice")({}))}}async function Fr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?j(r):n]});return ft(s)}async function qr(e){const t=await e.request({method:"eth_chainId"});return ft(t)}const Go=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Mr(e,t){const{account:n=e.account,blobs:r,chain:s,chainId:o,gas:a,kzg:i,nonce:c,parameters:u=Go,type:d}=t,f=n?de(n):void 0,l={...t,...f?{from:f==null?void 0:f.address}:{}};let m;async function p(){return m||(m=await N(e,ce,"getBlock")({blockTag:"latest"}),m)}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const b=As({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const y=Ts({commitments:b,to:"hex"});l.blobVersionedHashes=y}if(u.includes("sidecars")){const y=Is({blobs:r,commitments:b,kzg:i}),h=Os({blobs:r,commitments:b,proofs:y,to:"hex"});l.sidecars=h}}if(u.includes("chainId")&&(s?l.chainId=s.id:typeof o<"u"?l.chainId=o:l.chainId=await N(e,qr,"getChainId")({})),u.includes("nonce")&&typeof c>"u"&&f&&(l.nonce=await N(e,Fr,"getTransactionCount")({address:f.address,blockTag:"pending"})),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{l.type=Ss(l)}catch{const b=await p();l.type=typeof(b==null?void 0:b.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const b=await p(),{maxFeePerGas:y,maxPriorityFeePerGas:h}=await Jt(e,{block:b,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<h)throw new _o({maxPriorityFeePerGas:h});l.maxPriorityFeePerGas=h,l.maxFeePerGas=y}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new yn;const b=await p(),{gasPrice:y}=await Jt(e,{block:b,chain:s,request:l,type:"legacy"});l.gasPrice=y}return u.includes("gas")&&typeof a>"u"&&(l.gas=await N(e,gn,"estimateGas")({...l,account:f?{address:f.address,type:"json-rpc"}:void 0})),hn(l),delete l.parameters,l}async function gn(e,t){var s,o,a;const n=t.account??e.account,r=n?de(n):void 0;try{const{accessList:i,blobs:c,blobVersionedHashes:u,blockNumber:d,blockTag:f,data:l,gas:m,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:h,nonce:g,to:w,value:E,stateOverride:A,...v}=await Mr(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),x=(d?j(d):void 0)||f,T=$r(A);hn(t);const S=(a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,C=(S||yr)({...Rr(v,{format:S}),from:r==null?void 0:r.address,accessList:i,blobs:c,blobVersionedHashes:u,data:l,gas:m,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:h,nonce:g,to:w,value:E}),$=await e.request({method:"eth_estimateGas",params:T?[C,x??"latest",T]:x?[C,x]:[C]});return BigInt($)}catch(i){throw Mo(i,{...t,account:r,chain:e.chain})}}async function Uo(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=Be({abi:n,args:s,functionName:o});try{return await N(e,gn,"estimateGas")({data:i,to:r,...a})}catch(c){const u=a.account?de(a.account):void 0;throw ct(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}const tr="/docs/contract/decodeEventLog";function wn(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[a,...i]=s;if(!a)throw new Ws({docsPath:tr});const c=t.find(b=>b.type==="event"&&a===un(se(b)));if(!(c&&"name"in c)||c.type!=="event")throw new xr(a,{docsPath:tr});const{name:u,inputs:d}=c,f=d==null?void 0:d.some(b=>!("name"in b&&b.name));let l=f?[]:{};const m=d.filter(b=>"indexed"in b&&b.indexed);for(let b=0;b<m.length;b++){const y=m[b],h=i[b];if(!h)throw new Ot({abiItem:c,param:y});l[f?b:y.name||b]=Vo({param:y,value:h})}const p=d.filter(b=>!("indexed"in b&&b.indexed));if(p.length>0){if(n&&n!=="0x")try{const b=kt(p,n);if(b)if(f)l=[...l,...b];else for(let y=0;y<p.length;y++)l[p[y].name]=b[y]}catch(b){if(o)throw b instanceof vr||b instanceof ks?new Ve({abiItem:c,data:n,params:p,size:Z(n)}):b}else if(o)throw new Ve({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Vo({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(kt([e],t)||[])[0]}function vn({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var o;try{const a=wn({...s,abi:e,strict:r});return t&&!t.includes(a.eventName)?null:{...a,...s}}catch(a){let i,c;if(a instanceof xr)return null;if(a instanceof Ve||a instanceof Ot){if(r)return null;i=a.abiItem.name,c=(o=a.abiItem.inputs)==null?void 0:o.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:i}}}).filter(Boolean)}async function En(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:a,args:i,strict:c}={}){const u=c??!1,d=a??(o?[o]:void 0);let f=[];d&&(f=[d.flatMap(p=>bt({abi:[p],eventName:p.name,args:i}))],o&&(f=f[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?j(r):r,toBlock:typeof s=="bigint"?j(s):s}]});const m=l.map(p=>Ee(p));return d?vn({abi:d,logs:m,strict:u}):m}async function zr(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:a,fromBlock:i,toBlock:c,strict:u}=t,d=a?lt({abi:n,name:a}):void 0,f=d?void 0:n.filter(l=>l.type==="event");return N(e,En,"getLogs")({address:r,args:s,blockHash:o,event:d,events:f,fromBlock:i,toBlock:c,strict:u})}const qt="/docs/contract/decodeFunctionResult";function Le(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const i=lt({abi:t,args:n,name:r});if(!i)throw new Pt(r,{docsPath:qt});o=i}if(o.type!=="function")throw new Pt(void 0,{docsPath:qt});if(!o.outputs)throw new Ys(o.name,{docsPath:qt});const a=kt(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Kt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Lr=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],_r=[...Lr,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Zo=[...Lr,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],nr=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],rr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Wo=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Yo="0x82ad56cb";function _e({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Ut({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ut({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Jo(e,{docsPath:t,...n}){const r=(()=>{const s=Nr(e,n);return s instanceof cn?e:s})();return new Sr(r,{docsPath:t,...n})}const Mt=new Map;function Dr({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();a();const f=d.map(({args:l})=>l);f.length!==0&&e(f).then(l=>{var m;s&&Array.isArray(l)&&l.sort(s);for(let p=0;p<d.length;p++){const{pendingPromise:b}=d[p];(m=b.resolve)==null||m.call(b,[l[p],l])}}).catch(l=>{var m;for(let p=0;p<d.length;p++){const{pendingPromise:b}=d[p];(m=b.reject)==null||m.call(b,l)}})},a=()=>Mt.delete(t),i=()=>c().map(({args:d})=>d),c=()=>Mt.get(t)||[],u=d=>Mt.set(t,[...c(),d]);return{flush:a,async schedule(d){const f={},l=new Promise((b,y)=>{f.resolve=b,f.reject=y});return(n==null?void 0:n([...i(),d]))&&o(),c().length>0?(u({args:d,pendingPromise:f}),l):(u({args:d,pendingPromise:f}),setTimeout(o,r),l)}}}async function pt(e,t){var E,A,v,P;const{account:n=e.account,batch:r=!!((E=e.batch)!=null&&E.multicall),blockNumber:s,blockTag:o="latest",accessList:a,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:m,nonce:p,to:b,value:y,stateOverride:h,...g}=t,w=n?de(n):void 0;try{hn(t);const T=(s?j(s):void 0)||o,S=$r(h),k=(P=(v=(A=e.chain)==null?void 0:A.formatters)==null?void 0:v.transactionRequest)==null?void 0:P.format,$=(k||yr)({...Rr(g,{format:k}),from:w==null?void 0:w.address,accessList:a,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:m,nonce:p,to:b,value:y});if(r&&Ko({request:$})&&!S)try{return await Xo(e,{...$,blockNumber:s,blockTag:o})}catch(B){if(!(B instanceof mr)&&!(B instanceof Ut))throw B}const G=await e.request({method:"eth_call",params:S?[$,T,S]:[$,T]});return G==="0x"?{data:void 0}:{data:G}}catch(x){const T=Qo(x),{offchainLookup:S,offchainLookupSignature:k}=await Ls(async()=>{const{offchainLookup:C,offchainLookupSignature:$}=await Promise.resolve().then(()=>Ya);return{offchainLookup:C,offchainLookupSignature:$}},void 0);if(e.ccipRead!==!1&&(T==null?void 0:T.slice(0,10))===k&&b)return{data:await S(e,{data:T,to:b})};throw Jo(x,{...t,account:w,chain:e.chain})}}function Ko({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Yo)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Xo(e,t){var b;const{batchSize:n=1024,wait:r=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:a,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new mr;u=_e({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=(s?j(s):void 0)||o,{schedule:l}=Dr({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(y){return y.reduce((g,{data:w})=>g+(w.length-2),0)>n*2},fn:async y=>{const h=y.map(E=>({allowFailure:!0,callData:E.data,target:E.to})),g=Be({abi:Kt,args:[h],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:g,to:u},f]});return Le({abi:Kt,args:[h],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:m,success:p}]=await l({data:a,to:c});if(!p)throw new pn({data:m});return m==="0x"?{data:void 0}:{data:m}}function Qo(e){var n;if(!(e instanceof O))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ue(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=Be({abi:n,args:s,functionName:o});try{const{data:c}=await N(e,pt,"call")({...a,data:i,to:r});return Le({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw ct(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function ea(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:a,...i}=t,c=i.account?de(i.account):e.account,u=Be({abi:n,args:s,functionName:a});try{const{data:d}=await N(e,pt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...i,account:c}),f=Le({abi:n,args:s,functionName:a,data:d||"0x"}),l=n.filter(m=>"name"in m&&m.name===t.functionName);return{result:f,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:a,...i,account:c}}}catch(d){throw ct(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}const zt=new Map,sr=new Map;let ta=0;function fe(e,t,n){const r=++ta,s=()=>zt.get(e)||[],o=()=>{const d=s();zt.set(e,d.filter(f=>f.id!==r))},a=()=>{const d=sr.get(e);s().length===1&&d&&d(),o()},i=s();if(zt.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const c={};for(const d in t)c[d]=(...f)=>{var m,p;const l=s();if(l.length!==0)for(const b of l)(p=(m=b.fns)[d])==null||p.call(m,...f)};const u=n(c);return typeof u=="function"&&sr.set(e,u),a}async function Xt(e){return new Promise(t=>setTimeout(t,e))}function ht(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const c=await(n==null?void 0:n(i))??r;await Xt(c);const u=async()=>{s&&(await e({unpoll:o}),await Xt(r),u())};u()})(),o}const na=new Map,ra=new Map;function sa(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),n=t(e,na),r=t(e,ra);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function oa(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=sa(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const a=await o;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const aa=e=>`blockNumber.${e}`;async function yt(e,{cacheTime:t=e.cacheTime}={}){const n=await oa(()=>e.request({method:"eth_blockNumber"}),{cacheKey:aa(e.uid),cacheTime:t});return BigInt(n)}async function Nt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Ee(o));return!("abi"in t)||!t.abi?s:vn({abi:t.abi,logs:s,strict:n})}async function Rt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ia(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:a,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(typeof d<"u"?d:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const y=l??!1,h=_(["watchContractEvent",r,s,o,e.uid,a,f,y,i]);return fe(h,{onLogs:u,onError:c},g=>{let w;i!==void 0&&(w=i-1n);let E,A=!1;const v=ht(async()=>{var P;if(!A){try{E=await N(e,Ar,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:y,fromBlock:i})}catch{}A=!0;return}try{let x;if(E)x=await N(e,Nt,"getFilterChanges")({filter:E});else{const T=await N(e,yt,"getBlockNumber")({});w&&w!==T?x=await N(e,zr,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:w+1n,toBlock:T,strict:y}):x=[],w=T}if(x.length===0)return;if(o)g.onLogs(x);else for(const T of x)g.onLogs([T])}catch(x){E&&x instanceof Pe&&(A=!1),(P=g.onError)==null||P.call(g,x)}},{emitOnBegin:!0,interval:f});return async()=>{E&&await N(e,Rt,"uninstallFilter")({filter:E}),v()}})})():(()=>{const y=l??!1,h=_(["watchContractEvent",r,s,o,e.uid,a,f,y]);let g=!0,w=()=>g=!1;return fe(h,{onLogs:u,onError:c},E=>((async()=>{try{const A=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(T=>T.config.type==="webSocket");return x?x.value:e.transport}return e.transport})(),v=a?bt({abi:n,eventName:a,args:s}):[],{unsubscribe:P}=await A.subscribe({params:["logs",{address:r,topics:v}],onData(x){var S;if(!g)return;const T=x.result;try{const{eventName:k,args:C}=wn({abi:n,data:T.data,topics:T.topics,strict:l}),$=Ee(T,{args:C,eventName:k});E.onLogs([$])}catch(k){let C,$;if(k instanceof Ve||k instanceof Ot){if(l)return;C=k.abiItem.name,$=(S=k.abiItem.inputs)==null?void 0:S.some(B=>!("name"in B&&B.name))}const G=Ee(T,{args:$?[]:{},eventName:C});E.onLogs([G])}},onError(x){var T;(T=E.onError)==null||T.call(E,x)}});w=P,g||w()}catch(A){c==null||c(A)}})(),()=>w()))})()}async function ca(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Qt=256;let wt=Qt,vt;function ua(e=11){if(!vt||wt+e>Qt*2){vt="",wt=0;for(let t=0;t<Qt;t++)vt+=(256+Math.random()*256|0).toString(16).substring(1)}return vt.substring(wt,wt+++e)}function fa(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:a=4e3,type:i="base"}=e,c=e.chain,u=e.account?de(e.account):void 0,{config:d,request:f,value:l}=e.transport({chain:c,pollingInterval:a}),m={...d,...l},p={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:a,request:f,transport:m,type:i,uid:ua()};function b(y){return h=>{const g=h(y);for(const E in p)delete g[E];const w={...y,...g};return Object.assign(w,{extend:b(w)})}}return Object.assign(p,{extend:b(p)})}function en(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:i=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:i,error:u}):t;d&&await Xt(d),a({count:i+1})};try{const u=await e();s(u)}catch(u){if(i<n&&await r({count:i,error:u}))return c({error:u});o(u)}};a()})}function da(e,t={}){return async(n,r={})=>{const{retryDelay:s=150,retryCount:o=3}={...t,...r};return en(async()=>{try{return await e(n)}catch(a){const i=a;switch(i.code){case We.code:throw new We(i);case Ye.code:throw new Ye(i);case Je.code:throw new Je(i);case Ke.code:throw new Ke(i);case xe.code:throw new xe(i);case Pe.code:throw new Pe(i);case Xe.code:throw new Xe(i);case Qe.code:throw new Qe(i);case et.code:throw new et(i);case tt.code:throw new tt(i);case $e.code:throw new $e(i);case nt.code:throw new nt(i);case ke.code:throw new ke(i);case rt.code:throw new rt(i);case st.code:throw new st(i);case ot.code:throw new ot(i);case at.code:throw new at(i);case it.code:throw new it(i);case 5e3:throw new ke(i);default:throw a instanceof O?a:new jo(i)}}},{delay:({count:a,error:i})=>{var c;if(i&&i instanceof ge){const u=(c=i==null?void 0:i.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return Number.parseInt(u)*1e3}return~~(1<<a)*s},retryCount:o,shouldRetry:({error:a})=>la(a)})}}function la(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===$e.code||e.code===xe.code:e instanceof ge&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ba({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:a},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:a},request:da(n,{retryCount:r,retryDelay:s}),value:i}}class pa extends O{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function ha(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let a;try{const i=new AbortController;n>0&&(a=setTimeout(()=>{r&&i.abort()},n)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function ya(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const or=ya();function ma(e,t={}){return{async request(n){var f;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:d}=i;try{const l=await ha(async({signal:p})=>{const b={...i,body:Array.isArray(r)?_(r.map(g=>({jsonrpc:"2.0",id:g.id??or.take(),...g}))):_({jsonrpc:"2.0",id:r.id??or.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:d||(a>0?p:null)},y=new Request(e,b);return s&&await s(y),await fetch(e,b)},{errorInstance:new Qn({body:r,url:e}),timeout:a,signal:!0});o&&await o(l);let m;if((f=l.headers.get("Content-Type"))!=null&&f.startsWith("application/json")?m=await l.json():(m=await l.text(),m=JSON.parse(m||"{}")),!l.ok)throw new ge({body:r,details:_(m.error)||l.statusText,headers:l.headers,status:l.status,url:e});return m}catch(l){throw l instanceof ge||l instanceof Qn?l:new ge({body:r,details:l.message,url:e})}}}}function lc(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:i,retryDelay:c}=t;return({chain:u,retryCount:d,timeout:f})=>{const{batchSize:l=1e3,wait:m=0}=typeof n=="object"?n:{},p=t.retryCount??d,b=f??t.timeout??1e4,y=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!y)throw new pa;const h=ma(y,{fetchOptions:r,onRequest:a,onResponse:i,timeout:b});return ba({key:s,name:o,async request({method:g,params:w}){const E={method:g,params:w},{schedule:A}=Dr({id:y,wait:m,shouldSplitBatch(T){return T.length>l},fn:T=>h.request({body:T}),sort:(T,S)=>T.id-S.id}),v=async T=>n?A(T):[await h.request({body:T})],[{error:P,result:x}]=await v(E);if(P)throw new kr({body:E,error:P,url:y});return x},retryCount:p,retryDelay:c,timeout:b,type:"http"},{fetchOptions:r,url:y})}}function xn(e,t){var r,s,o,a,i,c;if(!(e instanceof O))return!1;const n=e.walk(u=>u instanceof Yt);return n instanceof Yt?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((a=n.data)==null?void 0:a.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Tr[50]):!1}function Hr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Re(t)?t:null}function Et(e){let t=new Uint8Array(32).fill(0);if(!e)return Q(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Hr(n[r]),o=s?Ne(s):W(ye(n[r]),"bytes");t=W(ee([t,o]),"bytes")}return Q(t)}function ga(e){return`[${e.slice(2)}]`}function wa(e){const t=new Uint8Array(32).fill(0);return e?Hr(e)||W(ye(e)):Q(t)}function $t(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ye(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let a=ye(s[o]);a.byteLength>255&&(a=ye(ga(wa(s[o])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function va(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=_e({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=Be({abi:rr,functionName:"addr",...r!=null?{args:[Et(s),BigInt(r)]}:{args:[Et(s)]}}),d={address:c,abi:_r,functionName:"resolve",args:[qe($t(s)),u],blockNumber:t,blockTag:n},f=N(e,ue,"readContract"),l=o?await f({...d,args:[...d.args,o]}):await f(d);if(l[0]==="0x")return null;const m=Le({abi:rr,args:r!=null?[Et(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return m==="0x"||At(m)==="0x00"?null:m}catch(u){if(a)throw u;if(xn(u,"resolve"))return null;throw u}}class Ea extends O{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ge extends O{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Pn extends O{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class xa extends O{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Pa=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ba=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Aa=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ta=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ia(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function ar(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Gr({uri:e,gatewayUrls:t}){const n=Aa.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=ar(t==null?void 0:t.ipfs,"https://ipfs.io"),s=ar(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Pa),{protocol:a,subpath:i,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=a==="ipns:/"||i==="ipns/",f=a==="ipfs:/"||i==="ipfs/"||Ba.test(e);if(e.startsWith("http")&&!d&&!f){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(Ta,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Pn({uri:e})}function Ur(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ea({data:e});return e.image||e.image_url||e.image_data}async function Oa({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Bn({gatewayUrls:e,uri:Ur(n)})}catch{throw new Pn({uri:t})}}async function Bn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Gr({uri:t,gatewayUrls:e});if(r||await Ia(n))return n;throw new Pn({uri:t})}function Sa(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,a]=n.split(":"),[i,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new Ge({reason:"Only EIP-155 supported"});if(!a)throw new Ge({reason:"Chain ID not found"});if(!c)throw new Ge({reason:"Contract address not found"});if(!s)throw new Ge({reason:"Token ID not found"});if(!i)throw new Ge({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function ka(e,{nft:t}){if(t.namespace==="erc721")return ue(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ue(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new xa({namespace:t.namespace})}async function Na(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Ra(e,{gatewayUrls:t,record:n}):Bn({uri:n,gatewayUrls:t})}async function Ra(e,{gatewayUrls:t,record:n}){const r=Sa(n),s=await ka(e,{nft:r}),{uri:o,isOnChain:a,isEncoded:i}=Gr({uri:s,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=i?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return Bn({uri:Ur(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Oa({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Vr(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=_e({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:_r,functionName:"resolve",args:[qe($t(r)),Be({abi:nr,functionName:"text",args:[Et(r),s]})],blockNumber:t,blockTag:n},d=N(e,ue,"readContract"),f=o?await d({...u,args:[...u.args,o]}):await d(u);if(f[0]==="0x")return null;const l=Le({abi:nr,functionName:"text",data:f[0]});return l===""?null:l}catch(u){if(a)throw u;if(xn(u,"resolve"))return null;throw u}}async function $a(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){const c=await N(e,Vr,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!c)return null;try{return await Na(e,{record:c,gatewayUrls:r})}catch{return null}}async function Ca(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=_e({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:Zo,functionName:"reverse",args:[qe($t(c))],blockNumber:n,blockTag:r},d=N(e,ue,"readContract"),[f,l]=s?await d({...u,args:[...u.args,s]}):await d(u);return t.toLowerCase()!==l.toLowerCase()?null:f}catch(u){if(o)throw u;if(xn(u,"reverse"))return null;throw u}}async function ja(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=_e({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await N(e,ue,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[qe($t(r))],blockNumber:t,blockTag:n});return a}async function Fa(e){const t=St(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Zr(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:a,toBlock:i}={}){const c=s??(r?[r]:void 0),u=St(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(l=>bt({abi:[l],eventName:l.name,args:n}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?j(o):o,toBlock:typeof i=="bigint"?j(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:f,request:u(f),strict:!!a,toBlock:i,type:"event"}}async function Wr(e){const t=St(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function qa(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?j(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Ma(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function za(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?j(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),ft(o)}async function La(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?j(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]});if(o!=="0x")return o}function _a(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Da(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?j(n):void 0,a=await e.request({method:"eth_feeHistory",params:[j(t),o||r,s]});return _a(a)}async function Ha(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Ee(o));return t.abi?vn({abi:t.abi,logs:s,strict:n}):s}class Ga extends O{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:a}){var i;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(i=n.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(c=>`    ${dt(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class Ua extends O{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${dt(n)}`,`Response: ${_(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class Va extends O{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function Yr(e,t){if(!te(e,{strict:!1}))throw new ve({address:e});if(!te(t,{strict:!1}))throw new ve({address:t});return e.toLowerCase()===t.toLowerCase()}const Za="0x556f1830",Jr={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Wa(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=Ir({data:r,abi:[Jr]}),[a,i,c,u,d]=o,{ccipRead:f}=e,l=f&&typeof(f==null?void 0:f.request)=="function"?f.request:Kr;try{if(!Yr(s,a))throw new Va({sender:a,to:s});const m=await l({data:c,sender:a,urls:i}),{data:p}=await pt(e,{blockNumber:t,blockTag:n,data:ee([u,Me([{type:"bytes"},{type:"bytes"}],[m,d])]),to:s});return p}catch(m){throw new Ga({callbackSelector:u,cause:m,data:r,extraData:d,sender:a,urls:i})}}async function Kr({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const a=n[o],i=a.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0;try{const u=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:i});let d;if((s=u.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await u.json()).data:d=await u.text(),!u.ok){r=new ge({body:c,details:d!=null&&d.error?_(d.error):u.statusText,headers:u.headers,status:u.status,url:a});continue}if(!Re(d)){r=new Ua({result:d,url:a});continue}return d}catch(u){r=new ge({body:c,details:u.message,url:a})}}throw r}const Ya=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Kr,offchainLookup:Wa,offchainLookupAbiItem:Jr,offchainLookupSignature:Za},Symbol.toStringTag,{value:"Module"}));function bc({chains:e,id:t}){return e.find(n=>n.id===t)}const Ja=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ka=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Xa(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:ri({domain:t}),...e.types};ni({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Qa({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Xr({data:n,primaryType:r,types:s})),W(ee(o))}function Qa({domain:e,types:t}){return Xr({data:e,primaryType:"EIP712Domain",types:t})}function Xr({data:e,primaryType:t,types:n}){const r=Qr({data:e,primaryType:t,types:n});return W(r)}function Qr({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[ei({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=ts({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(a),s.push(i)}return Me(r,s)}function ei({primaryType:e,types:t}){const n=qe(ti({primaryType:e,types:t}));return W(n)}function ti({primaryType:e,types:t}){let n="";const r=es({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function es({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])es({primaryType:o.type,types:t},n);return n}function ts({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},W(Qr({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},W(r)];if(n==="string")return[{type:"bytes32"},W(qe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(a=>ts({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},W(Me(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},r]}function ni(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,i)=>{for(const c of a){const{name:u,type:d}=c,f=i[u],l=d.match(Ka);if(l&&(typeof f=="number"||typeof f=="bigint")){const[b,y,h]=l;j(f,{signed:y==="int",size:Number.parseInt(h)/8})}if(d==="address"&&typeof f=="string"&&!te(f))throw new ve({address:f});const m=d.match(Ja);if(m){const[b,y]=m;if(y&&Z(f)!==Number.parseInt(y))throw new Ks({expectedSize:Number.parseInt(y),givenSize:Z(f)})}const p=s[d];p&&o(p,f)}};if(s.EIP712Domain&&t&&o(s.EIP712Domain,t),r!=="EIP712Domain"){const a=s[r];o(a,n)}}function ri({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Lt="/docs/contract/encodeDeployData";function si(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new Gs({docsPath:Lt});if(!("inputs"in s))throw new Vn({docsPath:Lt});if(!s.inputs||s.inputs.length===0)throw new Vn({docsPath:Lt});const o=Me(s.inputs,n);return pr([r,o])}const oi=`Ethereum Signed Message:
`;function ns(e,t){const n=typeof e=="string"?ye(e):e.raw instanceof Uint8Array?e.raw:Ne(e.raw),r=ye(`${oi}${n.length}`);return W(ee([r,n]),t)}function ai(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function ii(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ft(e.nonce):void 0,storageProof:e.storageProof?ai(e.storageProof):void 0}}async function ci(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",a=n!==void 0?j(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,a||o]});return ii(i)}async function ui(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?j(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function An(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var d,f,l;const a=r||"latest",i=n!==void 0?j(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,j(o)]}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,j(o)]}),!c)throw new gr({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(((l=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:l.format)||Ns)(c)}async function fi(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([N(e,yt,"getBlockNumber")({}),t?N(e,An,"getBlockNumber")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function tn(e,{hash:t}){var s,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new wr({hash:t});return(((a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||Rs)(n)}async function di(e,t){var y;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:a,stateOverride:i}=t,c=t.contracts,u=r??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=a;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=_e({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=[[]];let l=0,m=0;for(let h=0;h<c.length;h++){const{abi:g,address:w,args:E,functionName:A}=c[h];try{const v=Be({abi:g,args:E,functionName:A});m+=(v.length-2)/2,u>0&&m>u&&f[l].length>0&&(l++,m=(v.length-2)/2,f[l]=[]),f[l]=[...f[l],{allowFailure:!0,callData:v,target:w}]}catch(v){const P=ct(v,{abi:g,address:w,args:E,docsPath:"/docs/contract/multicall",functionName:A});if(!n)throw P;f[l]=[...f[l],{allowFailure:!0,callData:"0x",target:w}]}}const p=await Promise.allSettled(f.map(h=>N(e,ue,"readContract")({abi:Kt,address:d,args:[h],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:i}))),b=[];for(let h=0;h<p.length;h++){const g=p[h];if(g.status==="rejected"){if(!n)throw g.reason;for(let E=0;E<f[h].length;E++)b.push({status:"failure",error:g.reason,result:void 0});continue}const w=g.value;for(let E=0;E<w.length;E++){const{returnData:A,success:v}=w[E],{callData:P}=f[h][E],{abi:x,address:T,functionName:S,args:k}=c[b.length];try{if(P==="0x")throw new It;if(!v)throw new pn({data:A});const C=Le({abi:x,args:k,data:A,functionName:S});b.push(n?{result:C,status:"success"}:C)}catch(C){const $=ct(C,{abi:x,address:T,args:k,docsPath:"/docs/contract/multicall",functionName:S});if(!n)throw $;b.push({error:$,result:void 0,status:"failure"})}}}if(b.length!==c.length)throw new O("multicall results mismatch");return b}const li="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rs=BigInt(0),Ct=BigInt(1),bi=BigInt(2),jt=e=>e instanceof Uint8Array,pi=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ce(e){if(!jt(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=pi[e[n]];return t}function ss(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Tn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function je(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,o=e.slice(s,s+2),a=Number.parseInt(o,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function we(e){return Tn(Ce(e))}function In(e){if(!jt(e))throw new Error("Uint8Array expected");return Tn(Ce(Uint8Array.from(e).reverse()))}function Fe(e,t){return je(e.toString(16).padStart(t*2,"0"))}function On(e,t){return Fe(e,t).reverse()}function hi(e){return je(ss(e))}function X(e,t,n){let r;if(typeof t=="string")try{r=je(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(jt(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function ut(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!jt(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function os(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yi(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function mi(e){let t;for(t=0;e>rs;e>>=Ct,t+=1);return t}function gi(e,t){return e>>BigInt(t)&Ct}const wi=(e,t,n)=>e|(n?Ct:rs)<<BigInt(t),Sn=e=>(bi<<BigInt(e-1))-Ct,_t=e=>new Uint8Array(e),ir=e=>Uint8Array.from(e);function as(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=_t(e),s=_t(e),o=0;const a=()=>{r.fill(1),s.fill(0),o=0},i=(...f)=>n(s,r,...f),c=(f=_t())=>{s=i(ir([0]),f),r=i(),f.length!==0&&(s=i(ir([1]),f),r=i())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const l=[];for(;f<t;){r=i();const m=r.slice();l.push(m),f+=r.length}return ut(...l)};return(f,l)=>{a(),c(f);let m;for(;!(m=l(u()));)c();return a(),m}}const vi={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function mt(e,t,n={}){const r=(s,o,a)=>{const i=vi[o];if(typeof i!="function")throw new Error(`Invalid validator "${o}", expected function`);const c=e[s];if(!(a&&c===void 0)&&!i(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const Ei=Object.freeze(Object.defineProperty({__proto__:null,bitGet:gi,bitLen:mi,bitMask:Sn,bitSet:wi,bytesToHex:Ce,bytesToNumberBE:we,bytesToNumberLE:In,concatBytes:ut,createHmacDrbg:as,ensureBytes:X,equalBytes:os,hexToBytes:je,hexToNumber:Tn,numberToBytesBE:Fe,numberToBytesLE:On,numberToHexUnpadded:ss,numberToVarBytesBE:hi,utf8ToBytes:yi,validateObject:mt},Symbol.toStringTag,{value:"Module"}));function xi(e,t){const n=Re(e)?Ne(e):e,r=Re(t)?Ne(t):t;return os(n,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L=BigInt(0),M=BigInt(1),be=BigInt(2),Pi=BigInt(3),nn=BigInt(4),cr=BigInt(5),ur=BigInt(8);BigInt(9);BigInt(16);function D(e,t){const n=e%t;return n>=L?n:t+n}function Bi(e,t,n){if(n<=L||t<L)throw new Error("Expected power/modulo > 0");if(n===M)return L;let r=M;for(;t>L;)t&M&&(r=r*e%n),e=e*e%n,t>>=M;return r}function Y(e,t,n){let r=e;for(;t-- >L;)r*=r,r%=n;return r}function rn(e,t){if(e===L||t<=L)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=D(e,t),r=t,s=L,o=M;for(;n!==L;){const i=r/n,c=r%n,u=s-o*i;r=n,n=c,s=o,o=u}if(r!==M)throw new Error("invert: does not exist");return D(s,t)}function Ai(e){const t=(e-M)/be;let n,r,s;for(n=e-M,r=0;n%be===L;n/=be,r++);for(s=be;s<e&&Bi(s,t,e)!==e-M;s++);if(r===1){const a=(e+M)/nn;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const o=(n+M)/be;return function(i,c){if(i.pow(c,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let u=r,d=i.pow(i.mul(i.ONE,s),n),f=i.pow(c,o),l=i.pow(c,n);for(;!i.eql(l,i.ONE);){if(i.eql(l,i.ZERO))return i.ZERO;let m=1;for(let b=i.sqr(l);m<u&&!i.eql(b,i.ONE);m++)b=i.sqr(b);const p=i.pow(d,M<<BigInt(u-m-1));d=i.sqr(p),f=i.mul(f,p),l=i.mul(l,d),u=m}return f}}function Ti(e){if(e%nn===Pi){const t=(e+M)/nn;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%ur===cr){const t=(e-cr)/ur;return function(r,s){const o=r.mul(s,be),a=r.pow(o,t),i=r.mul(s,a),c=r.mul(r.mul(i,be),a),u=r.mul(i,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Ai(e)}const Ii=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oi(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ii.reduce((r,s)=>(r[s]="function",r),t);return mt(e,n)}function Si(e,t,n){if(n<L)throw new Error("Expected power > 0");if(n===L)return e.ONE;if(n===M)return t;let r=e.ONE,s=t;for(;n>L;)n&M&&(r=e.mul(r,s)),s=e.sqr(s),n>>=M;return r}function ki(e,t){const n=new Array(t.length),r=t.reduce((o,a,i)=>e.is0(a)?o:(n[i]=o,e.mul(o,a)),e.ONE),s=e.inv(r);return t.reduceRight((o,a,i)=>e.is0(a)?o:(n[i]=e.mul(o,n[i]),e.mul(o,a)),s),n}function is(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ni(e,t,n=!1,r={}){if(e<=L)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=is(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Ti(e),i=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:Sn(s),ZERO:L,ONE:M,create:c=>D(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return L<=c&&c<e},is0:c=>c===L,isOdd:c=>(c&M)===M,neg:c=>D(-c,e),eql:(c,u)=>c===u,sqr:c=>D(c*c,e),add:(c,u)=>D(c+u,e),sub:(c,u)=>D(c-u,e),mul:(c,u)=>D(c*u,e),pow:(c,u)=>Si(i,c,u),div:(c,u)=>D(c*rn(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>rn(c,e),sqrt:r.sqrt||(c=>a(i,c)),invertBatch:c=>ki(i,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?On(c,o):Fe(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?In(c):we(c)}});return Object.freeze(i)}function cs(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function us(e){const t=cs(e);return t+Math.ceil(t/2)}function Ri(e,t,n=!1){const r=e.length,s=cs(t),o=us(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=n?we(e):In(e),i=D(a,t-M)+M;return n?On(i,s):Fe(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $i=BigInt(0),Dt=BigInt(1);function Ci(e,t){const n=(s,o)=>{const a=o.negate();return s?a:o},r=s=>{const o=Math.ceil(t/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,o){let a=e.ZERO,i=s;for(;o>$i;)o&Dt&&(a=a.add(i)),i=i.double(),o>>=Dt;return a},precomputeWindow(s,o){const{windows:a,windowSize:i}=r(o),c=[];let u=s,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let l=1;l<i;l++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(s,o,a){const{windows:i,windowSize:c}=r(s);let u=e.ZERO,d=e.BASE;const f=BigInt(2**s-1),l=2**s,m=BigInt(s);for(let p=0;p<i;p++){const b=p*c;let y=Number(a&f);a>>=m,y>c&&(y-=l,a+=Dt);const h=b,g=b+Math.abs(y)-1,w=p%2!==0,E=y<0;y===0?d=d.add(n(w,o[h])):u=u.add(n(E,o[g]))}return{p:u,f:d}},wNAFCached(s,o,a,i){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&o.set(s,i(u))),this.wNAF(c,u,a)}}}function fs(e){return Oi(e.Fp),mt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...is(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ji(e){const t=fs(e);mt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Fi,hexToBytes:qi}=Ei,pe={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=pe;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Fi(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=pe,n=typeof e=="string"?qi(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:o}=pe._parseInt(n.subarray(2)),{d:a,l:i}=pe._parseInt(o);if(i.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=t(n(e.s)),s=t(n(e.r)),o=r.length/2,a=s.length/2,i=n(o),c=n(a);return`30${n(a+o+4)}02${c}${s}02${i}${r}`}},ne=BigInt(0),J=BigInt(1);BigInt(2);const fr=BigInt(3);BigInt(4);function Mi(e){const t=ji(e),{Fp:n}=t,r=t.toBytes||((p,b,y)=>{const h=b.toAffine();return ut(Uint8Array.from([4]),n.toBytes(h.x),n.toBytes(h.y))}),s=t.fromBytes||(p=>{const b=p.subarray(1),y=n.fromBytes(b.subarray(0,n.BYTES)),h=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:y,y:h}});function o(p){const{a:b,b:y}=t,h=n.sqr(p),g=n.mul(h,p);return n.add(n.add(g,n.mul(p,b)),y)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return typeof p=="bigint"&&ne<p&&p<t.n}function i(p){if(!a(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:b,nByteLength:y,wrapPrivateKey:h,n:g}=t;if(b&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=Ce(p)),typeof p!="string"||!b.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let w;try{w=typeof p=="bigint"?p:we(X("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return h&&(w=D(w,g)),i(w),w}const u=new Map;function d(p){if(!(p instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(b,y,h){if(this.px=b,this.py=y,this.pz=h,b==null||!n.isValid(b))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(h==null||!n.isValid(h))throw new Error("z required")}static fromAffine(b){const{x:y,y:h}=b||{};if(!b||!n.isValid(y)||!n.isValid(h))throw new Error("invalid affine point");if(b instanceof f)throw new Error("projective point not allowed");const g=w=>n.eql(w,n.ZERO);return g(y)&&g(h)?f.ZERO:new f(y,h,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const y=n.invertBatch(b.map(h=>h.pz));return b.map((h,g)=>h.toAffine(y[g])).map(f.fromAffine)}static fromHex(b){const y=f.fromAffine(s(X("pointHex",b)));return y.assertValidity(),y}static fromPrivateKey(b){return f.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y}=this.toAffine();if(!n.isValid(b)||!n.isValid(y))throw new Error("bad point: x or y not FE");const h=n.sqr(y),g=o(b);if(!n.eql(h,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){d(b);const{px:y,py:h,pz:g}=this,{px:w,py:E,pz:A}=b,v=n.eql(n.mul(y,A),n.mul(w,g)),P=n.eql(n.mul(h,A),n.mul(E,g));return v&&P}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:y}=t,h=n.mul(y,fr),{px:g,py:w,pz:E}=this;let A=n.ZERO,v=n.ZERO,P=n.ZERO,x=n.mul(g,g),T=n.mul(w,w),S=n.mul(E,E),k=n.mul(g,w);return k=n.add(k,k),P=n.mul(g,E),P=n.add(P,P),A=n.mul(b,P),v=n.mul(h,S),v=n.add(A,v),A=n.sub(T,v),v=n.add(T,v),v=n.mul(A,v),A=n.mul(k,A),P=n.mul(h,P),S=n.mul(b,S),k=n.sub(x,S),k=n.mul(b,k),k=n.add(k,P),P=n.add(x,x),x=n.add(P,x),x=n.add(x,S),x=n.mul(x,k),v=n.add(v,x),S=n.mul(w,E),S=n.add(S,S),x=n.mul(S,k),A=n.sub(A,x),P=n.mul(S,T),P=n.add(P,P),P=n.add(P,P),new f(A,v,P)}add(b){d(b);const{px:y,py:h,pz:g}=this,{px:w,py:E,pz:A}=b;let v=n.ZERO,P=n.ZERO,x=n.ZERO;const T=t.a,S=n.mul(t.b,fr);let k=n.mul(y,w),C=n.mul(h,E),$=n.mul(g,A),G=n.add(y,h),B=n.add(w,E);G=n.mul(G,B),B=n.add(k,C),G=n.sub(G,B),B=n.add(y,g);let I=n.add(w,A);return B=n.mul(B,I),I=n.add(k,$),B=n.sub(B,I),I=n.add(h,g),v=n.add(E,A),I=n.mul(I,v),v=n.add(C,$),I=n.sub(I,v),x=n.mul(T,B),v=n.mul(S,$),x=n.add(v,x),v=n.sub(C,x),x=n.add(C,x),P=n.mul(v,x),C=n.add(k,k),C=n.add(C,k),$=n.mul(T,$),B=n.mul(S,B),C=n.add(C,$),$=n.sub(k,$),$=n.mul(T,$),B=n.add(B,$),k=n.mul(C,B),P=n.add(P,k),k=n.mul(I,B),v=n.mul(G,v),v=n.sub(v,k),k=n.mul(G,C),x=n.mul(I,x),x=n.add(x,k),new f(v,P,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(f.ZERO)}wNAF(b){return m.wNAFCached(this,u,b,y=>{const h=n.invertBatch(y.map(g=>g.pz));return y.map((g,w)=>g.toAffine(h[w])).map(f.fromAffine)})}multiplyUnsafe(b){const y=f.ZERO;if(b===ne)return y;if(i(b),b===J)return this;const{endo:h}=t;if(!h)return m.unsafeLadder(this,b);let{k1neg:g,k1:w,k2neg:E,k2:A}=h.splitScalar(b),v=y,P=y,x=this;for(;w>ne||A>ne;)w&J&&(v=v.add(x)),A&J&&(P=P.add(x)),x=x.double(),w>>=J,A>>=J;return g&&(v=v.negate()),E&&(P=P.negate()),P=new f(n.mul(P.px,h.beta),P.py,P.pz),v.add(P)}multiply(b){i(b);let y=b,h,g;const{endo:w}=t;if(w){const{k1neg:E,k1:A,k2neg:v,k2:P}=w.splitScalar(y);let{p:x,f:T}=this.wNAF(A),{p:S,f:k}=this.wNAF(P);x=m.constTimeNegate(E,x),S=m.constTimeNegate(v,S),S=new f(n.mul(S.px,w.beta),S.py,S.pz),h=x.add(S),g=T.add(k)}else{const{p:E,f:A}=this.wNAF(y);h=E,g=A}return f.normalizeZ([h,g])[0]}multiplyAndAddUnsafe(b,y,h){const g=f.BASE,w=(A,v)=>v===ne||v===J||!A.equals(g)?A.multiplyUnsafe(v):A.multiply(v),E=w(this,y).add(w(b,h));return E.is0()?void 0:E}toAffine(b){const{px:y,py:h,pz:g}=this,w=this.is0();b==null&&(b=w?n.ONE:n.inv(g));const E=n.mul(y,b),A=n.mul(h,b),v=n.mul(g,b);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(v,n.ONE))throw new Error("invZ was invalid");return{x:E,y:A}}isTorsionFree(){const{h:b,isTorsionFree:y}=t;if(b===J)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:y}=t;return b===J?this:y?y(f,this):this.multiplyUnsafe(t.h)}toRawBytes(b=!0){return this.assertValidity(),r(f,this,b)}toHex(b=!0){return Ce(this.toRawBytes(b))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const l=t.nBitLength,m=Ci(f,t.endo?Math.ceil(l/2):l);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function zi(e){const t=fs(e);return mt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Li(e){const t=zi(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function a(B){return ne<B&&B<n.ORDER}function i(B){return D(B,r)}function c(B){return rn(B,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:l}=Mi({...t,toBytes(B,I,R){const q=I.toAffine(),F=n.toBytes(q.x),z=ut;return R?z(Uint8Array.from([I.hasEvenY()?2:3]),F):z(Uint8Array.from([4]),F,n.toBytes(q.y))},fromBytes(B){const I=B.length,R=B[0],q=B.subarray(1);if(I===s&&(R===2||R===3)){const F=we(q);if(!a(F))throw new Error("Point is not on curve");const z=f(F);let U=n.sqrt(z);const V=(U&J)===J;return(R&1)===1!==V&&(U=n.neg(U)),{x:F,y:U}}else if(I===o&&R===4){const F=n.fromBytes(q.subarray(0,n.BYTES)),z=n.fromBytes(q.subarray(n.BYTES,2*n.BYTES));return{x:F,y:z}}else throw new Error(`Point of length ${I} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),m=B=>Ce(Fe(B,t.nByteLength));function p(B){const I=r>>J;return B>I}function b(B){return p(B)?i(-B):B}const y=(B,I,R)=>we(B.slice(I,R));class h{constructor(I,R,q){this.r=I,this.s=R,this.recovery=q,this.assertValidity()}static fromCompact(I){const R=t.nByteLength;return I=X("compactSignature",I,R*2),new h(y(I,0,R),y(I,R,2*R))}static fromDER(I){const{r:R,s:q}=pe.toSig(X("DER",I));return new h(R,q)}assertValidity(){if(!l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new h(this.r,this.s,I)}recoverPublicKey(I){const{r:R,s:q,recovery:F}=this,z=P(X("msgHash",I));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const U=F===2||F===3?R+t.n:R;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=F&1?"03":"02",oe=u.fromHex(V+m(U)),ae=c(U),Ae=i(-z*ae),De=i(q*ae),ie=u.BASE.multiplyAndAddUnsafe(oe,Ae,De);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return je(this.toDERHex())}toDERHex(){return pe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return je(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const g={isValidPrivateKey(B){try{return d(B),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const B=us(t.n);return Ri(t.randomBytes(B),t.n)},precompute(B=8,I=u.BASE){return I._setWindowSize(B),I.multiply(BigInt(3)),I}};function w(B,I=!0){return u.fromPrivateKey(B).toRawBytes(I)}function E(B){const I=B instanceof Uint8Array,R=typeof B=="string",q=(I||R)&&B.length;return I?q===s||q===o:R?q===2*s||q===2*o:B instanceof u}function A(B,I,R=!0){if(E(B))throw new Error("first arg must be private key");if(!E(I))throw new Error("second arg must be public key");return u.fromHex(I).multiply(d(B)).toRawBytes(R)}const v=t.bits2int||function(B){const I=we(B),R=B.length*8-t.nBitLength;return R>0?I>>BigInt(R):I},P=t.bits2int_modN||function(B){return i(v(B))},x=Sn(t.nBitLength);function T(B){if(typeof B!="bigint")throw new Error("bigint expected");if(!(ne<=B&&B<x))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Fe(B,t.nByteLength)}function S(B,I,R=k){if(["recovered","canonical"].some(le=>le in R))throw new Error("sign() legacy options not supported");const{hash:q,randomBytes:F}=t;let{lowS:z,prehash:U,extraEntropy:V}=R;z==null&&(z=!0),B=X("msgHash",B),U&&(B=X("prehashed msgHash",q(B)));const oe=P(B),ae=d(I),Ae=[T(ae),T(oe)];if(V!=null){const le=V===!0?F(n.BYTES):V;Ae.push(X("extraEntropy",le))}const De=ut(...Ae),ie=oe;function Ft(le){const Te=v(le);if(!l(Te))return;const Nn=c(Te),Ie=u.BASE.multiply(Te).toAffine(),K=i(Ie.x);if(K===ne)return;const Oe=i(Nn*i(ie+K*ae));if(Oe===ne)return;let Rn=(Ie.x===K?0:2)|Number(Ie.y&J),$n=Oe;return z&&p(Oe)&&($n=b(Oe),Rn^=1),new h(K,$n,Rn)}return{seed:De,k2sig:Ft}}const k={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function $(B,I,R=k){const{seed:q,k2sig:F}=S(B,I,R),z=t;return as(z.hash.outputLen,z.nByteLength,z.hmac)(q,F)}u.BASE._setWindowSize(8);function G(B,I,R,q=C){var Ie;const F=B;if(I=X("msgHash",I),R=X("publicKey",R),"strict"in q)throw new Error("options.strict was renamed to lowS");const{lowS:z,prehash:U}=q;let V,oe;try{if(typeof F=="string"||F instanceof Uint8Array)try{V=h.fromDER(F)}catch(K){if(!(K instanceof pe.Err))throw K;V=h.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:K,s:Oe}=F;V=new h(K,Oe)}else throw new Error("PARSE");oe=u.fromHex(R)}catch(K){if(K.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(z&&V.hasHighS())return!1;U&&(I=t.hash(I));const{r:ae,s:Ae}=V,De=P(I),ie=c(Ae),Ft=i(De*ie),le=i(ae*ie),Te=(Ie=u.BASE.multiplyAndAddUnsafe(oe,Ft,le))==null?void 0:Ie.toAffine();return Te?i(Te.x)===ae:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:A,sign:$,verify:G,ProjectivePoint:u,Signature:h,utils:g}}class ds extends $s{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Cs(t);const r=js(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return Hn(this),this.iHash.update(t),this}digestInto(t){Hn(this),Fs(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:a,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ls=(e,t,n)=>new ds(e,t).update(n).digest();ls.create=(e,t)=>new ds(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _i(e){return{hash:e,hmac:(t,...n)=>ls(e,t,Ms(...n)),randomBytes:qs}}function Di(e,t){const n=r=>Li({...e,..._i(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hi=BigInt(1),sn=BigInt(2),lr=(e,t)=>(e+t/sn)/t;function Gi(e){const t=bs,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=Y(d,n,t)*d%t,l=Y(f,n,t)*d%t,m=Y(l,sn,t)*u%t,p=Y(m,s,t)*m%t,b=Y(p,o,t)*p%t,y=Y(b,i,t)*b%t,h=Y(y,c,t)*y%t,g=Y(h,i,t)*b%t,w=Y(g,n,t)*d%t,E=Y(w,a,t)*p%t,A=Y(E,r,t)*u%t,v=Y(A,sn,t);if(!on.eql(on.sqr(v),e))throw new Error("Cannot find square root");return v}const on=Ni(bs,void 0,void 0,{sqrt:Gi}),ps=Di({a:BigInt(0),b:BigInt(7),Fp:on,n:dr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=dr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Hi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),i=lr(o*e,t),c=lr(-r*e,t);let u=D(e-i*n-c*s,t),d=D(-i*r-c*o,t);const f=u>a,l=d>a;if(f&&(u=t-u),l&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}}},zs);BigInt(0);ps.ProjectivePoint;function Ui({r:e,s:t,v:n,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new ps.Signature(Ue(e),Ue(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function kn(e,{address:t,hash:n,signature:r,...s}){const o=Re(r)?r:typeof r=="object"&&"r"in r&&"s"in r?Ui(r):Q(r);try{const{data:a}=await N(e,pt,"call")({data:si({abi:Wo,args:[t,n,o],bytecode:li}),...s});return xi(a??"0x0","0x1")}catch(a){if(a instanceof Sr)return!1;throw a}}async function Vi(e,{address:t,message:n,signature:r,...s}){const o=ns(n);return kn(e,{address:t,hash:o,signature:r,...s})}async function Zi(e,t){const{address:n,signature:r,message:s,primaryType:o,types:a,domain:i,...c}=t,u=Xa({message:s,primaryType:o,types:a,domain:i});return kn(e,{address:n,hash:u,signature:r,...c})}function hs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const f=_(["watchBlockNumber",e.uid,t,n,a]);return fe(f,{onBlockNumber:r,onError:s},l=>ht(async()=>{var m;try{const p=await N(e,yt,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)l.onBlockNumber(b,c),c=b}(!c||p>c)&&(l.onBlockNumber(p,c),c=p)}catch(p){(m=l.onError)==null||m.call(l,p)}},{emitOnBegin:t,interval:a}))})():(()=>{const f=_(["watchBlockNumber",e.uid,t,n]);return fe(f,{onBlockNumber:r,onError:s},l=>{let m=!0,p=()=>m=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const h=e.transport.transports.find(g=>g.config.type==="webSocket");return h?h.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(h){var w;if(!m)return;const g=Ue((w=h.result)==null?void 0:w.number);l.onBlockNumber(g,c),c=g},onError(h){var g;(g=l.onError)==null||g.call(l,h)}});p=y,m||p()}catch(b){s==null||s(b)}})(),()=>p()})})()}async function Wi(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:a=({count:c})=>~~(1<<c)*200,timeout:i}){const c=_(["waitForTransactionReceipt",e.uid,n]);let u=0,d,f,l,m=!1;return new Promise((p,b)=>{i&&setTimeout(()=>b(new Gn({hash:n})),i);const y=fe(c,{onReplaced:r,resolve:p,reject:b},h=>{const g=N(e,hs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){const E=v=>{g(),v(),y()};let A=w;if(!m){u>o&&E(()=>h.reject(new Gn({hash:n})));try{if(l){if(t>1&&(!l.blockNumber||A-l.blockNumber+1n<t))return;E(()=>h.resolve(l));return}if(d||(m=!0,await en(async()=>{d=await N(e,An,"getTransaction")({hash:n}),d.blockNumber&&(A=d.blockNumber)},{delay:a,retryCount:o}),m=!1),l=await N(e,tn,"getTransactionReceipt")({hash:n}),t>1&&(!l.blockNumber||A-l.blockNumber+1n<t))return;E(()=>h.resolve(l))}catch(v){if(v instanceof gr||v instanceof wr){if(!d){m=!1;return}try{f=d,m=!0;const P=await en(()=>N(e,ce,"getBlock")({blockNumber:A,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:S})=>S instanceof Cr});m=!1;const x=P.transactions.find(({from:S,nonce:k})=>S===f.from&&k===f.nonce);if(!x||(l=await N(e,tn,"getTransactionReceipt")({hash:x.hash}),t>1&&(!l.blockNumber||A-l.blockNumber+1n<t)))return;let T="replaced";x.to===f.to&&x.value===f.value?T="repriced":x.from===x.to&&x.value===0n&&(T="cancelled"),E(()=>{var S;(S=h.onReplaced)==null||S.call(h,{reason:T,replacedTransaction:f,transaction:x,transactionReceipt:l}),h.resolve(l)})}catch(P){E(()=>h.reject(P))}}else E(()=>h.reject(v))}finally{u++}}}})})})}function Yi(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=a??!1;let f;return u?(()=>{const p=_(["watchBlocks",e.uid,t,n,r,d,c]);return fe(p,{onBlock:s,onError:o},b=>ht(async()=>{var y;try{const h=await N(e,ce,"getBlock")({blockTag:t,includeTransactions:d});if(h.number&&(f!=null&&f.number)){if(h.number===f.number)return;if(h.number-f.number>1&&n)for(let g=(f==null?void 0:f.number)+1n;g<h.number;g++){const w=await N(e,ce,"getBlock")({blockNumber:g,includeTransactions:d});b.onBlock(w,f),f=w}}(!(f!=null&&f.number)||t==="pending"&&!(h!=null&&h.number)||h.number&&h.number>f.number)&&(b.onBlock(h,f),f=h)}catch(h){(y=b.onError)==null||y.call(b,h)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=()=>p=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(w=>w.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:h}=await y.subscribe({params:["newHeads"],onData(g){var A,v,P;if(!p)return;const E=(((P=(v=(A=e.chain)==null?void 0:A.formatters)==null?void 0:v.block)==null?void 0:P.format)||hr)(g.result);s(E,f),f=E},onError(g){o==null||o(g)}});b=h,p||b()}catch(y){o==null||o(y)}})(),()=>b()})()}function Ji(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:a,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:f}){const l=typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),m=f??!1;return l?(()=>{const y=_(["watchEvent",t,n,r,e.uid,s,d,a]);return fe(y,{onLogs:c,onError:i},h=>{let g;a!==void 0&&(g=a-1n);let w,E=!1;const A=ht(async()=>{var v;if(!E){try{w=await N(e,Zr,"createEventFilter")({address:t,args:n,event:s,events:o,strict:m,fromBlock:a})}catch{}E=!0;return}try{let P;if(w)P=await N(e,Nt,"getFilterChanges")({filter:w});else{const x=await N(e,yt,"getBlockNumber")({});g&&g!==x?P=await N(e,En,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:g+1n,toBlock:x}):P=[],g=x}if(P.length===0)return;if(r)h.onLogs(P);else for(const x of P)h.onLogs([x])}catch(P){w&&P instanceof Pe&&(E=!1),(v=h.onError)==null||v.call(h,P)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await N(e,Rt,"uninstallFilter")({filter:w}),A()}})})():(()=>{let y=!0,h=()=>y=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(P=>P.config.type==="webSocket");return v?v.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let E=[];w&&(E=[w.flatMap(v=>bt({abi:[v],eventName:v.name,args:n}))],s&&(E=E[0]));const{unsubscribe:A}=await g.subscribe({params:["logs",{address:t,topics:E}],onData(v){var x;if(!y)return;const P=v.result;try{const{eventName:T,args:S}=wn({abi:w??[],data:P.data,topics:P.topics,strict:m}),k=Ee(P,{args:S,eventName:T});c([k])}catch(T){let S,k;if(T instanceof Ve||T instanceof Ot){if(f)return;S=T.abiItem.name,k=(x=T.abiItem.inputs)==null?void 0:x.some($=>!("name"in $&&$.name))}const C=Ee(P,{args:k?[]:{},eventName:S});c([C])}},onError(v){i==null||i(v)}});h=A,y||h()}catch(g){i==null||i(g)}})(),()=>h()})()}function Ki(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=_(["watchPendingTransactions",e.uid,t,o]);return fe(u,{onTransactions:r,onError:n},d=>{let f;const l=ht(async()=>{var m;try{if(!f)try{f=await N(e,Wr,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const p=await N(e,Nt,"getFilterChanges")({filter:f});if(p.length===0)return;if(t)d.onTransactions(p);else for(const b of p)d.onTransactions([b])}catch(p){(m=d.onError)==null||m.call(d,p)}},{emitOnBegin:!0,interval:o});return async()=>{f&&await N(e,Rt,"uninstallFilter")({filter:f}),l()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const m=l.result;r([m])},onError(l){n==null||n(l)}});d=f,u||d()}catch(f){n==null||n(f)}})(),()=>d()})()}function Xi(e){var f,l,m;const{scheme:t,statement:n,...r}=((f=e.match(Qi))==null?void 0:f.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:i,requestId:c,...u}=((l=e.match(ec))==null?void 0:l.groups)??{},d=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Qi=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ec=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function tc(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:a=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||t&&!Yr(r.address,t))return!1}catch{return!1}return!0}async function nc(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:a,signature:i,time:c=new Date,...u}=t,d=Xi(s);if(!d.address||!tc({address:n,domain:r,message:d,nonce:o,scheme:a,time:c}))return!1;const l=ns(s);return kn(e,{address:d.address,hash:l,signature:i,...u})}function rc(e){return{call:t=>pt(e,t),createBlockFilter:()=>Fa(e),createContractEventFilter:t=>Ar(e,t),createEventFilter:t=>Zr(e,t),createPendingTransactionFilter:()=>Wr(e),estimateContractGas:t=>Uo(e,t),estimateGas:t=>gn(e,t),getBalance:t=>qa(e,t),getBlobBaseFee:()=>Ma(e),getBlock:t=>ce(e,t),getBlockNumber:t=>yt(e,t),getBlockTransactionCount:t=>za(e,t),getBytecode:t=>La(e,t),getChainId:()=>qr(e),getContractEvents:t=>zr(e,t),getEnsAddress:t=>va(e,t),getEnsAvatar:t=>$a(e,t),getEnsName:t=>Ca(e,t),getEnsResolver:t=>ja(e,t),getEnsText:t=>Vr(e,t),getFeeHistory:t=>Da(e,t),estimateFeesPerGas:t=>Ho(e,t),getFilterChanges:t=>Nt(e,t),getFilterLogs:t=>Ha(e,t),getGasPrice:()=>mn(e),getLogs:t=>En(e,t),getProof:t=>ci(e,t),estimateMaxPriorityFeePerGas:t=>Do(e,t),getStorageAt:t=>ui(e,t),getTransaction:t=>An(e,t),getTransactionConfirmations:t=>fi(e,t),getTransactionCount:t=>Fr(e,t),getTransactionReceipt:t=>tn(e,t),multicall:t=>di(e,t),prepareTransactionRequest:t=>Mr(e,t),readContract:t=>ue(e,t),sendRawTransaction:t=>ca(e,t),simulateContract:t=>ea(e,t),verifyMessage:t=>Vi(e,t),verifySiweMessage:t=>nc(e,t),verifyTypedData:t=>Zi(e,t),uninstallFilter:t=>Rt(e,t),waitForTransactionReceipt:t=>Wi(e,t),watchBlocks:t=>Yi(e,t),watchBlockNumber:t=>hs(e,t),watchContractEvent:t=>ia(e,t),watchEvent:t=>Ji(e,t),watchPendingTransactions:t=>Ki(e,t)}}function hc(e){const{key:t="public",name:n="Public Client"}=e;return fa({...e,key:t,name:n,type:"publicClient"}).extend(rc)}export{Gs as AbiConstructorNotFoundError,Vn as AbiConstructorParamsNotFoundError,vr as AbiDecodingDataSizeTooSmallError,It as AbiDecodingZeroDataError,Us as AbiEncodingArrayLengthMismatchError,Vs as AbiEncodingBytesSizeMismatchError,Zs as AbiEncodingLengthMismatchError,Er as AbiErrorSignatureNotFoundError,Zn as AbiEventNotFoundError,Ws as AbiEventSignatureEmptyTopicsError,xr as AbiEventSignatureNotFoundError,Pt as AbiFunctionNotFoundError,Ys as AbiFunctionOutputsNotFoundError,So as AccountStateConflictError,O as BaseError,Lo as BaseFeeScalarError,Cr as BlockNotFoundError,Ks as BytesSizeMismatchError,Sr as CallExecutionError,at as ChainDisconnectedError,Ut as ChainDoesNotSupportContract,mr as ClientChainNotConfiguredError,Ro as ContractFunctionExecutionError,Yt as ContractFunctionRevertedError,$o as ContractFunctionZeroDataError,Ve as DecodeLogDataMismatch,Ot as DecodeLogTopicsMismatch,yn as Eip1559FeesNotSupportedError,Ge as EnsAvatarInvalidNftUriError,xa as EnsAvatarUnsupportedNamespaceError,Pn as EnsAvatarUriResolutionError,qo as EstimateGasExecutionError,gt as ExecutionRevertedError,Ht as FeeCapTooHighError,jn as FeeCapTooLowError,Bs as FeeConflictError,no as FilterTypeNotSupportedError,ge as HttpRequestError,zn as InsufficientFundsError,gc as IntegerOutOfRangeError,xe as InternalRpcError,Ln as IntrinsicGasTooHighError,_n as IntrinsicGasTooLowError,Qs as InvalidAbiDecodingTypeError,Xs as InvalidAbiEncodingTypeError,ve as InvalidAddressError,eo as InvalidArrayError,gs as InvalidBytesBooleanError,Cc as InvalidChainIdError,to as InvalidDefinitionTypeError,wc as InvalidHexBooleanError,Pe as InvalidInputRpcError,jc as InvalidLegacyVError,Ke as InvalidParamsRpcError,Ye as InvalidRequestRpcError,Fc as InvalidSerializableTransactionError,qc as InvalidStorageKeySizeError,nt as JsonRpcVersionUnsupportedError,$e as LimitExceededRpcError,_o as MaxFeePerGasTooLowError,Je as MethodNotFoundRpcError,tt as MethodNotSupportedRpcError,Mn as NonceMaxValueError,Fn as NonceTooHighError,qn as NonceTooLowError,We as ParseRpcError,ot as ProviderDisconnectedError,ze as ProviderRpcError,pn as RawContractError,Xe as ResourceNotFoundRpcError,Qe as ResourceUnavailableRpcError,H as RpcError,kr as RpcRequestError,vc as SizeExceedsPaddingSizeError,Ec as SizeOverflowError,xc as SliceOffsetOutOfBoundsError,ko as StateAssignmentConflictError,it as SwitchChainError,Qn as TimeoutError,Gt as TipAboveFeeCapError,gr as TransactionNotFoundError,wr as TransactionReceiptNotFoundError,et as TransactionRejectedRpcError,Dn as TransactionTypeNotSupportedError,rt as UnauthorizedProviderError,cn as UnknownNodeError,jo as UnknownRpcError,st as UnsupportedProviderMethodError,pa as UrlRequiredError,ke as UserRejectedRequestError,Gn as WaitForTransactionReceiptTimeoutError,hn as assertRequest,Mc as assertTransactionEIP1559,zc as assertTransactionEIP2930,Lc as assertTransactionLegacy,As as blobsToCommitments,Is as blobsToProofs,Pc as boolToBytes,ys as boolToHex,wo as bytesToBigInt,vo as bytesToBool,Q as bytesToHex,re as bytesToNumber,Eo as bytesToString,Kr as ccipFetch,Kr as ccipRequest,xs as checksumAddress,_c as commitmentToVersionedHash,Ts as commitmentsToVersionedHashes,ee as concat,Dc as concatBytes,pr as concatHex,fa as createClient,hc as createPublicClient,ba as createTransport,kt as decodeAbiParameters,Ir as decodeErrorResult,wn as decodeEventLog,Le as decodeFunctionResult,Hc as defineBlock,Gc as defineChain,Uc as defineTransaction,Vc as defineTransactionReceipt,Zc as defineTransactionRequest,Me as encodeAbiParameters,si as encodeDeployData,bt as encodeEventTopics,Be as encodeFunctionData,Bc as etherUnits,bc as extractChain,hr as formatBlock,br as formatEther,me as formatGwei,Ee as formatLog,Ns as formatTransaction,Rs as formatTransactionReceipt,yr as formatTransactionRequest,Ac as formatUnits,Tc as fromHex,lt as getAbiItem,_e as getChainContractAddress,ct as getContractError,un as getEventSelector,ao as getEventSignature,bn as getFunctionSelector,ao as getFunctionSignature,Ss as getTransactionType,ri as getTypesForEIP712Domain,Ic as gweiUnits,Qa as hashDomain,ns as hashMessage,Xa as hashTypedData,Ue as hexToBigInt,Oc as hexToBool,ws as hexToBytes,ft as hexToNumber,Sc as hexToString,lc as http,te as isAddress,Yr as isAddressEqual,Re as isHex,W as keccak256,wa as labelhash,Wc as maxUint16,Kt as multicall3Abi,Et as namehash,kc as numberToBytes,j as numberToHex,Wa as offchainLookup,Jr as offchainLookupAbiItem,Za as offchainLookupSignature,Nc as pad,Rc as padBytes,he as padHex,vn as parseEventLogs,yo as prepareEncodeFunctionData,oi as presignMessagePrefix,rc as publicActions,Yc as rpcTransactionType,Jc as serializeAccessList,Ui as serializeSignature,Kc as serializeTransaction,Xc as sha256,Ui as signatureToHex,Z as size,xt as slice,Ps as sliceBytes,Qc as sliceHex,ye as stringToBytes,ms as stringToHex,_ as stringify,Os as toBlobSidecars,eu as toBlobs,Ne as toBytes,Pr as toEventHash,un as toEventSelector,ao as toEventSignature,Pr as toFunctionHash,bn as toFunctionSelector,ao as toFunctionSignature,qe as toHex,tu as toRlp,nu as transactionType,At as trim,ni as validateTypedData,en as withRetry,ha as withTimeout};
