const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CFTjAhxA.js","assets/index-_b-vxSi4.js"])))=>i.map(i=>d[i]);
var L8e=Object.defineProperty;var _V=t=>{throw TypeError(t)};var D8e=(t,e,r)=>e in t?L8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ue=(t,e,r)=>D8e(t,typeof e!="symbol"?e+"":e,r),KC=(t,e,r)=>e.has(t)||_V("Cannot "+r);var de=(t,e,r)=>(KC(t,e,"read from private field"),r?r.call(t):e.get(t)),ot=(t,e,r)=>e.has(t)?_V("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Me=(t,e,r,n)=>(KC(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),kt=(t,e,r)=>(KC(t,e,"access private method"),r);var BS=(t,e,r,n)=>({set _(i){Me(t,e,i,r)},get _(){return de(t,e,n)}});import{r as B,W as Ct,g as ea,c as Lt,d as Ox,j as $,a as i6,R as F8e,e as $8e}from"./index-_b-vxSi4.js";function Xre(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Qre={exports:{}},Jre={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=B;function U8e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z8e=typeof Object.is=="function"?Object.is:U8e,W8e=Mv.useState,K8e=Mv.useEffect,j8e=Mv.useLayoutEffect,H8e=Mv.useDebugValue;function q8e(t,e){var r=e(),n=W8e({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return j8e(function(){i.value=r,i.getSnapshot=e,jC(i)&&s({inst:i})},[t,r,e]),K8e(function(){return jC(i)&&s({inst:i}),t(function(){jC(i)&&s({inst:i})})},[t]),H8e(r),r}function jC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!z8e(t,r)}catch{return!0}}function V8e(t,e){return e()}var G8e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V8e:q8e;Jre.useSyncExternalStore=Mv.useSyncExternalStore!==void 0?Mv.useSyncExternalStore:G8e;Qre.exports=Jre;var v9=Qre.exports;const Vp=()=>{},ks=Vp(),HC=Object,en=t=>t===ks,vf=t=>typeof t=="function",ll=(t,e)=>({...t,...e}),Y8e=t=>vf(t.then),KE=new WeakMap;let Z8e=0;const yA=t=>{const e=typeof t,r=t&&t.constructor,n=r==Date;let i,s;if(HC(t)===t&&!n&&r!=RegExp){if(i=KE.get(t),i)return i;if(i=++Z8e+"~",KE.set(t,i),r==Array){for(i="@",s=0;s<t.length;s++)i+=yA(t[s])+",";KE.set(t,i)}if(r==HC){i="#";const o=HC.keys(t).sort();for(;!en(s=o.pop());)en(t[s])||(i+=s+":"+yA(t[s])+",");KE.set(t,i)}}else i=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},cf=new WeakMap,qC={},jE={},w9="undefined",s6=typeof window!=w9,CB=typeof document!=w9,X8e=()=>s6&&typeof window.requestAnimationFrame!=w9,$d=(t,e)=>{const r=cf.get(t);return[()=>!en(e)&&t.get(e)||qC,n=>{if(!en(e)){const i=t.get(e);e in jE||(jE[e]=i),r[5](e,ll(i,n),i||qC)}},r[6],()=>!en(e)&&e in jE?jE[e]:!en(e)&&t.get(e)||qC]};let PB=!0;const Q8e=()=>PB,[NB,BB]=s6&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Vp,Vp],J8e=()=>{const t=CB&&document.visibilityState;return en(t)||t!=="hidden"},eCe=t=>(CB&&document.addEventListener("visibilitychange",t),NB("focus",t),()=>{CB&&document.removeEventListener("visibilitychange",t),BB("focus",t)}),tCe=t=>{const e=()=>{PB=!0,t()},r=()=>{PB=!1};return NB("online",e),NB("offline",r),()=>{BB("online",e),BB("offline",r)}},rCe={isOnline:Q8e,isVisible:J8e},nCe={initFocus:eCe,initReconnect:tCe},OB=!Ct.useId,bA=!s6||"Deno"in window,iCe=t=>X8e()?window.requestAnimationFrame(t):setTimeout(t,1),im=bA?B.useEffect:B.useLayoutEffect,VC=typeof navigator<"u"&&navigator.connection,AV=!bA&&VC&&(["slow-2g","2g"].includes(VC.effectiveType)||VC.saveData),Eh=t=>{if(vf(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?yA(t):"",[t,e]};let sCe=0;const vA=()=>++sCe,ene=0,tne=1,rne=2,oCe=3;var OS={__proto__:null,ERROR_REVALIDATE_EVENT:oCe,FOCUS_EVENT:ene,MUTATE_EVENT:rne,RECONNECT_EVENT:tne};async function nne(...t){const[e,r,n,i]=t,s=ll({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const a=s.rollbackOnError;let u=s.optimisticData;const f=s.revalidate!==!1,d=b=>typeof a=="function"?a(b):a!==!1,g=s.throwOnError;if(vf(r)){const b=r,A=[],x=e.keys();for(const k of x)!/^\$(inf|sub)\$/.test(k)&&b(e.get(k)._k)&&A.push(k);return Promise.all(A.map(y))}return y(r);async function y(b){const[A]=Eh(b);if(!A)return;const[x,k]=$d(e,A),[R,C,P,O]=cf.get(e),q=()=>{const p=R[A];return f&&(delete P[A],delete O[A],p&&p[0])?p[0](rne).then(()=>x().data):x().data};if(t.length<3)return q();let Q=n,Y;const X=vA();C[A]=[X,0];const Z=!en(u),le=x(),I=le.data,c=le._c,h=en(c)?I:c;if(Z&&(u=vf(u)?u(h,I):u,k({data:u,_c:h})),vf(Q))try{Q=Q(h)}catch(p){Y=p}if(Q&&Y8e(Q))if(Q=await Q.catch(p=>{Y=p}),X!==C[A][0]){if(Y)throw Y;return Q}else Y&&Z&&d(Y)&&(o=!0,k({data:h,_c:ks}));if(o&&!Y)if(vf(o)){const p=o(Q,h);k({data:p,error:ks,_c:ks})}else k({data:Q,error:ks,_c:ks});if(C[A][1]=vA(),Promise.resolve(q()).then(()=>{k({_c:ks})}),Y){if(g)throw Y;return}return Q}}const xV=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},aCe=(t,e)=>{if(!cf.has(t)){const r=ll(nCe,e),n={},i=nne.bind(ks,t);let s=Vp;const o={},a=(d,g)=>{const y=o[d]||[];return o[d]=y,y.push(g),()=>y.splice(y.indexOf(g),1)},u=(d,g,y)=>{t.set(d,g);const b=o[d];if(b)for(const A of b)A(g,y)},f=()=>{if(!cf.has(t)&&(cf.set(t,[n,{},{},{},i,u,a]),!bA)){const d=r.initFocus(setTimeout.bind(ks,xV.bind(ks,n,ene))),g=r.initReconnect(setTimeout.bind(ks,xV.bind(ks,n,tne)));s=()=>{d&&d(),g&&g(),cf.delete(t)}}};return f(),[t,i,f,s]}return[t,cf.get(t)[4]]},uCe=(t,e,r,n,i)=>{const s=r.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;!en(s)&&o>s||setTimeout(n,a,i)},cCe=(t,e)=>yA(t)==yA(e),[S9,LB]=aCe(new Map),lCe=ll({onLoadingSlow:Vp,onSuccess:Vp,onError:Vp,onErrorRetry:uCe,onDiscarded:Vp,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:AV?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:AV?5e3:3e3,compare:cCe,isPaused:()=>!1,cache:S9,mutate:LB,fallback:{}},rCe),fCe=(t,e)=>{const r=ll(t,e);if(e){const{use:n,fallback:i}=t,{use:s,fallback:o}=e;n&&s&&(r.use=n.concat(s)),i&&o&&(r.fallback=ll(i,o))}return r},dCe=B.createContext({}),_9="$inf$",ine=s6&&window.__SWR_DEVTOOLS_USE__,hCe=ine?window.__SWR_DEVTOOLS_USE__:[],pCe=()=>{ine&&(window.__SWR_DEVTOOLS_REACT__=Ct)},sne=t=>vf(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],one=()=>ll(lCe,B.useContext(dCe)),gCe=t=>(e,r,n)=>t(e,r&&((...s)=>{const[o]=Eh(e),[,,,a]=cf.get(S9);if(o.startsWith(_9))return r(...s);const u=a[o];return en(u)?r(...s):(delete a[o],u)}),n),mCe=hCe.concat(gCe),yCe=t=>function(...r){const n=one(),[i,s,o]=sne(r),a=fCe(n,o);let u=t;const{use:f}=a,d=(f||[]).concat(mCe);for(let g=d.length;g--;)u=d[g](u);return u(i,s||a.fetcher||null,a)},bCe=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}},A9=(t,e)=>(...r)=>{const[n,i,s]=sne(r),o=(s.use||[]).concat(e);return t(n,i,{...s,use:o})};pCe();const d8t=t=>Eh(t)[0],EV=Ct.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),GC={dedupe:!0},vCe=(t,e,r)=>{const{cache:n,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:u,refreshInterval:f,refreshWhenHidden:d,refreshWhenOffline:g,keepPreviousData:y}=r,[b,A,x,k]=cf.get(n),[R,C]=Eh(t),P=B.useRef(!1),O=B.useRef(!1),q=B.useRef(R),Q=B.useRef(e),Y=B.useRef(r),X=()=>Y.current,Z=()=>X().isVisible()&&X().isOnline(),[le,I,c,h]=$d(n,R),p=B.useRef({}).current,m=en(o)?r.fallback[R]:o,v=(V,fe)=>{for(const Te in p){const Re=Te;if(Re==="data"){if(!i(V[Re],fe[Re])&&(!en(V[Re])||!i(D,fe[Re])))return!1}else if(fe[Re]!==V[Re])return!1}return!0},_=B.useMemo(()=>{const V=!R||!e?!1:en(a)?X().isPaused()||s?!1:en(u)?!0:u:a,fe=ce=>{const Oe=ll(ce);return delete Oe._k,V?{isValidating:!0,isLoading:!0,...Oe}:Oe},Te=le(),Re=h(),H=fe(Te),oe=Te===Re?H:fe(Re);let ae=H;return[()=>{const ce=fe(le());return v(ce,ae)?(ae.data=ce.data,ae.isLoading=ce.isLoading,ae.isValidating=ce.isValidating,ae.error=ce.error,ae):(ae=ce,ce)},()=>oe]},[n,R]),T=v9.useSyncExternalStore(B.useCallback(V=>c(R,(fe,Te)=>{v(Te,fe)||V()}),[n,R]),_[0],_[1]),w=!P.current,l=b[R]&&b[R].length>0,S=T.data,N=en(S)?m:S,F=T.error,W=B.useRef(N),D=y?en(S)?W.current:S:N,K=l&&!en(F)?!1:w&&!en(a)?a:X().isPaused()?!1:s?en(N)?!1:u:en(N)||u,z=!!(R&&e&&w&&K),G=en(T.isValidating)?z:T.isValidating,te=en(T.isLoading)?z:T.isLoading,ie=B.useCallback(async V=>{const fe=Q.current;if(!R||!fe||O.current||X().isPaused())return!1;let Te,Re,H=!0;const oe=V||{},ae=!x[R]||!oe.dedupe,ce=()=>OB?!O.current&&R===q.current&&P.current:R===q.current,Oe={isValidating:!1,isLoading:!1},_e=()=>{I(Oe)},Ne=()=>{const ge=x[R];ge&&ge[1]===Re&&delete x[R]},wt={isValidating:!0};en(le().data)&&(wt.isLoading=!0);try{if(ae&&(I(wt),r.loadingTimeout&&en(le().data)&&setTimeout(()=>{H&&ce()&&X().onLoadingSlow(R,r)},r.loadingTimeout),x[R]=[fe(C),vA()]),[Te,Re]=x[R],Te=await Te,ae&&setTimeout(Ne,r.dedupingInterval),!x[R]||x[R][1]!==Re)return ae&&ce()&&X().onDiscarded(R),!1;Oe.error=ks;const ge=A[R];if(!en(ge)&&(Re<=ge[0]||Re<=ge[1]||ge[1]===0))return _e(),ae&&ce()&&X().onDiscarded(R),!1;const ye=le().data;Oe.data=i(ye,Te)?ye:Te,ae&&ce()&&X().onSuccess(Te,R,r)}catch(ge){Ne();const ye=X(),{shouldRetryOnError:Ge}=ye;ye.isPaused()||(Oe.error=ge,ae&&ce()&&(ye.onError(ge,R,ye),(Ge===!0||vf(Ge)&&Ge(ge))&&Z()&&ye.onErrorRetry(ge,R,ye,se=>{const j=b[R];j&&j[0]&&j[0](OS.ERROR_REVALIDATE_EVENT,se)},{retryCount:(oe.retryCount||0)+1,dedupe:!0})))}return H=!1,_e(),!0},[R,n]),J=B.useCallback((...V)=>nne(n,q.current,...V),[]);if(im(()=>{Q.current=e,Y.current=r,en(S)||(W.current=S)}),im(()=>{if(!R)return;const V=ie.bind(ks,GC);let fe=0;const Re=bCe(R,b,(H,oe={})=>{if(H==OS.FOCUS_EVENT){const ae=Date.now();X().revalidateOnFocus&&ae>fe&&Z()&&(fe=ae+X().focusThrottleInterval,V())}else if(H==OS.RECONNECT_EVENT)X().revalidateOnReconnect&&Z()&&V();else{if(H==OS.MUTATE_EVENT)return ie();if(H==OS.ERROR_REVALIDATE_EVENT)return ie(oe)}});return O.current=!1,q.current=R,P.current=!0,I({_k:C}),K&&(en(N)||bA?V():iCe(V)),()=>{O.current=!0,Re()}},[R]),im(()=>{let V;function fe(){const Re=vf(f)?f(le().data):f;Re&&V!==-1&&(V=setTimeout(Te,Re))}function Te(){!le().error&&(d||X().isVisible())&&(g||X().isOnline())?ie(GC).then(fe):fe()}return fe(),()=>{V&&(clearTimeout(V),V=-1)}},[f,d,g,R]),B.useDebugValue(D),s&&en(N)&&R){if(!OB&&bA)throw new Error("Fallback data is required when using suspense in SSR.");Q.current=e,Y.current=r,O.current=!1;const V=k[R];if(!en(V)){const fe=J(V);EV(fe)}if(en(F)){const fe=ie(GC);en(D)||(fe.status="fulfilled",fe.value=!0),EV(fe)}else throw F}return{mutate:J,get data(){return p.data=!0,D},get error(){return p.error=!0,F},get isValidating(){return p.isValidating=!0,G},get isLoading(){return p.isLoading=!0,te}}},_w=yCe(vCe);var wCe=Object.defineProperty,SCe=Object.defineProperties,_Ce=Object.getOwnPropertyDescriptors,kV=Object.getOwnPropertySymbols,ACe=Object.prototype.hasOwnProperty,xCe=Object.prototype.propertyIsEnumerable,TV=(t,e,r)=>e in t?wCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q1=(t,e)=>{for(var r in e||(e={}))ACe.call(e,r)&&TV(t,r,e[r]);if(kV)for(var r of kV(e))xCe.call(e,r)&&TV(t,r,e[r]);return t},y_=(t,e)=>SCe(t,_Ce(e)),o6=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/net"]="2.1.0");var ECe=class extends Error{constructor(e,r){super(e),this.code=r,this.name="ApiError"}};function ane(t,e){return o6(this,null,function*(){if(!t.startsWith("http"))throw new Error("url must start with http(s)");const r=yield fetch(t,y_(q1({},e),{headers:kCe(e.headers,e.method)}));if(r.ok)return yield r.json();try{const n=yield r.json();throw r.status===400?new ECe(n.message||n.code||r.statusText,n.code):new Error(n.message||n.code||r.statusText)}catch(n){throw n}})}function kCe(t={},e){const r=new Headers(t);return r.has("Content-Type")||(e!=="DELETE"?r.append("Content-Type","application/json;charset=utf-8"):r.append("Content-Type","application/x-www-form-urlencoded")),r}function une(t,e,r){return o6(this,null,function*(){const n=yield ane(t,q1({method:"GET"},e));if(n.success)return typeof r=="function"?r(n.data):Array.isArray(n.data.rows)?n.data.rows:n.data;throw new Error(n.message)})}function TCe(t,e){return o6(this,null,function*(){return yield ane(t,e)})}var ICe=class{handle(t,e){throw new Error("Method not implemented.")}},RCe=class extends ICe{handle(t,e){e.send(JSON.stringify({event:"pong",ts:Date.now()}))}},MCe=new Map([["ping",new RCe]]),CCe=t=>t.data,PCe="OqdphuyCtYWxwzhxyLLjOWNdFP7sQt8RPWzmb5xY",IV=1e3*60*2,RV=5,NCe=class{constructor(t){this.options=t,this._eventContainer=new Map,this.publicIsReconnecting=!1,this.privateIsReconnecting=!1,this.reconnectInterval=1e3,this.authenticated=!1,this._pendingPrivateSubscribe=[],this._pendingPublicSubscribe=[],this._eventHandlers=new Map,this._eventPrivateHandlers=new Map,this._publicRetryCount=0,this._privateRetryCount=0,this.send=e=>{typeof e!="string"&&(e=JSON.stringify(e)),!(typeof e>"u")&&(this._publicSocket.readyState===WebSocket.OPEN?this._publicSocket.send(e):console.warn("WebSocket connection is not open. Cannot send message."))},this.createPublicSC(t),t.accountId&&this.createPrivateSC(t),this.bindEvents()}bindEvents(){var t,e;typeof document<"u"&&((t=document.addEventListener)==null||t.call(document,"visibilitychange",this.onVisibilityChange.bind(this))),typeof window<"u"&&((e=window.addEventListener)==null||e.call(window,"online",this.onNetworkStatusChange.bind(this)))}onVisibilityChange(){document.visibilityState==="visible"&&this.checkSocketStatus()}onNetworkStatusChange(){navigator.onLine&&this.checkSocketStatus()}checkSocketStatus(){var t,e;const r=Date.now();document.visibilityState==="visible"&&navigator.onLine&&(this.publicIsReconnecting||(this._publicSocket.readyState===WebSocket.CLOSED?this.reconnectPublic():r-this._publicHeartbeatTime>IV&&this._publicSocket.close()),this.privateIsReconnecting||(((t=this.privateSocket)==null?void 0:t.readyState)===WebSocket.CLOSED?this.reconnectPrivate():this._privateHeartbeatTime&&r-this._privateHeartbeatTime>IV&&((e=this.privateSocket)==null||e.close())))}openPrivate(t){var e;((e=this.privateSocket)==null?void 0:e.readyState)!==WebSocket.OPEN&&this.createPrivateSC(y_(q1({},this.options),{accountId:t}))}closePrivate(t,e){var r,n;((r=this.privateSocket)==null?void 0:r.readyState)===WebSocket.OPEN&&(this.authenticated=!1,this._pendingPrivateSubscribe=[],this._eventPrivateHandlers.clear(),(n=this.privateSocket)==null||n.close(t,e))}createPublicSC(t){this._publicSocket&&this._publicSocket.readyState===WebSocket.OPEN||(this._publicSocket=new WebSocket(`${this.options.publicUrl}/ws/stream/${PCe}`),this._publicSocket.onopen=this.onOpen.bind(this),this._publicSocket.addEventListener("message",this.onPublicMessage.bind(this)),this._publicSocket.addEventListener("close",this.onPublicClose.bind(this)),this._publicSocket.addEventListener("error",this.onPublicError.bind(this)))}createPrivateSC(t){this.privateSocket&&this.privateSocket.readyState===WebSocket.OPEN||(this.options=t,this.privateSocket=new WebSocket(`${this.options.privateUrl}/v2/ws/private/stream/${t.accountId}`),this.privateSocket.onopen=this.onPrivateOpen.bind(this),this.privateSocket.onmessage=this.onPrivateMessage.bind(this),this.privateSocket.onclose=this.onPrivateClose.bind(this),this.privateSocket.onerror=this.onPrivateError.bind(this))}onOpen(t){this._pendingPublicSubscribe.length>0&&(this._pendingPublicSubscribe.forEach(([e,r,n])=>{this.subscribe(e,r,n)}),this._pendingPublicSubscribe=[]),this.publicIsReconnecting=!1,this._publicRetryCount=0,this.emit("status:change",{type:"open",isPrivate:!1})}onPrivateOpen(t){this.authenticate(this.options.accountId),this.privateIsReconnecting=!1,this._privateRetryCount=0,this.emit("status:change",{type:"open",isPrivate:!0})}onMessage(t,e,r){try{const n=JSON.parse(t.data),i=MCe.get(n.event);if(n.event==="auth"&&n.success){this.authenticated=!0,this.handlePendingPrivateTopic();return}if(i)i.handle(n,e);else{const s=this.getTopicKeyFromMessage(n),o=r.get(s);o!=null&&o.callback&&o.callback.forEach(a=>{const u=a.formatter?a.formatter(n):CCe(n);u&&a.onMessage(u)}),this._eventContainer.forEach((a,u)=>{new RegExp(u).test(s)&&this.emit(u,n)})}}catch{}}onPublicMessage(t){this.onMessage(t,this._publicSocket,this._eventHandlers),this._publicHeartbeatTime=Date.now()}onPrivateMessage(t){this.onMessage(t,this.privateSocket,this._eventPrivateHandlers),this._privateHeartbeatTime=Date.now()}handlePendingPrivateTopic(){this._pendingPrivateSubscribe.length>0&&(this._pendingPrivateSubscribe.forEach(([t,e])=>{this.privateSubscribe(t,e)}),this._pendingPrivateSubscribe=[])}onPublicClose(t){this._eventHandlers.forEach((e,r)=>{e.callback.forEach(n=>{this._pendingPublicSubscribe.push([e.params,n,e.isOnce])}),this._eventHandlers.delete(r)}),this.emit("status:change",{type:"close",isPrivate:!1}),setTimeout(()=>this.checkSocketStatus(),0)}onPrivateClose(t){t.code!==1e3&&(this.privateIsReconnecting||(this._eventPrivateHandlers.forEach((e,r)=>{e.callback.forEach(n=>{this._pendingPrivateSubscribe.push([e.params,n,e.isOnce])}),this._eventPrivateHandlers.delete(r)}),this.authenticated=!1,this.emit("status:change",{type:"close",isPrivate:!0,event:t}),setTimeout(()=>this.checkSocketStatus(),0)))}onPublicError(t){if(console.error("public WebSocket error:",t),this.publicIsReconnecting=!1,this._publicSocket.readyState===WebSocket.OPEN)this._publicSocket.close();else{if(this._publicRetryCount>RV)return;setTimeout(()=>{this.reconnectPublic(),this._publicRetryCount++},this._publicRetryCount*1e3)}this.errorBoardscast(t,this._eventHandlers),this.emit("status:change",{type:"error",isPrivate:!1})}onPrivateError(t){var e;if(console.error("Private WebSocket error:",t),this.privateIsReconnecting=!1,((e=this.privateSocket)==null?void 0:e.readyState)===WebSocket.OPEN)this.privateSocket.close();else{if(this._privateRetryCount>RV)return;setTimeout(()=>{this.reconnectPrivate(),this._privateRetryCount++},this._privateRetryCount*1e3)}this.errorBoardscast(t,this._eventPrivateHandlers),this.emit("status:change",{type:"error",isPrivate:!0})}errorBoardscast(t,e){e.forEach(r=>{r.callback.forEach(n=>{var i;(i=n.onError)==null||i.call(n,t)})})}close(){var t;this._publicSocket.close(),(t=this.privateSocket)==null||t.close()}set accountId(t){}authenticate(t){return o6(this,null,function*(){var e,r;if(this.authenticated)return;if(!this.privateSocket){console.error("private ws not connected");return}if(this.privateSocket.readyState!==WebSocket.OPEN)return;const n=yield(r=(e=this.options).onSigntureRequest)==null?void 0:r.call(e,t);this.privateSocket.send(JSON.stringify({id:"auth",event:"auth",params:{orderly_key:n.publicKey,sign:n.signature,timestamp:n.timestamp}}))})}privateSubscribe(t,e){var r;const[n,i]=this.generateMessage(t,e.onUnsubscribe);if(((r=this.privateSocket)==null?void 0:r.readyState)!==WebSocket.OPEN)return this._pendingPrivateSubscribe.push([t,e]),()=>{this.unsubscribePrivate(n)};const s=n.topic||n.event,o=this._eventPrivateHandlers.get(s),a=y_(q1({},e),{onUnsubscribe:i});return o?o.callback.push(a):(this._eventPrivateHandlers.set(s,{params:t,callback:[a]}),this.privateSocket.send(JSON.stringify(n))),()=>{this.unsubscribePrivate(n)}}subscribe(t,e,r,n){const[i,s]=this.generateMessage(t,e.onUnsubscribe,e.onMessage);if(this._publicSocket.readyState!==WebSocket.OPEN)return this._pendingPublicSubscribe.push([t,e,r,n]),r?void 0:()=>{this.unsubscribePublic(i)};let o=this.getTopicKeyFromParams(i);const a=this._eventHandlers.get(o),u=y_(q1({},e),{onUnsubscribe:s});if(a?r?(a.callback=[u],this._publicSocket.send(JSON.stringify(i))):a.callback.push(u):(this._eventHandlers.set(o,{params:t,isOnce:r,callback:[u]}),this._publicSocket.send(JSON.stringify(i))),!r)return()=>{this.unsubscribePublic(i)}}getTopicKeyFromParams(t){let e;return t.topic?e=t.topic:(t.event,e=t.event,t.id&&(e+=`_${t.id}`)),e}getTopicKeyFromMessage(t){let e;return t.topic?e=t.topic:t.event&&(e=`${t.event}`,t.id&&(e+=`_${t.id}`)),e}onceSubscribe(t,e){this.subscribe(t,e,!0)}unsubscribe(t,e,r){const n=t.topic||t.event,i=r.get(n);if(i&&Array.isArray(i==null?void 0:i.callback))if(i.callback.length===1){const s=i.callback[0].onUnsubscribe(n);e.send(JSON.stringify(s)),r.delete(n)}else{const s=i.callback.findIndex(o=>o.onMessage===t.onMessage);if(s===-1)return;i.callback.splice(s,1)}}unsubscribePrivate(t){this.unsubscribe(t,this.privateSocket,this._eventPrivateHandlers)}unsubscribePublic(t){this.unsubscribe(t,this._publicSocket,this._eventHandlers)}generateMessage(t,e,r){let n;return typeof t=="string"?n={event:"subscribe",topic:t}:n=t,typeof e!="function"&&(typeof t=="string"?e=()=>({event:"unsubscribe",topic:t}):e=()=>({event:"unsubscribe",topic:t.topic})),[y_(q1({},n),{onMessage:r}),e]}reconnectPublic(){this.publicIsReconnecting||(this.publicIsReconnecting=!0,!(typeof window>"u")&&window.setTimeout(()=>{this.createPublicSC(this.options),this.emit("status:change",{type:"reconnecting",isPrivate:!1,count:this._publicRetryCount})},this.reconnectInterval))}reconnectPrivate(){this.options.accountId&&(this.privateIsReconnecting||(this.privateIsReconnecting=!0,!(typeof window>"u")&&window.setTimeout(()=>{this.createPrivateSC(this.options),this.emit("status:change",{type:"reconnecting",isPrivate:!0,count:this._privateRetryCount})},this.reconnectInterval)))}get client(){return{public:this._publicSocket,private:this.privateSocket}}on(t,e){var r;this._eventContainer.has(t)&&((r=this._eventContainer.get(t))==null||r.add(e)),this._eventContainer.set(t,new Set([e]))}off(t,e){var r;this._eventContainer.has(t)&&((r=this._eventContainer.get(t))==null||r.delete(e))}emit(t,e){var r;this._eventContainer.has(t)&&((r=this._eventContainer.get(t))==null||r.forEach(n=>n(e)))}};let BCe=class extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function OCe(t){return Lx(t)&&typeof t[Symbol.iterator]=="function"}function Lx(t){return typeof t=="object"&&t!=null}function J3(t){return Lx(t)&&!Array.isArray(t)}function pl(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function LCe(t){const{done:e,value:r}=t.next();return e?void 0:r}function DCe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${pl(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*MV(t,e,r,n){OCe(t)||(t=[t]);for(const i of t){const s=DCe(i,e,r,n);s&&(yield s)}}function*x9(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const f of e.validator(t,a))f.explanation=r.message,u="not_valid",yield[f,void 0];for(let[f,d,g]of e.entries(t,a)){const y=x9(d,g,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const b of y)b[0]?(u=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(d=b[1],f===void 0?t=d:t instanceof Map?t.set(f,d):t instanceof Set?t.add(d):Lx(t)&&(d!==void 0||f in t)&&(t[f]=d))}if(u!=="not_valid")for(const f of e.refiner(t,a))f.explanation=r.message,u="not_refined",yield[f,void 0];u==="valid"&&(yield[void 0,t])}let Zf=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{const d=i(u,f);return MV(d,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{const d=s(u,f);return MV(d,f,this,u)}:this.refiner=()=>[]}assert(e,r){return cne(e,this,r)}create(e,r){return Ve(e,this,r)}is(e){return lne(e,this)}mask(e,r){return FCe(e,this,r)}validate(e,r={}){return Dx(e,this,r)}};function cne(t,e,r){const n=Dx(t,e,{message:r});if(n[0])throw n[0]}function Ve(t,e,r){const n=Dx(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function FCe(t,e,r){const n=Dx(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function lne(t,e){return!Dx(t,e)[0]}function Dx(t,e,r={}){const n=x9(t,e,r),i=LCe(n);return i[0]?[new BCe(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Zm(t,e){return new Zf({type:t,schema:null,validator:e})}function a6(){return Zm("any",()=>!0)}function Ee(t){return new Zf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pl(e)}`}})}function Qr(){return Zm("boolean",t=>typeof t=="boolean")}function Tc(t){return Zm("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${pl(e)}`)}function Rt(t){const e=pl(t),r=typeof t;return new Zf({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${pl(n)}`}})}function $Ce(){return Zm("never",()=>!1)}function ke(t){return new Zf({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function ee(){return Zm("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${pl(t)}`)}function De(t){return new Zf({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Tg(t,e){return new Zf({type:"record",schema:null,*entries(r){if(Lx(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return J3(r)||`Expected an object, but received: ${pl(r)}`},coercer(r){return J3(r)?{...r}:r}})}function ve(){return Zm("string",t=>typeof t=="string"||`Expected a string, but received: ${pl(t)}`)}function Ic(t){const e=$Ce();return new Zf({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${pl(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function pe(t){const e=Object.keys(t);return new Zf({type:"type",schema:t,*entries(r){if(Lx(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return J3(r)||`Expected an object, but received: ${pl(r)}`},coercer(r){return J3(r)?{...r}:r}})}function rr(t){const e=t.map(r=>r.type).join(" | ");return new Zf({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=x9(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pl(r)}`,...i]}})}function Wi(){return Zm("unknown",()=>!0)}function Cs(t,e,r){return new Zf({...t,coercer:(n,i)=>lne(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/types"]="2.1.0");var Wn=(t=>(t[t.EnableTradingWithoutConnected=-1]="EnableTradingWithoutConnected",t[t.NotConnected=0]="NotConnected",t[t.Connected=1]="Connected",t[t.NotSignedIn=2]="NotSignedIn",t[t.SignedIn=3]="SignedIn",t[t.DisabledTrading=4]="DisabledTrading",t[t.EnableTrading=5]="EnableTrading",t))(Wn||{}),E9=421614,UCe=901901901,b_=1516,V1=10143,fne=42161,m8t="(max-width: 768px)",zCe=1.05,eT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),dne="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",LS=t=>t===dne,WCe={name:"Arbitrum Sepolia",public_rpc_url:"https://arbitrum-sepolia.gateway.tenderly.co",chain_id:"421614",currency_symbol:"ETH",currency_decimal:18,explorer_base_url:"https://sepolia.arbiscan.io",vault_address:"0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f"},KCe={chain_id:"901901901",currency_decimal:9,currency_symbol:"SOL",explorer_base_url:"https://explorer.solana.com/?cluster=devnet",name:"Solana-Devnet",public_rpc_url:"https://api.devnet.solana.com",vault_address:"9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2"},jCe={chain_id:"901901901",contract_address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6,withdrawal_fee:1,cross_chain_withdrawal_fee:5,display_name:"USDC"},HCe={chain_id:"421614",contract_address:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",decimals:6,withdrawal_fee:1,cross_chain_withdrawal_fee:2,display_name:"USDC"},qCe=t=>[{token:"USDC",token_hash:"0xd6aca1be9729c13d677335161321649cccae6a591554772516700f986f942eaa",decimals:6,minimum_withdraw_amount:1e-6,chain_details:t}],Ht=(t=>(t.LIMIT="LIMIT",t.MARKET="MARKET",t.IOC="IOC",t.FOK="FOK",t.POST_ONLY="POST_ONLY",t.ASK="ASK",t.BID="BID",t.STOP_LIMIT="STOP_LIMIT",t.STOP_MARKET="STOP_MARKET",t.CLOSE_POSITION="CLOSE_POSITION",t))(Ht||{}),VCe=(t=>(t.COUNTERPARTY1="counterparty1",t.COUNTERPARTY5="counterparty5",t.QUEUE1="queue1",t.QUEUE5="queue5",t))(VCe||{}),GCe=(t=>(t[t.ONE=0]="ONE",t[t.TWO=1]="TWO",t[t.THREE=2]="THREE",t[t.FOUR=3]="FOUR",t[t.FIVE=4]="FIVE",t))(GCe||{}),Ai=(t=>(t.TP_SL="TP_SL",t.POSITIONAL_TP_SL="POSITIONAL_TP_SL",t.STOP="STOP",t.BRACKET="BRACKET",t))(Ai||{}),sm=(t=>(t.MARK_PRICE="MARK_PRICE",t))(sm||{}),di=(t=>(t.TAKE_PROFIT="TAKE_PROFIT",t.STOP_LOSS="STOP_LOSS",t))(di||{}),or=(t=>(t.BUY="BUY",t.SELL="SELL",t))(or||{}),If=(t=>(t.OPEN="OPEN",t.NEW="NEW",t.FILLED="FILLED",t.PARTIAL_FILLED="PARTIAL_FILLED",t.CANCELLED="CANCELLED",t.REPLACED="REPLACED",t.COMPLETED="COMPLETED",t.INCOMPLETE="INCOMPLETE",t.REJECTED="REJECTED",t))(If||{}),gl=(t=>(t.evm="EVM",t.solana="SOL",t))(gl||{}),YCe=new Set([901901901,900900900]),kh=(t=>(t.withdrawSuccess="withdraw:success",t.withdrawFailed="withdraw:failed",t.depositSuccess="deposit:success",t.depositFailed="deposit:failed",t.signinSuccess="signin:success",t.placeorderSuccess="place_order:success",t.walletConnect="wallet:connected",t.clickLinkDeviceButton="click_link_device_button",t.signLinkDeviceMessageSuccess="sign_link_device_message_success",t.linkDeviceModalClickConfirm="link_device_modal_click_confirm",t.socialLoginSuccess="social_login_success",t.clickSwitchWallet="click_switch_wallet",t.clickSwitchNetwork="click_switch_network",t.switchNetworkSuccess="switch_network_success",t.clickExportPrivateKey="click_export_private_key",t.trackIdentifyUserId="track_identify_user_id",t))(kh||{}),CV={"withdraw:success":"withdraw_request_success","withdraw:failed":"withdraw_request_failure","deposit:success":"deposit_request_success","deposit:failed":"deposit_request_failure","signin:success":"sign_message_success","wallet:connected":"connect_wallet_success","place_order:success":"place_order_success",click_link_device_button:"click_link_device_button",sign_link_device_message_success:"sign_link_device_message_success",link_device_modal_click_confirm:"link_device_modal_click_confirm",social_login_success:"social_login_success",click_switch_network:"click_switch_network",switch_network_success:"switch_network_success",click_export_private_key:"click_export_private_key",click_switch_wallet:"click_switch_wallet",track_identify_user_id:"track_identify_user_id"},hne="orderly:ledger-wallet",ZCe="order:chain",XCe=class extends Error{constructor(t,e){super(t),this.code=e,this.name="ApiError"}},ar=class extends Error{constructor(t){super(`[ORDERLY SDK ERROR]:${t}`),this.name="SDKError"}},fg={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Registration:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"timestamp",type:"uint64"},{name:"registrationNonce",type:"uint256"}],Withdraw:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"receiver",type:"address"},{name:"token",type:"string"},{name:"amount",type:"uint256"},{name:"withdrawNonce",type:"uint64"},{name:"timestamp",type:"uint64"}],AddOrderlyKey:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"orderlyKey",type:"string"},{name:"scope",type:"string"},{name:"timestamp",type:"uint64"},{name:"expiration",type:"uint64"}],SettlePnl:[{name:"brokerId",type:"string"},{name:"chainId",type:"uint256"},{name:"settleNonce",type:"uint64"},{name:"timestamp",type:"uint64"}]},QCe=(t=>(t.NEW="NEW",t.CONFIRM="CONFIRM",t.PROCESSING="PROCESSING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t.PENDING_REBALANCE="PENDING_REBALANCE",t))(QCe||{});const PV=OB?t=>{t()}:Ct.startTransition,JCe=t=>{const[,e]=B.useState({}),r=B.useRef(!1),n=B.useRef(t),i=B.useRef({data:!1,error:!1,isValidating:!1}),s=B.useCallback(o=>{let a=!1;const u=n.current;for(const f in o){const d=f;u[d]!==o[d]&&(u[d]=o[d],i.current[d]&&(a=!0))}a&&!r.current&&e({})},[]);return im(()=>(r.current=!1,()=>{r.current=!0})),[n,i.current,s]},ePe=()=>(t,e,r={})=>{const{mutate:n}=one(),i=B.useRef(t),s=B.useRef(e),o=B.useRef(r),a=B.useRef(0),[u,f,d]=JCe({data:ks,error:ks,isMutating:!1}),g=u.current,y=B.useCallback(async(A,x)=>{const[k,R]=Eh(i.current);if(!s.current)throw new Error("Can’t trigger the mutation: missing fetcher.");if(!k)throw new Error("Can’t trigger the mutation: missing key.");const C=ll(ll({populateCache:!1,throwOnError:!0},o.current),x),P=vA();a.current=P,d({isMutating:!0});try{const X=await n(k,s.current(R,{arg:A}),ll(C,{throwOnError:!0}));if(a.current<=P){var O,q;PV(()=>d({data:X,isMutating:!1,error:void 0})),(O=(q=C).onSuccess)==null||O.call(q,X,k,C)}return X}catch(X){if(a.current<=P){var Q,Y;if(PV(()=>d({error:X,isMutating:!1})),(Q=(Y=C).onError)==null||Q.call(Y,X,k,C),C.throwOnError)throw X}}},[]),b=B.useCallback(()=>{a.current=vA(),d({data:ks,error:ks,isMutating:!1})},[]);return im(()=>{i.current=t,s.current=e,o.current=r}),{trigger:y,reset:b,get data(){return f.data=!0,g.data},get error(){return f.error=!0,g.error},get isMutating(){return f.isMutating=!0,g.isMutating}}},pne=A9(_w,ePe);function Fx(t){var e=B.useRef();return e.current||(e.current={v:t()}),e.current.v}const tPe="6.13.5";function rPe(t,e,r){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function ca(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function Sr(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&rPe(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function G1(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(G1).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return G1(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${G1(r)}: ${G1(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ko(t,e){return t&&t.code===e}function k9(t){return ko(t,"CALL_EXCEPTION")}function Ji(t,e,r){let n=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${G1(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];s.push(o+"="+G1(a))}}s.push(`code=${e}`),s.push(`version=${tPe}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Sr(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Sr(i,{shortMessage:n}),i}function St(t,e,r,n){if(!t)throw Ji(e,r,n)}function $e(t,e,r,n){St(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function gne(t,e,r){r==null&&(r=""),r&&(r=": "+r),St(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),St(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function $x(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),St(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function mne(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(t.substring(i,i+2),16),i+=2;return n}$e(!1,"invalid BytesLike value",e||"value",t)}function Fr(t,e){return mne(t,e,!1)}function ma(t,e){return mne(t,e,!0)}function xi(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function T9(t){return xi(t,!0)||t instanceof Uint8Array}const NV="0123456789abcdef";function Zt(t){const e=Fr(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=NV[(i&240)>>4]+NV[i&15]}return r}function Gi(t){return"0x"+t.map(e=>Zt(e).substring(2)).join("")}function om(t){return xi(t,!0)?(t.length-2)/2:Fr(t).length}function ts(t,e,r){const n=Fr(t);return r!=null&&r>n.length&&St(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Zt(n.slice(e??0,r??n.length))}function yne(t,e,r){const n=Fr(t);St(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),Zt(i)}function Rf(t,e){return yne(t,e,!0)}function bne(t,e){return yne(t,e,!1)}const u6=BigInt(0),nl=BigInt(1),DB=9007199254740991;function tT(t,e){const r=c6(t,"value"),n=BigInt(Kr(e,"width"));if(St(r>>n===u6,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-nl){const i=(nl<<n)-nl;return-((~r&i)+nl)}return r}function I9(t,e){let r=Jt(t,"value");const n=BigInt(Kr(e,"width")),i=nl<<n-nl;if(r<u6){r=-r,St(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(nl<<n)-nl;return(~r&s)+nl}else St(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function A0(t,e){const r=c6(t,"value"),n=BigInt(Kr(e,"bits"));return r&(nl<<n)-nl}function Jt(t,e){switch(typeof t){case"bigint":return t;case"number":return $e(Number.isInteger(t),"underflow",e||"value",t),$e(t>=-9007199254740991&&t<=DB,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){$e(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}$e(!1,"invalid BigNumberish value",e||"value",t)}function c6(t,e){const r=Jt(t,e);return St(r>=u6,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const BV="0123456789abcdef";function l6(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=BV[r>>4],e+=BV[r&15];return BigInt(e)}return Jt(t)}function Kr(t,e){switch(typeof t){case"bigint":return $e(t>=-9007199254740991&&t<=DB,"overflow",e||"value",t),Number(t);case"number":return $e(Number.isInteger(t),"underflow",e||"value",t),$e(t>=-9007199254740991&&t<=DB,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Kr(BigInt(t),e)}catch(r){$e(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}$e(!1,"invalid numeric value",e||"value",t)}function nPe(t){return Kr(l6(t))}function dg(t,e){let n=c6(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=Kr(e,"width");for(St(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Zo(t){const e=c6(t,"value");if(e===u6)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(r.substring(s,s+2),16)}return n}function Y1(t){let e=Zt(T9(t)?t:Zo(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const OV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const LV=BigInt(58);function iPe(t){const e=Fr(t);let r=l6(e),n="";for(;r;)n=OV[Number(r%LV)]+n,r/=LV;for(let i=0;i<e.length&&!e[i];i++)n=OV[0]+n;return n}function sPe(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Fr(e)}function oPe(t){const e=Fr(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var jb;class vne{constructor(e,r,n){Ue(this,"filter");Ue(this,"emitter");ot(this,jb);Me(this,jb,r),Sr(this,{emitter:e,filter:n})}async removeListener(){de(this,jb)!=null&&await this.emitter.off(this.filter,de(this,jb))}}jb=new WeakMap;function aPe(t,e,r,n,i){$e(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function wne(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?r.length-e-1:0}function uPe(t,e,r,n,i){return t==="OVERLONG"?($e(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),wne(t,e,r))}const cPe=Object.freeze({error:aPe,ignore:wne,replace:uPe});function lPe(t,e){e==null&&(e=cPe.error);const r=Fr(t,"bytes"),n=[];let i=0;for(;i<r.length;){const s=r[i++];if(!(s>>7)){n.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+o>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let u=s&(1<<8-o-1)-1;for(let f=0;f<o;f++){let d=r[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),u=null;break}u=u<<6|d&63,i++}if(u!==null){if(u>1114111){i+=e("OUT_OF_RANGE",i-1-o,r,n,u);continue}if(u>=55296&&u<=57343){i+=e("UTF16_SURROGATE",i-1-o,r,n,u);continue}if(u<=a){i+=e("OVERLONG",i-1-o,r,n,u);continue}n.push(u)}}return n}function Mf(t,e){$e(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);$e(n<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function fPe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function rT(t,e){return fPe(lPe(t,e))}function Sne(t){async function e(r,n){St(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=r.url.split(":")[0].toLowerCase();St(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),St(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Ji("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{s=Ji("request cancelled","CANCELLED"),o.abort()});const u={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal};let f;try{f=await fetch(r.url,u)}catch(b){throw clearTimeout(a),s||b}clearTimeout(a);const d={};f.headers.forEach((b,A)=>{d[A.toLowerCase()]=b});const g=await f.arrayBuffer(),y=g==null?null:new Uint8Array(g);return{statusCode:f.status,statusMessage:f.statusText,headers:d,body:y}}return e}const dPe=12,hPe=250;let DV=Sne();const pPe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),gPe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let YC=!1;async function _ne(t,e){try{const r=t.match(pPe);if(!r)throw new Error("invalid data");return new Jp(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?sPe(r[3]):yPe(r[3]))}catch{return new Jp(599,"BAD REQUEST (invalid data: URI)",{},null,new Th(t))}}function Ane(t){async function e(r,n){try{const i=r.match(gPe);if(!i)throw new Error("invalid link");return new Th(`${t}${i[2]}`)}catch{return new Jp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Th(r))}}return e}const HE={data:_ne,ipfs:Ane("https://gateway.ipfs.io/ipfs/")},xne=new WeakMap;var F0,Mp;class mPe{constructor(e){ot(this,F0);ot(this,Mp);Me(this,F0,[]),Me(this,Mp,!1),xne.set(e,()=>{if(!de(this,Mp)){Me(this,Mp,!0);for(const r of de(this,F0))setTimeout(()=>{r()},0);Me(this,F0,[])}})}addListener(e){St(!de(this,Mp),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),de(this,F0).push(e)}get cancelled(){return de(this,Mp)}checkSignal(){St(!this.cancelled,"cancelled","CANCELLED",{})}}F0=new WeakMap,Mp=new WeakMap;function qE(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Hb,qb,Yc,Kd,Vb,Gb,Gs,mu,jd,$0,U0,z0,Jl,Zc,Cp,W0,v_;const XI=class XI{constructor(e){ot(this,W0);ot(this,Hb);ot(this,qb);ot(this,Yc);ot(this,Kd);ot(this,Vb);ot(this,Gb);ot(this,Gs);ot(this,mu);ot(this,jd);ot(this,$0);ot(this,U0);ot(this,z0);ot(this,Jl);ot(this,Zc);ot(this,Cp);Me(this,Gb,String(e)),Me(this,Hb,!1),Me(this,qb,!0),Me(this,Yc,{}),Me(this,Kd,""),Me(this,Vb,3e5),Me(this,Zc,{slotInterval:hPe,maxAttempts:dPe}),Me(this,Cp,null)}get url(){return de(this,Gb)}set url(e){Me(this,Gb,String(e))}get body(){return de(this,Gs)==null?null:new Uint8Array(de(this,Gs))}set body(e){if(e==null)Me(this,Gs,void 0),Me(this,mu,void 0);else if(typeof e=="string")Me(this,Gs,Mf(e)),Me(this,mu,"text/plain");else if(e instanceof Uint8Array)Me(this,Gs,e),Me(this,mu,"application/octet-stream");else if(typeof e=="object")Me(this,Gs,Mf(JSON.stringify(e))),Me(this,mu,"application/json");else throw new Error("invalid body")}hasBody(){return de(this,Gs)!=null}get method(){return de(this,Kd)?de(this,Kd):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),Me(this,Kd,String(e).toUpperCase())}get headers(){const e=Object.assign({},de(this,Yc));return de(this,jd)&&(e.authorization=`Basic ${oPe(Mf(de(this,jd)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&de(this,mu)&&(e["content-type"]=de(this,mu)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){de(this,Yc)[String(e).toLowerCase()]=String(r)}clearHeaders(){Me(this,Yc,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return de(this,jd)||null}setCredentials(e,r){$e(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Me(this,jd,`${e}:${r}`)}get allowGzip(){return de(this,qb)}set allowGzip(e){Me(this,qb,!!e)}get allowInsecureAuthentication(){return!!de(this,Hb)}set allowInsecureAuthentication(e){Me(this,Hb,!!e)}get timeout(){return de(this,Vb)}set timeout(e){$e(e>=0,"timeout must be non-zero","timeout",e),Me(this,Vb,e)}get preflightFunc(){return de(this,$0)||null}set preflightFunc(e){Me(this,$0,e)}get processFunc(){return de(this,U0)||null}set processFunc(e){Me(this,U0,e)}get retryFunc(){return de(this,z0)||null}set retryFunc(e){Me(this,z0,e)}get getUrlFunc(){return de(this,Cp)||DV}set getUrlFunc(e){Me(this,Cp,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${de(this,Gs)?Zt(de(this,Gs)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(de(this,Zc).slotInterval=e.slotInterval),e.maxAttempts!=null&&(de(this,Zc).maxAttempts=e.maxAttempts)}send(){return St(de(this,Jl)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Me(this,Jl,new mPe(this)),kt(this,W0,v_).call(this,0,FV()+this.timeout,0,this,new Jp(0,"",{},null,this))}cancel(){St(de(this,Jl)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=xne.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();St(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new XI(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,Me(i,Yc,Object.assign({},de(this,Yc))),de(this,Gs)&&Me(i,Gs,new Uint8Array(de(this,Gs))),Me(i,mu,de(this,mu)),i}clone(){const e=new XI(this.url);return Me(e,Kd,de(this,Kd)),de(this,Gs)&&Me(e,Gs,de(this,Gs)),Me(e,mu,de(this,mu)),Me(e,Yc,Object.assign({},de(this,Yc))),Me(e,jd,de(this,jd)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),Me(e,$0,de(this,$0)),Me(e,U0,de(this,U0)),Me(e,z0,de(this,z0)),Me(e,Zc,Object.assign({},de(this,Zc))),Me(e,Cp,de(this,Cp)),e}static lockConfig(){YC=!0}static getGateway(e){return HE[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(YC)throw new Error("gateways locked");HE[e]=r}static registerGetUrl(e){if(YC)throw new Error("gateways locked");DV=e}static createGetUrlFunc(e){return Sne()}static createDataGateway(){return _ne}static createIpfsGatewayFunc(e){return Ane(e)}};Hb=new WeakMap,qb=new WeakMap,Yc=new WeakMap,Kd=new WeakMap,Vb=new WeakMap,Gb=new WeakMap,Gs=new WeakMap,mu=new WeakMap,jd=new WeakMap,$0=new WeakMap,U0=new WeakMap,z0=new WeakMap,Jl=new WeakMap,Zc=new WeakMap,Cp=new WeakMap,W0=new WeakSet,v_=async function(e,r,n,i,s){var d,g,y;if(e>=de(this,Zc).maxAttempts)return s.makeServerError("exceeded maximum retry limit");St(FV()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await bPe(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in HE){const b=await HE[a](o.url,qE(de(i,Jl)));if(b instanceof Jp){let A=b;if(this.processFunc){qE(de(i,Jl));try{A=await this.processFunc(o,A)}catch(x){(x.throttle==null||typeof x.stall!="number")&&A.makeServerError("error in post-processing function",x).assertOk()}}return A}o=b}this.preflightFunc&&(o=await this.preflightFunc(o));const u=await this.getUrlFunc(o,qE(de(i,Jl)));let f=new Jp(u.statusCode,u.statusMessage,u.headers,u.body,i);if(f.statusCode===301||f.statusCode===302){try{const b=f.headers.location||"";return kt(d=o.redirect(b),W0,v_).call(d,e+1,r,0,i,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){const b=f.headers["retry-after"];let A=de(this,Zc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof b=="string"&&b.match(/^[1-9][0-9]*$/)&&(A=parseInt(b)),kt(g=o.clone(),W0,v_).call(g,e+1,r,A,i,f)}if(this.processFunc){qE(de(i,Jl));try{f=await this.processFunc(o,f)}catch(b){(b.throttle==null||typeof b.stall!="number")&&f.makeServerError("error in post-processing function",b).assertOk();let A=de(this,Zc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return b.stall>=0&&(A=b.stall),kt(y=o.clone(),W0,v_).call(y,e+1,r,A,i,f)}}return f};let Th=XI;var Ax,xx,Ex,yu,Yb,K0;const Qj=class Qj{constructor(e,r,n,i,s){ot(this,Ax);ot(this,xx);ot(this,Ex);ot(this,yu);ot(this,Yb);ot(this,K0);Me(this,Ax,e),Me(this,xx,r),Me(this,Ex,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),Me(this,yu,i==null?null:new Uint8Array(i)),Me(this,Yb,s||null),Me(this,K0,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${de(this,yu)?Zt(de(this,yu)):"null"}>`}get statusCode(){return de(this,Ax)}get statusMessage(){return de(this,xx)}get headers(){return Object.assign({},de(this,Ex))}get body(){return de(this,yu)==null?null:new Uint8Array(de(this,yu))}get bodyText(){try{return de(this,yu)==null?"":rT(de(this,yu))}catch{St(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{St(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Qj(599,n,this.headers,this.body,de(this,Yb)||void 0);return Me(i,K0,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:$e(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Sr(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return de(this,yu)!=null}get request(){return de(this,Yb)}ok(){return de(this,K0).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=de(this,K0);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{de(this,yu)&&(i=rT(de(this,yu)))}catch{}St(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Ax=new WeakMap,xx=new WeakMap,Ex=new WeakMap,yu=new WeakMap,Yb=new WeakMap,K0=new WeakMap;let Jp=Qj;function FV(){return new Date().getTime()}function yPe(t){return Mf(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function bPe(t){return new Promise(e=>setTimeout(e,t))}const vPe=BigInt(-1),Hc=BigInt(0),Z1=BigInt(1),wPe=BigInt(5),zy={};let Ab="0000";for(;Ab.length<80;)Ab+=Ab;function Jg(t){let e=Ab;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function DS(t,e,r){const n=BigInt(e.width);if(e.signed){const i=Z1<<n-Z1;St(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Hc?t=tT(A0(t,n),n):t=-tT(A0(-t,n),n)}else{const i=Z1<<n;St(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-Z1}return t}function ZC(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);$e(s,"invalid fixed format","format",t),e=s[1]!=="u",r=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=t,o=(a,u,f)=>s[a]==null?f:($e(typeof s[a]===u,"invalid fixed format ("+a+" not "+u+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}$e(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),$e(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function SPe(t,e){let r="";t<Hc&&(r="-",t*=vPe);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Ab+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Xc,oi,sa,Hn,i0,kd,FB,$B,UB,zB;const Tp=class Tp{constructor(e,r,n){ot(this,Hn);Ue(this,"format");ot(this,Xc);ot(this,oi);ot(this,sa);Ue(this,"_value");$x(e,zy,"FixedNumber"),Me(this,oi,r),Me(this,Xc,n);const i=SPe(r,n.decimals);Sr(this,{format:n.name,_value:i}),Me(this,sa,Jg(n.decimals))}get signed(){return de(this,Xc).signed}get width(){return de(this,Xc).width}get decimals(){return de(this,Xc).decimals}get value(){return de(this,oi)}addUnsafe(e){return kt(this,Hn,FB).call(this,e)}add(e){return kt(this,Hn,FB).call(this,e,"add")}subUnsafe(e){return kt(this,Hn,$B).call(this,e)}sub(e){return kt(this,Hn,$B).call(this,e,"sub")}mulUnsafe(e){return kt(this,Hn,UB).call(this,e)}mul(e){return kt(this,Hn,UB).call(this,e,"mul")}mulSignal(e){kt(this,Hn,i0).call(this,e);const r=de(this,oi)*de(e,oi);return St(r%de(this,sa)===Hc,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),kt(this,Hn,kd).call(this,r/de(this,sa),"mulSignal")}divUnsafe(e){return kt(this,Hn,zB).call(this,e)}div(e){return kt(this,Hn,zB).call(this,e,"div")}divSignal(e){St(de(e,oi)!==Hc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),kt(this,Hn,i0).call(this,e);const r=de(this,oi)*de(this,sa);return St(r%de(e,oi)===Hc,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),kt(this,Hn,kd).call(this,r/de(e,oi),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=Jg(i):i<0&&(r*=Jg(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=de(this,oi);return de(this,oi)<Hc&&(e-=de(this,sa)-Z1),e=de(this,oi)/de(this,sa)*de(this,sa),kt(this,Hn,kd).call(this,e,"floor")}ceiling(){let e=de(this,oi);return de(this,oi)>Hc&&(e+=de(this,sa)-Z1),e=de(this,oi)/de(this,sa)*de(this,sa),kt(this,Hn,kd).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=wPe*Jg(r-1);let i=this.value+n;const s=Jg(r);return i=i/s*s,DS(i,de(this,Xc),"round"),new Tp(zy,i,de(this,Xc))}isZero(){return de(this,oi)===Hc}isNegative(){return de(this,oi)<Hc}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Tp.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:Kr(r),s=ZC(n);let o=Jt(e,"value");const a=i-s.decimals;if(a>0){const u=Jg(a);St(o%u===Hc,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=u}else a<0&&(o*=Jg(-a));return DS(o,s,"fromValue"),new Tp(zy,o,s)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);$e(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=ZC(r);let s=n[2]||"0",o=n[3]||"";for(;o.length<i.decimals;)o+=Ab;St(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(n[1]+s+o);return DS(a,i,"fromString"),new Tp(zy,a,i)}static fromBytes(e,r){let n=l6(Fr(e,"value"));const i=ZC(r);return i.signed&&(n=tT(n,i.width)),DS(n,i,"fromBytes"),new Tp(zy,n,i)}};Xc=new WeakMap,oi=new WeakMap,sa=new WeakMap,Hn=new WeakSet,i0=function(e){$e(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},kd=function(e,r){return e=DS(e,de(this,Xc),r),new Tp(zy,e,de(this,Xc))},FB=function(e,r){return kt(this,Hn,i0).call(this,e),kt(this,Hn,kd).call(this,de(this,oi)+de(e,oi),r)},$B=function(e,r){return kt(this,Hn,i0).call(this,e),kt(this,Hn,kd).call(this,de(this,oi)-de(e,oi),r)},UB=function(e,r){return kt(this,Hn,i0).call(this,e),kt(this,Hn,kd).call(this,de(this,oi)*de(e,oi)/de(this,sa),r)},zB=function(e,r){return St(de(e,oi)!==Hc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),kt(this,Hn,i0).call(this,e),kt(this,Hn,kd).call(this,de(this,oi)*de(this,sa)/de(e,oi),r)};let nT=Tp;function _Pe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function $V(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function UV(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Ene(t,r);i.push(s.result),r+=s.consumed,St(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function Ene(t,e){St(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{St(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=$V(t,e+1,n);return r(e+1+n+i),UV(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),UV(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=$V(t,e+1,n);r(e+1+n+i);const s=Zt(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=Zt(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:_Pe(t[e])}}function f6(t){const e=Fr(t,"data"),r=Ene(e,0);return $e(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function zV(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function kne(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(kne(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=zV(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(Fr(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=zV(e.length);return r.unshift(183+r.length),r.concat(e)}const WV="0123456789abcdef";function pm(t){let e="0x";for(const r of kne(t))e+=WV[r>>4],e+=WV[r&15];return e}const Tne=["wei","kwei","mwei","gwei","szabo","finney","ether"];function R9(t,e){let r=18;if(typeof e=="string"){const n=Tne.indexOf(e);$e(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=Kr(e,"unit"));return nT.fromValue(t,r,{decimals:r,width:512}).toString()}function M9(t,e){$e(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=Tne.indexOf(e);$e(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=Kr(e,"unit"));return nT.fromString(t,{decimals:r,width:512}).value}const ya=32,WB=new Uint8Array(ya),APe=["then"],VE={},Ine=new WeakMap;function c0(t){return Ine.get(t)}function KV(t,e){Ine.set(t,e)}function FS(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function KB(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof Cv?KB(c0(n),n,r):n):t.reduce((n,i,s)=>{let o=e.getValue(i);return i in n||(r&&o instanceof Cv&&(o=KB(c0(o),o,r)),n[i]=o),n},{})}var Zb;const wb=class wb extends Array{constructor(...r){const n=r[0];let i=r[1],s=(r[2]||[]).slice(),o=!0;n!==VE&&(i=r,s=[],o=!1);super(i.length);ot(this,Zb);i.forEach((f,d)=>{this[d]=f});const a=s.reduce((f,d)=>(typeof d=="string"&&f.set(d,(f.get(d)||0)+1),f),new Map);if(KV(this,Object.freeze(i.map((f,d)=>{const g=s[d];return g!=null&&a.get(g)===1?g:null}))),Me(this,Zb,[]),de(this,Zb)==null&&de(this,Zb),!o)return;Object.freeze(this);const u=new Proxy(this,{get:(f,d,g)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const b=Kr(d,"%index");if(b<0||b>=this.length)throw new RangeError("out of result range");const A=f[b];return A instanceof Error&&FS(`index ${b}`,A),A}if(APe.indexOf(d)>=0)return Reflect.get(f,d,g);const y=f[d];if(y instanceof Function)return function(...b){return y.apply(this===g?f:this,b)};if(!(d in f))return f.getValue.apply(this===g?f:this,[d])}return Reflect.get(f,d,g)}});return KV(u,c0(this)),u}toArray(r){const n=[];return this.forEach((i,s)=>{i instanceof Error&&FS(`index ${s}`,i),r&&i instanceof wb&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=c0(this);return n.reduce((i,s,o)=>(St(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),KB(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=c0(this),s=[],o=[];for(let a=r;a<n;a++)s.push(this[a]),o.push(i[a]);return new wb(VE,s,o)}filter(r,n){const i=c0(this),s=[],o=[];for(let a=0;a<this.length;a++){const u=this[a];u instanceof Error&&FS(`index ${a}`,u),r.call(n,u,a,this)&&(s.push(u),o.push(i[a]))}return new wb(VE,s,o)}map(r,n){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&FS(`index ${s}`,o),i.push(r.call(n,o,s,this))}return i}getValue(r){const n=c0(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&FS(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new wb(VE,r,n)}};Zb=new WeakMap;let Cv=wb;function jV(t){let e=Zo(t);return St(e.length<=ya,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ya,offset:e.length}),e.length!==ya&&(e=ma(Gi([WB.slice(e.length%ya),e]))),e}class $h{constructor(e,r,n,i){Ue(this,"name");Ue(this,"type");Ue(this,"localName");Ue(this,"dynamic");Sr(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){$e(!1,e,this.localName,r)}}var Hd,j0,Xb,Yk;class jB{constructor(){ot(this,Xb);ot(this,Hd);ot(this,j0);Me(this,Hd,[]),Me(this,j0,0)}get data(){return Gi(de(this,Hd))}get length(){return de(this,j0)}appendWriter(e){return kt(this,Xb,Yk).call(this,ma(e.data))}writeBytes(e){let r=ma(e);const n=r.length%ya;return n&&(r=ma(Gi([r,WB.slice(n)]))),kt(this,Xb,Yk).call(this,r)}writeValue(e){return kt(this,Xb,Yk).call(this,jV(e))}writeUpdatableValue(){const e=de(this,Hd).length;return de(this,Hd).push(WB),Me(this,j0,de(this,j0)+ya),r=>{de(this,Hd)[e]=jV(r)}}}Hd=new WeakMap,j0=new WeakMap,Xb=new WeakSet,Yk=function(e){return de(this,Hd).push(e),Me(this,j0,de(this,j0)+e.length),e.length};var Da,bu,H0,q0,Pp,Ym,qB,Rne;const Jj=class Jj{constructor(e,r,n){ot(this,Ym);Ue(this,"allowLoose");ot(this,Da);ot(this,bu);ot(this,H0);ot(this,q0);ot(this,Pp);Sr(this,{allowLoose:!!r}),Me(this,Da,ma(e)),Me(this,H0,0),Me(this,q0,null),Me(this,Pp,n??1024),Me(this,bu,0)}get data(){return Zt(de(this,Da))}get dataLength(){return de(this,Da).length}get consumed(){return de(this,bu)}get bytes(){return new Uint8Array(de(this,Da))}subReader(e){const r=new Jj(de(this,Da).slice(de(this,bu)+e),this.allowLoose,de(this,Pp));return Me(r,q0,this),r}readBytes(e,r){let n=kt(this,Ym,Rne).call(this,0,e,!!r);return kt(this,Ym,qB).call(this,e),Me(this,bu,de(this,bu)+n.length),n.slice(0,e)}readValue(){return l6(this.readBytes(ya))}readIndex(){return nPe(this.readBytes(ya))}};Da=new WeakMap,bu=new WeakMap,H0=new WeakMap,q0=new WeakMap,Pp=new WeakMap,Ym=new WeakSet,qB=function(e){var r;if(de(this,q0))return kt(r=de(this,q0),Ym,qB).call(r,e);Me(this,H0,de(this,H0)+e),St(de(this,Pp)<1||de(this,H0)<=de(this,Pp)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${de(this,Pp)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ma(de(this,Da)),offset:de(this,bu),length:e,info:{bytesRead:de(this,H0),dataLength:this.dataLength}})},Rne=function(e,r,n){let i=Math.ceil(r/ya)*ya;return de(this,bu)+i>de(this,Da).length&&(this.allowLoose&&n&&de(this,bu)+r<=de(this,Da).length?i=r:St(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ma(de(this,Da)),length:de(this,Da).length,offset:de(this,bu)+i})),de(this,Da).slice(de(this,bu),de(this,bu)+i)};let HB=Jj;var Ie={},Pe={},d6={};d6.byteLength=kPe;d6.toByteArray=IPe;d6.fromByteArray=CPe;var lf=[],ac=[],xPe=typeof Uint8Array<"u"?Uint8Array:Array,XC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wy=0,EPe=XC.length;Wy<EPe;++Wy)lf[Wy]=XC[Wy],ac[XC.charCodeAt(Wy)]=Wy;ac[45]=62;ac[95]=63;function Mne(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function kPe(t){var e=Mne(t),r=e[0],n=e[1];return(r+n)*3/4-n}function TPe(t,e,r){return(e+r)*3/4-r}function IPe(t){var e,r=Mne(t),n=r[0],i=r[1],s=new xPe(TPe(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=ac[t.charCodeAt(u)]<<18|ac[t.charCodeAt(u+1)]<<12|ac[t.charCodeAt(u+2)]<<6|ac[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ac[t.charCodeAt(u)]<<2|ac[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=ac[t.charCodeAt(u)]<<10|ac[t.charCodeAt(u+1)]<<4|ac[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function RPe(t){return lf[t>>18&63]+lf[t>>12&63]+lf[t>>6&63]+lf[t&63]}function MPe(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(RPe(n));return i.join("")}function CPe(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(MPe(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(lf[e>>2]+lf[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(lf[e>>10]+lf[e>>4&63]+lf[e<<2&63]+"=")),i.join("")}var C9={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */C9.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,f=u>>1,d=-7,g=r?i-1:0,y=r?-1:1,b=t[e+g];for(g+=y,s=b&(1<<-d)-1,b>>=-d,d+=a;d>0;s=s*256+t[e+g],g+=y,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+g],g+=y,d-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(b?-1:1)*o*Math.pow(2,s-n)};C9.write=function(t,e,r,n,i,s){var o,a,u,f=s*8-i-1,d=(1<<f)-1,g=d>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,A=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+g>=1?e+=y/u:e+=y*Math.pow(2,1-g),e*u>=2&&(o++,u/=2),o+g>=d?(a=0,o=d):o+g>=1?(a=(e*u-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[r+b]=a&255,b+=A,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;t[r+b]=o&255,b+=A,o/=256,f-=8);t[r+b-A]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=d6,r=C9,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const se=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(se,j),se.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');const j=new Uint8Array(se);return Object.setPrototypeOf(j,a.prototype),j}function a(se,j,re){if(typeof se=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(se)}return u(se,j,re)}a.poolSize=8192;function u(se,j,re){if(typeof se=="string")return y(se,j);if(ArrayBuffer.isView(se))return A(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ne(se,ArrayBuffer)||se&&Ne(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(se,SharedArrayBuffer)||se&&Ne(se.buffer,SharedArrayBuffer)))return x(se,j,re);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ue=se.valueOf&&se.valueOf();if(ue!=null&&ue!==se)return a.from(ue,j,re);const me=k(se);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return a.from(se[Symbol.toPrimitive]("string"),j,re);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}a.from=function(se,j,re){return u(se,j,re)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function d(se,j,re){return f(se),se<=0?o(se):j!==void 0?typeof re=="string"?o(se).fill(j,re):o(se).fill(j):o(se)}a.alloc=function(se,j,re){return d(se,j,re)};function g(se){return f(se),o(se<0?0:R(se)|0)}a.allocUnsafe=function(se){return g(se)},a.allocUnsafeSlow=function(se){return g(se)};function y(se,j){if((typeof j!="string"||j==="")&&(j="utf8"),!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const re=P(se,j)|0;let ue=o(re);const me=ue.write(se,j);return me!==re&&(ue=ue.slice(0,me)),ue}function b(se){const j=se.length<0?0:R(se.length)|0,re=o(j);for(let ue=0;ue<j;ue+=1)re[ue]=se[ue]&255;return re}function A(se){if(Ne(se,Uint8Array)){const j=new Uint8Array(se);return x(j.buffer,j.byteOffset,j.byteLength)}return b(se)}function x(se,j,re){if(j<0||se.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<j+(re||0))throw new RangeError('"length" is outside of buffer bounds');let ue;return j===void 0&&re===void 0?ue=new Uint8Array(se):re===void 0?ue=new Uint8Array(se,j):ue=new Uint8Array(se,j,re),Object.setPrototypeOf(ue,a.prototype),ue}function k(se){if(a.isBuffer(se)){const j=R(se.length)|0,re=o(j);return re.length===0||se.copy(re,0,0,j),re}if(se.length!==void 0)return typeof se.length!="number"||wt(se.length)?o(0):b(se);if(se.type==="Buffer"&&Array.isArray(se.data))return b(se.data)}function R(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return se|0}function C(se){return+se!=se&&(se=0),a.alloc(+se)}a.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==a.prototype},a.compare=function(j,re){if(Ne(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),Ne(re,Uint8Array)&&(re=a.from(re,re.offset,re.byteLength)),!a.isBuffer(j)||!a.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===re)return 0;let ue=j.length,me=re.length;for(let Be=0,Ae=Math.min(ue,me);Be<Ae;++Be)if(j[Be]!==re[Be]){ue=j[Be],me=re[Be];break}return ue<me?-1:me<ue?1:0},a.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(j,re){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return a.alloc(0);let ue;if(re===void 0)for(re=0,ue=0;ue<j.length;++ue)re+=j[ue].length;const me=a.allocUnsafe(re);let Be=0;for(ue=0;ue<j.length;++ue){let Ae=j[ue];if(Ne(Ae,Uint8Array))Be+Ae.length>me.length?(a.isBuffer(Ae)||(Ae=a.from(Ae)),Ae.copy(me,Be)):Uint8Array.prototype.set.call(me,Ae,Be);else if(a.isBuffer(Ae))Ae.copy(me,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=Ae.length}return me};function P(se,j){if(a.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ne(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const re=se.length,ue=arguments.length>2&&arguments[2]===!0;if(!ue&&re===0)return 0;let me=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return re;case"utf8":case"utf-8":return oe(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re*2;case"hex":return re>>>1;case"base64":return Oe(se).length;default:if(me)return ue?-1:oe(se).length;j=(""+j).toLowerCase(),me=!0}}a.byteLength=P;function O(se,j,re){let ue=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((re===void 0||re>this.length)&&(re=this.length),re<=0)||(re>>>=0,j>>>=0,re<=j))return"";for(se||(se="utf8");;)switch(se){case"hex":return w(this,j,re);case"utf8":case"utf-8":return p(this,j,re);case"ascii":return _(this,j,re);case"latin1":case"binary":return T(this,j,re);case"base64":return h(this,j,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,j,re);default:if(ue)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),ue=!0}}a.prototype._isBuffer=!0;function q(se,j,re){const ue=se[j];se[j]=se[re],se[re]=ue}a.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let re=0;re<j;re+=2)q(this,re,re+1);return this},a.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let re=0;re<j;re+=4)q(this,re,re+3),q(this,re+1,re+2);return this},a.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let re=0;re<j;re+=8)q(this,re,re+7),q(this,re+1,re+6),q(this,re+2,re+5),q(this,re+3,re+4);return this},a.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?p(this,0,j):O.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(j){if(!a.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:a.compare(this,j)===0},a.prototype.inspect=function(){let j="";const re=t.INSPECT_MAX_BYTES;return j=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(j+=" ... "),"<Buffer "+j+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(j,re,ue,me,Be){if(Ne(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),!a.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(re===void 0&&(re=0),ue===void 0&&(ue=j?j.length:0),me===void 0&&(me=0),Be===void 0&&(Be=this.length),re<0||ue>j.length||me<0||Be>this.length)throw new RangeError("out of range index");if(me>=Be&&re>=ue)return 0;if(me>=Be)return-1;if(re>=ue)return 1;if(re>>>=0,ue>>>=0,me>>>=0,Be>>>=0,this===j)return 0;let Ae=Be-me,ze=ue-re;const $t=Math.min(Ae,ze),Ke=this.slice(me,Be),qe=j.slice(re,ue);for(let Nt=0;Nt<$t;++Nt)if(Ke[Nt]!==qe[Nt]){Ae=Ke[Nt],ze=qe[Nt];break}return Ae<ze?-1:ze<Ae?1:0};function Q(se,j,re,ue,me){if(se.length===0)return-1;if(typeof re=="string"?(ue=re,re=0):re>2147483647?re=2147483647:re<-2147483648&&(re=-2147483648),re=+re,wt(re)&&(re=me?0:se.length-1),re<0&&(re=se.length+re),re>=se.length){if(me)return-1;re=se.length-1}else if(re<0)if(me)re=0;else return-1;if(typeof j=="string"&&(j=a.from(j,ue)),a.isBuffer(j))return j.length===0?-1:Y(se,j,re,ue,me);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call(se,j,re):Uint8Array.prototype.lastIndexOf.call(se,j,re):Y(se,[j],re,ue,me);throw new TypeError("val must be string, number or Buffer")}function Y(se,j,re,ue,me){let Be=1,Ae=se.length,ze=j.length;if(ue!==void 0&&(ue=String(ue).toLowerCase(),ue==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(se.length<2||j.length<2)return-1;Be=2,Ae/=2,ze/=2,re/=2}function $t(qe,Nt){return Be===1?qe[Nt]:qe.readUInt16BE(Nt*Be)}let Ke;if(me){let qe=-1;for(Ke=re;Ke<Ae;Ke++)if($t(se,Ke)===$t(j,qe===-1?0:Ke-qe)){if(qe===-1&&(qe=Ke),Ke-qe+1===ze)return qe*Be}else qe!==-1&&(Ke-=Ke-qe),qe=-1}else for(re+ze>Ae&&(re=Ae-ze),Ke=re;Ke>=0;Ke--){let qe=!0;for(let Nt=0;Nt<ze;Nt++)if($t(se,Ke+Nt)!==$t(j,Nt)){qe=!1;break}if(qe)return Ke}return-1}a.prototype.includes=function(j,re,ue){return this.indexOf(j,re,ue)!==-1},a.prototype.indexOf=function(j,re,ue){return Q(this,j,re,ue,!0)},a.prototype.lastIndexOf=function(j,re,ue){return Q(this,j,re,ue,!1)};function X(se,j,re,ue){re=Number(re)||0;const me=se.length-re;ue?(ue=Number(ue),ue>me&&(ue=me)):ue=me;const Be=j.length;ue>Be/2&&(ue=Be/2);let Ae;for(Ae=0;Ae<ue;++Ae){const ze=parseInt(j.substr(Ae*2,2),16);if(wt(ze))return Ae;se[re+Ae]=ze}return Ae}function Z(se,j,re,ue){return _e(oe(j,se.length-re),se,re,ue)}function le(se,j,re,ue){return _e(ae(j),se,re,ue)}function I(se,j,re,ue){return _e(Oe(j),se,re,ue)}function c(se,j,re,ue){return _e(ce(j,se.length-re),se,re,ue)}a.prototype.write=function(j,re,ue,me){if(re===void 0)me="utf8",ue=this.length,re=0;else if(ue===void 0&&typeof re=="string")me=re,ue=this.length,re=0;else if(isFinite(re))re=re>>>0,isFinite(ue)?(ue=ue>>>0,me===void 0&&(me="utf8")):(me=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-re;if((ue===void 0||ue>Be)&&(ue=Be),j.length>0&&(ue<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");let Ae=!1;for(;;)switch(me){case"hex":return X(this,j,re,ue);case"utf8":case"utf-8":return Z(this,j,re,ue);case"ascii":case"latin1":case"binary":return le(this,j,re,ue);case"base64":return I(this,j,re,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,j,re,ue);default:if(Ae)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(se,j,re){return j===0&&re===se.length?e.fromByteArray(se):e.fromByteArray(se.slice(j,re))}function p(se,j,re){re=Math.min(se.length,re);const ue=[];let me=j;for(;me<re;){const Be=se[me];let Ae=null,ze=Be>239?4:Be>223?3:Be>191?2:1;if(me+ze<=re){let $t,Ke,qe,Nt;switch(ze){case 1:Be<128&&(Ae=Be);break;case 2:$t=se[me+1],($t&192)===128&&(Nt=(Be&31)<<6|$t&63,Nt>127&&(Ae=Nt));break;case 3:$t=se[me+1],Ke=se[me+2],($t&192)===128&&(Ke&192)===128&&(Nt=(Be&15)<<12|($t&63)<<6|Ke&63,Nt>2047&&(Nt<55296||Nt>57343)&&(Ae=Nt));break;case 4:$t=se[me+1],Ke=se[me+2],qe=se[me+3],($t&192)===128&&(Ke&192)===128&&(qe&192)===128&&(Nt=(Be&15)<<18|($t&63)<<12|(Ke&63)<<6|qe&63,Nt>65535&&Nt<1114112&&(Ae=Nt))}}Ae===null?(Ae=65533,ze=1):Ae>65535&&(Ae-=65536,ue.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),ue.push(Ae),me+=ze}return v(ue)}const m=4096;function v(se){const j=se.length;if(j<=m)return String.fromCharCode.apply(String,se);let re="",ue=0;for(;ue<j;)re+=String.fromCharCode.apply(String,se.slice(ue,ue+=m));return re}function _(se,j,re){let ue="";re=Math.min(se.length,re);for(let me=j;me<re;++me)ue+=String.fromCharCode(se[me]&127);return ue}function T(se,j,re){let ue="";re=Math.min(se.length,re);for(let me=j;me<re;++me)ue+=String.fromCharCode(se[me]);return ue}function w(se,j,re){const ue=se.length;(!j||j<0)&&(j=0),(!re||re<0||re>ue)&&(re=ue);let me="";for(let Be=j;Be<re;++Be)me+=ge[se[Be]];return me}function l(se,j,re){const ue=se.slice(j,re);let me="";for(let Be=0;Be<ue.length-1;Be+=2)me+=String.fromCharCode(ue[Be]+ue[Be+1]*256);return me}a.prototype.slice=function(j,re){const ue=this.length;j=~~j,re=re===void 0?ue:~~re,j<0?(j+=ue,j<0&&(j=0)):j>ue&&(j=ue),re<0?(re+=ue,re<0&&(re=0)):re>ue&&(re=ue),re<j&&(re=j);const me=this.subarray(j,re);return Object.setPrototypeOf(me,a.prototype),me};function S(se,j,re){if(se%1!==0||se<0)throw new RangeError("offset is not uint");if(se+j>re)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(j,re,ue){j=j>>>0,re=re>>>0,ue||S(j,re,this.length);let me=this[j],Be=1,Ae=0;for(;++Ae<re&&(Be*=256);)me+=this[j+Ae]*Be;return me},a.prototype.readUintBE=a.prototype.readUIntBE=function(j,re,ue){j=j>>>0,re=re>>>0,ue||S(j,re,this.length);let me=this[j+--re],Be=1;for(;re>0&&(Be*=256);)me+=this[j+--re]*Be;return me},a.prototype.readUint8=a.prototype.readUInt8=function(j,re){return j=j>>>0,re||S(j,1,this.length),this[j]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(j,re){return j=j>>>0,re||S(j,2,this.length),this[j]|this[j+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(j,re){return j=j>>>0,re||S(j,2,this.length),this[j]<<8|this[j+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(j,re){return j=j>>>0,re||S(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(j,re){return j=j>>>0,re||S(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},a.prototype.readBigUInt64LE=ye(function(j){j=j>>>0,fe(j,"offset");const re=this[j],ue=this[j+7];(re===void 0||ue===void 0)&&Te(j,this.length-8);const me=re+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,Be=this[++j]+this[++j]*2**8+this[++j]*2**16+ue*2**24;return BigInt(me)+(BigInt(Be)<<BigInt(32))}),a.prototype.readBigUInt64BE=ye(function(j){j=j>>>0,fe(j,"offset");const re=this[j],ue=this[j+7];(re===void 0||ue===void 0)&&Te(j,this.length-8);const me=re*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],Be=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ue;return(BigInt(me)<<BigInt(32))+BigInt(Be)}),a.prototype.readIntLE=function(j,re,ue){j=j>>>0,re=re>>>0,ue||S(j,re,this.length);let me=this[j],Be=1,Ae=0;for(;++Ae<re&&(Be*=256);)me+=this[j+Ae]*Be;return Be*=128,me>=Be&&(me-=Math.pow(2,8*re)),me},a.prototype.readIntBE=function(j,re,ue){j=j>>>0,re=re>>>0,ue||S(j,re,this.length);let me=re,Be=1,Ae=this[j+--me];for(;me>0&&(Be*=256);)Ae+=this[j+--me]*Be;return Be*=128,Ae>=Be&&(Ae-=Math.pow(2,8*re)),Ae},a.prototype.readInt8=function(j,re){return j=j>>>0,re||S(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},a.prototype.readInt16LE=function(j,re){j=j>>>0,re||S(j,2,this.length);const ue=this[j]|this[j+1]<<8;return ue&32768?ue|4294901760:ue},a.prototype.readInt16BE=function(j,re){j=j>>>0,re||S(j,2,this.length);const ue=this[j+1]|this[j]<<8;return ue&32768?ue|4294901760:ue},a.prototype.readInt32LE=function(j,re){return j=j>>>0,re||S(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},a.prototype.readInt32BE=function(j,re){return j=j>>>0,re||S(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},a.prototype.readBigInt64LE=ye(function(j){j=j>>>0,fe(j,"offset");const re=this[j],ue=this[j+7];(re===void 0||ue===void 0)&&Te(j,this.length-8);const me=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ue<<24);return(BigInt(me)<<BigInt(32))+BigInt(re+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),a.prototype.readBigInt64BE=ye(function(j){j=j>>>0,fe(j,"offset");const re=this[j],ue=this[j+7];(re===void 0||ue===void 0)&&Te(j,this.length-8);const me=(re<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(me)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ue)}),a.prototype.readFloatLE=function(j,re){return j=j>>>0,re||S(j,4,this.length),r.read(this,j,!0,23,4)},a.prototype.readFloatBE=function(j,re){return j=j>>>0,re||S(j,4,this.length),r.read(this,j,!1,23,4)},a.prototype.readDoubleLE=function(j,re){return j=j>>>0,re||S(j,8,this.length),r.read(this,j,!0,52,8)},a.prototype.readDoubleBE=function(j,re){return j=j>>>0,re||S(j,8,this.length),r.read(this,j,!1,52,8)};function N(se,j,re,ue,me,Be){if(!a.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>me||j<Be)throw new RangeError('"value" argument is out of bounds');if(re+ue>se.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(j,re,ue,me){if(j=+j,re=re>>>0,ue=ue>>>0,!me){const ze=Math.pow(2,8*ue)-1;N(this,j,re,ue,ze,0)}let Be=1,Ae=0;for(this[re]=j&255;++Ae<ue&&(Be*=256);)this[re+Ae]=j/Be&255;return re+ue},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(j,re,ue,me){if(j=+j,re=re>>>0,ue=ue>>>0,!me){const ze=Math.pow(2,8*ue)-1;N(this,j,re,ue,ze,0)}let Be=ue-1,Ae=1;for(this[re+Be]=j&255;--Be>=0&&(Ae*=256);)this[re+Be]=j/Ae&255;return re+ue},a.prototype.writeUint8=a.prototype.writeUInt8=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,1,255,0),this[re]=j&255,re+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,2,65535,0),this[re]=j&255,this[re+1]=j>>>8,re+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,2,65535,0),this[re]=j>>>8,this[re+1]=j&255,re+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,4,4294967295,0),this[re+3]=j>>>24,this[re+2]=j>>>16,this[re+1]=j>>>8,this[re]=j&255,re+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,4,4294967295,0),this[re]=j>>>24,this[re+1]=j>>>16,this[re+2]=j>>>8,this[re+3]=j&255,re+4};function F(se,j,re,ue,me){V(j,ue,me,se,re,7);let Be=Number(j&BigInt(4294967295));se[re++]=Be,Be=Be>>8,se[re++]=Be,Be=Be>>8,se[re++]=Be,Be=Be>>8,se[re++]=Be;let Ae=Number(j>>BigInt(32)&BigInt(4294967295));return se[re++]=Ae,Ae=Ae>>8,se[re++]=Ae,Ae=Ae>>8,se[re++]=Ae,Ae=Ae>>8,se[re++]=Ae,re}function W(se,j,re,ue,me){V(j,ue,me,se,re,7);let Be=Number(j&BigInt(4294967295));se[re+7]=Be,Be=Be>>8,se[re+6]=Be,Be=Be>>8,se[re+5]=Be,Be=Be>>8,se[re+4]=Be;let Ae=Number(j>>BigInt(32)&BigInt(4294967295));return se[re+3]=Ae,Ae=Ae>>8,se[re+2]=Ae,Ae=Ae>>8,se[re+1]=Ae,Ae=Ae>>8,se[re]=Ae,re+8}a.prototype.writeBigUInt64LE=ye(function(j,re=0){return F(this,j,re,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ye(function(j,re=0){return W(this,j,re,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(j,re,ue,me){if(j=+j,re=re>>>0,!me){const $t=Math.pow(2,8*ue-1);N(this,j,re,ue,$t-1,-$t)}let Be=0,Ae=1,ze=0;for(this[re]=j&255;++Be<ue&&(Ae*=256);)j<0&&ze===0&&this[re+Be-1]!==0&&(ze=1),this[re+Be]=(j/Ae>>0)-ze&255;return re+ue},a.prototype.writeIntBE=function(j,re,ue,me){if(j=+j,re=re>>>0,!me){const $t=Math.pow(2,8*ue-1);N(this,j,re,ue,$t-1,-$t)}let Be=ue-1,Ae=1,ze=0;for(this[re+Be]=j&255;--Be>=0&&(Ae*=256);)j<0&&ze===0&&this[re+Be+1]!==0&&(ze=1),this[re+Be]=(j/Ae>>0)-ze&255;return re+ue},a.prototype.writeInt8=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,1,127,-128),j<0&&(j=255+j+1),this[re]=j&255,re+1},a.prototype.writeInt16LE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,2,32767,-32768),this[re]=j&255,this[re+1]=j>>>8,re+2},a.prototype.writeInt16BE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,2,32767,-32768),this[re]=j>>>8,this[re+1]=j&255,re+2},a.prototype.writeInt32LE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,4,2147483647,-2147483648),this[re]=j&255,this[re+1]=j>>>8,this[re+2]=j>>>16,this[re+3]=j>>>24,re+4},a.prototype.writeInt32BE=function(j,re,ue){return j=+j,re=re>>>0,ue||N(this,j,re,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[re]=j>>>24,this[re+1]=j>>>16,this[re+2]=j>>>8,this[re+3]=j&255,re+4},a.prototype.writeBigInt64LE=ye(function(j,re=0){return F(this,j,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ye(function(j,re=0){return W(this,j,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(se,j,re,ue,me,Be){if(re+ue>se.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("Index out of range")}function K(se,j,re,ue,me){return j=+j,re=re>>>0,me||D(se,j,re,4),r.write(se,j,re,ue,23,4),re+4}a.prototype.writeFloatLE=function(j,re,ue){return K(this,j,re,!0,ue)},a.prototype.writeFloatBE=function(j,re,ue){return K(this,j,re,!1,ue)};function z(se,j,re,ue,me){return j=+j,re=re>>>0,me||D(se,j,re,8),r.write(se,j,re,ue,52,8),re+8}a.prototype.writeDoubleLE=function(j,re,ue){return z(this,j,re,!0,ue)},a.prototype.writeDoubleBE=function(j,re,ue){return z(this,j,re,!1,ue)},a.prototype.copy=function(j,re,ue,me){if(!a.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),!me&&me!==0&&(me=this.length),re>=j.length&&(re=j.length),re||(re=0),me>0&&me<ue&&(me=ue),me===ue||j.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),j.length-re<me-ue&&(me=j.length-re+ue);const Be=me-ue;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(re,ue,me):Uint8Array.prototype.set.call(j,this.subarray(ue,me),re),Be},a.prototype.fill=function(j,re,ue,me){if(typeof j=="string"){if(typeof re=="string"?(me=re,re=0,ue=this.length):typeof ue=="string"&&(me=ue,ue=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!a.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(j.length===1){const Ae=j.charCodeAt(0);(me==="utf8"&&Ae<128||me==="latin1")&&(j=Ae)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(re<0||this.length<re||this.length<ue)throw new RangeError("Out of range index");if(ue<=re)return this;re=re>>>0,ue=ue===void 0?this.length:ue>>>0,j||(j=0);let Be;if(typeof j=="number")for(Be=re;Be<ue;++Be)this[Be]=j;else{const Ae=a.isBuffer(j)?j:a.from(j,me),ze=Ae.length;if(ze===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(Be=0;Be<ue-re;++Be)this[Be+re]=Ae[Be%ze]}return this};const G={};function te(se,j,re){G[se]=class extends re{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(se,j){return`The "${se}" argument must be of type number. Received type ${typeof j}`},TypeError),te("ERR_OUT_OF_RANGE",function(se,j,re){let ue=`The value of "${se}" is out of range.`,me=re;return Number.isInteger(re)&&Math.abs(re)>2**32?me=ie(String(re)):typeof re=="bigint"&&(me=String(re),(re>BigInt(2)**BigInt(32)||re<-(BigInt(2)**BigInt(32)))&&(me=ie(me)),me+="n"),ue+=` It must be ${j}. Received ${me}`,ue},RangeError);function ie(se){let j="",re=se.length;const ue=se[0]==="-"?1:0;for(;re>=ue+4;re-=3)j=`_${se.slice(re-3,re)}${j}`;return`${se.slice(0,re)}${j}`}function J(se,j,re){fe(j,"offset"),(se[j]===void 0||se[j+re]===void 0)&&Te(j,se.length-(re+1))}function V(se,j,re,ue,me,Be){if(se>re||se<j){const Ae=typeof j=="bigint"?"n":"";let ze;throw j===0||j===BigInt(0)?ze=`>= 0${Ae} and < 2${Ae} ** ${(Be+1)*8}${Ae}`:ze=`>= -(2${Ae} ** ${(Be+1)*8-1}${Ae}) and < 2 ** ${(Be+1)*8-1}${Ae}`,new G.ERR_OUT_OF_RANGE("value",ze,se)}J(ue,me,Be)}function fe(se,j){if(typeof se!="number")throw new G.ERR_INVALID_ARG_TYPE(j,"number",se)}function Te(se,j,re){throw Math.floor(se)!==se?(fe(se,re),new G.ERR_OUT_OF_RANGE("offset","an integer",se)):j<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,se)}const Re=/[^+/0-9A-Za-z-_]/g;function H(se){if(se=se.split("=")[0],se=se.trim().replace(Re,""),se.length<2)return"";for(;se.length%4!==0;)se=se+"=";return se}function oe(se,j){j=j||1/0;let re;const ue=se.length;let me=null;const Be=[];for(let Ae=0;Ae<ue;++Ae){if(re=se.charCodeAt(Ae),re>55295&&re<57344){if(!me){if(re>56319){(j-=3)>-1&&Be.push(239,191,189);continue}else if(Ae+1===ue){(j-=3)>-1&&Be.push(239,191,189);continue}me=re;continue}if(re<56320){(j-=3)>-1&&Be.push(239,191,189),me=re;continue}re=(me-55296<<10|re-56320)+65536}else me&&(j-=3)>-1&&Be.push(239,191,189);if(me=null,re<128){if((j-=1)<0)break;Be.push(re)}else if(re<2048){if((j-=2)<0)break;Be.push(re>>6|192,re&63|128)}else if(re<65536){if((j-=3)<0)break;Be.push(re>>12|224,re>>6&63|128,re&63|128)}else if(re<1114112){if((j-=4)<0)break;Be.push(re>>18|240,re>>12&63|128,re>>6&63|128,re&63|128)}else throw new Error("Invalid code point")}return Be}function ae(se){const j=[];for(let re=0;re<se.length;++re)j.push(se.charCodeAt(re)&255);return j}function ce(se,j){let re,ue,me;const Be=[];for(let Ae=0;Ae<se.length&&!((j-=2)<0);++Ae)re=se.charCodeAt(Ae),ue=re>>8,me=re%256,Be.push(me),Be.push(ue);return Be}function Oe(se){return e.toByteArray(H(se))}function _e(se,j,re,ue){let me;for(me=0;me<ue&&!(me+re>=j.length||me>=se.length);++me)j[me+re]=se[me];return me}function Ne(se,j){return se instanceof j||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===j.name}function wt(se){return se!==se}const ge=function(){const se="0123456789abcdef",j=new Array(256);for(let re=0;re<16;++re){const ue=re*16;for(let me=0;me<16;++me)j[ue+me]=se[re]+se[me]}return j}();function ye(se){return typeof BigInt>"u"?Ge:se}function Ge(){throw new Error("BigInt not supported")}})(Pe);var Cne={exports:{}},ys=Cne.exports={},Yl,Zl;function VB(){throw new Error("setTimeout has not been defined")}function GB(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yl=setTimeout:Yl=VB}catch{Yl=VB}try{typeof clearTimeout=="function"?Zl=clearTimeout:Zl=GB}catch{Zl=GB}})();function Pne(t){if(Yl===setTimeout)return setTimeout(t,0);if((Yl===VB||!Yl)&&setTimeout)return Yl=setTimeout,setTimeout(t,0);try{return Yl(t,0)}catch{try{return Yl.call(null,t,0)}catch{return Yl.call(this,t,0)}}}function PPe(t){if(Zl===clearTimeout)return clearTimeout(t);if((Zl===GB||!Zl)&&clearTimeout)return Zl=clearTimeout,clearTimeout(t);try{return Zl(t)}catch{try{return Zl.call(null,t)}catch{return Zl.call(this,t)}}}var fh=[],xb=!1,x0,Zk=-1;function NPe(){!xb||!x0||(xb=!1,x0.length?fh=x0.concat(fh):Zk=-1,fh.length&&Nne())}function Nne(){if(!xb){var t=Pne(NPe);xb=!0;for(var e=fh.length;e;){for(x0=fh,fh=[];++Zk<e;)x0&&x0[Zk].run();Zk=-1,e=fh.length}x0=null,xb=!1,PPe(t)}}ys.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];fh.push(new Bne(t,e)),fh.length===1&&!xb&&Pne(Nne)};function Bne(t,e){this.fun=t,this.array=e}Bne.prototype.run=function(){this.fun.apply(null,this.array)};ys.title="browser";ys.browser=!0;ys.env={};ys.argv=[];ys.version="";ys.versions={};function Uh(){}ys.on=Uh;ys.addListener=Uh;ys.once=Uh;ys.off=Uh;ys.removeListener=Uh;ys.removeAllListeners=Uh;ys.emit=Uh;ys.prependListener=Uh;ys.prependOnceListener=Uh;ys.listeners=function(t){return[]};ys.binding=function(t){throw new Error("process.binding is not supported")};ys.cwd=function(){return"/"};ys.chdir=function(t){throw new Error("process.chdir is not supported")};ys.umask=function(){return 0};var BPe=Cne.exports;(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pe,r=BPe,n=o=>o&&o.__esModule?o:{default:o},i=n(r),s=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>i.default}),t.global=s})(Ie);function iT(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function P9(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function OPe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");iT(t.outputLen),iT(t.blockLen)}function Pv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function One(t,e){P9(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const QC=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lne=t=>t instanceof Uint8Array,LPe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),JC=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Wl=(t,e)=>t<<32-e|t>>>e,DPe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!DPe)throw new Error("Non little-endian hardware is not supported");function FPe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function h6(t){if(typeof t=="string"&&(t=FPe(t)),!Lne(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function $Pe(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!Lne(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let N9=class{clone(){return this._cloneInto()}};function B9(t){const e=n=>t().update(h6(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function UPe(t=32){if(QC&&typeof QC.getRandomValues=="function")return QC.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let Dne=class extends N9{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,OPe(e);const n=h6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Pv(this),this.iHash.update(e),this}digestInto(e){Pv(this),P9(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Fne=(t,e,r)=>new Dne(t,e).update(r).digest();Fne.create=(t,e)=>new Dne(t,e);function zPe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,f=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+f,a,n)}class $ne extends N9{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=JC(this.buffer)}update(e){Pv(this);const{view:r,buffer:n,blockLen:i}=this;e=h6(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=JC(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pv(this),One(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let g=o;g<i;g++)r[g]=0;zPe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=JC(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)a.setUint32(4*g,d[g],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const WPe=(t,e,r)=>t&e^~t&r,KPe=(t,e,r)=>t&e^t&r^e&r,jPe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ip=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sp=new Uint32Array(64);let HPe=class extends $ne{constructor(){super(64,32,8,!1),this.A=ip[0]|0,this.B=ip[1]|0,this.C=ip[2]|0,this.D=ip[3]|0,this.E=ip[4]|0,this.F=ip[5]|0,this.G=ip[6]|0,this.H=ip[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)sp[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){const y=sp[g-15],b=sp[g-2],A=Wl(y,7)^Wl(y,18)^y>>>3,x=Wl(b,17)^Wl(b,19)^b>>>10;sp[g]=x+sp[g-7]+A+sp[g-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:f,H:d}=this;for(let g=0;g<64;g++){const y=Wl(a,6)^Wl(a,11)^Wl(a,25),b=d+y+WPe(a,u,f)+jPe[g]+sp[g]|0,x=(Wl(n,2)^Wl(n,13)^Wl(n,22))+KPe(n,i,s)|0;d=f,f=u,u=a,a=o+b|0,o=s,s=i,i=n,n=b+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,f,d)}roundClean(){sp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Une=B9(()=>new HPe),GE=BigInt(2**32-1),YB=BigInt(32);function zne(t,e=!1){return e?{h:Number(t&GE),l:Number(t>>YB&GE)}:{h:Number(t>>YB&GE)|0,l:Number(t&GE)|0}}function Wne(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=zne(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const qPe=(t,e)=>BigInt(t>>>0)<<YB|BigInt(e>>>0),VPe=(t,e,r)=>t>>>r,GPe=(t,e,r)=>t<<32-r|e>>>r,YPe=(t,e,r)=>t>>>r|e<<32-r,ZPe=(t,e,r)=>t<<32-r|e>>>r,XPe=(t,e,r)=>t<<64-r|e>>>r-32,QPe=(t,e,r)=>t>>>r-32|e<<64-r,JPe=(t,e)=>e,eNe=(t,e)=>t,Kne=(t,e,r)=>t<<r|e>>>32-r,jne=(t,e,r)=>e<<r|t>>>32-r,Hne=(t,e,r)=>e<<r-32|t>>>64-r,qne=(t,e,r)=>t<<r-32|e>>>64-r;function tNe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const rNe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),nNe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,iNe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),sNe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,oNe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),aNe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Hr={fromBig:zne,split:Wne,toBig:qPe,shrSH:VPe,shrSL:GPe,rotrSH:YPe,rotrSL:ZPe,rotrBH:XPe,rotrBL:QPe,rotr32H:JPe,rotr32L:eNe,rotlSH:Kne,rotlSL:jne,rotlBH:Hne,rotlBL:qne,add:tNe,add3L:rNe,add3H:nNe,add4L:iNe,add4H:sNe,add5H:aNe,add5L:oNe},[uNe,cNe]=Hr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),op=new Uint32Array(80),ap=new Uint32Array(80);let lNe=class extends $ne{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:f,El:d,Fh:g,Fl:y,Gh:b,Gl:A,Hh:x,Hl:k}=this;return[e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k]}set(e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=f|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=A|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let P=0;P<16;P++,r+=4)op[P]=e.getUint32(r),ap[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const O=op[P-15]|0,q=ap[P-15]|0,Q=Hr.rotrSH(O,q,1)^Hr.rotrSH(O,q,8)^Hr.shrSH(O,q,7),Y=Hr.rotrSL(O,q,1)^Hr.rotrSL(O,q,8)^Hr.shrSL(O,q,7),X=op[P-2]|0,Z=ap[P-2]|0,le=Hr.rotrSH(X,Z,19)^Hr.rotrBH(X,Z,61)^Hr.shrSH(X,Z,6),I=Hr.rotrSL(X,Z,19)^Hr.rotrBL(X,Z,61)^Hr.shrSL(X,Z,6),c=Hr.add4L(Y,I,ap[P-7],ap[P-16]),h=Hr.add4H(c,Q,le,op[P-7],op[P-16]);op[P]=h|0,ap[P]=c|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:f,Dl:d,Eh:g,El:y,Fh:b,Fl:A,Gh:x,Gl:k,Hh:R,Hl:C}=this;for(let P=0;P<80;P++){const O=Hr.rotrSH(g,y,14)^Hr.rotrSH(g,y,18)^Hr.rotrBH(g,y,41),q=Hr.rotrSL(g,y,14)^Hr.rotrSL(g,y,18)^Hr.rotrBL(g,y,41),Q=g&b^~g&x,Y=y&A^~y&k,X=Hr.add5L(C,q,Y,cNe[P],ap[P]),Z=Hr.add5H(X,R,O,Q,uNe[P],op[P]),le=X|0,I=Hr.rotrSH(n,i,28)^Hr.rotrBH(n,i,34)^Hr.rotrBH(n,i,39),c=Hr.rotrSL(n,i,28)^Hr.rotrBL(n,i,34)^Hr.rotrBL(n,i,39),h=n&s^n&a^s&a,p=i&o^i&u^o&u;R=x|0,C=k|0,x=b|0,k=A|0,b=g|0,A=y|0,{h:g,l:y}=Hr.add(f|0,d|0,Z|0,le|0),f=a|0,d=u|0,a=s|0,u=o|0,s=n|0,o=i|0;const m=Hr.add3L(le,c,p);n=Hr.add3H(m,Z,I,h),i=m|0}({h:n,l:i}=Hr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Hr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=Hr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:f,l:d}=Hr.add(this.Dh|0,this.Dl|0,f|0,d|0),{h:g,l:y}=Hr.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:A}=Hr.add(this.Fh|0,this.Fl|0,b|0,A|0),{h:x,l:k}=Hr.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:R,l:C}=Hr.add(this.Hh|0,this.Hl|0,R|0,C|0),this.set(n,i,s,o,a,u,f,d,g,y,b,A,x,k,R,C)}roundClean(){op.fill(0),ap.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const fNe=B9(()=>new lNe);function dNe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ie.global<"u")return Ie.global;throw new Error("unable to locate global object")}const HV=dNe();HV.crypto||HV.msCrypto;function hNe(t){switch(t){case"sha256":return Une.create();case"sha512":return fNe.create()}$e(!1,"invalid hashing algorithm name","algorithm",t)}const[Vne,Gne,Yne]=[[],[],[]],pNe=BigInt(0),$S=BigInt(1),gNe=BigInt(2),mNe=BigInt(7),yNe=BigInt(256),bNe=BigInt(113);for(let t=0,e=$S,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Vne.push(2*(5*n+r)),Gne.push((t+1)*(t+2)/2%64);let i=pNe;for(let s=0;s<7;s++)e=(e<<$S^(e>>mNe)*bNe)%yNe,e&gNe&&(i^=$S<<($S<<BigInt(s))-$S);Yne.push(i)}const[vNe,wNe]=Wne(Yne,!0),qV=(t,e,r)=>r>32?Hne(t,e,r):Kne(t,e,r),VV=(t,e,r)=>r>32?qne(t,e,r):jne(t,e,r);function SNe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=r[u],d=r[u+1],g=qV(f,d,1)^r[a],y=VV(f,d,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Gne[o],u=qV(i,s,a),f=VV(i,s,a),d=Vne[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=vNe[n],t[1]^=wNe[n]}r.fill(0)}let _Ne=class Zne extends N9{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,iT(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=LPe(this.state)}keccak(){SNe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Pv(this);const{blockLen:r,state:n}=this;e=h6(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Pv(this,!1),P9(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return iT(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(One(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Zne(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ANe=(t,e,r)=>B9(()=>new _Ne(e,t,r)),xNe=ANe(1,136,256/8);let Xne=!1;const Qne=function(t){return xNe(t)};let Jne=Qne;function Vi(t){const e=Fr(t,"data");return Zt(Jne(e))}Vi._=Qne;Vi.lock=function(){Xne=!0};Vi.register=function(t){if(Xne)throw new TypeError("keccak256 is locked");Jne=t};Object.freeze(Vi);const eie=function(t){return hNe("sha256").update(t).digest()};let tie=eie,rie=!1;function Aw(t){const e=Fr(t,"data");return Zt(tie(e))}Aw._=eie;Aw.lock=function(){rie=!0};Aw.register=function(t){if(rie)throw new Error("sha256 is locked");tie=t};Object.freeze(Aw);Object.freeze(Aw);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nie=BigInt(0),p6=BigInt(1),ENe=BigInt(2),g6=t=>t instanceof Uint8Array,kNe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Nv(t){if(!g6(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=kNe[t[r]];return e}function iie(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function O9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Bv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function am(t){return O9(Nv(t))}function L9(t){if(!g6(t))throw new Error("Uint8Array expected");return O9(Nv(Uint8Array.from(t).reverse()))}function Ov(t,e){return Bv(t.toString(16).padStart(e*2,"0"))}function D9(t,e){return Ov(t,e).reverse()}function TNe(t){return Bv(iie(t))}function Vc(t,e,r){let n;if(typeof e=="string")try{n=Bv(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(g6(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function wA(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!g6(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function INe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function RNe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function MNe(t){let e;for(e=0;t>nie;t>>=p6,e+=1);return e}function CNe(t,e){return t>>BigInt(e)&p6}const PNe=(t,e,r)=>t|(r?p6:nie)<<BigInt(e),F9=t=>(ENe<<BigInt(t-1))-p6,eP=t=>new Uint8Array(t),GV=t=>Uint8Array.from(t);function sie(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=eP(t),i=eP(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...g)=>r(i,n,...g),u=(g=eP())=>{i=a(GV([0]),g),n=a(),g.length!==0&&(i=a(GV([1]),g),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){n=a();const b=n.slice();y.push(b),g+=n.length}return wA(...y)};return(g,y)=>{o(),u(g);let b;for(;!(b=y(f()));)u();return o(),b}}const NNe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ux(t,e,r={}){const n=(i,s,o)=>{const a=NNe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const BNe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:CNe,bitLen:MNe,bitMask:F9,bitSet:PNe,bytesToHex:Nv,bytesToNumberBE:am,bytesToNumberLE:L9,concatBytes:wA,createHmacDrbg:sie,ensureBytes:Vc,equalBytes:INe,hexToBytes:Bv,hexToNumber:O9,numberToBytesBE:Ov,numberToBytesLE:D9,numberToHexUnpadded:iie,numberToVarBytesBE:TNe,utf8ToBytes:RNe,validateObject:Ux},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const so=BigInt(0),ps=BigInt(1),l0=BigInt(2),ONe=BigInt(3),ZB=BigInt(4),YV=BigInt(5),ZV=BigInt(8);BigInt(9);BigInt(16);function Ka(t,e){const r=t%e;return r>=so?r:e+r}function LNe(t,e,r){if(r<=so||e<so)throw new Error("Expected power/modulo > 0");if(r===ps)return so;let n=ps;for(;e>so;)e&ps&&(n=n*t%r),t=t*t%r,e>>=ps;return n}function ec(t,e,r){let n=t;for(;e-- >so;)n*=n,n%=r;return n}function XB(t,e){if(t===so||e<=so)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ka(t,e),n=e,i=so,s=ps;for(;r!==so;){const a=n/r,u=n%r,f=i-s*a;n=r,r=u,i=s,s=f}if(n!==ps)throw new Error("invert: does not exist");return Ka(i,e)}function DNe(t){const e=(t-ps)/l0;let r,n,i;for(r=t-ps,n=0;r%l0===so;r/=l0,n++);for(i=l0;i<t&&LNe(i,e,t)!==t-ps;i++);if(n===1){const o=(t+ps)/ZB;return function(u,f){const d=u.pow(f,o);if(!u.eql(u.sqr(d),f))throw new Error("Cannot find square root");return d}}const s=(r+ps)/l0;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,d=a.pow(a.mul(a.ONE,i),r),g=a.pow(u,s),y=a.pow(u,r);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let b=1;for(let x=a.sqr(y);b<f&&!a.eql(x,a.ONE);b++)x=a.sqr(x);const A=a.pow(d,ps<<BigInt(f-b-1));d=a.sqr(A),g=a.mul(g,A),y=a.mul(y,d),f=b}return g}}function FNe(t){if(t%ZB===ONe){const e=(t+ps)/ZB;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%ZV===YV){const e=(t-YV)/ZV;return function(n,i){const s=n.mul(i,l0),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,l0),o),f=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return DNe(t)}const $Ne=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function UNe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=$Ne.reduce((n,i)=>(n[i]="function",n),e);return Ux(t,r)}function zNe(t,e,r){if(r<so)throw new Error("Expected power > 0");if(r===so)return t.ONE;if(r===ps)return e;let n=t.ONE,i=e;for(;r>so;)r&ps&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ps;return n}function WNe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function oie(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function KNe(t,e,r=!1,n={}){if(t<=so)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=oie(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=FNe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:F9(i),ZERO:so,ONE:ps,create:u=>Ka(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return so<=u&&u<t},is0:u=>u===so,isOdd:u=>(u&ps)===ps,neg:u=>Ka(-u,t),eql:(u,f)=>u===f,sqr:u=>Ka(u*u,t),add:(u,f)=>Ka(u+f,t),sub:(u,f)=>Ka(u-f,t),mul:(u,f)=>Ka(u*f,t),pow:(u,f)=>zNe(a,u,f),div:(u,f)=>Ka(u*XB(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>XB(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>WNe(a,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>r?D9(u,s):Ov(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?L9(u):am(u)}});return Object.freeze(a)}function aie(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uie(t){const e=aie(t);return e+Math.ceil(e/2)}function jNe(t,e,r=!1){const n=t.length,i=aie(e),s=uie(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?am(t):L9(t),a=Ka(o,e-ps)+ps;return r?D9(a,i):Ov(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HNe=BigInt(0),tP=BigInt(1);function qNe(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>HNe;)s&tP&&(o=o.add(a)),a=a.double(),s>>=tP;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let f=i,d=f;for(let g=0;g<o;g++){d=f,u.push(d);for(let y=1;y<a;y++)d=d.add(f),u.push(d);f=d.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let f=t.ZERO,d=t.BASE;const g=BigInt(2**i-1),y=2**i,b=BigInt(i);for(let A=0;A<a;A++){const x=A*u;let k=Number(o&g);o>>=b,k>u&&(k-=y,o+=tP);const R=x,C=x+Math.abs(k)-1,P=A%2!==0,O=k<0;k===0?d=d.add(r(P,s[R])):f=f.add(r(O,s[C]))}return{p:f,f:d}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let f=s.get(i);return f||(f=this.precomputeWindow(i,u),u!==1&&s.set(i,a(f))),this.wNAF(u,f,o)}}}function cie(t){return UNe(t.Fp),Ux(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oie(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VNe(t){const e=cie(t);Ux(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:GNe,hexToBytes:YNe}=BNe,E0={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=E0;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:GNe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=E0,r=typeof t=="string"?YNe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=E0._parseInt(r.subarray(2)),{d:o,l:a}=E0._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,r=f=>{const d=f.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},th=BigInt(0),dc=BigInt(1);BigInt(2);const XV=BigInt(3);BigInt(4);function ZNe(t){const e=VNe(t),{Fp:r}=e,n=e.toBytes||((A,x,k)=>{const R=x.toAffine();return wA(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(A=>{const x=A.subarray(1),k=r.fromBytes(x.subarray(0,r.BYTES)),R=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:k,y:R}});function s(A){const{a:x,b:k}=e,R=r.sqr(A),C=r.mul(R,A);return r.add(r.add(C,r.mul(A,x)),k)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return typeof A=="bigint"&&th<A&&A<e.n}function a(A){if(!o(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(A){const{allowedPrivateKeyLengths:x,nByteLength:k,wrapPrivateKey:R,n:C}=e;if(x&&typeof A!="bigint"){if(A instanceof Uint8Array&&(A=Nv(A)),typeof A!="string"||!x.includes(A.length))throw new Error("Invalid key");A=A.padStart(k*2,"0")}let P;try{P=typeof A=="bigint"?A:am(Vc("private key",A,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof A}`)}return R&&(P=Ka(P,C)),a(P),P}const f=new Map;function d(A){if(!(A instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(x,k,R){if(this.px=x,this.py=k,this.pz=R,x==null||!r.isValid(x))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required")}static fromAffine(x){const{x:k,y:R}=x||{};if(!x||!r.isValid(k)||!r.isValid(R))throw new Error("invalid affine point");if(x instanceof g)throw new Error("projective point not allowed");const C=P=>r.eql(P,r.ZERO);return C(k)&&C(R)?g.ZERO:new g(k,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const k=r.invertBatch(x.map(R=>R.pz));return x.map((R,C)=>R.toAffine(k[C])).map(g.fromAffine)}static fromHex(x){const k=g.fromAffine(i(Vc("pointHex",x)));return k.assertValidity(),k}static fromPrivateKey(x){return g.BASE.multiply(u(x))}_setWindowSize(x){this._WINDOW_SIZE=x,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:k}=this.toAffine();if(!r.isValid(x)||!r.isValid(k))throw new Error("bad point: x or y not FE");const R=r.sqr(k),C=s(x);if(!r.eql(R,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:k,py:R,pz:C}=this,{px:P,py:O,pz:q}=x,Q=r.eql(r.mul(k,q),r.mul(P,C)),Y=r.eql(r.mul(R,q),r.mul(O,C));return Q&&Y}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:k}=e,R=r.mul(k,XV),{px:C,py:P,pz:O}=this;let q=r.ZERO,Q=r.ZERO,Y=r.ZERO,X=r.mul(C,C),Z=r.mul(P,P),le=r.mul(O,O),I=r.mul(C,P);return I=r.add(I,I),Y=r.mul(C,O),Y=r.add(Y,Y),q=r.mul(x,Y),Q=r.mul(R,le),Q=r.add(q,Q),q=r.sub(Z,Q),Q=r.add(Z,Q),Q=r.mul(q,Q),q=r.mul(I,q),Y=r.mul(R,Y),le=r.mul(x,le),I=r.sub(X,le),I=r.mul(x,I),I=r.add(I,Y),Y=r.add(X,X),X=r.add(Y,X),X=r.add(X,le),X=r.mul(X,I),Q=r.add(Q,X),le=r.mul(P,O),le=r.add(le,le),X=r.mul(le,I),q=r.sub(q,X),Y=r.mul(le,Z),Y=r.add(Y,Y),Y=r.add(Y,Y),new g(q,Q,Y)}add(x){d(x);const{px:k,py:R,pz:C}=this,{px:P,py:O,pz:q}=x;let Q=r.ZERO,Y=r.ZERO,X=r.ZERO;const Z=e.a,le=r.mul(e.b,XV);let I=r.mul(k,P),c=r.mul(R,O),h=r.mul(C,q),p=r.add(k,R),m=r.add(P,O);p=r.mul(p,m),m=r.add(I,c),p=r.sub(p,m),m=r.add(k,C);let v=r.add(P,q);return m=r.mul(m,v),v=r.add(I,h),m=r.sub(m,v),v=r.add(R,C),Q=r.add(O,q),v=r.mul(v,Q),Q=r.add(c,h),v=r.sub(v,Q),X=r.mul(Z,m),Q=r.mul(le,h),X=r.add(Q,X),Q=r.sub(c,X),X=r.add(c,X),Y=r.mul(Q,X),c=r.add(I,I),c=r.add(c,I),h=r.mul(Z,h),m=r.mul(le,m),c=r.add(c,h),h=r.sub(I,h),h=r.mul(Z,h),m=r.add(m,h),I=r.mul(c,m),Y=r.add(Y,I),I=r.mul(v,m),Q=r.mul(p,Q),Q=r.sub(Q,I),I=r.mul(p,c),X=r.mul(v,X),X=r.add(X,I),new g(Q,Y,X)}subtract(x){return this.add(x.negate())}is0(){return this.equals(g.ZERO)}wNAF(x){return b.wNAFCached(this,f,x,k=>{const R=r.invertBatch(k.map(C=>C.pz));return k.map((C,P)=>C.toAffine(R[P])).map(g.fromAffine)})}multiplyUnsafe(x){const k=g.ZERO;if(x===th)return k;if(a(x),x===dc)return this;const{endo:R}=e;if(!R)return b.unsafeLadder(this,x);let{k1neg:C,k1:P,k2neg:O,k2:q}=R.splitScalar(x),Q=k,Y=k,X=this;for(;P>th||q>th;)P&dc&&(Q=Q.add(X)),q&dc&&(Y=Y.add(X)),X=X.double(),P>>=dc,q>>=dc;return C&&(Q=Q.negate()),O&&(Y=Y.negate()),Y=new g(r.mul(Y.px,R.beta),Y.py,Y.pz),Q.add(Y)}multiply(x){a(x);let k=x,R,C;const{endo:P}=e;if(P){const{k1neg:O,k1:q,k2neg:Q,k2:Y}=P.splitScalar(k);let{p:X,f:Z}=this.wNAF(q),{p:le,f:I}=this.wNAF(Y);X=b.constTimeNegate(O,X),le=b.constTimeNegate(Q,le),le=new g(r.mul(le.px,P.beta),le.py,le.pz),R=X.add(le),C=Z.add(I)}else{const{p:O,f:q}=this.wNAF(k);R=O,C=q}return g.normalizeZ([R,C])[0]}multiplyAndAddUnsafe(x,k,R){const C=g.BASE,P=(q,Q)=>Q===th||Q===dc||!q.equals(C)?q.multiplyUnsafe(Q):q.multiply(Q),O=P(this,k).add(P(x,R));return O.is0()?void 0:O}toAffine(x){const{px:k,py:R,pz:C}=this,P=this.is0();x==null&&(x=P?r.ONE:r.inv(C));const O=r.mul(k,x),q=r.mul(R,x),Q=r.mul(C,x);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:O,y:q}}isTorsionFree(){const{h:x,isTorsionFree:k}=e;if(x===dc)return!0;if(k)return k(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:k}=e;return x===dc?this:k?k(g,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(g,this,x)}toHex(x=!0){return Nv(this.toRawBytes(x))}}g.BASE=new g(e.Gx,e.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);const y=e.nBitLength,b=qNe(g,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function XNe(t){const e=cie(t);return Ux(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function QNe(t){const e=XNe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(m){return th<m&&m<r.ORDER}function a(m){return Ka(m,n)}function u(m){return XB(m,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:g,isWithinCurveOrder:y}=ZNe({...e,toBytes(m,v,_){const T=v.toAffine(),w=r.toBytes(T.x),l=wA;return _?l(Uint8Array.from([v.hasEvenY()?2:3]),w):l(Uint8Array.from([4]),w,r.toBytes(T.y))},fromBytes(m){const v=m.length,_=m[0],T=m.subarray(1);if(v===i&&(_===2||_===3)){const w=am(T);if(!o(w))throw new Error("Point is not on curve");const l=g(w);let S=r.sqrt(l);const N=(S&dc)===dc;return(_&1)===1!==N&&(S=r.neg(S)),{x:w,y:S}}else if(v===s&&_===4){const w=r.fromBytes(T.subarray(0,r.BYTES)),l=r.fromBytes(T.subarray(r.BYTES,2*r.BYTES));return{x:w,y:l}}else throw new Error(`Point of length ${v} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),b=m=>Nv(Ov(m,e.nByteLength));function A(m){const v=n>>dc;return m>v}function x(m){return A(m)?a(-m):m}const k=(m,v,_)=>am(m.slice(v,_));class R{constructor(v,_,T){this.r=v,this.s=_,this.recovery=T,this.assertValidity()}static fromCompact(v){const _=e.nByteLength;return v=Vc("compactSignature",v,_*2),new R(k(v,0,_),k(v,_,2*_))}static fromDER(v){const{r:_,s:T}=E0.toSig(Vc("DER",v));return new R(_,T)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(v){return new R(this.r,this.s,v)}recoverPublicKey(v){const{r:_,s:T,recovery:w}=this,l=Y(Vc("msgHash",v));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");const S=w===2||w===3?_+e.n:_;if(S>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const N=w&1?"03":"02",F=f.fromHex(N+b(S)),W=u(S),D=a(-l*W),K=a(T*W),z=f.BASE.multiplyAndAddUnsafe(F,D,K);if(!z)throw new Error("point at infinify");return z.assertValidity(),z}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new R(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Bv(this.toDERHex())}toDERHex(){return E0.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Bv(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const C={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=uie(e.n);return jNe(e.randomBytes(m),e.n)},precompute(m=8,v=f.BASE){return v._setWindowSize(m),v.multiply(BigInt(3)),v}};function P(m,v=!0){return f.fromPrivateKey(m).toRawBytes(v)}function O(m){const v=m instanceof Uint8Array,_=typeof m=="string",T=(v||_)&&m.length;return v?T===i||T===s:_?T===2*i||T===2*s:m instanceof f}function q(m,v,_=!0){if(O(m))throw new Error("first arg must be private key");if(!O(v))throw new Error("second arg must be public key");return f.fromHex(v).multiply(d(m)).toRawBytes(_)}const Q=e.bits2int||function(m){const v=am(m),_=m.length*8-e.nBitLength;return _>0?v>>BigInt(_):v},Y=e.bits2int_modN||function(m){return a(Q(m))},X=F9(e.nBitLength);function Z(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(th<=m&&m<X))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ov(m,e.nByteLength)}function le(m,v,_=I){if(["recovered","canonical"].some(te=>te in _))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:w}=e;let{lowS:l,prehash:S,extraEntropy:N}=_;l==null&&(l=!0),m=Vc("msgHash",m),S&&(m=Vc("prehashed msgHash",T(m)));const F=Y(m),W=d(v),D=[Z(W),Z(F)];if(N!=null){const te=N===!0?w(r.BYTES):N;D.push(Vc("extraEntropy",te))}const K=wA(...D),z=F;function G(te){const ie=Q(te);if(!y(ie))return;const J=u(ie),V=f.BASE.multiply(ie).toAffine(),fe=a(V.x);if(fe===th)return;const Te=a(J*a(z+fe*W));if(Te===th)return;let Re=(V.x===fe?0:2)|Number(V.y&dc),H=Te;return l&&A(Te)&&(H=x(Te),Re^=1),new R(fe,H,Re)}return{seed:K,k2sig:G}}const I={lowS:e.lowS,prehash:!1},c={lowS:e.lowS,prehash:!1};function h(m,v,_=I){const{seed:T,k2sig:w}=le(m,v,_),l=e;return sie(l.hash.outputLen,l.nByteLength,l.hmac)(T,w)}f.BASE._setWindowSize(8);function p(m,v,_,T=c){var V;const w=m;if(v=Vc("msgHash",v),_=Vc("publicKey",_),"strict"in T)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:S}=T;let N,F;try{if(typeof w=="string"||w instanceof Uint8Array)try{N=R.fromDER(w)}catch(fe){if(!(fe instanceof E0.Err))throw fe;N=R.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){const{r:fe,s:Te}=w;N=new R(fe,Te)}else throw new Error("PARSE");F=f.fromHex(_)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&N.hasHighS())return!1;S&&(v=e.hash(v));const{r:W,s:D}=N,K=Y(v),z=u(D),G=a(K*z),te=a(W*z),ie=(V=f.BASE.multiplyAndAddUnsafe(F,G,te))==null?void 0:V.toAffine();return ie?a(ie.x)===W:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:q,sign:h,verify:p,ProjectivePoint:f,Signature:R,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function JNe(t){return{hash:t,hmac:(e,...r)=>Fne(t,e,$Pe(...r)),randomBytes:UPe}}function e5e(t,e){const r=n=>QNe({...t,...JNe(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lie=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),QV=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),t5e=BigInt(1),QB=BigInt(2),JV=(t,e)=>(t+e/QB)/e;function r5e(t){const e=lie,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),f=t*t*t%e,d=f*f*t%e,g=ec(d,r,e)*d%e,y=ec(g,r,e)*d%e,b=ec(y,QB,e)*f%e,A=ec(b,i,e)*b%e,x=ec(A,s,e)*A%e,k=ec(x,a,e)*x%e,R=ec(k,u,e)*k%e,C=ec(R,a,e)*x%e,P=ec(C,r,e)*d%e,O=ec(P,o,e)*A%e,q=ec(O,n,e)*f%e,Q=ec(q,QB,e);if(!JB.eql(JB.sqr(Q),t))throw new Error("Cannot find square root");return Q}const JB=KNe(lie,void 0,void 0,{sqrt:r5e}),wp=e5e({a:BigInt(0),b:BigInt(7),Fp:JB,n:QV,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=QV,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-t5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=JV(s*t,e),u=JV(-n*t,e);let f=Ka(t-a*r-u*i,e),d=Ka(-a*n-u*s,e);const g=f>o,y=d>o;if(g&&(f=e-f),y&&(d=e-d),f>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:f,k2neg:y,k2:d}}}},Une);BigInt(0);wp.ProjectivePoint;const SA="0x0000000000000000000000000000000000000000",eG="0x0000000000000000000000000000000000000000000000000000000000000000",tG=BigInt(0),rG=BigInt(1),nG=BigInt(2),iG=BigInt(27),sG=BigInt(28),YE=BigInt(35),Ky={};function oG(t){return Rf(Zo(t),32)}var Qb,Jb,ev,V0,Ua;let Ih=(Ua=class{constructor(e,r,n,i){ot(this,Qb);ot(this,Jb);ot(this,ev);ot(this,V0);$x(e,Ky,"Signature"),Me(this,Qb,r),Me(this,Jb,n),Me(this,ev,i),Me(this,V0,null)}get r(){return de(this,Qb)}set r(e){$e(om(e)===32,"invalid r","value",e),Me(this,Qb,Zt(e))}get s(){return de(this,Jb)}set s(e){$e(om(e)===32,"invalid s","value",e);const r=Zt(e);$e(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),Me(this,Jb,r)}get v(){return de(this,ev)}set v(e){const r=Kr(e,"value");$e(r===27||r===28,"invalid v","v",e),Me(this,ev,r)}get networkV(){return de(this,V0)}get legacyChainId(){const e=this.networkV;return e==null?null:Ua.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Fr(this.s);return this.yParity&&(e[0]|=128),Zt(e)}get compactSerialized(){return Gi([this.r,this.yParityAndS])}get serialized(){return Gi([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Ua(Ky,this.r,this.s,this.v);return this.networkV&&Me(e,V0,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Jt(e,"v");return r==iG||r==sG?tG:($e(r>=YE,"invalid EIP-155 v","v",e),(r-YE)/nG)}static getChainIdV(e,r){return Jt(e)*nG+BigInt(35+r-27)}static getNormalizedV(e){const r=Jt(e);return r===tG||r===iG?27:r===rG||r===sG?28:($e(r>=YE,"invalid v","v",e),r&rG?27:28)}static from(e){function r(f,d){$e(f,d,"signature",e)}if(e==null)return new Ua(Ky,eG,eG,27);if(typeof e=="string"){const f=Fr(e,"signature");if(f.length===64){const d=Zt(f.slice(0,32)),g=f.slice(32,64),y=g[0]&128?28:27;return g[0]&=127,new Ua(Ky,d,Zt(g),y)}if(f.length===65){const d=Zt(f.slice(0,32)),g=f.slice(32,64);r((g[0]&128)===0,"non-canonical s");const y=Ua.getNormalizedV(f[64]);return new Ua(Ky,d,Zt(g),y)}r(!1,"invalid raw signature length")}if(e instanceof Ua)return e.clone();const n=e.r;r(n!=null,"missing r");const i=oG(n),s=function(f,d){if(f!=null)return oG(f);if(d!=null){r(xi(d,32),"invalid yParityAndS");const g=Fr(d);return g[0]&=127,Zt(g)}r(!1,"missing s")}(e.s,e.yParityAndS);r((Fr(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(f,d,g){if(f!=null){const y=Jt(f);return{networkV:y>=YE?y:void 0,v:Ua.getNormalizedV(y)}}if(d!=null)return r(xi(d,32),"invalid yParityAndS"),{v:Fr(d)[0]&128?28:27};if(g!=null){switch(Kr(g,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),u=new Ua(Ky,i,s,a);return o&&Me(u,V0,o),r(e.yParity==null||Kr(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}},Qb=new WeakMap,Jb=new WeakMap,ev=new WeakMap,V0=new WeakMap,Ua);var qd;const S0=class S0{constructor(e){ot(this,qd);$e(om(e)===32,"invalid private key","privateKey","[REDACTED]"),Me(this,qd,Zt(e))}get privateKey(){return de(this,qd)}get publicKey(){return S0.computePublicKey(de(this,qd))}get compressedPublicKey(){return S0.computePublicKey(de(this,qd),!0)}sign(e){$e(om(e)===32,"invalid digest length","digest",e);const r=wp.sign(ma(e),ma(de(this,qd)),{lowS:!0});return Ih.from({r:dg(r.r,32),s:dg(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=S0.computePublicKey(e);return Zt(wp.getSharedSecret(ma(de(this,qd)),Fr(r),!1))}static computePublicKey(e,r){let n=Fr(e,"key");if(n.length===32){const s=wp.getPublicKey(n,!!r);return Zt(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=wp.ProjectivePoint.fromHex(n);return Zt(i.toRawBytes(r))}static recoverPublicKey(e,r){$e(om(e)===32,"invalid digest length","digest",e);const n=Ih.from(r);let i=wp.Signature.fromCompact(ma(Gi([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(ma(e));return $e(s!=null,"invalid signautre for digest","signature",r),"0x"+s.toHex(!1)}static addPoints(e,r,n){const i=wp.ProjectivePoint.fromHex(S0.computePublicKey(e).substring(2)),s=wp.ProjectivePoint.fromHex(S0.computePublicKey(r).substring(2));return"0x"+i.add(s).toHex(!!n)}};qd=new WeakMap;let _A=S0;const n5e=BigInt(0),i5e=BigInt(36);function aG(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Fr(Vi(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const $9={};for(let t=0;t<10;t++)$9[String(t)]=String(t);for(let t=0;t<26;t++)$9[String.fromCharCode(65+t)]=String(10+t);const uG=15;function s5e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>$9[n]).join("");for(;e.length>=uG;){let n=e.substring(0,uG);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const o5e=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function a5e(t){t=t.toLowerCase();let e=n5e;for(let r=0;r<t.length;r++)e=e*i5e+o5e[t[r]];return e}function ni(t){if($e(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=aG(t);return $e(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){$e(t.substring(2,4)===s5e(t),"bad icap checksum","address",t);let e=a5e(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return aG("0x"+e)}$e(!1,"invalid address","address",t)}function u5e(t){const e=ni(t.from);let n=Jt(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ni(ts(Vi(pm([e,n])),12))}function fie(t){return t&&typeof t.getAddress=="function"}async function rP(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(St(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),$e(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ni(r)}function ba(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ni(t):(St(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),rP(t,e.resolveName(t)));if(fie(t))return rP(t,t.getAddress());if(t&&typeof t.then=="function")return rP(t,t);$e(!1,"unsupported addressable value","target",t)}const Nd={};function Yt(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Xo(Nd,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Rn(t,e){return new Xo(Nd,`bytes${e||""}`,t,{size:e})}const cG=Symbol.for("_ethers_typed");var G0;const Fd=class Fd{constructor(e,r,n,i){Ue(this,"type");Ue(this,"value");ot(this,G0);Ue(this,"_typedSymbol");i==null&&(i=null),$x(Nd,e,"Typed"),Sr(this,{_typedSymbol:cG,type:r,value:n}),Me(this,G0,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return de(this,G0)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return de(this,G0)===!0?-1:de(this,G0)===!1?this.value.length:null}static from(e,r){return new Fd(Nd,e,r)}static uint8(e){return Yt(e,8)}static uint16(e){return Yt(e,16)}static uint24(e){return Yt(e,24)}static uint32(e){return Yt(e,32)}static uint40(e){return Yt(e,40)}static uint48(e){return Yt(e,48)}static uint56(e){return Yt(e,56)}static uint64(e){return Yt(e,64)}static uint72(e){return Yt(e,72)}static uint80(e){return Yt(e,80)}static uint88(e){return Yt(e,88)}static uint96(e){return Yt(e,96)}static uint104(e){return Yt(e,104)}static uint112(e){return Yt(e,112)}static uint120(e){return Yt(e,120)}static uint128(e){return Yt(e,128)}static uint136(e){return Yt(e,136)}static uint144(e){return Yt(e,144)}static uint152(e){return Yt(e,152)}static uint160(e){return Yt(e,160)}static uint168(e){return Yt(e,168)}static uint176(e){return Yt(e,176)}static uint184(e){return Yt(e,184)}static uint192(e){return Yt(e,192)}static uint200(e){return Yt(e,200)}static uint208(e){return Yt(e,208)}static uint216(e){return Yt(e,216)}static uint224(e){return Yt(e,224)}static uint232(e){return Yt(e,232)}static uint240(e){return Yt(e,240)}static uint248(e){return Yt(e,248)}static uint256(e){return Yt(e,256)}static uint(e){return Yt(e,256)}static int8(e){return Yt(e,-8)}static int16(e){return Yt(e,-16)}static int24(e){return Yt(e,-24)}static int32(e){return Yt(e,-32)}static int40(e){return Yt(e,-40)}static int48(e){return Yt(e,-48)}static int56(e){return Yt(e,-56)}static int64(e){return Yt(e,-64)}static int72(e){return Yt(e,-72)}static int80(e){return Yt(e,-80)}static int88(e){return Yt(e,-88)}static int96(e){return Yt(e,-96)}static int104(e){return Yt(e,-104)}static int112(e){return Yt(e,-112)}static int120(e){return Yt(e,-120)}static int128(e){return Yt(e,-128)}static int136(e){return Yt(e,-136)}static int144(e){return Yt(e,-144)}static int152(e){return Yt(e,-152)}static int160(e){return Yt(e,-160)}static int168(e){return Yt(e,-168)}static int176(e){return Yt(e,-176)}static int184(e){return Yt(e,-184)}static int192(e){return Yt(e,-192)}static int200(e){return Yt(e,-200)}static int208(e){return Yt(e,-208)}static int216(e){return Yt(e,-216)}static int224(e){return Yt(e,-224)}static int232(e){return Yt(e,-232)}static int240(e){return Yt(e,-240)}static int248(e){return Yt(e,-248)}static int256(e){return Yt(e,-256)}static int(e){return Yt(e,-256)}static bytes1(e){return Rn(e,1)}static bytes2(e){return Rn(e,2)}static bytes3(e){return Rn(e,3)}static bytes4(e){return Rn(e,4)}static bytes5(e){return Rn(e,5)}static bytes6(e){return Rn(e,6)}static bytes7(e){return Rn(e,7)}static bytes8(e){return Rn(e,8)}static bytes9(e){return Rn(e,9)}static bytes10(e){return Rn(e,10)}static bytes11(e){return Rn(e,11)}static bytes12(e){return Rn(e,12)}static bytes13(e){return Rn(e,13)}static bytes14(e){return Rn(e,14)}static bytes15(e){return Rn(e,15)}static bytes16(e){return Rn(e,16)}static bytes17(e){return Rn(e,17)}static bytes18(e){return Rn(e,18)}static bytes19(e){return Rn(e,19)}static bytes20(e){return Rn(e,20)}static bytes21(e){return Rn(e,21)}static bytes22(e){return Rn(e,22)}static bytes23(e){return Rn(e,23)}static bytes24(e){return Rn(e,24)}static bytes25(e){return Rn(e,25)}static bytes26(e){return Rn(e,26)}static bytes27(e){return Rn(e,27)}static bytes28(e){return Rn(e,28)}static bytes29(e){return Rn(e,29)}static bytes30(e){return Rn(e,30)}static bytes31(e){return Rn(e,31)}static bytes32(e){return Rn(e,32)}static address(e){return new Fd(Nd,"address",e)}static bool(e){return new Fd(Nd,"bool",!!e)}static bytes(e){return new Fd(Nd,"bytes",e)}static string(e){return new Fd(Nd,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Fd(Nd,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===cG}static dereference(e,r){if(Fd.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};G0=new WeakMap;let Xo=Fd;class c5e extends $h{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Xo.dereference(r,"string");try{n=ni(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return ni(dg(e.readValue(),20))}}class l5e extends $h{constructor(r){super(r.name,r.type,"_",r.dynamic);Ue(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function die(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=e.map(f=>{const d=f.localName;return St(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:r}),St(!u[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:r}),u[d]=!0,r[d]})}else $e(!1,"invalid tuple value","tuple",r);$e(e.length===n.length,"types/value length mismatch","tuple",r);let i=new jB,s=new jB,o=[];e.forEach((u,f)=>{let d=n[f];if(u.dynamic){let g=s.length;u.encode(s,d);let y=i.writeUpdatableValue();o.push(b=>{y(b+g)})}else u.encode(i,d)}),o.forEach(u=>{u(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function hie(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),u=i.subReader(a);try{o=s.decode(u)}catch(f){if(ko(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(ko(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");r.push(o),n.push(s.localName||null)}),Cv.fromItems(r,n)}class f5e extends $h{constructor(r,n,i){const s=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",s,i,o);Ue(this,"coder");Ue(this,"length");Sr(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=Xo.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,r.writeValue(i.length)),gne(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return die(r,o,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),St(n*ya<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*ya,length:r.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new l5e(this.coder));return hie(r,i)}}class d5e extends $h{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Xo.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class pie extends $h{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ma(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class h5e extends pie{constructor(e){super("bytes",e)}decode(e){return Zt(super.decode(e))}}class p5e extends $h{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);Ue(this,"size");Sr(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=ma(Xo.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return Zt(r.readBytes(this.size))}}const g5e=new Uint8Array([]);class m5e extends $h{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(g5e)}decode(e){return e.readBytes(0),null}}const y5e=BigInt(0),b5e=BigInt(1),v5e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class w5e extends $h{constructor(r,n,i){const s=(n?"int":"uint")+r*8;super(s,s,i,!1);Ue(this,"size");Ue(this,"signed");Sr(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=Jt(Xo.dereference(n,this.type)),s=A0(v5e,ya*8);if(this.signed){let o=A0(s,this.size*8-1);(i>o||i<-(o+b5e))&&this._throwError("value out-of-bounds",n),i=I9(i,8*ya)}else(i<y5e||i>A0(s,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=A0(r.readValue(),this.size*8);return this.signed&&(n=tT(n,this.size*8)),n}}class S5e extends pie{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Mf(Xo.dereference(r,"string")))}decode(e){return rT(super.decode(e))}}class ZE extends $h{constructor(r,n){let i=!1;const s=[];r.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,n,i);Ue(this,"coders");Sr(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[s]))}),Object.freeze(r)}encode(r,n){const i=Xo.dereference(n,"tuple");return die(r,this.coders,i)}decode(r){return hie(r,this.coders)}}function gm(t){return Vi(Mf(t))}var _5e="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const lG=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),fG=4;function A5e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let q=1;q<n;q++)s.push(i+=r());let o=r(),a=e;e+=o;let u=0,f=0;function d(){return u==0&&(f=f<<8|t[e++],u=8),f>>--u&1}const g=31,y=2**g,b=y>>>1,A=b>>1,x=y-1;let k=0;for(let q=0;q<g;q++)k=k<<1|d();let R=[],C=0,P=y;for(;;){let q=Math.floor(((k-C+1)*i-1)/P),Q=0,Y=n;for(;Y-Q>1;){let le=Q+Y>>>1;q<s[le]?Y=le:Q=le}if(Q==0)break;R.push(Q);let X=C+Math.floor(P*s[Q]/i),Z=C+Math.floor(P*s[Q+1]/i)-1;for(;!((X^Z)&b);)k=k<<1&x|d(),X=X<<1&x,Z=Z<<1&x|1;for(;X&~Z&A;)k=k&b|k<<1&x>>>1|d(),X=X<<1^b,Z=(Z^b)<<1|b|1;C=X,P=1+Z-X}let O=n-4;return R.map(q=>{switch(q-O){case 3:return O+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return O+256+(t[a++]<<8|t[a++]);case 1:return O+t[a++];default:return q-1}})}function x5e(t){let e=0;return()=>t[e++]}function gie(t){return x5e(A5e(E5e(t)))}function E5e(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function k5e(t){return t&1?~t>>1:t>>1}function T5e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=k5e(e());return r}function AA(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function mie(t){return xA(()=>{let e=AA(t);if(e.length)return e})}function yie(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(I5e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(R5e(r,t))}return e.flat()}function xA(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function bie(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)T5e(t,r).forEach((s,o)=>n[o].push(s));return n}function I5e(t,e){let r=1+e(),n=e(),i=xA(e);return bie(i.length,1+t,e).flatMap((o,a)=>{let[u,...f]=o;return Array(i[a]).fill().map((d,g)=>{let y=g*n;return[u+g*r,f.map(b=>b+y)]})})}function R5e(t,e){let r=1+e();return bie(r,1+t,e).map(i=>[i[0],i.slice(1)])}function M5e(t){let e=[],r=AA(t);return i(n([]),[]),e;function n(s){let o=t(),a=xA(()=>{let u=AA(t).map(f=>r[f]);if(u.length)return n(u)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,u){if(!(s&4&&u===a[a.length-1])){s&2&&(u=a[a.length-1]),s&1&&e.push(a);for(let f of o)for(let d of f.Q)i(f,[...a,d],u)}}}function C5e(t){return t.toString(16).toUpperCase().padStart(2,"0")}function vie(t){return`{${C5e(t)}}`}function P5e(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function Lv(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function N5e(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var B5e="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const EA=44032,sT=4352,oT=4449,aT=4519,wie=19,Sie=21,Dv=28,uT=Sie*Dv,O5e=wie*uT,L5e=EA+O5e,D5e=sT+wie,F5e=oT+Sie,$5e=aT+Dv;function w_(t){return t>>24&255}function _ie(t){return t&16777215}let eO,dG,tO,Xk;function U5e(){let t=gie(B5e);eO=new Map(mie(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),dG=new Set(AA(t)),tO=new Map,Xk=new Map;for(let[e,r]of yie(t)){if(!dG.has(e)&&r.length==2){let[n,i]=r,s=Xk.get(n);s||(s=new Map,Xk.set(n,s)),s.set(i,e)}tO.set(e,r.reverse())}}function Aie(t){return t>=EA&&t<L5e}function z5e(t,e){if(t>=sT&&t<D5e&&e>=oT&&e<F5e)return EA+(t-sT)*uT+(e-oT)*Dv;if(Aie(t)&&e>aT&&e<$5e&&(t-EA)%Dv==0)return t+(e-aT);{let r=Xk.get(t);return r&&(r=r.get(e),r)?r:-1}}function xie(t){eO||U5e();let e=[],r=[],n=!1;function i(s){let o=eO.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Aie(s)){let o=s-EA,a=o/uT|0,u=o%uT/Dv|0,f=o%Dv;i(sT+a),i(oT+u),f>0&&i(aT+f)}else{let o=tO.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=w_(e[0]);for(let o=1;o<e.length;o++){let a=w_(e[o]);if(a==0||s<=a){s=a;continue}let u=o-1;for(;;){let f=e[u+1];if(e[u+1]=e[u],e[u]=f,!u||(s=w_(e[--u]),s<=a))break}s=w_(e[o])}}return e}function W5e(t){let e=[],r=[],n=-1,i=0;for(let s of t){let o=w_(s),a=_ie(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let u=z5e(n,a);u>=0?n=u:i==0&&o==0?(e.push(n),n=a):(r.push(a),i=o)}}return n>=0&&e.push(n,...r),e}function Eie(t){return xie(t).map(_ie)}function K5e(t){return W5e(xie(t))}const hG=45,kie=".",Tie=65039,Iie=1,cT=t=>Array.from(t);function kA(t,e){return t.P.has(e)||t.Q.has(e)}class j5e extends Array{get is_emoji(){return!0}}let rO,Rie,k0,nO,Mie,Eb,nP,c1,s0,pG,iO;function U9(){if(rO)return;let t=gie(_5e);const e=()=>AA(t),r=()=>new Set(e()),n=(d,g)=>g.forEach(y=>d.add(y));rO=new Map(yie(t)),Rie=r(),k0=e(),nO=new Set(e().map(d=>k0[d])),k0=new Set(k0),Mie=r(),r();let i=mie(t),s=t();const o=()=>{let d=new Set;return e().forEach(g=>n(d,i[g])),n(d,e()),d};Eb=xA(d=>{let g=xA(t).map(y=>y+96);if(g.length){let y=d>=s;g[0]-=32,g=Lv(g),y&&(g=`Restricted[${g}]`);let b=o(),A=o(),x=!t();return{N:g,P:b,Q:A,M:x,R:y}}}),nP=r(),c1=new Map;let a=e().concat(cT(nP)).sort((d,g)=>d-g);a.forEach((d,g)=>{let y=t(),b=a[g]=y?a[g-y]:{V:[],M:new Map};b.V.push(d),nP.has(d)||c1.set(d,b)});for(let{V:d,M:g}of new Set(c1.values())){let y=[];for(let A of d){let x=Eb.filter(R=>kA(R,A)),k=y.find(({G:R})=>x.some(C=>R.has(C)));k||(k={G:new Set,V:[]},y.push(k)),k.V.push(A),n(k.G,x)}let b=y.flatMap(A=>cT(A.G));for(let{G:A,V:x}of y){let k=new Set(b.filter(R=>!A.has(R)));for(let R of x)g.set(R,k)}}s0=new Set;let u=new Set;const f=d=>s0.has(d)?u.add(d):s0.add(d);for(let d of Eb){for(let g of d.P)f(g);for(let g of d.Q)f(g)}for(let d of s0)!c1.has(d)&&!u.has(d)&&c1.set(d,Iie);n(s0,Eie(s0)),pG=M5e(t).map(d=>j5e.from(d)).sort(N5e),iO=new Map;for(let d of pG){let g=[iO];for(let y of d){let b=g.map(A=>{let x=A.get(y);return x||(x=new Map,A.set(y,x)),x});y===Tie?g.push(...b):g=b}for(let y of g)y.V=d}}function z9(t){return(Cie(t)?"":`${W9(m6([t]))} `)+vie(t)}function W9(t){return`"${t}"‎`}function H5e(t){if(t.length>=4&&t[2]==hG&&t[3]==hG)throw new Error(`invalid label extension: "${Lv(t.slice(0,4))}"`)}function q5e(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function V5e(t){let e=t[0],r=lG.get(e);if(r)throw J_(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let o=lG.get(e);if(o){if(i==s)throw J_(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw J_(`trailing ${r}`)}function m6(t,e=1/0,r=vie){let n=[];G5e(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];Cie(a)&&(n.push(Lv(t.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(Lv(t.slice(i,s))),n.join("")}function G5e(t){return U9(),k0.has(t)}function Cie(t){return U9(),Mie.has(t)}function Y5e(t){return J5e(Z5e(t,K5e,rBe))}function Z5e(t,e,r){if(!t)return[];U9();let n=0;return t.split(kie).map(i=>{let s=P5e(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=tBe(s,e,r),u=a.length,f;if(!u)throw new Error("empty label");let d=o.output=a.flat();if(q5e(d),!(o.emoji=u>1||a[0].is_emoji)&&d.every(y=>y<128))H5e(d),f="ASCII";else{let y=a.flatMap(b=>b.is_emoji?[]:b);if(!y.length)f="Emoji";else{if(k0.has(d[0]))throw J_("leading combining mark");for(let x=1;x<u;x++){let k=a[x];if(!k.is_emoji&&k0.has(k[0]))throw J_(`emoji + combining mark: "${Lv(a[x-1])} + ${m6([k[0]])}"`)}V5e(d);let b=cT(new Set(y)),[A]=Q5e(b);eBe(A,y),X5e(A,b),f=A.N}}o.type=f}catch(a){o.error=a}return o})}function X5e(t,e){let r,n=[];for(let i of e){let s=c1.get(i);if(s===Iie)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):cT(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>kA(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function Q5e(t){let e=Eb;for(let r of t){let n=e.filter(i=>kA(i,r));if(!n.length)throw Eb.some(i=>kA(i,r))?Nie(e[0],r):Pie(r);if(e=n,n.length==1)break}return e}function J5e(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${W9(m6(e,63))}: ${i}`)}return Lv(n)}).join(kie)}function Pie(t){return new Error(`disallowed character: ${z9(t)}`)}function Nie(t,e){let r=z9(e),n=Eb.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function J_(t){return new Error(`illegal placement: ${t}`)}function eBe(t,e){for(let r of e)if(!kA(t,r))throw Nie(t,r);if(t.M){let r=Eie(e);for(let n=1,i=r.length;n<i;n++)if(nO.has(r[n])){let s=n+1;for(let o;s<i&&nO.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${z9(o)}`);if(s-n>fG)throw new Error(`excessive non-spacing marks: ${W9(m6(r.slice(n-1,s)))} (${s-n}/${fG})`);n=s}}}function tBe(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=nBe(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let o=t.pop();if(s0.has(o))i.push(o);else{let a=rO.get(o);if(a)i.push(...a);else if(!Rie.has(o))throw Pie(o)}}}return i.length&&n.push(e(i)),n}function rBe(t){return t.filter(e=>e!=Tie)}function nBe(t,e){let r=iO,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}const Bie=new Uint8Array(32);Bie.fill(0);function gG(t){return $e(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Oie(t){const e=Mf(iBe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(gG(e.slice(n,i))),n=i+1);return $e(n<e.length,"invalid ENS name; empty component","name",t),r.push(gG(e.slice(n))),r}function iBe(t){try{if(t.length===0)throw new Error("empty label");return Y5e(t)}catch(e){$e(!1,`invalid ENS name (${e.message})`,"name",t)}}function sO(t){$e(typeof t=="string","invalid ENS name; not a string","name",t),$e(t.length,"invalid ENS name (empty label)","name",t);let e=Bie;const r=Oie(t);for(;r.length;)e=Vi(Gi([e,Vi(r.pop())]));return Zt(e)}function sBe(t,e){const r=e;return $e(r<=255,"DNS encoded label cannot exceed 255","length",r),Zt(Gi(Oie(t).map(n=>{$e(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}function iP(t,e){return{address:ni(t),storageKeys:e.map((r,n)=>($e(xi(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Xm(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?($e(r.length===2,"invalid slot set",`value[${n}]`,r),iP(r[0],r[1])):($e(r!=null&&typeof r=="object","invalid address-slot set","value",t),iP(r.address,r.storageKeys)));$e(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return iP(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function oBe(t){let e;return typeof t=="string"?e=_A.computePublicKey(t,!1):e=t.publicKey,ni(Vi("0x"+e.substring(4)).substring(26))}function aBe(t,e){return oBe(_A.recoverPublicKey(t,e))}const to=BigInt(0),uBe=BigInt(2),cBe=BigInt(27),lBe=BigInt(28),fBe=BigInt(35),dBe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),sP=4096*32;function mG(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Aw(e).substring(4),"0x"+r}function y6(t){return t==="0x"?null:ni(t)}function K9(t,e){try{return Xm(t)}catch(r){$e(!1,r.message,e,t)}}function zx(t,e){return t==="0x"?0:Kr(t,e)}function gs(t,e){if(t==="0x")return to;const r=Jt(t,e);return $e(r<=dBe,"value exceeds uint size",e,r),r}function Bi(t,e){const r=Jt(t,"value"),n=Zo(r);return $e(n.length<=32,"value too large",`tx.${e}`,r),n}function j9(t){return Xm(t).map(e=>[e.address,e.storageKeys])}function hBe(t,e){$e(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)$e(xi(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function pBe(t){const e=f6(t);$e(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:zx(e[0],"nonce"),gasPrice:gs(e[1],"gasPrice"),gasLimit:gs(e[2],"gasLimit"),to:y6(e[3]),value:gs(e[4],"value"),data:Zt(e[5]),chainId:to};if(e.length===6)return r;const n=gs(e[6],"v"),i=gs(e[7],"r"),s=gs(e[8],"s");if(i===to&&s===to)r.chainId=n;else{let o=(n-fBe)/uBe;o<to&&(o=to),r.chainId=o,$e(o!==to||n===cBe||n===lBe,"non-canonical legacy v","v",e[6]),r.signature=Ih.from({r:Rf(e[7],32),s:Rf(e[8],32),v:n})}return r}function gBe(t,e){const r=[Bi(t.nonce,"nonce"),Bi(t.gasPrice||0,"gasPrice"),Bi(t.gasLimit,"gasLimit"),t.to||"0x",Bi(t.value,"value"),t.data];let n=to;if(t.chainId!=to)n=Jt(t.chainId,"tx.chainId"),$e(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==to&&(r.push(Zo(n)),r.push("0x"),r.push("0x")),pm(r);let i=BigInt(27+e.yParity);return n!==to?i=Ih.getChainIdV(n,e.v):BigInt(e.v)!==i&&$e(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Zo(i)),r.push(Zo(e.r)),r.push(Zo(e.s)),pm(r)}function H9(t,e){let r;try{if(r=zx(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{$e(!1,"invalid yParity","yParity",e[0])}const n=Rf(e[1],32),i=Rf(e[2],32),s=Ih.from({r:n,s:i,yParity:r});t.signature=s}function mBe(t){const e=f6(Fr(t).slice(1));$e(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Zt(t));const r={type:2,chainId:gs(e[0],"chainId"),nonce:zx(e[1],"nonce"),maxPriorityFeePerGas:gs(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gs(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gs(e[4],"gasLimit"),to:y6(e[5]),value:gs(e[6],"value"),data:Zt(e[7]),accessList:K9(e[8],"accessList")};return e.length===9||H9(r,e.slice(9)),r}function yBe(t,e){const r=[Bi(t.chainId,"chainId"),Bi(t.nonce,"nonce"),Bi(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Bi(t.maxFeePerGas||0,"maxFeePerGas"),Bi(t.gasLimit,"gasLimit"),t.to||"0x",Bi(t.value,"value"),t.data,j9(t.accessList||[])];return e&&(r.push(Bi(e.yParity,"yParity")),r.push(Zo(e.r)),r.push(Zo(e.s))),Gi(["0x02",pm(r)])}function bBe(t){const e=f6(Fr(t).slice(1));$e(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Zt(t));const r={type:1,chainId:gs(e[0],"chainId"),nonce:zx(e[1],"nonce"),gasPrice:gs(e[2],"gasPrice"),gasLimit:gs(e[3],"gasLimit"),to:y6(e[4]),value:gs(e[5],"value"),data:Zt(e[6]),accessList:K9(e[7],"accessList")};return e.length===8||H9(r,e.slice(8)),r}function vBe(t,e){const r=[Bi(t.chainId,"chainId"),Bi(t.nonce,"nonce"),Bi(t.gasPrice||0,"gasPrice"),Bi(t.gasLimit,"gasLimit"),t.to||"0x",Bi(t.value,"value"),t.data,j9(t.accessList||[])];return e&&(r.push(Bi(e.yParity,"recoveryParam")),r.push(Zo(e.r)),r.push(Zo(e.s))),Gi(["0x01",pm(r)])}function wBe(t){let e=f6(Fr(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const s=e[1],o=e[2],a=e[3];$e(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),$e(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),$e(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),$e(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),$e(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let u=0;u<e[1].length;u++)n.push({data:s[u],commitment:o[u],proof:a[u]});e=e[0]}$e(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",Zt(t));const i={type:3,chainId:gs(e[0],"chainId"),nonce:zx(e[1],"nonce"),maxPriorityFeePerGas:gs(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gs(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gs(e[4],"gasLimit"),to:y6(e[5]),value:gs(e[6],"value"),data:Zt(e[7]),accessList:K9(e[8],"accessList"),maxFeePerBlobGas:gs(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),$e(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),$e(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)$e(xi(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||H9(i,e.slice(11)),i}function SBe(t,e,r){const n=[Bi(t.chainId,"chainId"),Bi(t.nonce,"nonce"),Bi(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Bi(t.maxFeePerGas||0,"maxFeePerGas"),Bi(t.gasLimit,"gasLimit"),t.to||SA,Bi(t.value,"value"),t.data,j9(t.accessList||[]),Bi(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),hBe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Bi(e.yParity,"yParity")),n.push(Zo(e.r)),n.push(Zo(e.s)),r)?Gi(["0x03",pm([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):Gi(["0x03",pm(n)])}var ef,tv,rv,nv,iv,sv,ov,av,uv,cv,lv,fv,Y0,Np,Vd,Bp,dv,Qk,hc;let Lie=(hc=class{constructor(){ot(this,dv);ot(this,ef);ot(this,tv);ot(this,rv);ot(this,nv);ot(this,iv);ot(this,sv);ot(this,ov);ot(this,av);ot(this,uv);ot(this,cv);ot(this,lv);ot(this,fv);ot(this,Y0);ot(this,Np);ot(this,Vd);ot(this,Bp);Me(this,ef,null),Me(this,tv,null),Me(this,nv,0),Me(this,iv,to),Me(this,sv,null),Me(this,ov,null),Me(this,av,null),Me(this,rv,"0x"),Me(this,uv,to),Me(this,cv,to),Me(this,lv,null),Me(this,fv,null),Me(this,Y0,null),Me(this,Np,null),Me(this,Bp,null),Me(this,Vd,null)}get type(){return de(this,ef)}set type(e){switch(e){case null:Me(this,ef,null);break;case 0:case"legacy":Me(this,ef,0);break;case 1:case"berlin":case"eip-2930":Me(this,ef,1);break;case 2:case"london":case"eip-1559":Me(this,ef,2);break;case 3:case"cancun":case"eip-4844":Me(this,ef,3);break;default:$e(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=de(this,tv);return e==null&&this.type===3?SA:e}set to(e){Me(this,tv,e==null?null:ni(e))}get nonce(){return de(this,nv)}set nonce(e){Me(this,nv,Kr(e,"value"))}get gasLimit(){return de(this,iv)}set gasLimit(e){Me(this,iv,Jt(e))}get gasPrice(){const e=de(this,sv);return e==null&&(this.type===0||this.type===1)?to:e}set gasPrice(e){Me(this,sv,e==null?null:Jt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=de(this,ov);return e??(this.type===2||this.type===3?to:null)}set maxPriorityFeePerGas(e){Me(this,ov,e==null?null:Jt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=de(this,av);return e??(this.type===2||this.type===3?to:null)}set maxFeePerGas(e){Me(this,av,e==null?null:Jt(e,"maxFeePerGas"))}get data(){return de(this,rv)}set data(e){Me(this,rv,Zt(e))}get value(){return de(this,uv)}set value(e){Me(this,uv,Jt(e,"value"))}get chainId(){return de(this,cv)}set chainId(e){Me(this,cv,Jt(e))}get signature(){return de(this,lv)||null}set signature(e){Me(this,lv,e==null?null:Ih.from(e))}get accessList(){const e=de(this,fv)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){Me(this,fv,e==null?null:Xm(e))}get maxFeePerBlobGas(){const e=de(this,Y0);return e==null&&this.type===3?to:e}set maxFeePerBlobGas(e){Me(this,Y0,e==null?null:Jt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=de(this,Np);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){$e(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)$e(xi(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}Me(this,Np,e)}get blobs(){return de(this,Bp)==null?null:de(this,Bp).map(e=>Object.assign({},e))}set blobs(e){if(e==null){Me(this,Bp,null);return}const r=[],n=[];for(let i=0;i<e.length;i++){const s=e[i];if(T9(s)){St(de(this,Vd),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Fr(s);if($e(o.length<=sP,"blob is too large",`blobs[${i}]`,s),o.length!==sP){const f=new Uint8Array(sP);f.set(o),o=f}const a=de(this,Vd).blobToKzgCommitment(o),u=Zt(de(this,Vd).computeBlobKzgProof(o,a));r.push({data:Zt(o),commitment:Zt(a),proof:u}),n.push(mG(1,a))}else{const o=Zt(s.commitment);r.push({data:Zt(s.data),commitment:o,proof:Zt(s.proof)}),n.push(mG(1,o))}}Me(this,Bp,r),Me(this,Np,n)}get kzg(){return de(this,Vd)}set kzg(e){Me(this,Vd,e)}get hash(){return this.signature==null?null:Vi(kt(this,dv,Qk).call(this,!0,!1))}get unsignedHash(){return Vi(this.unsignedSerialized)}get from(){return this.signature==null?null:aBe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:_A.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return kt(this,dv,Qk).call(this,!0,!0)}get unsignedSerialized(){return kt(this,dv,Qk).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=de(this,Y0)!=null||de(this,Np);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&St(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),St(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),St(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):r?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return hc.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new hc;if(typeof e=="string"){const n=Fr(e);if(n[0]>=127)return hc.from(pBe(n));switch(n[0]){case 1:return hc.from(bBe(n));case 2:return hc.from(mBe(n));case 3:return hc.from(wBe(n))}St(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new hc;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Ih.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&($e(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),$e(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&($e(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),$e(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}},ef=new WeakMap,tv=new WeakMap,rv=new WeakMap,nv=new WeakMap,iv=new WeakMap,sv=new WeakMap,ov=new WeakMap,av=new WeakMap,uv=new WeakMap,cv=new WeakMap,lv=new WeakMap,fv=new WeakMap,Y0=new WeakMap,Np=new WeakMap,Vd=new WeakMap,Bp=new WeakMap,dv=new WeakSet,Qk=function(e,r){St(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return gBe(this,n);case 1:return vBe(this,n);case 2:return yBe(this,n);case 3:return SBe(this,n,r?this.blobs:null)}St(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})},hc);const _Be=new RegExp("^bytes([0-9]+)$"),ABe=new RegExp("^(u?int)([0-9]*)$"),xBe=new RegExp("^(.*)\\[([0-9]*)\\]$");function Die(t,e,r){switch(t){case"address":return Fr(r?Rf(e,32):ni(e));case"string":return Mf(e);case"bytes":return Fr(e);case"bool":return e=e?"0x01":"0x00",Fr(r?Rf(e,32):e)}let n=t.match(ABe);if(n){let i=n[1]==="int",s=parseInt(n[2]||"256");return $e((!n[2]||n[2]===String(s))&&s%8===0&&s!==0&&s<=256,"invalid number type","type",t),r&&(s=256),i&&(e=I9(e,s)),Fr(Rf(Zo(e),s/8))}if(n=t.match(_Be),n){const i=parseInt(n[1]);return $e(String(i)===n[1]&&i!==0&&i<=32,"invalid bytes type","type",t),$e(om(e)===i,`invalid value for ${t}`,"value",e),r?Fr(bne(e,32)):e}if(n=t.match(xBe),n&&Array.isArray(e)){const i=n[1],s=parseInt(n[2]||String(e.length));$e(s===e.length,`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(Die(i,a,!0))}),Fr(Gi(o))}$e(!1,"invalid type","type",t)}function EBe(t,e){$e(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(Die(n,e[i]))}),Zt(Gi(r))}function eg(t,e){return Vi(EBe(t,e))}const Fie=new Uint8Array(32);Fie.fill(0);const kBe=BigInt(-1),$ie=BigInt(0),Uie=BigInt(1),TBe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function IBe(t){const e=Fr(t),r=e.length%32;return r?Gi([e,Fie.slice(r)]):Zt(e)}const RBe=dg(Uie,32),MBe=dg($ie,32),yG={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},oP=["name","version","chainId","verifyingContract","salt"];function bG(t){return function(e){return $e(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const CBe={name:bG("name"),version:bG("version"),chainId:function(t){const e=Jt(t,"domain.chainId");return $e(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Y1(e)},verifyingContract:function(t){try{return ni(t).toLowerCase()}catch{}$e(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Fr(t,"domain.salt");return $e(e.length===32,'invalid domain value "salt"',"domain.salt",t),Zt(e)}};function aP(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);$e(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=A0(TBe,r?n-1:n),s=r?(i+Uie)*kBe:$ie;return function(o){const a=Jt(o,"value");return $e(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),dg(r?I9(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return $e(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=Fr(n);return $e(i.length===r,`invalid length for ${t}`,"value",n),IBe(n)}}}switch(t){case"address":return function(e){return Rf(ni(e),32)};case"bool":return function(e){return e?RBe:MBe};case"bytes":return function(e){return Vi(e)};case"string":return function(e){return gm(e)}}return null}function vG(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function XE(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var kx,Gd,hv,QI,zie;const sc=class sc{constructor(e){ot(this,QI);Ue(this,"primaryType");ot(this,kx);ot(this,Gd);ot(this,hv);Me(this,Gd,new Map),Me(this,hv,new Map);const r=new Map,n=new Map,i=new Map,s={};Object.keys(e).forEach(u=>{s[u]=e[u].map(({name:f,type:d})=>{let{base:g,index:y}=XE(d);return g==="int"&&!e.int&&(g="int256"),g==="uint"&&!e.uint&&(g="uint256"),{name:f,type:g+(y||"")}}),r.set(u,new Set),n.set(u,[]),i.set(u,new Set)}),Me(this,kx,JSON.stringify(s));for(const u in s){const f=new Set;for(const d of s[u]){$e(!f.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(u)}`,"types",e),f.add(d.name);const g=XE(d.type).base;$e(g!==u,`circular type reference to ${JSON.stringify(g)}`,"types",e),!aP(g)&&($e(n.has(g),`unknown type ${JSON.stringify(g)}`,"types",e),n.get(g).push(u),r.get(u).add(g))}}const o=Array.from(n.keys()).filter(u=>n.get(u).length===0);$e(o.length!==0,"missing primary type","types",e),$e(o.length===1,`ambiguous primary types or unused types: ${o.map(u=>JSON.stringify(u)).join(", ")}`,"types",e),Sr(this,{primaryType:o[0]});function a(u,f){$e(!f.has(u),`circular type reference to ${JSON.stringify(u)}`,"types",e),f.add(u);for(const d of r.get(u))if(n.has(d)){a(d,f);for(const g of f)i.get(g).add(d)}f.delete(u)}a(this.primaryType,new Set);for(const[u,f]of i){const d=Array.from(f);d.sort(),de(this,Gd).set(u,vG(u,s[u])+d.map(g=>vG(g,s[g])).join(""))}}get types(){return JSON.parse(de(this,kx))}getEncoder(e){let r=de(this,hv).get(e);return r||(r=kt(this,QI,zie).call(this,e),de(this,hv).set(e,r)),r}encodeType(e){const r=de(this,Gd).get(e);return $e(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Vi(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(aP(e))return n(e,r);const i=XE(e).array;if(i)return $e(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(o=>this._visit(i.prefix,o,n));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:u})=>(o[a]=this._visit(u,r[a],n),o),{});$e(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new sc(e)}static getPrimaryType(e){return sc.from(e).primaryType}static hashStruct(e,r,n){return sc.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=yG[n];$e(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>oP.indexOf(n.name)-oP.indexOf(i.name)),sc.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Gi(["0x1901",sc.hashDomain(e),sc.from(r).hash(n)])}static hash(e,r,n){return Vi(sc.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!xi(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=sc.from(r);o.visit(n,(a,u)=>(a==="address"&&!xi(u,20)&&(s[u]="0x"),u));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,u)=>a==="address"&&s[u]?s[u]:u),{domain:e,value:n}}static getPayload(e,r,n){sc.hashDomain(e);const i={},s=[];oP.forEach(u=>{const f=e[u];f!=null&&(i[u]=CBe[u](f),s.push({name:u,type:yG[u]}))});const o=sc.from(r);r=o.types;const a=Object.assign({},r);return $e(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(u,f)=>{if(u.match(/^bytes(\d*)/))return Zt(Fr(f));if(u.match(/^u?int/))return Jt(f).toString();switch(u){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return $e(typeof f=="string","invalid string","value",f),f}$e(!1,"unsupported type","type",u)})}}};kx=new WeakMap,Gd=new WeakMap,hv=new WeakMap,QI=new WeakSet,zie=function(e){{const i=aP(e);if(i)return i}const r=XE(e).array;if(r){const i=r.prefix,s=this.getEncoder(i);return o=>{$e(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(s);return de(this,Gd).has(i)&&(a=a.map(Vi)),Vi(Gi(a))}}const n=this.types[e];if(n){const i=gm(de(this,Gd).get(e));return s=>{const o=n.map(({name:a,type:u})=>{const f=this.getEncoder(u)(s[a]);return de(this,Gd).has(u)?Vi(f):f});return o.unshift(i),Gi(o)}}$e(!1,`unknown type: ${e}`,"type",e)};let lT=sc;function va(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const PBe="external public payable override",NBe=va(PBe.split(" ")),Wie="constant external internal payable private public pure view override",BBe=va(Wie.split(" ")),Kie="constructor error event fallback function receive struct",jie=va(Kie.split(" ")),Hie="calldata memory storage payable indexed",OBe=va(Hie.split(" ")),LBe="tuple returns",DBe=[Kie,Hie,LBe,Wie].join(" "),FBe=va(DBe.split(" ")),$Be={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},UBe=new RegExp("^(\\s*)"),zBe=new RegExp("^([0-9]+)"),WBe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),qie=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Vie=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var vo,Qc,Tx,oO;const JI=class JI{constructor(e){ot(this,Tx);ot(this,vo);ot(this,Qc);Me(this,vo,0),Me(this,Qc,e.slice())}get offset(){return de(this,vo)}get length(){return de(this,Qc).length-de(this,vo)}clone(){return new JI(de(this,Qc))}reset(){Me(this,vo,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=kt(this,Tx,oO).call(this,de(this,vo)+1,e.match+1);return Me(this,vo,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;de(this,vo)<e.match-1;){const n=this.peek().linkNext;r.push(kt(this,Tx,oO).call(this,de(this,vo)+1,n)),Me(this,vo,n)}return Me(this,vo,e.match+1),r}peek(){if(de(this,vo)>=de(this,Qc).length)throw new Error("out-of-bounds");return de(this,Qc)[de(this,vo)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return BS(this,vo)._++,e}toString(){const e=[];for(let r=de(this,vo);r<de(this,Qc).length;r++){const n=de(this,Qc)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};vo=new WeakMap,Qc=new WeakMap,Tx=new WeakSet,oO=function(e=0,r=0){return new JI(de(this,Qc).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let ml=JI;function Ig(t){const e=[],r=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let n=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(UBe);a&&(s+=a[1].length,o=t.substring(s));const u={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(u);let f=$Be[o[0]]||"";if(f){if(u.type=f,u.text=o[0],s++,f==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),u.match=n.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1;else if(f==="COMMA")u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(f==="OPEN_BRACKET")u.type="BRACKET";else if(f==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const g=e.pop().text;d=g+d,e[e.length-1].value=Kr(g)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(a=o.match(WBe),a){if(u.text=a[1],s+=u.text.length,FBe.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(Vie)){u.type="TYPE";continue}u.type="ID";continue}if(a=o.match(zBe),a){u.text=a[1],u.type="NUMBER",s+=u.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new ml(e.map(o=>Object.freeze(o)))}function wG(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function b6(t,e){if(e.peekKeyword(jie)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Rh(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function Gie(t){let e=Rh(t,BBe);return wG(e,va("constant payable nonpayable".split(" "))),wG(e,va("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function yh(t,e){return t.popParams().map(r=>Io.from(r,e))}function Yie(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Jt(t.pop().text);throw new Error("invalid gas")}return null}function mm(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const KBe=new RegExp(/^(.*)\[([0-9]*)\]$/);function SG(t){const e=t.match(Vie);if($e(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);$e(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);$e(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Hi={},tu=Symbol.for("_ethers_internal"),_G="_ParamTypeInternal",AG="_ErrorInternal",xG="_EventInternal",EG="_ConstructorInternal",kG="_FallbackInternal",TG="_FunctionInternal",IG="_StructInternal";var pv,Jk;const oc=class oc{constructor(e,r,n,i,s,o,a,u){ot(this,pv);Ue(this,"name");Ue(this,"type");Ue(this,"baseType");Ue(this,"indexed");Ue(this,"components");Ue(this,"arrayLength");Ue(this,"arrayChildren");if($x(e,Hi,"ParamType"),Object.defineProperty(this,tu,{value:_G}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||u==null)throw new Error("")}else if(a!=null||u!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Sr(this,{name:r,type:n,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:u})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return kt(this,pv,Jk).call(this,n,e,r,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(oc.isParamType(e))return e;if(typeof e=="string")try{return oc.from(Ig(e),r)}catch{$e(!1,"invalid param type","obj",e)}else if(e instanceof ml){let a="",u="",f=null;Rh(e,va(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(u="tuple",f=e.popParams().map(x=>oc.from(x)),a=`tuple(${f.map(x=>x.format()).join(",")})`):(a=SG(e.popType("TYPE")),u=a);let d=null,g=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();d=new oc(Hi,"",a,u,null,f,g,d),g=x.value,a+=x.text,u="array",f=null}let y=null;if(Rh(e,OBe).has("indexed")){if(!r)throw new Error("");y=!0}const A=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new oc(Hi,A,a,u,y,f,g,d)}const n=e.name;$e(!n||typeof n=="string"&&n.match(qie),"invalid name","obj.name",n);let i=e.indexed;i!=null&&($e(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(KBe);if(o){const a=parseInt(o[2]||"-1"),u=oc.from({type:o[1],components:e.components});return new oc(Hi,n||"",s,"array",i,null,a,u)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(f=>oc.from(f)):null;return new oc(Hi,n||"",s,"tuple",i,a,null,null)}return s=SG(e.type),new oc(Hi,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[tu]===_G}};pv=new WeakSet,Jk=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((u,f)=>{var d;kt(d=o,pv,Jk).call(d,e,u,n,g=>{a[f]=g})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(u=>{if(!u.name)throw new Error("cannot use object value with unnamed components");if(!(u.name in r))throw new Error(`missing value for component ${u.name}`);return r[u.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((u,f)=>{var d;kt(d=o[f],pv,Jk).call(d,e,u,n,g=>{a[f]=g})}),i(a);return}const s=n(this.type,r);s.then?e.push(async function(){i(await s)}()):i(s)};let Io=oc;class ym{constructor(e,r,n){Ue(this,"type");Ue(this,"inputs");$x(e,Hi,"Fragment"),n=Object.freeze(n.slice()),Sr(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{ym.from(JSON.parse(e))}catch{}return ym.from(Ig(e))}if(e instanceof ml)switch(e.peekKeyword(jie)){case"constructor":return dh.from(e);case"error":return Ga.from(e);case"event":return ff.from(e);case"fallback":case"receive":return Ud.from(e);case"function":return df.from(e);case"struct":return um.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return dh.from(e);case"error":return Ga.from(e);case"event":return ff.from(e);case"fallback":case"receive":return Ud.from(e);case"function":return df.from(e);case"struct":return um.from(e)}St(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}$e(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return dh.isFragment(e)}static isError(e){return Ga.isFragment(e)}static isEvent(e){return ff.isFragment(e)}static isFunction(e){return df.isFragment(e)}static isStruct(e){return um.isFragment(e)}}class v6 extends ym{constructor(r,n,i,s){super(r,n,s);Ue(this,"name");$e(typeof i=="string"&&i.match(qie),"invalid identifier","name",i),s=Object.freeze(s.slice()),Sr(this,{name:i})}}function TA(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Ga extends v6{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,tu,{value:AG})}get selector(){return gm(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+TA(e,this.inputs)),r.join(" ")}static from(e){if(Ga.isFragment(e))return e;if(typeof e=="string")return Ga.from(Ig(e));if(e instanceof ml){const r=b6("error",e),n=yh(e);return mm(e),new Ga(Hi,r,n)}return new Ga(Hi,e.name,e.inputs?e.inputs.map(Io.from):[])}static isFragment(e){return e&&e[tu]===AG}}class ff extends v6{constructor(r,n,i,s){super(r,"event",n,i);Ue(this,"anonymous");Object.defineProperty(this,tu,{value:xG}),Sr(this,{anonymous:s})}get topicHash(){return gm(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+TA(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(s=>Io.from(s)),new ff(Hi,r,n,!1).topicHash}static from(r){if(ff.isFragment(r))return r;if(typeof r=="string")try{return ff.from(Ig(r))}catch{$e(!1,"invalid event fragment","obj",r)}else if(r instanceof ml){const n=b6("event",r),i=yh(r,!0),s=!!Rh(r,va(["anonymous"])).has("anonymous");return mm(r),new ff(Hi,n,i,s)}return new ff(Hi,r.name,r.inputs?r.inputs.map(n=>Io.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[tu]===xG}}class dh extends ym{constructor(r,n,i,s,o){super(r,n,i);Ue(this,"payable");Ue(this,"gas");Object.defineProperty(this,tu,{value:EG}),Sr(this,{payable:s,gas:o})}format(r){if(St(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${TA(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(dh.isFragment(r))return r;if(typeof r=="string")try{return dh.from(Ig(r))}catch{$e(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof ml){Rh(r,va(["constructor"]));const n=yh(r),i=!!Rh(r,NBe).has("payable"),s=Yie(r);return mm(r),new dh(Hi,"constructor",n,i,s)}return new dh(Hi,"constructor",r.inputs?r.inputs.map(Io.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[tu]===EG}}class Ud extends ym{constructor(r,n,i){super(r,"fallback",n);Ue(this,"payable");Object.defineProperty(this,tu,{value:kG}),Sr(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(Ud.isFragment(r))return r;if(typeof r=="string")try{return Ud.from(Ig(r))}catch{$e(!1,"invalid fallback fragment","obj",r)}else if(r instanceof ml){const n=r.toString(),i=r.peekKeyword(va(["fallback","receive"]));if($e(i,"type must be fallback or receive","obj",n),r.popKeyword(va(["fallback","receive"]))==="receive"){const u=yh(r);return $e(u.length===0,"receive cannot have arguments","obj.inputs",u),Rh(r,va(["payable"])),mm(r),new Ud(Hi,[],!0)}let o=yh(r);o.length?$e(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(u=>u.format("minimal")).join(", ")):o=[Io.from("bytes")];const a=Gie(r);if($e(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Rh(r,va(["returns"])).has("returns")){const u=yh(r);$e(u.length===1&&u[0].type==="bytes","invalid fallback outputs","obj.outputs",u.map(f=>f.format("minimal")).join(", "))}return mm(r),new Ud(Hi,o,a==="payable")}if(r.type==="receive")return new Ud(Hi,[],!0);if(r.type==="fallback"){const n=[Io.from("bytes")],i=r.stateMutability==="payable";return new Ud(Hi,n,i)}$e(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[tu]===kG}}class df extends v6{constructor(r,n,i,s,o,a){super(r,"function",n,s);Ue(this,"constant");Ue(this,"outputs");Ue(this,"stateMutability");Ue(this,"payable");Ue(this,"gas");Object.defineProperty(this,tu,{value:TG}),o=Object.freeze(o.slice()),Sr(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return gm(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+TA(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(TA(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(s=>Io.from(s)),new df(Hi,r,"view",n,[],null).selector}static from(r){if(df.isFragment(r))return r;if(typeof r=="string")try{return df.from(Ig(r))}catch{$e(!1,"invalid function fragment","obj",r)}else if(r instanceof ml){const i=b6("function",r),s=yh(r),o=Gie(r);let a=[];Rh(r,va(["returns"])).has("returns")&&(a=yh(r));const u=Yie(r);return mm(r),new df(Hi,i,o,s,a,u)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new df(Hi,r.name,n,r.inputs?r.inputs.map(Io.from):[],r.outputs?r.outputs.map(Io.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[tu]===TG}}class um extends v6{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,tu,{value:IG})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return um.from(Ig(e))}catch{$e(!1,"invalid struct fragment","obj",e)}else if(e instanceof ml){const r=b6("struct",e),n=yh(e);return mm(e),new um(Hi,r,n)}return new um(Hi,e.name,e.inputs?e.inputs.map(Io.from):[])}static isFragment(e){return e&&e[tu]===IG}}const Rl=new Map;Rl.set(0,"GENERIC_PANIC");Rl.set(1,"ASSERT_FALSE");Rl.set(17,"OVERFLOW");Rl.set(18,"DIVIDE_BY_ZERO");Rl.set(33,"ENUM_RANGE_ERROR");Rl.set(34,"BAD_STORAGE_DATA");Rl.set(49,"STACK_UNDERFLOW");Rl.set(50,"ARRAY_RANGE_ERROR");Rl.set(65,"OUT_OF_MEMORY");Rl.set(81,"UNINITIALIZED_FUNCTION_CALL");const jBe=new RegExp(/^bytes([0-9]*)$/),HBe=new RegExp(/^(u?int)([0-9]*)$/);let uP=null,RG=1024;function qBe(t,e,r,n){let i="missing revert data",s=null;const o=null;let a=null;if(r){i="execution reverted";const f=Fr(r);if(r=Zt(r),f.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(f.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Zt(f.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Zt(f.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[d]},s=`Panic due to ${Rl.get(d)||"UNKNOWN"}(${d})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const u={to:e.to?ni(e.to):null,data:e.data||"0x"};return e.from&&(u.from=ni(e.from)),Ji(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:u,invocation:o,revert:a})}var Op,l1;const e6=class e6{constructor(){ot(this,Op)}getDefaultValue(e){const r=e.map(i=>kt(this,Op,l1).call(this,Io.from(i)));return new ZE(r,"_").defaultValue()}encode(e,r){gne(r.length,e.length,"types/values length mismatch");const n=e.map(o=>kt(this,Op,l1).call(this,Io.from(o))),i=new ZE(n,"_"),s=new jB;return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>kt(this,Op,l1).call(this,Io.from(o)));return new ZE(i,"_").decode(new HB(r,n,RG))}static _setDefaultMaxInflation(e){$e(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),RG=e}static defaultAbiCoder(){return uP==null&&(uP=new e6),uP}static getBuiltinCallException(e,r,n){return qBe(e,r,n,e6.defaultAbiCoder())}};Op=new WeakSet,l1=function(e){if(e.isArray())return new f5e(kt(this,Op,l1).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ZE(e.components.map(n=>kt(this,Op,l1).call(this,n)),e.name);switch(e.baseType){case"address":return new c5e(e.name);case"bool":return new d5e(e.name);case"string":return new S5e(e.name);case"bytes":return new h5e(e.name);case"":return new m5e(e.name)}let r=e.type.match(HBe);if(r){let n=parseInt(r[2]||"256");return $e(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new w5e(n/8,r[1]==="int",e.name)}if(r=e.type.match(jBe),r){let n=parseInt(r[1]);return $e(n!==0&&n<=32,"invalid bytes length","param",e),new p5e(n,e.name)}$e(!1,"invalid type","type",e.type)};let yl=e6;class VBe{constructor(e,r,n){Ue(this,"fragment");Ue(this,"name");Ue(this,"signature");Ue(this,"topic");Ue(this,"args");const i=e.name,s=e.format();Sr(this,{fragment:e,name:i,signature:s,topic:r,args:n})}}class GBe{constructor(e,r,n,i){Ue(this,"fragment");Ue(this,"name");Ue(this,"args");Ue(this,"signature");Ue(this,"selector");Ue(this,"value");const s=e.name,o=e.format();Sr(this,{fragment:e,name:s,args:n,signature:o,selector:r,value:i})}}class YBe{constructor(e,r,n){Ue(this,"fragment");Ue(this,"name");Ue(this,"args");Ue(this,"signature");Ue(this,"selector");const i=e.name,s=e.format();Sr(this,{fragment:e,name:i,args:n,signature:s,selector:r})}}class MG{constructor(e){Ue(this,"hash");Ue(this,"_isIndexed");Sr(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const CG={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},PG={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&CG[t.toString()]&&(e=CG[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var tf,rf,nf,Wo,Ff,e3,t3;const _0=class _0{constructor(e){ot(this,Ff);Ue(this,"fragments");Ue(this,"deploy");Ue(this,"fallback");Ue(this,"receive");ot(this,tf);ot(this,rf);ot(this,nf);ot(this,Wo);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Me(this,nf,new Map),Me(this,tf,new Map),Me(this,rf,new Map);const n=[];for(const o of r)try{n.push(ym.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Sr(this,{fragments:Object.freeze(n)});let i=null,s=!1;Me(this,Wo,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let u;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Sr(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:($e(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":u=de(this,nf);break;case"event":u=de(this,rf);break;case"error":u=de(this,tf);break;default:return}const f=o.format();u.has(f)||u.set(f,o)}),this.deploy||Sr(this,{deploy:dh.from("constructor()")}),Sr(this,{fallback:i,receive:s})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return yl.defaultAbiCoder()}getFunctionName(e){const r=kt(this,Ff,e3).call(this,e,null,!1);return $e(r,"no matching function","key",e),r.name}hasFunction(e){return!!kt(this,Ff,e3).call(this,e,null,!1)}getFunction(e,r){return kt(this,Ff,e3).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(de(this,nf).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(de(this,nf).get(i),n)}}getEventName(e){const r=kt(this,Ff,t3).call(this,e,null,!1);return $e(r,"no matching event","key",e),r.name}hasEvent(e){return!!kt(this,Ff,t3).call(this,e,null,!1)}getEvent(e,r){return kt(this,Ff,t3).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(de(this,rf).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(de(this,rf).get(i),n)}}getError(e,r){if(xi(e)){const i=e.toLowerCase();if(PG[i])return Ga.from(PG[i].signature);for(const s of de(this,tf).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of de(this,tf))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Ga.from("error Error(string)"):e==="Panic"?Ga.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");$e(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Ga.from(e).format(),e==="Error(string)")return Ga.from("error Error(string)");if(e==="Panic(uint256)")return Ga.from("error Panic(uint256)");const n=de(this,tf).get(e);return n||null}forEachError(e){const r=Array.from(de(this,tf).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(de(this,tf).get(i),n)}}_decodeParams(e,r){return de(this,Wo).decode(e,r)}_encodeParams(e,r){return de(this,Wo).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);$e(n,"unknown error","fragment",e),e=n}return $e(ts(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,ts(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);$e(n,"unknown error","fragment",e),e=n}return Gi([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);$e(n,"unknown function","fragment",e),e=n}return $e(ts(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,ts(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);$e(n,"unknown function","fragment",e),e=n}return Gi([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const s=this.getFunction(e);$e(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=ma(r);if(i.length%32===0)try{return de(this,Wo).decode(e.outputs,i)}catch{n="could not decode result data"}St(!1,n,"BAD_DATA",{value:Zt(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Fr(e,"data"),i=yl.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=Zt(n.slice(0,4)),u=this.getError(a);if(u)try{const f=de(this,Wo).decode(u.inputs,n.slice(4));i.revert={name:u.name,signature:u.format(),args:f},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);$e(n,"unknown function","fragment",e),e=n}return Zt(de(this,Wo).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const s=this.getEvent(e);$e(s,"unknown event","eventFragment",e),e=s}St(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,o)=>s.type==="string"?gm(o):s.type==="bytes"?Vi(Zt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=dg(o):s.type.match(/^bytes/)?o=bne(o,32):s.type==="address"&&de(this,Wo).encode(["address"],[o]),Rf(Zt(o),32));for(r.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){$e(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?$e(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(u=>i(a,u))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);$e(o,"unknown event","eventFragment",e),e=o}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),$e(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const u=r[a];if(o.indexed)if(o.type==="string")n.push(gm(u));else if(o.type==="bytes")n.push(Vi(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(de(this,Wo).encode([o.type],[u]))}else i.push(o),s.push(u)}),{data:de(this,Wo).encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const b=this.getEvent(e);$e(b,"unknown event","eventFragment",e),e=b}if(n!=null&&!e.anonymous){const b=e.topicHash;$e(xi(n[0],32)&&n[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((b,A)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(i.push(Io.from({type:"bytes32",name:b.name})),o.push(!0)):(i.push(b),o.push(!1)):(s.push(b),o.push(!1))});const a=n!=null?de(this,Wo).decode(i,Gi(n)):null,u=de(this,Wo).decode(s,r,!0),f=[],d=[];let g=0,y=0;return e.inputs.forEach((b,A)=>{let x=null;if(b.indexed)if(a==null)x=new MG(null);else if(o[A])x=new MG(a[y++]);else try{x=a[y++]}catch(k){x=k}else try{x=u[g++]}catch(k){x=k}f.push(x),d.push(b.name||null)}),Cv.fromItems(f,d)}parseTransaction(e){const r=Fr(e.data,"tx.data"),n=Jt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Zt(r.slice(0,4)));if(!i)return null;const s=de(this,Wo).decode(i.inputs,r.slice(4));return new GBe(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new VBe(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=Zt(e),n=this.getError(ts(r,0,4));if(!n)return null;const i=de(this,Wo).decode(n.inputs,ts(r,4));return new YBe(n,n.selector,i)}static from(e){return e instanceof _0?e:typeof e=="string"?new _0(JSON.parse(e)):typeof e.formatJson=="function"?new _0(e.formatJson()):typeof e.format=="function"?new _0(e.format("json")):new _0(e)}};tf=new WeakMap,rf=new WeakMap,nf=new WeakMap,Wo=new WeakMap,Ff=new WeakSet,e3=function(e,r,n){if(xi(e)){const s=e.toLowerCase();for(const o of de(this,nf).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of de(this,nf))o.split("(")[0]===e&&s.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,u=!0;Xo.isTyped(o)&&o.type==="overrides"&&(u=!1,a--);for(let f=s.length-1;f>=0;f--){const d=s[f].inputs.length;d!==a&&(!u||d!==a-1)&&s.splice(f,1)}for(let f=s.length-1;f>=0;f--){const d=s[f].inputs;for(let g=0;g<r.length;g++)if(Xo.isTyped(r[g])){if(g>=d.length){if(r[g].type==="overrides")continue;s.splice(f,1);break}if(r[g].type!==d[g].baseType){s.splice(f,1);break}}}}if(s.length===1&&r&&r.length!==s[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");$e(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=de(this,nf).get(df.from(e).format());return i||null},t3=function(e,r,n){if(xi(e)){const s=e.toLowerCase();for(const o of de(this,rf).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of de(this,rf))o.split("(")[0]===e&&s.push(a);if(r){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<r.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let u=0;u<r.length;u++)if(Xo.isTyped(r[u])&&r[u].type!==a[u].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");$e(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=de(this,rf).get(ff.from(e).format());return i||null};let aO=_0;const Zie=BigInt(0);function kb(t){return t??null}function hs(t){return t==null?null:t.toString()}class NG{constructor(e,r,n){Ue(this,"gasPrice");Ue(this,"maxFeePerGas");Ue(this,"maxPriorityFeePerGas");Sr(this,{gasPrice:kb(e),maxFeePerGas:kb(r),maxPriorityFeePerGas:kb(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:hs(e),maxFeePerGas:hs(r),maxPriorityFeePerGas:hs(n)}}}function fT(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Zt(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=Jt(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Kr(t[i],`request.${i}`));return t.accessList&&(e.accessList=Xm(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>T9(i)?Zt(i):Object.assign({},i))),e}var Yd;class ZBe{constructor(e,r){Ue(this,"provider");Ue(this,"number");Ue(this,"hash");Ue(this,"timestamp");Ue(this,"parentHash");Ue(this,"parentBeaconBlockRoot");Ue(this,"nonce");Ue(this,"difficulty");Ue(this,"gasLimit");Ue(this,"gasUsed");Ue(this,"stateRoot");Ue(this,"receiptsRoot");Ue(this,"blobGasUsed");Ue(this,"excessBlobGas");Ue(this,"miner");Ue(this,"prevRandao");Ue(this,"extraData");Ue(this,"baseFeePerGas");ot(this,Yd);Me(this,Yd,e.transactions.map(n=>typeof n!="string"?new IA(n,r):n)),Sr(this,{provider:r,hash:kb(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:kb(e.prevRandao),extraData:e.extraData,baseFeePerGas:kb(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return de(this,Yd).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=de(this,Yd).slice();return e.length===0?[]:(St(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:u,nonce:f,number:d,parentHash:g,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:A,timestamp:x,transactions:k}=this;return{_type:"Block",baseFeePerGas:hs(e),difficulty:hs(r),extraData:n,gasLimit:hs(i),gasUsed:hs(s),blobGasUsed:hs(this.blobGasUsed),excessBlobGas:hs(this.excessBlobGas),hash:o,miner:a,prevRandao:u,nonce:f,number:d,parentHash:g,timestamp:x,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:A,transactions:k}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return de(this,Yd).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=de(this,Yd)[e];else{const n=e.toLowerCase();for(const i of de(this,Yd))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;$e(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return XBe(this)}}Yd=new WeakMap;class Wx{constructor(e,r){Ue(this,"provider");Ue(this,"transactionHash");Ue(this,"blockHash");Ue(this,"blockNumber");Ue(this,"removed");Ue(this,"address");Ue(this,"data");Ue(this,"topics");Ue(this,"index");Ue(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Sr(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:u,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:u,transactionIndex:f}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return St(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return St(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return St(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return QBe(this)}}var Ix;class Xie{constructor(e,r){Ue(this,"provider");Ue(this,"to");Ue(this,"from");Ue(this,"contractAddress");Ue(this,"hash");Ue(this,"index");Ue(this,"blockHash");Ue(this,"blockNumber");Ue(this,"logsBloom");Ue(this,"gasUsed");Ue(this,"blobGasUsed");Ue(this,"cumulativeGasUsed");Ue(this,"gasPrice");Ue(this,"blobGasPrice");Ue(this,"type");Ue(this,"status");Ue(this,"root");ot(this,Ix);Me(this,Ix,Object.freeze(e.logs.map(i=>new Wx(i,r))));let n=Zie;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Sr(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return de(this,Ix)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:u,logs:f,status:d,root:g}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:hs(this.cumulativeGasUsed),from:r,gasPrice:hs(this.gasPrice),blobGasUsed:hs(this.blobGasUsed),blobGasPrice:hs(this.blobGasPrice),gasUsed:hs(this.gasUsed),hash:i,index:s,logs:f,logsBloom:u,root:g,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Jie(this)}reorderedEvent(e){return St(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Qie(this,e)}}Ix=new WeakMap;var Lp;const eH=class eH{constructor(e,r){Ue(this,"provider");Ue(this,"blockNumber");Ue(this,"blockHash");Ue(this,"index");Ue(this,"hash");Ue(this,"type");Ue(this,"to");Ue(this,"from");Ue(this,"nonce");Ue(this,"gasLimit");Ue(this,"gasPrice");Ue(this,"maxPriorityFeePerGas");Ue(this,"maxFeePerGas");Ue(this,"maxFeePerBlobGas");Ue(this,"data");Ue(this,"value");Ue(this,"chainId");Ue(this,"signature");Ue(this,"accessList");Ue(this,"blobVersionedHashes");ot(this,Lp);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,Me(this,Lp,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:s,to:o,from:a,nonce:u,data:f,signature:d,accessList:g,blobVersionedHashes:y}=this;return{_type:"TransactionResponse",accessList:g,blockNumber:e,blockHash:r,blobVersionedHashes:y,chainId:hs(this.chainId),data:f,from:a,gasLimit:hs(this.gasLimit),gasPrice:hs(this.gasPrice),hash:i,maxFeePerGas:hs(this.maxFeePerGas),maxPriorityFeePerGas:hs(this.maxPriorityFeePerGas),maxFeePerBlobGas:hs(this.maxFeePerBlobGas),nonce:u,signature:d,to:o,index:n,type:s,value:hs(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await ca({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let s=de(this,Lp),o=-1,a=s===-1;const u=async()=>{if(a)return null;const{blockNumber:y,nonce:b}=await ca({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){s=y;return}if(a)return null;const A=await this.getTransaction();if(!(A&&A.blockNumber!=null))for(o===-1&&(o=s-3,o<de(this,Lp)&&(o=de(this,Lp)));o<=y;){if(a)return null;const x=await this.provider.getBlock(o,!0);if(x==null)return;for(const k of x)if(k===this.hash)return;for(let k=0;k<x.length;k++){const R=await x.getTransaction(k);if(R.from===this.from&&R.nonce===this.nonce){if(a)return null;const C=await this.provider.getTransactionReceipt(R.hash);if(C==null||y-C.blockNumber+1<n)return;let P="replaced";R.data===this.data&&R.to===this.to&&R.value===this.value?P="repriced":R.data==="0x"&&R.from===R.to&&R.value===Zie&&(P="cancelled"),St(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:P==="replaced"||P==="cancelled",reason:P,replacement:R.replaceableTransaction(s),hash:R.hash,receipt:C})}}o++}},f=y=>{if(y==null||y.status!==0)return y;St(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:y.to,from:y.from,data:""},receipt:y})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(d);if(d){if(await d.confirmations()>=n)return f(d)}else if(await u(),n===0)return null;return await new Promise((y,b)=>{const A=[],x=()=>{A.forEach(R=>R())};if(A.push(()=>{a=!0}),i>0){const R=setTimeout(()=>{x(),b(Ji("wait for transaction timeout","TIMEOUT"))},i);A.push(()=>{clearTimeout(R)})}const k=async R=>{if(await R.confirmations()>=n){x();try{y(f(R))}catch(C){b(C)}}};if(A.push(()=>{this.provider.off(this.hash,k)}),this.provider.on(this.hash,k),s>=0){const R=async()=>{try{await u()}catch(C){if(ko(C,"TRANSACTION_REPLACED")){x(),b(C);return}}a||this.provider.once("block",R)};A.push(()=>{this.provider.off("block",R)}),this.provider.once("block",R)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return St(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Jie(this)}reorderedEvent(e){return St(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),St(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Qie(this,e)}replaceableTransaction(e){$e(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new eH(this,this.provider);return Me(r,Lp,e),r}};Lp=new WeakMap;let IA=eH;function XBe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Qie(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Jie(t){return{orphan:"drop-transaction",tx:t}}function QBe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class q9 extends Wx{constructor(r,n,i){super(r,r.provider);Ue(this,"interface");Ue(this,"fragment");Ue(this,"args");const s=n.decodeEventLog(i,r.data,r.topics);Sr(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class ese extends Wx{constructor(r,n){super(r,r.provider);Ue(this,"error");Sr(this,{error:n})}}var gv;class JBe extends Xie{constructor(r,n,i){super(i,n);ot(this,gv);Me(this,gv,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?de(this,gv).getEvent(r.topics[0]):null;if(n)try{return new q9(r,de(this,gv),n)}catch(i){return new ese(r,i)}return r})}}gv=new WeakMap;var Rx;class V9 extends IA{constructor(r,n,i){super(i,n);ot(this,Rx);Me(this,Rx,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new JBe(de(this,Rx),this.provider,i)}}Rx=new WeakMap;class tse extends vne{constructor(r,n,i,s){super(r,n,i);Ue(this,"log");Sr(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class eOe extends tse{constructor(e,r,n,i,s){super(e,r,n,new q9(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Sr(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const BG=BigInt(0);function rse(t){return t&&typeof t.call=="function"}function nse(t){return t&&typeof t.estimateGas=="function"}function w6(t){return t&&typeof t.resolveName=="function"}function ise(t){return t&&typeof t.sendTransaction=="function"}function sse(t){if(t!=null){if(w6(t))return t;if(t.provider)return t.provider}}var Mx;class tOe{constructor(e,r,n){ot(this,Mx);Ue(this,"fragment");if(Sr(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=bm(e.runner,"resolveName"),s=w6(i)?i:null;Me(this,Mx,async function(){const o=await Promise.all(r.inputs.map((a,u)=>n[u]==null?null:a.walkAsync(n[u],(d,g)=>d==="address"?Array.isArray(g)?Promise.all(g.map(y=>ba(y,s))):ba(g,s):g)));return e.interface.encodeFilterTopics(r,o)}())}getTopicFilter(){return de(this,Mx)}}Mx=new WeakMap;function bm(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function T0(t){return t==null?null:t.provider||null}async function ose(t,e){const r=Xo.dereference(t,"overrides");$e(typeof r=="object","invalid overrides parameter","overrides",t);const n=fT(r);return $e(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),$e(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function rOe(t,e,r){const n=bm(t,"resolveName"),i=w6(n)?n:null;return await Promise.all(e.map((s,o)=>s.walkAsync(r[o],(a,u)=>(u=Xo.dereference(u,a),a==="address"?ba(u,i):u))))}function nOe(t){const e=async function(o){const a=await ose(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ba(a.from,sse(t.runner)));const u=t.interface,f=Jt(a.value||BG,"overrides.value")===BG,d=(a.data||"0x")==="0x";u.fallback&&!u.fallback.payable&&u.receive&&!d&&!f&&$e(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),$e(u.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data);const g=u.receive||u.fallback&&u.fallback.payable;return $e(g||f,"cannot send value to non-payable fallback","overrides.value",a.value),$e(u.fallback||d,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=bm(t.runner,"call");St(rse(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const u=await e(o);try{return await a.call(u)}catch(f){throw k9(f)&&f.data?t.interface.makeError(f.data,u):f}},n=async function(o){const a=t.runner;St(ise(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const u=await a.sendTransaction(await e(o)),f=T0(t.runner);return new V9(t.interface,f,u)},i=async function(o){const a=bm(t.runner,"estimateGas");return St(nse(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await n(o);return Sr(s,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),s}function iOe(t,e){const r=function(...f){const d=t.interface.getFunction(e,f);return St(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),d},n=async function(...f){const d=r(...f);let g={};if(d.inputs.length+1===f.length&&(g=await ose(f.pop()),g.from&&(g.from=await ba(g.from,sse(t.runner)))),d.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const y=await rOe(t.runner,d.inputs,f);return Object.assign({},g,await ca({to:t.getAddress(),data:t.interface.encodeFunctionData(d,y)}))},i=async function(...f){const d=await a(...f);return d.length===1?d[0]:d},s=async function(...f){const d=t.runner;St(ise(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await d.sendTransaction(await n(...f)),y=T0(t.runner);return new V9(t.interface,y,g)},o=async function(...f){const d=bm(t.runner,"estimateGas");return St(nse(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...f))},a=async function(...f){const d=bm(t.runner,"call");St(rse(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await n(...f);let y="0x";try{y=await d.call(g)}catch(A){throw k9(A)&&A.data?t.interface.makeError(A.data,g):A}const b=r(...f);return t.interface.decodeFunctionResult(b,y)},u=async(...f)=>r(...f).constant?await i(...f):await s(...f);return Sr(u,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:()=>{const f=t.interface.getFunction(e);return St(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),u}function sOe(t,e){const r=function(...i){const s=t.interface.getEvent(e,i);return St(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new tOe(t,r(...i),i)};return Sr(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return St(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const dT=Symbol.for("_ethersInternal_contract"),ase=new WeakMap;function oOe(t,e){ase.set(t[dT],e)}function pu(t){return ase.get(t[dT])}function aOe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function G9(t,e){let r,n=null;if(Array.isArray(e)){const s=function(o){if(xi(o,32))return o;const a=t.interface.getEvent(o);return $e(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?r=[null]:typeof e=="string"?xi(e,32)?r=[e]:(n=t.interface.getEvent(e),$e(n,"unknown fragment","event",e),r=[n.topicHash]):aOe(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):$e(!1,"unknown event name","event",e);r=r.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=r.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:r}}async function S_(t,e){const{subs:r}=pu(t);return r.get((await G9(t,e)).tag)||null}async function OG(t,e,r){const n=T0(t.runner);St(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await G9(t,r),{addr:a,subs:u}=pu(t);let f=u.get(s);if(!f){const g={address:a||t,topics:o},y=k=>{let R=i;if(R==null)try{R=t.interface.getEvent(k.topics[0])}catch{}if(R){const C=R,P=i?t.interface.decodeEventLog(i,k.data,k.topics):[];cO(t,r,P,O=>new eOe(t,O,r,C,k))}else cO(t,r,[],C=>new tse(t,C,r,k))};let b=[];f={tag:s,listeners:[],start:()=>{b.length||b.push(n.on(g,y))},stop:async()=>{if(b.length==0)return;let k=b;b=[],await Promise.all(k),n.off(g,y)}},u.set(s,f)}return f}let uO=Promise.resolve();async function uOe(t,e,r,n){await uO;const i=await S_(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const u=Array.from(r);n&&u.push(n(a?null:o));try{o.call(t,...u)}catch{}return!a}),i.listeners.length===0&&(i.stop(),pu(t).subs.delete(i.tag)),s>0}async function cO(t,e,r,n){try{await uO}catch{}const i=uOe(t,e,r,n);return uO=i,await i}const QE=["then"];var Zre;Zre=dT;const mA=class mA{constructor(e,r,n,i){Ue(this,"target");Ue(this,"interface");Ue(this,"runner");Ue(this,"filters");Ue(this,Zre);Ue(this,"fallback");$e(typeof e=="string"||fie(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=aO.from(r);Sr(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,dT,{value:{}});let o,a=null,u=null;if(i){const g=T0(n);u=new V9(this.interface,g,i)}let f=new Map;if(typeof e=="string")if(xi(e))a=e,o=Promise.resolve(e);else{const g=bm(n,"resolveName");if(!w6(g))throw Ji("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=g.resolveName(e).then(y=>{if(y==null)throw Ji("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return pu(this).addr=y,y})}else o=e.getAddress().then(g=>{if(g==null)throw new Error("TODO");return pu(this).addr=g,g});oOe(this,{addrPromise:o,addr:a,deployTx:u,subs:f});const d=new Proxy({},{get:(g,y,b)=>{if(typeof y=="symbol"||QE.indexOf(y)>=0)return Reflect.get(g,y,b);try{return this.getEvent(y)}catch(A){if(!ko(A,"INVALID_ARGUMENT")||A.argument!=="key")throw A}},has:(g,y)=>QE.indexOf(y)>=0?Reflect.has(g,y):Reflect.has(g,y)||this.interface.hasEvent(String(y))});return Sr(this,{filters:d}),Sr(this,{fallback:s.receive||s.fallback?nOe(this):null}),new Proxy(this,{get:(g,y,b)=>{if(typeof y=="symbol"||y in g||QE.indexOf(y)>=0)return Reflect.get(g,y,b);try{return g.getFunction(y)}catch(A){if(!ko(A,"INVALID_ARGUMENT")||A.argument!=="key")throw A}},has:(g,y)=>typeof y=="symbol"||y in g||QE.indexOf(y)>=0?Reflect.has(g,y):g.interface.hasFunction(y)})}connect(e){return new mA(this.target,this.interface,e)}attach(e){return new mA(e,this.interface,this.runner)}async getAddress(){return await pu(this).addrPromise}async getDeployedCode(){const e=T0(this.runner);St(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=T0(this.runner);return St(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return pu(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),iOe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),sOe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=pu(this),o=i||await s,{fragment:a,topics:u}=await G9(this,e),f={address:o,topics:u,fromBlock:r,toBlock:n},d=T0(this.runner);return St(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(f)).map(g=>{let y=a;if(y==null)try{y=this.interface.getEvent(g.topics[0])}catch{}if(y)try{return new q9(g,this.interface,y)}catch(b){return new ese(g,b)}return new Wx(g,d)})}async on(e,r){const n=await OG(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await OG(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await cO(this,e,r,null)}async listenerCount(e){if(e){const i=await S_(this,e);return i?i.listeners.length:0}const{subs:r}=pu(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await S_(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:r}=pu(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,r){const n=await S_(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),pu(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await S_(this,e);if(!r)return this;r.stop(),pu(this).subs.delete(r.tag)}else{const{subs:r}=pu(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends mA{constructor(i,s=null){super(i,e,s)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let lO=mA;function cOe(){return lO}class tg extends cOe(){}function cP(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):$e(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class lOe{constructor(e){Ue(this,"name");Sr(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const use=new RegExp("^(ipfs)://(.*)$","i"),LG=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),use,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Dp,Z0,Fp,f1,t6,cse;const Sb=class Sb{constructor(e,r,n){ot(this,Fp);Ue(this,"provider");Ue(this,"address");Ue(this,"name");ot(this,Dp);ot(this,Z0);Sr(this,{provider:e,address:r,name:n}),Me(this,Dp,null),Me(this,Z0,new tg(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return de(this,Dp)==null&&Me(this,Dp,(async()=>{try{return await de(this,Z0).supportsInterface("0x9061b923")}catch(e){if(ko(e,"CALL_EXCEPTION"))return!1;throw Me(this,Dp,null),e}})()),await de(this,Dp)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await kt(this,Fp,f1).call(this,"addr(bytes32)");return s==null||s===SA?null:s}catch(s){if(ko(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await kt(this,Fp,f1).call(this,"addr(bytes32,uint)",[s]);if(xi(o,20))return ni(o)}let r=null;for(const s of this.provider.plugins)if(s instanceof lOe&&s.supportsCoinType(e)){r=s;break}if(r==null)return null;const n=await kt(this,Fp,f1).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;St(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await kt(this,Fp,f1).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await kt(this,Fp,f1).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",s=parseInt(r[4],16);if(r[5].length===s*2)return`${i}://${iPe("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;St(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<LG.length;n++){const i=r.match(LG[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=cP(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const u=(i[2]||"").split("/");if(u.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const f=u[1],d=new tg(u[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const x=await d.ownerOf(f);if(a!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(s==="erc1155"){const x=await d.balanceOf(a,f);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let g=await d[o](f);if(g==null||g==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:g}),s==="erc1155"&&(g=g.replace("{id}",dg(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:g})),g.match(/^ipfs:/i)&&(g=cP(g)),e.push({type:"metadata-url",value:g});let y={};const b=await new Th(g).send();b.assertOk();try{y=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const R=b.body;return R&&e.push({type:"!metadata",value:Zt(R)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!y)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(y)});let A=y.image;if(typeof A!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!A.match(/^(https:\/\/|data:)/i)){if(A.match(use)==null)return e.push({type:"!imageUrl-ipfs",value:A}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:A}),A=cP(A)}return e.push({type:"url",value:A}),{linkage:e,url:A}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return St(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await kt(i=Sb,t6,cse).call(i,e,n);if(s!=null){const o=new Sb(e,s,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Dp=new WeakMap,Z0=new WeakMap,Fp=new WeakSet,f1=async function(e,r){r=(r||[]).slice();const n=de(this,Z0).interface;r.unshift(sO(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),St(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[sBe(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const s=await de(this,Z0)[e](...r);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ko(s,"CALL_EXCEPTION"))throw s}return null},t6=new WeakSet,cse=async function(e,r){const n=await Sb.getEnsAddress(e);try{const s=await new tg(n,["function resolver(bytes32) view returns (address)"],e).resolver(sO(r),{enableCcipRead:!0});return s===SA?null:s}catch(i){throw i}return null},ot(Sb,t6);let hT=Sb;const DG=BigInt(0);function vn(t,e){return function(r){return r==null?e:t(r)}}function S6(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function Kx(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r)){for(const o of e[i])if(o in r){s=o;break}}try{const o=t[i](r[s]);o!==void 0&&(n[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";St(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:r})}}return n}}function fOe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}$e(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Fv(t){return $e(xi(t,!0),"invalid data","value",t),t}function Ao(t){return $e(xi(t,32),"invalid hash","value",t),t}const dOe=Kx({address:ni,blockHash:Ao,blockNumber:Kr,data:Fv,index:Kr,removed:vn(fOe,!1),topics:S6(Ao),transactionHash:Ao,transactionIndex:Kr},{index:["logIndex"]});function hOe(t){return dOe(t)}const pOe=Kx({hash:vn(Ao),parentHash:Ao,parentBeaconBlockRoot:vn(Ao,null),number:Kr,timestamp:Kr,nonce:vn(Fv),difficulty:Jt,gasLimit:Jt,gasUsed:Jt,stateRoot:vn(Ao,null),receiptsRoot:vn(Ao,null),blobGasUsed:vn(Jt,null),excessBlobGas:vn(Jt,null),miner:vn(ni),prevRandao:vn(Ao,null),extraData:Fv,baseFeePerGas:vn(Jt)},{prevRandao:["mixHash"]});function gOe(t){const e=pOe(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:lse(r)),e}const mOe=Kx({transactionIndex:Kr,blockNumber:Kr,transactionHash:Ao,address:ni,topics:S6(Ao),data:Fv,index:Kr,blockHash:Ao},{index:["logIndex"]});function yOe(t){return mOe(t)}const bOe=Kx({to:vn(ni,null),from:vn(ni,null),contractAddress:vn(ni,null),index:Kr,root:vn(Zt),gasUsed:Jt,blobGasUsed:vn(Jt,null),logsBloom:vn(Fv),blockHash:Ao,hash:Ao,logs:S6(yOe),blockNumber:Kr,cumulativeGasUsed:Jt,effectiveGasPrice:vn(Jt),blobGasPrice:vn(Jt,null),status:vn(Kr),type:vn(Kr,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function vOe(t){return bOe(t)}function lse(t){t.to&&Jt(t.to)===DG&&(t.to="0x0000000000000000000000000000000000000000");const e=Kx({hash:Ao,index:vn(Kr,void 0),type:r=>r==="0x"||r==null?0:Kr(r),accessList:vn(Xm,null),blobVersionedHashes:vn(S6(Ao,!0),null),blockHash:vn(Ao,null),blockNumber:vn(Kr,null),transactionIndex:vn(Kr,null),from:ni,gasPrice:vn(Jt),maxPriorityFeePerGas:vn(Jt),maxFeePerGas:vn(Jt),maxFeePerBlobGas:vn(Jt,null),gasLimit:Jt,to:vn(ni,null),value:Jt,nonce:Kr,data:Fv,creates:vn(ni,null),chainId:vn(Jt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=u5e(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Ih.from(t.signature):e.signature=Ih.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Jt(e.blockHash)===DG&&(e.blockHash=null),e}const wOe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class jx{constructor(e){Ue(this,"name");Sr(this,{name:e})}clone(){return new jx(this.name)}}class _6 extends jx{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);Ue(this,"effectiveBlock");Ue(this,"txBase");Ue(this,"txCreate");Ue(this,"txDataZero");Ue(this,"txDataNonzero");Ue(this,"txAccessListStorageKey");Ue(this,"txAccessListAddress");const i={effectiveBlock:r};function s(o,a){let u=(n||{})[o];u==null&&(u=a),$e(typeof u=="number",`invalud value for ${o}`,"costs",n),i[o]=u}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Sr(this,i)}clone(){return new _6(this.effectiveBlock,this)}}class A6 extends jx{constructor(r,n){super("org.ethers.plugins.network.Ens");Ue(this,"address");Ue(this,"targetNetwork");Sr(this,{address:r||wOe,targetNetwork:n??1})}clone(){return new A6(this.address,this.targetNetwork)}}var Cx,Px;class SOe extends jx{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ot(this,Cx);ot(this,Px);Me(this,Cx,r),Me(this,Px,n)}get url(){return de(this,Cx)}get processFunc(){return de(this,Px)}clone(){return this}}Cx=new WeakMap,Px=new WeakMap;const lP=new Map;var mv,yv,$p;const _b=class _b{constructor(e,r){ot(this,mv);ot(this,yv);ot(this,$p);Me(this,mv,e),Me(this,yv,Jt(r)),Me(this,$p,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return de(this,mv)}set name(e){Me(this,mv,e)}get chainId(){return de(this,yv)}set chainId(e){Me(this,yv,Jt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Jt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Jt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Jt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(de(this,$p).values())}attachPlugin(e){if(de(this,$p).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return de(this,$p).set(e.name,e.clone()),this}getPlugin(e){return de(this,$p).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new _b(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new _6;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=Xm(e.accessList);for(const s in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(_Oe(),e==null)return _b.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=lP.get(e);if(r)return r();if(typeof e=="bigint")return new _b("unknown",e);$e(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){$e(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new _b(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new A6(e.ensAddress,e.ensNetwork)),r}$e(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=lP.get(e);n&&$e(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),lP.set(e,r)}};mv=new WeakMap,yv=new WeakMap,$p=new WeakMap;let wf=_b;function FG(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function $G(t){return new SOe(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([n.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:FG(a.maxFee,9),maxPriorityFeePerGas:FG(a.maxPriorityFee,9)}}catch(s){St(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let UG=!1;function _Oe(){if(UG)return;UG=!0;function t(e,r,n){const i=function(){const s=new wf(e,r);return n.ensNetwork!=null&&s.attachPlugin(new A6(null,n.ensNetwork)),s.attachPlugin(new _6),(n.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};wf.register(e,i),wf.register(r,i),n.altNames&&n.altNames.forEach(s=>{wf.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[$G("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[$G("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function fO(t){return JSON.parse(JSON.stringify(t))}var Zd,uc,Up,sf,bv,r3;class AOe{constructor(e){ot(this,bv);ot(this,Zd);ot(this,uc);ot(this,Up);ot(this,sf);Me(this,Zd,e),Me(this,uc,null),Me(this,Up,4e3),Me(this,sf,-2)}get pollingInterval(){return de(this,Up)}set pollingInterval(e){Me(this,Up,e)}start(){de(this,uc)||(Me(this,uc,de(this,Zd)._setTimeout(kt(this,bv,r3).bind(this),de(this,Up))),kt(this,bv,r3).call(this))}stop(){de(this,uc)&&(de(this,Zd)._clearTimeout(de(this,uc)),Me(this,uc,null))}pause(e){this.stop(),e&&Me(this,sf,-2)}resume(){this.start()}}Zd=new WeakMap,uc=new WeakMap,Up=new WeakMap,sf=new WeakMap,bv=new WeakSet,r3=async function(){try{const e=await de(this,Zd).getBlockNumber();if(de(this,sf)===-2){Me(this,sf,e);return}if(e!==de(this,sf)){for(let r=de(this,sf)+1;r<=e;r++){if(de(this,uc)==null)return;await de(this,Zd).emit("block",r)}Me(this,sf,e)}}catch{}de(this,uc)!=null&&Me(this,uc,de(this,Zd)._setTimeout(kt(this,bv,r3).bind(this),de(this,Up)))};var X0,Q0,zp;class Y9{constructor(e){ot(this,X0);ot(this,Q0);ot(this,zp);Me(this,X0,e),Me(this,zp,!1),Me(this,Q0,r=>{this._poll(r,de(this,X0))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){de(this,zp)||(Me(this,zp,!0),de(this,Q0).call(this,-2),de(this,X0).on("block",de(this,Q0)))}stop(){de(this,zp)&&(Me(this,zp,!1),de(this,X0).off("block",de(this,Q0)))}pause(e){this.stop()}resume(){this.start()}}X0=new WeakMap,Q0=new WeakMap,zp=new WeakMap;var vv,Xd;class xOe extends Y9{constructor(r,n){super(r);ot(this,vv);ot(this,Xd);Me(this,vv,n),Me(this,Xd,-2)}pause(r){r&&Me(this,Xd,-2),super.pause(r)}async _poll(r,n){const i=await n.getBlock(de(this,vv));i!=null&&(de(this,Xd)===-2?Me(this,Xd,i.number):i.number>de(this,Xd)&&(n.emit(de(this,vv),i.number),Me(this,Xd,i.number)))}}vv=new WeakMap,Xd=new WeakMap;var r6;class EOe extends Y9{constructor(r,n){super(r);ot(this,r6);Me(this,r6,fO(n))}async _poll(r,n){throw new Error("@TODO")}}r6=new WeakMap;var wv;class kOe extends Y9{constructor(r,n){super(r);ot(this,wv);Me(this,wv,n)}async _poll(r,n){const i=await n.getTransactionReceipt(de(this,wv));i&&n.emit(de(this,wv),i)}}wv=new WeakMap;var Qd,Sv,_v,Wp,cc,n6,fse;class Z9{constructor(e,r){ot(this,n6);ot(this,Qd);ot(this,Sv);ot(this,_v);ot(this,Wp);ot(this,cc);Me(this,Qd,e),Me(this,Sv,fO(r)),Me(this,_v,kt(this,n6,fse).bind(this)),Me(this,Wp,!1),Me(this,cc,-2)}start(){de(this,Wp)||(Me(this,Wp,!0),de(this,cc)===-2&&de(this,Qd).getBlockNumber().then(e=>{Me(this,cc,e)}),de(this,Qd).on("block",de(this,_v)))}stop(){de(this,Wp)&&(Me(this,Wp,!1),de(this,Qd).off("block",de(this,_v)))}pause(e){this.stop(),e&&Me(this,cc,-2)}resume(){this.start()}}Qd=new WeakMap,Sv=new WeakMap,_v=new WeakMap,Wp=new WeakMap,cc=new WeakMap,n6=new WeakSet,fse=async function(e){if(de(this,cc)===-2)return;const r=fO(de(this,Sv));r.fromBlock=de(this,cc)+1,r.toBlock=e;const n=await de(this,Qd).getLogs(r);if(n.length===0){de(this,cc)<e-60&&Me(this,cc,e-60);return}for(const i of n)de(this,Qd).emit(de(this,Sv),i),Me(this,cc,i.blockNumber)};const TOe=BigInt(2),IOe=10;function JE(t){return t&&typeof t.then=="function"}function n3(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,o)=>(s[o]=n[o],s),{})}return n})}class dse{constructor(e){Ue(this,"name");Sr(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function ROe(t){return JSON.parse(JSON.stringify(t))}function dO(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function fP(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(xi(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:n3("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:n3("orphan",r),filter:ROe(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?dO(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],s=[],o=a=>{xi(a)?i.push(a):s.push((async()=>{i.push(await ba(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),s.length&&await Promise.all(s),n.address=dO(i.map(a=>a.toLowerCase()))}return{filter:n,tag:n3("event",n),type:"event"}}$e(!1,"unknown ProviderEvent","event",t)}function dP(){return new Date().getTime()}const MOe={cacheTimeout:250,pollingInterval:4e3};var Ko,Kp,jo,Av,vu,J0,jp,Jd,Nx,lc,xv,Ev,tn,du,hO,pO,__,gO,A_,i3;class COe{constructor(e,r){ot(this,tn);ot(this,Ko);ot(this,Kp);ot(this,jo);ot(this,Av);ot(this,vu);ot(this,J0);ot(this,jp);ot(this,Jd);ot(this,Nx);ot(this,lc);ot(this,xv);ot(this,Ev);if(Me(this,Ev,Object.assign({},MOe,r||{})),e==="any")Me(this,J0,!0),Me(this,vu,null);else if(e){const n=wf.from(e);Me(this,J0,!1),Me(this,vu,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else Me(this,J0,!1),Me(this,vu,null);Me(this,Jd,-1),Me(this,jp,new Map),Me(this,Ko,new Map),Me(this,Kp,new Map),Me(this,jo,null),Me(this,Av,!1),Me(this,Nx,1),Me(this,lc,new Map),Me(this,xv,!1)}get pollingInterval(){return de(this,Ev).pollingInterval}get provider(){return this}get plugins(){return Array.from(de(this,Kp).values())}attachPlugin(e){if(de(this,Kp).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return de(this,Kp).set(e.name,e.connect(this)),this}getPlugin(e){return de(this,Kp).get(e)||null}get disableCcipRead(){return de(this,xv)}set disableCcipRead(e){Me(this,xv,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const u=n[a],f=u.replace("{sender}",i).replace("{data}",s),d=new Th(f);u.indexOf("{data}")===-1&&(d.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:a,urls:n});let g="unknown error",y;try{y=await d.send()}catch(b){o.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:b}});continue}try{const b=y.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:b}),b.data;b.message&&(g=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:b})}catch{}St(y.statusCode<400||y.statusCode>=500,`response not found during CCIP fetch: ${g}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:g}}),o.push(g)}St(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new ZBe(gOe(e),this)}_wrapLog(e,r){return new Wx(hOe(e),this)}_wrapTransactionReceipt(e,r){return new Xie(vOe(e),this)}_wrapTransactionResponse(e,r){return new IA(lse(e),this)}_detectNetwork(){St(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){St(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Kr(await kt(this,tn,du).call(this,{method:"getBlockNumber"}),"%response");return de(this,Jd)>=0&&Me(this,Jd,e),e}_getAddress(e){return ba(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(xi(e))return xi(e,32)?e:Y1(e);if(typeof e=="bigint"&&(e=Kr(e,"blockTag")),typeof e=="number")return e>=0?Y1(e):de(this,Jd)>=0?Y1(de(this,Jd)+e):this.getBlockNumber().then(r=>Y1(r+e));$e(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(u=>u==null?null:Array.isArray(u)?dO(u.map(f=>f.toLowerCase())):u.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(u,f,d)=>{let g;switch(u.length){case 0:break;case 1:g=u[0];break;default:u.sort(),g=u}if(n&&(f!=null||d!=null))throw new Error("invalid filter");const y={};return g&&(y.address=g),r.length&&(y.topics=r),f&&(y.fromBlock=f),d&&(y.toBlock=d),n&&(y.blockHash=n),y};let s=[];if(e.address)if(Array.isArray(e.address))for(const u of e.address)s.push(this._getAddress(u));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(u=>typeof u!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(u=>i(u[0],u[1],u[2])):i(s,o,a)}_getTransactionRequest(e){const r=fT(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const s=ba(r[i],this);JE(s)?n.push(async function(){r[i]=await s}()):r[i]=s}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);JE(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(de(this,vu)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw de(this,vu)===i&&Me(this,vu,null),s}})();return Me(this,vu,i),(await i).clone()}const e=de(this,vu),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(de(this,J0)?(this.emit("network",n,r),de(this,vu)===e&&Me(this,vu,Promise.resolve(n))):St(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await ca({_block:kt(this,tn,gO).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await kt(this,tn,du).call(this,{method:"getGasPrice"});return Jt(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await kt(this,tn,du).call(this,{method:"getPriorityFee"});return Jt(d,"%response")}catch{}return null})()});let a=null,u=null;const f=this._wrapBlock(i,e);return f&&f.baseFeePerGas&&(u=o??BigInt("1000000000"),a=f.baseFeePerGas*TOe+u),new NG(s,a,u)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new Th(n.url),s=await n.processFunc(r,this,i);return new NG(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return JE(r)&&(r=await r),Jt(await kt(this,tn,du).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await ca({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await kt(this,tn,pO).call(this,kt(this,tn,hO).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Jt(await kt(this,tn,__).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Kr(await kt(this,tn,__).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return Zt(await kt(this,tn,__).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=Jt(r,"position");return Zt(await kt(this,tn,__).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await ca({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Lie.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await ca({network:this.getNetwork(),params:kt(this,tn,gO).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await ca({network:this.getNetwork(),params:kt(this,tn,du).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await ca({network:this.getNetwork(),params:kt(this,tn,du).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await kt(this,tn,du).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await ca({network:this.getNetwork(),result:kt(this,tn,du).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:Zt(r)}async getLogs(e){let r=this._getFilter(e);JE(r)&&(r=await r);const{network:n,params:i}=await ca({network:this.getNetwork(),params:kt(this,tn,du).call(this,{method:"getLogs",filter:r})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){St(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await hT.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=ni(e);const r=sO(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await hT.getEnsAddress(this),s=await new tg(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(s==null||s===SA)return null;const a=await new tg(s,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(ko(n,"BAD_DATA")&&n.value==="0x"||ko(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const u=async f=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&f-d.blockNumber+1>=i){s(d),a&&(clearTimeout(a),a=null);return}}catch(d){console.log("EEE",d)}this.once("block",u)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",u),o(Ji("timeout","TIMEOUT",{reason:"timeout"})))},n)),u(await this.getBlockNumber())})}async waitForBlock(e){St(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=de(this,lc).get(e);r&&(r.timer&&clearTimeout(r.timer),de(this,lc).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=BS(this,Nx)._++,i=()=>{de(this,lc).delete(n),e()};if(this.paused)de(this,lc).set(n,{timer:null,func:i,time:r});else{const s=setTimeout(i,r);de(this,lc).set(n,{timer:s,func:i,time:dP()})}return n}_forEachSubscriber(e){for(const r of de(this,Ko).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new dse(e.type);case"block":{const r=new AOe(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new xOe(this,e.type);case"event":return new Z9(this,e.filter);case"transaction":return new kOe(this,e.hash);case"orphan":return new EOe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of de(this,Ko).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),de(this,jo)!=null&&r.pause(de(this,jo));break}}async on(e,r){const n=await kt(this,tn,i3).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,de(this,jo)!=null&&n.subscriber.pause(de(this,jo))),this}async once(e,r){const n=await kt(this,tn,i3).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,de(this,jo)!=null&&n.subscriber.pause(de(this,jo))),this}async emit(e,...r){const n=await kt(this,tn,A_).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:o})=>{const a=new vne(this,o?null:s,e);try{s.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),de(this,Ko).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await kt(this,tn,A_).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of de(this,Ko).values())r+=n.length;return r}async listeners(e){if(e){const n=await kt(this,tn,A_).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of de(this,Ko).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await kt(this,tn,A_).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),de(this,Ko).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await kt(this,tn,i3).call(this,e);n&&i.stop(),de(this,Ko).delete(r)}else for(const[r,{started:n,subscriber:i}]of de(this,Ko))n&&i.stop(),de(this,Ko).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return de(this,Av)}destroy(){this.removeAllListeners();for(const e of de(this,lc).keys())this._clearTimeout(e);Me(this,Av,!0)}get paused(){return de(this,jo)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(Me(this,Jd,-1),de(this,jo)!=null){if(de(this,jo)==!!e)return;St(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),Me(this,jo,!!e);for(const r of de(this,lc).values())r.timer&&clearTimeout(r.timer),r.time=dP()-r.time}resume(){if(de(this,jo)!=null){this._forEachSubscriber(e=>e.resume()),Me(this,jo,null);for(const e of de(this,lc).values()){let r=e.time;r<0&&(r=0),e.time=dP(),setTimeout(e.func,r)}}}}Ko=new WeakMap,Kp=new WeakMap,jo=new WeakMap,Av=new WeakMap,vu=new WeakMap,J0=new WeakMap,jp=new WeakMap,Jd=new WeakMap,Nx=new WeakMap,lc=new WeakMap,xv=new WeakMap,Ev=new WeakMap,tn=new WeakSet,du=async function(e){const r=de(this,Ev).cacheTimeout;if(r<0)return await this._perform(e);const n=n3(e.method,e);let i=de(this,jp).get(n);return i||(i=this._perform(e),de(this,jp).set(n,i),setTimeout(()=>{de(this,jp).get(n)===i&&de(this,jp).delete(n)},r)),await i},hO=async function(e,r,n){St(n<IOe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=fT(e);try{return Zt(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(s){if(!this.disableCcipRead&&k9(s)&&s.data&&n>=0&&r==="latest"&&i.to!=null&&ts(s.data,0,4)==="0x556f1830"){const o=s.data,a=await ba(i.to,this);let u;try{u=LOe(ts(s.data,4))}catch(g){St(!1,g.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}St(u.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:u.errorArgs}});const f=await this.ccipReadFetch(i,u.calldata,u.urls);St(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:u.errorArgs}});const d={to:a,data:Gi([u.selector,OOe([f,u.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const g=await kt(this,tn,hO).call(this,d,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:g}),g}catch(g){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:g}),g}}throw s}},pO=async function(e){const{value:r}=await ca({network:this.getNetwork(),value:e});return r},__=async function(e,r,n){let i=this._getAddress(r),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await kt(this,tn,pO).call(this,kt(this,tn,du).call(this,Object.assign(e,{address:i,blockTag:s})))},gO=async function(e,r){if(xi(e,32))return await kt(this,tn,du).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await kt(this,tn,du).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},A_=async function(e,r){let n=await fP(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await fP({orphan:"drop-log",log:r[0]},this)),de(this,Ko).get(n.tag)||null},i3=async function(e){const r=await fP(e,this),n=r.tag;let i=de(this,Ko).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},de(this,Ko).set(n,i)),i};function POe(t,e){try{const r=mO(t,e);if(r)return rT(r)}catch{}return null}function mO(t,e){if(t==="0x")return null;try{const r=Kr(ts(t,e,e+32)),n=Kr(ts(t,r,r+32));return ts(t,r+32,r+32+n)}catch{}return null}function zG(t){const e=Zo(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function NOe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const BOe=new Uint8Array([]);function OOe(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(BOe),r+=32;for(let n=0;n<t.length;n++){const i=Fr(t[n]);e[n]=zG(r),e.push(zG(i.length)),e.push(NOe(i)),r+=32+Math.ceil(i.length/32)*32}return Gi(e)}const WG="0x0000000000000000000000000000000000000000000000000000000000000000";function LOe(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};St(om(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=ts(t,0,32);St(ts(r,0,12)===ts(WG,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ts(r,12);try{const n=[],i=Kr(ts(t,32,64)),s=Kr(ts(t,i,i+32)),o=ts(t,i+32);for(let a=0;a<s;a++){const u=POe(o,a*32);if(u==null)throw new Error("abort");n.push(u)}e.urls=n}catch{St(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=mO(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{St(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}St(ts(t,100,128)===ts(WG,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ts(t,96,100);try{const n=mO(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{St(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function jy(t,e){if(t.provider)return t.provider;St(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function KG(t,e){let r=fT(e);if(r.to!=null&&(r.to=ba(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),ba(n,t)]).then(([i,s])=>($e(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else r.from=t.getAddress();return await ca(r)}class DOe{constructor(e){Ue(this,"provider");Sr(this,{provider:e||null})}async getNonce(e){return jy(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await KG(this,e)}async populateTransaction(e){const r=jy(this,"populateTransaction"),n=await KG(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const o=Jt(n.chainId);$e(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?$e(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&$e(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();St(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(St(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):St(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ca(n)}async estimateGas(e){return jy(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return jy(this,"call").call(await this.populateCall(e))}async resolveName(e){return await jy(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=jy(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=Lie.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}}function FOe(t){return JSON.parse(JSON.stringify(t))}var oa,of,em,Hp,tm,kv,kg,yO,bO;class hse{constructor(e){ot(this,kg);ot(this,oa);ot(this,of);ot(this,em);ot(this,Hp);ot(this,tm);ot(this,kv);Me(this,oa,e),Me(this,of,null),Me(this,em,kt(this,kg,yO).bind(this)),Me(this,Hp,!1),Me(this,tm,null),Me(this,kv,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){de(this,Hp)||(Me(this,Hp,!0),kt(this,kg,yO).call(this,-2))}stop(){de(this,Hp)&&(Me(this,Hp,!1),Me(this,kv,!0),kt(this,kg,bO).call(this),de(this,oa).off("block",de(this,em)))}pause(e){e&&kt(this,kg,bO).call(this),de(this,oa).off("block",de(this,em))}resume(){this.start()}}oa=new WeakMap,of=new WeakMap,em=new WeakMap,Hp=new WeakMap,tm=new WeakMap,kv=new WeakMap,kg=new WeakSet,yO=async function(e){try{de(this,of)==null&&Me(this,of,this._subscribe(de(this,oa)));let r=null;try{r=await de(this,of)}catch(s){if(!ko(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(r==null){Me(this,of,null),de(this,oa)._recoverSubscriber(this,this._recover(de(this,oa)));return}const n=await de(this,oa).getNetwork();if(de(this,tm)||Me(this,tm,n),de(this,tm).chainId!==n.chainId)throw new Error("chaid changed");if(de(this,kv))return;const i=await de(this,oa).send("eth_getFilterChanges",[r]);await this._emitResults(de(this,oa),i)}catch(r){console.log("@TODO",r)}de(this,oa).once("block",de(this,em))},bO=function(){const e=de(this,of);e&&(Me(this,of,null),e.then(r=>{de(this,oa).destroyed||de(this,oa).send("eth_uninstallFilter",[r])}))};var rm;class $Oe extends hse{constructor(r,n){super(r);ot(this,rm);Me(this,rm,FOe(n))}_recover(r){return new Z9(r,de(this,rm))}async _subscribe(r){return await r.send("eth_newFilter",[de(this,rm)])}async _emitResults(r,n){for(const i of n)r.emit(de(this,rm),r._wrapLog(i,r._network))}}rm=new WeakMap;class UOe extends hse{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const zOe="bigint,boolean,function,number,string,symbol".split(/,/g);function s3(t){if(t==null||zOe.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(s3);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function WOe(t){return new Promise(e=>{setTimeout(e,t)})}function Hy(t){return t&&t.toLowerCase()}function jG(t){return t&&typeof t.pollingInterval=="number"}const pse={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class hP extends DOe{constructor(r,n){super(r);Ue(this,"address");n=ni(n),Sr(this,{address:n})}connect(r){St(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=s3(r),i=[];if(n.from){const o=n.from;i.push((async()=>{const a=await ba(o,this.provider);$e(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;i.push((async()=>{n.to=await ba(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((s,o)=>{const a=[1e3,100];let u=0;const f=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){s(d.replaceableTransaction(n));return}}catch(d){if(ko(d,"CANCELLED")||ko(d,"BAD_DATA")||ko(d,"NETWORK_ERROR")||ko(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,o(d);return}if(ko(d,"INVALID_ARGUMENT")&&(u++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,u>10)){o(d);return}this.provider.emit("error",Ji("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(r){const n=s3(r);if(n.from){const s=await ba(n.from,this.provider);$e(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?Mf(r):r;return await this.provider.send("personal_sign",[Zt(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const s=s3(i),o=await lT.resolveNames(r,n,s,async a=>{const u=await ba(a);return $e(u!=null,"TypedData does not support null address","value",a),u});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lT.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Mf(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Zt(n)])}}var nm,Tv,eh,af,Jc,fc,Fa,Bx,vO;class KOe extends COe{constructor(r,n){super(r,n);ot(this,Bx);ot(this,nm);ot(this,Tv);ot(this,eh);ot(this,af);ot(this,Jc);ot(this,fc);ot(this,Fa);Me(this,Tv,1),Me(this,nm,Object.assign({},pse,n||{})),Me(this,eh,[]),Me(this,af,null),Me(this,fc,null),Me(this,Fa,null);{let s=null;const o=new Promise(a=>{s=a});Me(this,Jc,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?($e(!i||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&r!=null&&Me(this,fc,wf.from(r))):i&&($e(r==null||i.matches(r),"staticNetwork MUST match network object","options",n),Me(this,fc,i))}_getOption(r){return de(this,nm)[r]}get _network(){return St(de(this,fc),"network is not available yet","NETWORK_ERROR"),de(this,fc)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&Jt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(de(this,fc))return de(this,fc)}else return r;return de(this,Fa)?await de(this,Fa):this.ready?(Me(this,Fa,(async()=>{try{const n=wf.from(Jt(await this.send("eth_chainId",[])));return Me(this,Fa,null),n}catch(n){throw Me(this,Fa,null),n}})()),await de(this,Fa)):(Me(this,Fa,(async()=>{const n={id:BS(this,Tv)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],Me(this,Fa,null)}catch(s){throw Me(this,Fa,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return wf.from(Jt(i.result));throw this.getRpcError(n,i)})()),await de(this,Fa))}_start(){de(this,Jc)==null||de(this,Jc).resolve==null||(de(this,Jc).resolve(),Me(this,Jc,null),(async()=>{for(;de(this,fc)==null&&!this.destroyed;)try{Me(this,fc,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ji("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await WOe(1e3)}kt(this,Bx,vO).call(this)})())}async _waitUntilReady(){if(de(this,Jc)!=null)return await de(this,Jc).promise}_getSubscriber(r){return r.type==="pending"?new UOe(this):r.type==="event"?this._getOption("polling")?new Z9(this,r.filter):new $Oe(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new dse("orphan"):super._getSubscriber(r)}get ready(){return de(this,Jc)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=Y1(Jt(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=Zt(r[i]))}),r.accessList&&(n.accessList=Xm(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(i=>i.toLowerCase())),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Hy(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Hy(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Hy(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Hy(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Hy):r.filter.address=Hy(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const u=s.message;if(!u.match(/revert/i)&&u.match(/insufficient funds/i))return Ji("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const u=wO(s),f=yl.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],u?u.data:null);return f.info={error:s,payload:r},f}const o=JSON.stringify(HOe(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Ji("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const u=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ji("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:u,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ji("nonce has already been used","NONCE_EXPIRED",{transaction:u,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ji("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:u,info:{error:s}});if(o.match(/only replay-protected/i))return Ji("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:u,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Ji("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:s,payload:r}}):Ji("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(Ji("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=BS(this,Tv)._++,s=new Promise((o,a)=>{de(this,eh).push({resolve:o,reject:a,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return kt(this,Bx,vO).call(this),s}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const s=await n;if(r>=s.length)throw new Error("no such account");return new hP(this,s[r])}const{accounts:i}=await ca({network:this.getNetwork(),accounts:n});r=ni(r);for(const s of i)if(ni(s)===r)return new hP(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new hP(this,n))}destroy(){de(this,af)&&(clearTimeout(de(this,af)),Me(this,af,null));for(const{payload:r,reject:n}of de(this,eh))n(Ji("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));Me(this,eh,[]),super.destroy()}}nm=new WeakMap,Tv=new WeakMap,eh=new WeakMap,af=new WeakMap,Jc=new WeakMap,fc=new WeakMap,Fa=new WeakMap,Bx=new WeakSet,vO=function(){if(de(this,af))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Me(this,af,setTimeout(()=>{Me(this,af,null);const n=de(this,eh);for(Me(this,eh,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==de(this,nm).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(o=>o.payload)).length>de(this,nm).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:u,payload:f}of i){if(this.destroyed){u(Ji("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}const d=o.filter(g=>g.id===f.id)[0];if(d==null){const g=Ji("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",g),u(g);continue}if("error"in d){u(this.getRpcError(f,d));continue}a(d.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},r))};var qp;class gse extends KOe{constructor(r,n){super(r,n);ot(this,qp);let i=this._getOption("pollingInterval");i==null&&(i=pse.pollingInterval),Me(this,qp,i)}_getSubscriber(r){const n=super._getSubscriber(r);return jG(n)&&(n.pollingInterval=de(this,qp)),n}get pollingInterval(){return de(this,qp)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");Me(this,qp,r),this._forEachSubscriber(n=>{jG(n)&&(n.pollingInterval=de(this,qp))})}}qp=new WeakMap;var Iv;class jOe extends gse{constructor(r,n,i){r==null&&(r="http://localhost:8545");super(n,i);ot(this,Iv);typeof r=="string"?Me(this,Iv,new Th(r)):Me(this,Iv,r.clone())}_getConnection(){return de(this,Iv).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const i=await n.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}Iv=new WeakMap;function wO(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&xi(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=wO(t[e]);if(r)return r}return null}if(typeof t=="string")try{return wO(JSON.parse(t))}catch{}return null}function SO(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)SO(t[r],e);if(typeof t=="string")try{return SO(JSON.parse(t),e)}catch{}}}function HOe(t){const e=[];return SO(t,e),e}var Rv;class qOe extends gse{constructor(r,n,i){const s=Object.assign({},i??{},{batchMaxCount:1});$e(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,s);ot(this,Rv);Me(this,Rv,async(o,a)=>{const u={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:u});try{const f=await r.request(u);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){const d=new Error(f.message);throw d.code=f.code,d.data=f.data,d.payload=u,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){$e(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await de(this,Rv).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await de(this,Rv).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}}Rv=new WeakMap;var mse={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,g,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,g||u,y),A=r?r+f:f;return u._events[A]?u._events[A].fn?u._events[A]=[u._events[A],b]:u._events[A].push(b):(u._events[A]=b,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],d,g;if(this._eventsCount===0)return f;for(g in d=this._events)e.call(d,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},a.prototype.listeners=function(f){var d=r?r+f:f,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,A=new Array(b);y<b;y++)A[y]=g[y].fn;return A},a.prototype.listenerCount=function(f){var d=r?r+f:f,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(f,d,g,y,b,A){var x=r?r+f:f;if(!this._events[x])return!1;var k=this._events[x],R=arguments.length,C,P;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),R){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,g),!0;case 4:return k.fn.call(k.context,d,g,y),!0;case 5:return k.fn.call(k.context,d,g,y,b),!0;case 6:return k.fn.call(k.context,d,g,y,b,A),!0}for(P=1,C=new Array(R-1);P<R;P++)C[P-1]=arguments[P];k.fn.apply(k.context,C)}else{var O=k.length,q;for(P=0;P<O;P++)switch(k[P].once&&this.removeListener(f,k[P].fn,void 0,!0),R){case 1:k[P].fn.call(k[P].context);break;case 2:k[P].fn.call(k[P].context,d);break;case 3:k[P].fn.call(k[P].context,d,g);break;case 4:k[P].fn.call(k[P].context,d,g,y);break;default:if(!C)for(q=1,C=new Array(R-1);q<R;q++)C[q-1]=arguments[q];k[P].fn.apply(k[P].context,C)}}return!0},a.prototype.on=function(f,d,g){return s(this,f,d,g,!1)},a.prototype.once=function(f,d,g){return s(this,f,d,g,!0)},a.prototype.removeListener=function(f,d,g,y){var b=r?r+f:f;if(!this._events[b])return this;if(!d)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===d&&(!y||A.once)&&(!g||A.context===g)&&o(this,b);else{for(var x=0,k=[],R=A.length;x<R;x++)(A[x].fn!==d||y&&!A[x].once||g&&A[x].context!==g)&&k.push(A[x]);k.length?this._events[b]=k.length===1?k[0]:k:o(this,b)}return this},a.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(mse);var VOe=mse.exports;const x6=ea(VOe);function pT(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function GOe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xw(t,...e){if(!GOe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function YOe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pT(t.outputLen),pT(t.blockLen)}function $v(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function yse(t,e){xw(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const qy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZOe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function XOe(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function bse(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function o3(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Kc(t,e){return t<<32-e|t>>>e}function QOe(t,e){return t<<e|t>>>32-e>>>0}const gT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function X9(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const JOe=gT?t=>t:t=>X9(t);function _O(t){for(let e=0;e<t.length;e++)t[e]=X9(t[e])}const eLe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tLe(t){xw(t);let e="";for(let r=0;r<t.length;r++)e+=eLe[t[r]];return e}const md={_0:48,_9:57,A:65,F:70,a:97,f:102};function HG(t){if(t>=md._0&&t<=md._9)return t-md._0;if(t>=md.A&&t<=md.F)return t-(md.A-10);if(t>=md.a&&t<=md.f)return t-(md.a-10)}function rLe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=HG(t.charCodeAt(s)),a=HG(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}const vse=async()=>{};async function nLe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);const s=Date.now()-n;s>=0&&s<e||(await vse(),n+=s)}}function wse(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Qm(t){return typeof t=="string"&&(t=wse(t)),xw(t),t}function Sse(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];xw(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let E6=class{clone(){return this._cloneInto()}};function iLe(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function Rg(t){const e=n=>t().update(Qm(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function sLe(t){const e=(n,i)=>t(i).update(Qm(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function oLe(t){const e=(n,i)=>t(i).update(Qm(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Q9(t=32){if(qy&&typeof qy.getRandomValues=="function")return qy.getRandomValues(new Uint8Array(t));if(qy&&typeof qy.randomBytes=="function")return qy.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const x8t=Object.freeze(Object.defineProperty({__proto__:null,Hash:E6,asyncLoop:nLe,byteSwap:X9,byteSwap32:_O,byteSwapIfBE:JOe,bytesToHex:tLe,checkOpts:iLe,concatBytes:Sse,createView:o3,hexToBytes:rLe,isBytes:ZOe,isLE:gT,nextTick:vse,randomBytes:Q9,rotl:QOe,rotr:Kc,toBytes:Qm,u32:bse,u8:XOe,utf8ToBytes:wse,wrapConstructor:Rg,wrapConstructorWithOpts:sLe,wrapXOFConstructorWithOpts:oLe},Symbol.toStringTag,{value:"Module"}));function aLe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,f=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+f,a,n)}function uLe(t,e,r){return t&e^~t&r}function cLe(t,e,r){return t&e^t&r^e&r}class _se extends E6{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=o3(this.buffer)}update(e){$v(this);const{view:r,buffer:n,blockLen:i}=this;e=Qm(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=o3(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$v(this),yse(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let g=o;g<i;g++)r[g]=0;aLe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=o3(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<f;g++)a.setUint32(4*g,d[g],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const ek=BigInt(2**32-1),AO=BigInt(32);function Ase(t,e=!1){return e?{h:Number(t&ek),l:Number(t>>AO&ek)}:{h:Number(t>>AO&ek)|0,l:Number(t&ek)|0}}function xse(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Ase(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const lLe=(t,e)=>BigInt(t>>>0)<<AO|BigInt(e>>>0),fLe=(t,e,r)=>t>>>r,dLe=(t,e,r)=>t<<32-r|e>>>r,hLe=(t,e,r)=>t>>>r|e<<32-r,pLe=(t,e,r)=>t<<32-r|e>>>r,gLe=(t,e,r)=>t<<64-r|e>>>r-32,mLe=(t,e,r)=>t>>>r-32|e<<64-r,yLe=(t,e)=>e,bLe=(t,e)=>t,Ese=(t,e,r)=>t<<r|e>>>32-r,kse=(t,e,r)=>e<<r|t>>>32-r,Tse=(t,e,r)=>e<<r-32|t>>>64-r,Ise=(t,e,r)=>t<<r-32|e>>>64-r;function vLe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const wLe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),SLe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,_Le=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),ALe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,xLe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),ELe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,qr={fromBig:Ase,split:xse,toBig:lLe,shrSH:fLe,shrSL:dLe,rotrSH:hLe,rotrSL:pLe,rotrBH:gLe,rotrBL:mLe,rotr32H:yLe,rotr32L:bLe,rotlSH:Ese,rotlSL:kse,rotlBH:Tse,rotlBL:Ise,add:vLe,add3L:wLe,add3H:SLe,add4L:_Le,add4H:ALe,add5H:ELe,add5L:xLe},[kLe,TLe]=qr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),up=new Uint32Array(80),cp=new Uint32Array(80);let Hx=class extends _se{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:f,El:d,Fh:g,Fl:y,Gh:b,Gl:A,Hh:x,Hl:k}=this;return[e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k]}set(e,r,n,i,s,o,a,u,f,d,g,y,b,A,x,k){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=f|0,this.El=d|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=A|0,this.Hh=x|0,this.Hl=k|0}process(e,r){for(let P=0;P<16;P++,r+=4)up[P]=e.getUint32(r),cp[P]=e.getUint32(r+=4);for(let P=16;P<80;P++){const O=up[P-15]|0,q=cp[P-15]|0,Q=qr.rotrSH(O,q,1)^qr.rotrSH(O,q,8)^qr.shrSH(O,q,7),Y=qr.rotrSL(O,q,1)^qr.rotrSL(O,q,8)^qr.shrSL(O,q,7),X=up[P-2]|0,Z=cp[P-2]|0,le=qr.rotrSH(X,Z,19)^qr.rotrBH(X,Z,61)^qr.shrSH(X,Z,6),I=qr.rotrSL(X,Z,19)^qr.rotrBL(X,Z,61)^qr.shrSL(X,Z,6),c=qr.add4L(Y,I,cp[P-7],cp[P-16]),h=qr.add4H(c,Q,le,up[P-7],up[P-16]);up[P]=h|0,cp[P]=c|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:f,Dl:d,Eh:g,El:y,Fh:b,Fl:A,Gh:x,Gl:k,Hh:R,Hl:C}=this;for(let P=0;P<80;P++){const O=qr.rotrSH(g,y,14)^qr.rotrSH(g,y,18)^qr.rotrBH(g,y,41),q=qr.rotrSL(g,y,14)^qr.rotrSL(g,y,18)^qr.rotrBL(g,y,41),Q=g&b^~g&x,Y=y&A^~y&k,X=qr.add5L(C,q,Y,TLe[P],cp[P]),Z=qr.add5H(X,R,O,Q,kLe[P],up[P]),le=X|0,I=qr.rotrSH(n,i,28)^qr.rotrBH(n,i,34)^qr.rotrBH(n,i,39),c=qr.rotrSL(n,i,28)^qr.rotrBL(n,i,34)^qr.rotrBL(n,i,39),h=n&s^n&a^s&a,p=i&o^i&u^o&u;R=x|0,C=k|0,x=b|0,k=A|0,b=g|0,A=y|0,{h:g,l:y}=qr.add(f|0,d|0,Z|0,le|0),f=a|0,d=u|0,a=s|0,u=o|0,s=n|0,o=i|0;const m=qr.add3L(le,c,p);n=qr.add3H(m,Z,I,h),i=m|0}({h:n,l:i}=qr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=qr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=qr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:f,l:d}=qr.add(this.Dh|0,this.Dl|0,f|0,d|0),{h:g,l:y}=qr.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:A}=qr.add(this.Fh|0,this.Fl|0,b|0,A|0),{h:x,l:k}=qr.add(this.Gh|0,this.Gl|0,x|0,k|0),{h:R,l:C}=qr.add(this.Hh|0,this.Hl|0,R|0,C|0),this.set(n,i,s,o,a,u,f,d,g,y,b,A,x,k,R,C)}roundClean(){up.fill(0),cp.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class Rse extends Hx{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Mse extends Hx{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}let Cse=class extends Hx{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const Pse=Rg(()=>new Hx),ILe=Rg(()=>new Rse),RLe=Rg(()=>new Mse),MLe=Rg(()=>new Cse),T8t=Object.freeze(Object.defineProperty({__proto__:null,SHA384:Cse,SHA512:Hx,SHA512_224:Rse,SHA512_256:Mse,sha384:MLe,sha512:Pse,sha512_224:ILe,sha512_256:RLe},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k6=BigInt(0),T6=BigInt(1),CLe=BigInt(2);function vm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qx(t){if(!vm(t))throw new Error("Uint8Array expected")}function bh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const PLe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wm(t){qx(t);let e="";for(let r=0;r<t.length;r++)e+=PLe[t[r]];return e}function X1(t){const e=t.toString(16);return e.length&1?"0"+e:e}function J9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?k6:BigInt("0x"+t)}const yd={_0:48,_9:57,A:65,F:70,a:97,f:102};function qG(t){if(t>=yd._0&&t<=yd._9)return t-yd._0;if(t>=yd.A&&t<=yd.F)return t-(yd.A-10);if(t>=yd.a&&t<=yd.f)return t-(yd.a-10)}function Uv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=qG(t.charCodeAt(s)),a=qG(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}function cm(t){return J9(wm(t))}function Tb(t){return qx(t),J9(wm(Uint8Array.from(t).reverse()))}function zv(t,e){return Uv(t.toString(16).padStart(e*2,"0"))}function RA(t,e){return zv(t,e).reverse()}function NLe(t){return Uv(X1(t))}function Es(t,e,r){let n;if(typeof e=="string")try{n=Uv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(vm(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Sm(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];qx(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function BLe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function OLe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const pP=t=>typeof t=="bigint"&&k6<=t;function I6(t,e,r){return pP(t)&&pP(e)&&pP(r)&&e<=t&&t<r}function mc(t,e,r,n){if(!I6(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Nse(t){let e;for(e=0;t>k6;t>>=T6,e+=1);return e}function LLe(t,e){return t>>BigInt(e)&T6}function DLe(t,e,r){return t|(r?T6:k6)<<BigInt(e)}const e7=t=>(CLe<<BigInt(t-1))-T6,gP=t=>new Uint8Array(t),VG=t=>Uint8Array.from(t);function Bse(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=gP(t),i=gP(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...g)=>r(i,n,...g),u=(g=gP())=>{i=a(VG([0]),g),n=a(),g.length!==0&&(i=a(VG([1]),g),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){n=a();const b=n.slice();y.push(b),g+=n.length}return Sm(...y)};return(g,y)=>{o(),u(g);let b;for(;!(b=y(f()));)u();return o(),b}}const FLe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||vm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ew(t,e,r={}){const n=(i,s,o)=>{const a=FLe[s];if(typeof a!="function")throw new Error("invalid validator function");const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const $Le=()=>{throw new Error("not implemented")};function MA(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const ULe=Object.freeze(Object.defineProperty({__proto__:null,aInRange:mc,abool:bh,abytes:qx,bitGet:LLe,bitLen:Nse,bitMask:e7,bitSet:DLe,bytesToHex:wm,bytesToNumberBE:cm,bytesToNumberLE:Tb,concatBytes:Sm,createHmacDrbg:Bse,ensureBytes:Es,equalBytes:BLe,hexToBytes:Uv,hexToNumber:J9,inRange:I6,isBytes:vm,memoized:MA,notImplemented:$Le,numberToBytesBE:zv,numberToBytesLE:RA,numberToHexUnpadded:X1,numberToVarBytesBE:NLe,utf8ToBytes:OLe,validateObject:Ew},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oo=BigInt(0),qi=BigInt(1),f0=BigInt(2),zLe=BigInt(3),xO=BigInt(4),GG=BigInt(5),YG=BigInt(8);function $i(t,e){const r=t%e;return r>=oo?r:e+r}function WLe(t,e,r){if(e<oo)throw new Error("invalid exponent, negatives unsupported");if(r<=oo)throw new Error("invalid modulus");if(r===qi)return oo;let n=qi;for(;e>oo;)e&qi&&(n=n*t%r),t=t*t%r,e>>=qi;return n}function es(t,e,r){let n=t;for(;e-- >oo;)n*=n,n%=r;return n}function EO(t,e){if(t===oo)throw new Error("invert: expected non-zero number");if(e<=oo)throw new Error("invert: expected positive modulus, got "+e);let r=$i(t,e),n=e,i=oo,s=qi;for(;r!==oo;){const a=n/r,u=n%r,f=i-s*a;n=r,r=u,i=s,s=f}if(n!==qi)throw new Error("invert: does not exist");return $i(i,e)}function KLe(t){const e=(t-qi)/f0;let r,n,i;for(r=t-qi,n=0;r%f0===oo;r/=f0,n++);for(i=f0;i<t&&WLe(i,e,t)!==t-qi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+qi)/xO;return function(u,f){const d=u.pow(f,o);if(!u.eql(u.sqr(d),f))throw new Error("Cannot find square root");return d}}const s=(r+qi)/f0;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,d=a.pow(a.mul(a.ONE,i),r),g=a.pow(u,s),y=a.pow(u,r);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let b=1;for(let x=a.sqr(y);b<f&&!a.eql(x,a.ONE);b++)x=a.sqr(x);const A=a.pow(d,qi<<BigInt(f-b-1));d=a.sqr(A),g=a.mul(g,A),y=a.mul(y,d),f=b}return g}}function jLe(t){if(t%xO===zLe){const e=(t+qi)/xO;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%YG===GG){const e=(t-GG)/YG;return function(n,i){const s=n.mul(i,f0),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,f0),o),f=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return KLe(t)}const HLe=(t,e)=>($i(t,e)&qi)===qi,qLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VLe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=qLe.reduce((n,i)=>(n[i]="function",n),e);return Ew(t,r)}function GLe(t,e,r){if(r<oo)throw new Error("invalid exponent, negatives unsupported");if(r===oo)return t.ONE;if(r===qi)return e;let n=t.ONE,i=e;for(;r>oo;)r&qi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=qi;return n}function YLe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function Ose(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function R6(t,e,r=!1,n={}){if(t<=oo)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Ose(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:e7(i),ZERO:oo,ONE:qi,create:u=>$i(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return oo<=u&&u<t},is0:u=>u===oo,isOdd:u=>(u&qi)===qi,neg:u=>$i(-u,t),eql:(u,f)=>u===f,sqr:u=>$i(u*u,t),add:(u,f)=>$i(u+f,t),sub:(u,f)=>$i(u-f,t),mul:(u,f)=>$i(u*f,t),pow:(u,f)=>GLe(a,u,f),div:(u,f)=>$i(u*EO(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>EO(u,t),sqrt:n.sqrt||(u=>(o||(o=jLe(t)),o(a,u))),invertBatch:u=>YLe(a,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>r?RA(u,s):zv(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return r?Tb(u):cm(u)}});return Object.freeze(a)}function Lse(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Dse(t){const e=Lse(t);return e+Math.ceil(e/2)}function ZLe(t,e,r=!1){const n=t.length,i=Lse(e),s=Dse(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Tb(t):cm(t),a=$i(o,e-qi)+qi;return r?RA(a,i):zv(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZG=BigInt(0),tk=BigInt(1);function mP(t,e){const r=e.negate();return t?r:e}function Fse(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function yP(t,e){Fse(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function XLe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function QLe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const bP=new WeakMap,$se=new WeakMap;function vP(t){return $se.get(t)||1}function Use(t,e){return{constTimeNegate:mP,hasPrecomputes(r){return vP(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>ZG;)n&tk&&(i=i.add(s)),s=s.double(),n>>=tk;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=yP(n,e),o=[];let a=r,u=a;for(let f=0;f<i;f++){u=a,o.push(u);for(let d=1;d<s;d++)u=u.add(a),o.push(u);a=u.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=yP(r,e);let a=t.ZERO,u=t.BASE;const f=BigInt(2**r-1),d=2**r,g=BigInt(r);for(let y=0;y<s;y++){const b=y*o;let A=Number(i&f);i>>=g,A>o&&(A-=d,i+=tk);const x=b,k=b+Math.abs(A)-1,R=y%2!==0,C=A<0;A===0?u=u.add(mP(R,n[x])):a=a.add(mP(C,n[k]))}return{p:a,f:u}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=yP(r,e),u=BigInt(2**r-1),f=2**r,d=BigInt(r);for(let g=0;g<o;g++){const y=g*a;if(i===ZG)break;let b=Number(i&u);if(i>>=d,b>a&&(b-=f,i+=tk),b===0)continue;let A=n[y+Math.abs(b)-1];b<0&&(A=A.negate()),s=s.add(A)}return s},getPrecomputes(r,n,i){let s=bP.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&bP.set(n,i(s))),s},wNAFCached(r,n,i){const s=vP(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=vP(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Fse(n,e),$se.set(r,n),bP.delete(r)}}}function zse(t,e,r,n){if(XLe(r,t),QLe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Nse(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,u=new Array(a+1).fill(i),f=Math.floor((e.BITS-1)/o)*o;let d=i;for(let g=f;g>=0;g-=o){u.fill(i);for(let b=0;b<n.length;b++){const A=n[b],x=Number(A>>BigInt(g)&BigInt(a));u[x]=u[x].add(r[b])}let y=i;for(let b=u.length-1,A=i;b>0;b--)A=A.add(u[b]),y=y.add(A);if(d=d.add(y),g!==0)for(let b=0;b<o;b++)d=d.double()}return d}function t7(t){return VLe(t.Fp),Ew(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ose(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zc=BigInt(0),Pa=BigInt(1),rk=BigInt(2),JLe=BigInt(8),eDe={zip215:!0};function tDe(t){const e=t7(t);return Ew(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function rDe(t){const e=tDe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,f=rk<<BigInt(a*8)-Pa,d=r.create,g=R6(e.n,e.nBitLength),y=e.uvRatio||((v,_)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(_))}}catch{return{isValid:!1,value:zc}}}),b=e.adjustScalarBytes||(v=>v),A=e.domain||((v,_,T)=>{if(bh("phflag",T),_.length||T)throw new Error("Contexts/pre-hash are not supported");return v});function x(v,_){mc("coordinate "+v,_,zc,f)}function k(v){if(!(v instanceof P))throw new Error("ExtendedPoint expected")}const R=MA((v,_)=>{const{ex:T,ey:w,ez:l}=v,S=v.is0();_==null&&(_=S?JLe:r.inv(l));const N=d(T*_),F=d(w*_),W=d(l*_);if(S)return{x:zc,y:Pa};if(W!==Pa)throw new Error("invZ was invalid");return{x:N,y:F}}),C=MA(v=>{const{a:_,d:T}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:w,ey:l,ez:S,et:N}=v,F=d(w*w),W=d(l*l),D=d(S*S),K=d(D*D),z=d(F*_),G=d(D*d(z+W)),te=d(K+d(T*d(F*W)));if(G!==te)throw new Error("bad point: equation left != right (1)");const ie=d(w*l),J=d(S*N);if(ie!==J)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(_,T,w,l){this.ex=_,this.ey=T,this.ez=w,this.et=l,x("x",_),x("y",T),x("z",w),x("t",l),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof P)throw new Error("extended point not allowed");const{x:T,y:w}=_||{};return x("x",T),x("y",w),new P(T,w,Pa,d(T*w))}static normalizeZ(_){const T=r.invertBatch(_.map(w=>w.ez));return _.map((w,l)=>w.toAffine(T[l])).map(P.fromAffine)}static msm(_,T){return zse(P,g,_,T)}_setWindowSize(_){Q.setWindowSize(this,_)}assertValidity(){C(this)}equals(_){k(_);const{ex:T,ey:w,ez:l}=this,{ex:S,ey:N,ez:F}=_,W=d(T*F),D=d(S*l),K=d(w*F),z=d(N*l);return W===D&&K===z}is0(){return this.equals(P.ZERO)}negate(){return new P(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:_}=e,{ex:T,ey:w,ez:l}=this,S=d(T*T),N=d(w*w),F=d(rk*d(l*l)),W=d(_*S),D=T+w,K=d(d(D*D)-S-N),z=W+N,G=z-F,te=W-N,ie=d(K*G),J=d(z*te),V=d(K*te),fe=d(G*z);return new P(ie,J,fe,V)}add(_){k(_);const{a:T,d:w}=e,{ex:l,ey:S,ez:N,et:F}=this,{ex:W,ey:D,ez:K,et:z}=_;if(T===BigInt(-1)){const Oe=d((S-l)*(D+W)),_e=d((S+l)*(D-W)),Ne=d(_e-Oe);if(Ne===zc)return this.double();const wt=d(N*rk*z),ge=d(F*rk*K),ye=ge+wt,Ge=_e+Oe,se=ge-wt,j=d(ye*Ne),re=d(Ge*se),ue=d(ye*se),me=d(Ne*Ge);return new P(j,re,me,ue)}const G=d(l*W),te=d(S*D),ie=d(F*w*z),J=d(N*K),V=d((l+S)*(W+D)-G-te),fe=J-ie,Te=J+ie,Re=d(te-T*G),H=d(V*fe),oe=d(Te*Re),ae=d(V*Re),ce=d(fe*Te);return new P(H,oe,ce,ae)}subtract(_){return this.add(_.negate())}wNAF(_){return Q.wNAFCached(this,_,P.normalizeZ)}multiply(_){const T=_;mc("scalar",T,Pa,n);const{p:w,f:l}=this.wNAF(T);return P.normalizeZ([w,l])[0]}multiplyUnsafe(_,T=P.ZERO){const w=_;return mc("scalar",w,zc,n),w===zc?q:this.is0()||w===Pa?this:Q.wNAFCachedUnsafe(this,w,P.normalizeZ,T)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return Q.unsafeLadder(this,n).is0()}toAffine(_){return R(this,_)}clearCofactor(){const{h:_}=e;return _===Pa?this:this.multiplyUnsafe(_)}static fromHex(_,T=!1){const{d:w,a:l}=e,S=r.BYTES;_=Es("pointHex",_,S),bh("zip215",T);const N=_.slice(),F=_[S-1];N[S-1]=F&-129;const W=Tb(N),D=T?f:r.ORDER;mc("pointHex.y",W,zc,D);const K=d(W*W),z=d(K-Pa),G=d(w*K-l);let{isValid:te,value:ie}=y(z,G);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const J=(ie&Pa)===Pa,V=(F&128)!==0;if(!T&&ie===zc&&V)throw new Error("Point.fromHex: x=0 and x_0=1");return V!==J&&(ie=d(-ie)),P.fromAffine({x:ie,y:W})}static fromPrivateKey(_){return Z(_).point}toRawBytes(){const{x:_,y:T}=this.toAffine(),w=RA(T,r.BYTES);return w[w.length-1]|=_&Pa?128:0,w}toHex(){return wm(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,Pa,d(e.Gx*e.Gy)),P.ZERO=new P(zc,Pa,Pa,zc);const{BASE:O,ZERO:q}=P,Q=Use(P,a*8);function Y(v){return $i(v,n)}function X(v){return Y(Tb(v))}function Z(v){const _=r.BYTES;v=Es("private key",v,_);const T=Es("hashed private key",s(v),2*_),w=b(T.slice(0,_)),l=T.slice(_,2*_),S=X(w),N=O.multiply(S),F=N.toRawBytes();return{head:w,prefix:l,scalar:S,point:N,pointBytes:F}}function le(v){return Z(v).pointBytes}function I(v=new Uint8Array,..._){const T=Sm(..._);return X(s(A(T,Es("context",v),!!i)))}function c(v,_,T={}){v=Es("message",v),i&&(v=i(v));const{prefix:w,scalar:l,pointBytes:S}=Z(_),N=I(T.context,w,v),F=O.multiply(N).toRawBytes(),W=I(T.context,F,S,v),D=Y(N+W*l);mc("signature.s",D,zc,n);const K=Sm(F,RA(D,r.BYTES));return Es("result",K,r.BYTES*2)}const h=eDe;function p(v,_,T,w=h){const{context:l,zip215:S}=w,N=r.BYTES;v=Es("signature",v,2*N),_=Es("message",_),T=Es("publicKey",T,N),S!==void 0&&bh("zip215",S),i&&(_=i(_));const F=Tb(v.slice(N,2*N));let W,D,K;try{W=P.fromHex(T,S),D=P.fromHex(v.slice(0,N),S),K=O.multiplyUnsafe(F)}catch{return!1}if(!S&&W.isSmallOrder())return!1;const z=I(l,D.toRawBytes(),W.toRawBytes(),_);return D.add(W.multiplyUnsafe(z)).subtract(K).clearCofactor().equals(P.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:le,sign:c,verify:p,ExtendedPoint:P,utils:{getExtendedPublicKey:Z,randomPrivateKey:()=>o(r.BYTES),precompute(v=8,_=P.BASE){return _._setWindowSize(v),_.multiply(BigInt(3)),_}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r7=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),XG=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const nDe=BigInt(1),QG=BigInt(2);BigInt(3);const iDe=BigInt(5),sDe=BigInt(8);function oDe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=r7,a=t*t%s*t%s,u=es(a,QG,s)*a%s,f=es(u,nDe,s)*t%s,d=es(f,iDe,s)*f%s,g=es(d,e,s)*d%s,y=es(g,r,s)*g%s,b=es(y,n,s)*y%s,A=es(b,i,s)*b%s,x=es(A,i,s)*b%s,k=es(x,e,s)*d%s;return{pow_p_5_8:es(k,QG,s)*t%s,b2:a}}function aDe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uDe(t,e){const r=r7,n=$i(e*e*e,r),i=$i(n*n*e,r),s=oDe(t*i).pow_p_5_8;let o=$i(t*n*s,r);const a=$i(e*o*o,r),u=o,f=$i(o*XG,r),d=a===t,g=a===$i(-t,r),y=a===$i(-t*XG,r);return d&&(o=u),(g||y)&&(o=f),HLe(o,r)&&(o=$i(-o,r)),{isValid:d||g,value:o}}const cDe=R6(r7,void 0,!0),lDe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:cDe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:sDe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Pse,randomBytes:Q9,adjustScalarBytes:aDe,uvRatio:uDe},zs=rDe(lDe);var n7={exports:{}};n7.exports;(function(t){(function(e,r){function n(h,p){if(!h)throw new Error(p||"Assertion failed")}function i(h,p){h.super_=p;var m=function(){};m.prototype=p.prototype,h.prototype=new m,h.prototype.constructor=h}function s(h,p,m){if(s.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((p==="le"||p==="be")&&(m=p,p=10),this._init(h||0,p||10,m||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,m){return p.cmp(m)>0?p:m},s.min=function(p,m){return p.cmp(m)<0?p:m},s.prototype._init=function(p,m,v){if(typeof p=="number")return this._initNumber(p,m,v);if(typeof p=="object")return this._initArray(p,m,v);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),p=p.toString().replace(/\s+/g,"");var _=0;p[0]==="-"&&(_++,this.negative=1),_<p.length&&(m===16?this._parseHex(p,_,v):(this._parseBase(p,m,_),v==="le"&&this._initArray(this.toArray(),m,v)))},s.prototype._initNumber=function(p,m,v){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),m,v)},s.prototype._initArray=function(p,m,v){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var T,w,l=0;if(v==="be")for(_=p.length-1,T=0;_>=0;_-=3)w=p[_]|p[_-1]<<8|p[_-2]<<16,this.words[T]|=w<<l&67108863,this.words[T+1]=w>>>26-l&67108863,l+=24,l>=26&&(l-=26,T++);else if(v==="le")for(_=0,T=0;_<p.length;_+=3)w=p[_]|p[_+1]<<8|p[_+2]<<16,this.words[T]|=w<<l&67108863,this.words[T+1]=w>>>26-l&67108863,l+=24,l>=26&&(l-=26,T++);return this._strip()};function a(h,p){var m=h.charCodeAt(p);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+h)}function u(h,p,m){var v=a(h,m);return m-1>=p&&(v|=a(h,m-1)<<4),v}s.prototype._parseHex=function(p,m,v){this.length=Math.ceil((p.length-m)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var T=0,w=0,l;if(v==="be")for(_=p.length-1;_>=m;_-=2)l=u(p,m,_)<<T,this.words[w]|=l&67108863,T>=18?(T-=18,w+=1,this.words[w]|=l>>>26):T+=8;else{var S=p.length-m;for(_=S%2===0?m+1:m;_<p.length;_+=2)l=u(p,m,_)<<T,this.words[w]|=l&67108863,T>=18?(T-=18,w+=1,this.words[w]|=l>>>26):T+=8}this._strip()};function f(h,p,m,v){for(var _=0,T=0,w=Math.min(h.length,m),l=p;l<w;l++){var S=h.charCodeAt(l)-48;_*=v,S>=49?T=S-49+10:S>=17?T=S-17+10:T=S,n(S>=0&&T<v,"Invalid character"),_+=T}return _}s.prototype._parseBase=function(p,m,v){this.words=[0],this.length=1;for(var _=0,T=1;T<=67108863;T*=m)_++;_--,T=T/m|0;for(var w=p.length-v,l=w%_,S=Math.min(w,w-l)+v,N=0,F=v;F<S;F+=_)N=f(p,F,F+_,m),this.imuln(T),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(l!==0){var W=1;for(N=f(p,F,p.length,m),F=0;F<l;F++)W*=m;this.imuln(W),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var m=0;m<this.length;m++)p.words[m]=this.words[m];p.length=this.length,p.negative=this.negative,p.red=this.red};function d(h,p){h.words=p.words,h.length=p.length,h.negative=p.negative,h.red=p.red}if(s.prototype._move=function(p){d(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,m){p=p||10,m=m|0||1;var v;if(p===16||p==="hex"){v="";for(var _=0,T=0,w=0;w<this.length;w++){var l=this.words[w],S=((l<<_|T)&16777215).toString(16);T=l>>>24-_&16777215,_+=2,_>=26&&(_-=26,w--),T!==0||w!==this.length-1?v=y[6-S.length]+S+v:v=S+v}for(T!==0&&(v=T.toString(16)+v);v.length%m!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(p===(p|0)&&p>=2&&p<=36){var N=b[p],F=A[p];v="";var W=this.clone();for(W.negative=0;!W.isZero();){var D=W.modrn(F).toString(p);W=W.idivn(F),W.isZero()?v=D+v:v=y[N-D.length]+D+v}for(this.isZero()&&(v="0"+v);v.length%m!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,m){return this.toArrayLike(o,p,m)}),s.prototype.toArray=function(p,m){return this.toArrayLike(Array,p,m)};var x=function(p,m){return p.allocUnsafe?p.allocUnsafe(m):new p(m)};s.prototype.toArrayLike=function(p,m,v){this._strip();var _=this.byteLength(),T=v||Math.max(1,_);n(_<=T,"byte array longer than desired length"),n(T>0,"Requested array length <= 0");var w=x(p,T),l=m==="le"?"LE":"BE";return this["_toArrayLike"+l](w,_),w},s.prototype._toArrayLikeLE=function(p,m){for(var v=0,_=0,T=0,w=0;T<this.length;T++){var l=this.words[T]<<w|_;p[v++]=l&255,v<p.length&&(p[v++]=l>>8&255),v<p.length&&(p[v++]=l>>16&255),w===6?(v<p.length&&(p[v++]=l>>24&255),_=0,w=0):(_=l>>>24,w+=2)}if(v<p.length)for(p[v++]=_;v<p.length;)p[v++]=0},s.prototype._toArrayLikeBE=function(p,m){for(var v=p.length-1,_=0,T=0,w=0;T<this.length;T++){var l=this.words[T]<<w|_;p[v--]=l&255,v>=0&&(p[v--]=l>>8&255),v>=0&&(p[v--]=l>>16&255),w===6?(v>=0&&(p[v--]=l>>24&255),_=0,w=0):(_=l>>>24,w+=2)}if(v>=0)for(p[v--]=_;v>=0;)p[v--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var m=p,v=0;return m>=4096&&(v+=13,m>>>=13),m>=64&&(v+=7,m>>>=7),m>=8&&(v+=4,m>>>=4),m>=2&&(v+=2,m>>>=2),v+m},s.prototype._zeroBits=function(p){if(p===0)return 26;var m=p,v=0;return m&8191||(v+=13,m>>>=13),m&127||(v+=7,m>>>=7),m&15||(v+=4,m>>>=4),m&3||(v+=2,m>>>=2),m&1||v++,v},s.prototype.bitLength=function(){var p=this.words[this.length-1],m=this._countBits(p);return(this.length-1)*26+m};function k(h){for(var p=new Array(h.bitLength()),m=0;m<p.length;m++){var v=m/26|0,_=m%26;p[m]=h.words[v]>>>_&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,m=0;m<this.length;m++){var v=this._zeroBits(this.words[m]);if(p+=v,v!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]|p.words[m];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var m;this.length>p.length?m=p:m=this;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]&p.words[v];return this.length=m.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var m,v;this.length>p.length?(m=this,v=p):(m=p,v=this);for(var _=0;_<v.length;_++)this.words[_]=m.words[_]^v.words[_];if(this!==m)for(;_<m.length;_++)this.words[_]=m.words[_];return this.length=m.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var m=Math.ceil(p/26)|0,v=p%26;this._expand(m),v>0&&m--;for(var _=0;_<m;_++)this.words[_]=~this.words[_]&67108863;return v>0&&(this.words[_]=~this.words[_]&67108863>>26-v),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,m){n(typeof p=="number"&&p>=0);var v=p/26|0,_=p%26;return this._expand(v+1),m?this.words[v]=this.words[v]|1<<_:this.words[v]=this.words[v]&~(1<<_),this._strip()},s.prototype.iadd=function(p){var m;if(this.negative!==0&&p.negative===0)return this.negative=0,m=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,m=this.isub(p),p.negative=1,m._normSign();var v,_;this.length>p.length?(v=this,_=p):(v=p,_=this);for(var T=0,w=0;w<_.length;w++)m=(v.words[w]|0)+(_.words[w]|0)+T,this.words[w]=m&67108863,T=m>>>26;for(;T!==0&&w<v.length;w++)m=(v.words[w]|0)+T,this.words[w]=m&67108863,T=m>>>26;if(this.length=v.length,T!==0)this.words[this.length]=T,this.length++;else if(v!==this)for(;w<v.length;w++)this.words[w]=v.words[w];return this},s.prototype.add=function(p){var m;return p.negative!==0&&this.negative===0?(p.negative=0,m=this.sub(p),p.negative^=1,m):p.negative===0&&this.negative!==0?(this.negative=0,m=p.sub(this),this.negative=1,m):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var m=this.iadd(p);return p.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var v=this.cmp(p);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,T;v>0?(_=this,T=p):(_=p,T=this);for(var w=0,l=0;l<T.length;l++)m=(_.words[l]|0)-(T.words[l]|0)+w,w=m>>26,this.words[l]=m&67108863;for(;w!==0&&l<_.length;l++)m=(_.words[l]|0)+w,w=m>>26,this.words[l]=m&67108863;if(w===0&&l<_.length&&_!==this)for(;l<_.length;l++)this.words[l]=_.words[l];return this.length=Math.max(this.length,l),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function R(h,p,m){m.negative=p.negative^h.negative;var v=h.length+p.length|0;m.length=v,v=v-1|0;var _=h.words[0]|0,T=p.words[0]|0,w=_*T,l=w&67108863,S=w/67108864|0;m.words[0]=l;for(var N=1;N<v;N++){for(var F=S>>>26,W=S&67108863,D=Math.min(N,p.length-1),K=Math.max(0,N-h.length+1);K<=D;K++){var z=N-K|0;_=h.words[z]|0,T=p.words[K]|0,w=_*T+W,F+=w/67108864|0,W=w&67108863}m.words[N]=W|0,S=F|0}return S!==0?m.words[N]=S|0:m.length--,m._strip()}var C=function(p,m,v){var _=p.words,T=m.words,w=v.words,l=0,S,N,F,W=_[0]|0,D=W&8191,K=W>>>13,z=_[1]|0,G=z&8191,te=z>>>13,ie=_[2]|0,J=ie&8191,V=ie>>>13,fe=_[3]|0,Te=fe&8191,Re=fe>>>13,H=_[4]|0,oe=H&8191,ae=H>>>13,ce=_[5]|0,Oe=ce&8191,_e=ce>>>13,Ne=_[6]|0,wt=Ne&8191,ge=Ne>>>13,ye=_[7]|0,Ge=ye&8191,se=ye>>>13,j=_[8]|0,re=j&8191,ue=j>>>13,me=_[9]|0,Be=me&8191,Ae=me>>>13,ze=T[0]|0,$t=ze&8191,Ke=ze>>>13,qe=T[1]|0,Nt=qe&8191,Ye=qe>>>13,ut=T[2]|0,kr=ut&8191,Qe=ut>>>13,ct=T[3]|0,Ir=ct&8191,Je=ct>>>13,lt=T[4]|0,Tr=lt&8191,et=lt>>>13,ft=T[5]|0,Rr=ft&8191,Xe=ft>>>13,dt=T[6]|0,Er=dt&8191,tt=dt>>>13,ht=T[7]|0,Mr=ht&8191,rt=ht>>>13,pt=T[8]|0,Cr=pt&8191,nt=pt>>>13,gt=T[9]|0,hr=gt&8191,yr=gt>>>13;v.negative=p.negative^m.negative,v.length=19,S=Math.imul(D,$t),N=Math.imul(D,Ke),N=N+Math.imul(K,$t)|0,F=Math.imul(K,Ke);var pn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(pn>>>26)|0,pn&=67108863,S=Math.imul(G,$t),N=Math.imul(G,Ke),N=N+Math.imul(te,$t)|0,F=Math.imul(te,Ke),S=S+Math.imul(D,Nt)|0,N=N+Math.imul(D,Ye)|0,N=N+Math.imul(K,Nt)|0,F=F+Math.imul(K,Ye)|0;var gn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(gn>>>26)|0,gn&=67108863,S=Math.imul(J,$t),N=Math.imul(J,Ke),N=N+Math.imul(V,$t)|0,F=Math.imul(V,Ke),S=S+Math.imul(G,Nt)|0,N=N+Math.imul(G,Ye)|0,N=N+Math.imul(te,Nt)|0,F=F+Math.imul(te,Ye)|0,S=S+Math.imul(D,kr)|0,N=N+Math.imul(D,Qe)|0,N=N+Math.imul(K,kr)|0,F=F+Math.imul(K,Qe)|0;var mn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(mn>>>26)|0,mn&=67108863,S=Math.imul(Te,$t),N=Math.imul(Te,Ke),N=N+Math.imul(Re,$t)|0,F=Math.imul(Re,Ke),S=S+Math.imul(J,Nt)|0,N=N+Math.imul(J,Ye)|0,N=N+Math.imul(V,Nt)|0,F=F+Math.imul(V,Ye)|0,S=S+Math.imul(G,kr)|0,N=N+Math.imul(G,Qe)|0,N=N+Math.imul(te,kr)|0,F=F+Math.imul(te,Qe)|0,S=S+Math.imul(D,Ir)|0,N=N+Math.imul(D,Je)|0,N=N+Math.imul(K,Ir)|0,F=F+Math.imul(K,Je)|0;var yn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(yn>>>26)|0,yn&=67108863,S=Math.imul(oe,$t),N=Math.imul(oe,Ke),N=N+Math.imul(ae,$t)|0,F=Math.imul(ae,Ke),S=S+Math.imul(Te,Nt)|0,N=N+Math.imul(Te,Ye)|0,N=N+Math.imul(Re,Nt)|0,F=F+Math.imul(Re,Ye)|0,S=S+Math.imul(J,kr)|0,N=N+Math.imul(J,Qe)|0,N=N+Math.imul(V,kr)|0,F=F+Math.imul(V,Qe)|0,S=S+Math.imul(G,Ir)|0,N=N+Math.imul(G,Je)|0,N=N+Math.imul(te,Ir)|0,F=F+Math.imul(te,Je)|0,S=S+Math.imul(D,Tr)|0,N=N+Math.imul(D,et)|0,N=N+Math.imul(K,Tr)|0,F=F+Math.imul(K,et)|0;var bn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(bn>>>26)|0,bn&=67108863,S=Math.imul(Oe,$t),N=Math.imul(Oe,Ke),N=N+Math.imul(_e,$t)|0,F=Math.imul(_e,Ke),S=S+Math.imul(oe,Nt)|0,N=N+Math.imul(oe,Ye)|0,N=N+Math.imul(ae,Nt)|0,F=F+Math.imul(ae,Ye)|0,S=S+Math.imul(Te,kr)|0,N=N+Math.imul(Te,Qe)|0,N=N+Math.imul(Re,kr)|0,F=F+Math.imul(Re,Qe)|0,S=S+Math.imul(J,Ir)|0,N=N+Math.imul(J,Je)|0,N=N+Math.imul(V,Ir)|0,F=F+Math.imul(V,Je)|0,S=S+Math.imul(G,Tr)|0,N=N+Math.imul(G,et)|0,N=N+Math.imul(te,Tr)|0,F=F+Math.imul(te,et)|0,S=S+Math.imul(D,Rr)|0,N=N+Math.imul(D,Xe)|0,N=N+Math.imul(K,Rr)|0,F=F+Math.imul(K,Xe)|0;var Tn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,S=Math.imul(wt,$t),N=Math.imul(wt,Ke),N=N+Math.imul(ge,$t)|0,F=Math.imul(ge,Ke),S=S+Math.imul(Oe,Nt)|0,N=N+Math.imul(Oe,Ye)|0,N=N+Math.imul(_e,Nt)|0,F=F+Math.imul(_e,Ye)|0,S=S+Math.imul(oe,kr)|0,N=N+Math.imul(oe,Qe)|0,N=N+Math.imul(ae,kr)|0,F=F+Math.imul(ae,Qe)|0,S=S+Math.imul(Te,Ir)|0,N=N+Math.imul(Te,Je)|0,N=N+Math.imul(Re,Ir)|0,F=F+Math.imul(Re,Je)|0,S=S+Math.imul(J,Tr)|0,N=N+Math.imul(J,et)|0,N=N+Math.imul(V,Tr)|0,F=F+Math.imul(V,et)|0,S=S+Math.imul(G,Rr)|0,N=N+Math.imul(G,Xe)|0,N=N+Math.imul(te,Rr)|0,F=F+Math.imul(te,Xe)|0,S=S+Math.imul(D,Er)|0,N=N+Math.imul(D,tt)|0,N=N+Math.imul(K,Er)|0,F=F+Math.imul(K,tt)|0;var Vn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,S=Math.imul(Ge,$t),N=Math.imul(Ge,Ke),N=N+Math.imul(se,$t)|0,F=Math.imul(se,Ke),S=S+Math.imul(wt,Nt)|0,N=N+Math.imul(wt,Ye)|0,N=N+Math.imul(ge,Nt)|0,F=F+Math.imul(ge,Ye)|0,S=S+Math.imul(Oe,kr)|0,N=N+Math.imul(Oe,Qe)|0,N=N+Math.imul(_e,kr)|0,F=F+Math.imul(_e,Qe)|0,S=S+Math.imul(oe,Ir)|0,N=N+Math.imul(oe,Je)|0,N=N+Math.imul(ae,Ir)|0,F=F+Math.imul(ae,Je)|0,S=S+Math.imul(Te,Tr)|0,N=N+Math.imul(Te,et)|0,N=N+Math.imul(Re,Tr)|0,F=F+Math.imul(Re,et)|0,S=S+Math.imul(J,Rr)|0,N=N+Math.imul(J,Xe)|0,N=N+Math.imul(V,Rr)|0,F=F+Math.imul(V,Xe)|0,S=S+Math.imul(G,Er)|0,N=N+Math.imul(G,tt)|0,N=N+Math.imul(te,Er)|0,F=F+Math.imul(te,tt)|0,S=S+Math.imul(D,Mr)|0,N=N+Math.imul(D,rt)|0,N=N+Math.imul(K,Mr)|0,F=F+Math.imul(K,rt)|0;var In=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(In>>>26)|0,In&=67108863,S=Math.imul(re,$t),N=Math.imul(re,Ke),N=N+Math.imul(ue,$t)|0,F=Math.imul(ue,Ke),S=S+Math.imul(Ge,Nt)|0,N=N+Math.imul(Ge,Ye)|0,N=N+Math.imul(se,Nt)|0,F=F+Math.imul(se,Ye)|0,S=S+Math.imul(wt,kr)|0,N=N+Math.imul(wt,Qe)|0,N=N+Math.imul(ge,kr)|0,F=F+Math.imul(ge,Qe)|0,S=S+Math.imul(Oe,Ir)|0,N=N+Math.imul(Oe,Je)|0,N=N+Math.imul(_e,Ir)|0,F=F+Math.imul(_e,Je)|0,S=S+Math.imul(oe,Tr)|0,N=N+Math.imul(oe,et)|0,N=N+Math.imul(ae,Tr)|0,F=F+Math.imul(ae,et)|0,S=S+Math.imul(Te,Rr)|0,N=N+Math.imul(Te,Xe)|0,N=N+Math.imul(Re,Rr)|0,F=F+Math.imul(Re,Xe)|0,S=S+Math.imul(J,Er)|0,N=N+Math.imul(J,tt)|0,N=N+Math.imul(V,Er)|0,F=F+Math.imul(V,tt)|0,S=S+Math.imul(G,Mr)|0,N=N+Math.imul(G,rt)|0,N=N+Math.imul(te,Mr)|0,F=F+Math.imul(te,rt)|0,S=S+Math.imul(D,Cr)|0,N=N+Math.imul(D,nt)|0,N=N+Math.imul(K,Cr)|0,F=F+Math.imul(K,nt)|0;var Gn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,S=Math.imul(Be,$t),N=Math.imul(Be,Ke),N=N+Math.imul(Ae,$t)|0,F=Math.imul(Ae,Ke),S=S+Math.imul(re,Nt)|0,N=N+Math.imul(re,Ye)|0,N=N+Math.imul(ue,Nt)|0,F=F+Math.imul(ue,Ye)|0,S=S+Math.imul(Ge,kr)|0,N=N+Math.imul(Ge,Qe)|0,N=N+Math.imul(se,kr)|0,F=F+Math.imul(se,Qe)|0,S=S+Math.imul(wt,Ir)|0,N=N+Math.imul(wt,Je)|0,N=N+Math.imul(ge,Ir)|0,F=F+Math.imul(ge,Je)|0,S=S+Math.imul(Oe,Tr)|0,N=N+Math.imul(Oe,et)|0,N=N+Math.imul(_e,Tr)|0,F=F+Math.imul(_e,et)|0,S=S+Math.imul(oe,Rr)|0,N=N+Math.imul(oe,Xe)|0,N=N+Math.imul(ae,Rr)|0,F=F+Math.imul(ae,Xe)|0,S=S+Math.imul(Te,Er)|0,N=N+Math.imul(Te,tt)|0,N=N+Math.imul(Re,Er)|0,F=F+Math.imul(Re,tt)|0,S=S+Math.imul(J,Mr)|0,N=N+Math.imul(J,rt)|0,N=N+Math.imul(V,Mr)|0,F=F+Math.imul(V,rt)|0,S=S+Math.imul(G,Cr)|0,N=N+Math.imul(G,nt)|0,N=N+Math.imul(te,Cr)|0,F=F+Math.imul(te,nt)|0,S=S+Math.imul(D,hr)|0,N=N+Math.imul(D,yr)|0,N=N+Math.imul(K,hr)|0,F=F+Math.imul(K,yr)|0;var Yn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,S=Math.imul(Be,Nt),N=Math.imul(Be,Ye),N=N+Math.imul(Ae,Nt)|0,F=Math.imul(Ae,Ye),S=S+Math.imul(re,kr)|0,N=N+Math.imul(re,Qe)|0,N=N+Math.imul(ue,kr)|0,F=F+Math.imul(ue,Qe)|0,S=S+Math.imul(Ge,Ir)|0,N=N+Math.imul(Ge,Je)|0,N=N+Math.imul(se,Ir)|0,F=F+Math.imul(se,Je)|0,S=S+Math.imul(wt,Tr)|0,N=N+Math.imul(wt,et)|0,N=N+Math.imul(ge,Tr)|0,F=F+Math.imul(ge,et)|0,S=S+Math.imul(Oe,Rr)|0,N=N+Math.imul(Oe,Xe)|0,N=N+Math.imul(_e,Rr)|0,F=F+Math.imul(_e,Xe)|0,S=S+Math.imul(oe,Er)|0,N=N+Math.imul(oe,tt)|0,N=N+Math.imul(ae,Er)|0,F=F+Math.imul(ae,tt)|0,S=S+Math.imul(Te,Mr)|0,N=N+Math.imul(Te,rt)|0,N=N+Math.imul(Re,Mr)|0,F=F+Math.imul(Re,rt)|0,S=S+Math.imul(J,Cr)|0,N=N+Math.imul(J,nt)|0,N=N+Math.imul(V,Cr)|0,F=F+Math.imul(V,nt)|0,S=S+Math.imul(G,hr)|0,N=N+Math.imul(G,yr)|0,N=N+Math.imul(te,hr)|0,F=F+Math.imul(te,yr)|0;var Zn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,S=Math.imul(Be,kr),N=Math.imul(Be,Qe),N=N+Math.imul(Ae,kr)|0,F=Math.imul(Ae,Qe),S=S+Math.imul(re,Ir)|0,N=N+Math.imul(re,Je)|0,N=N+Math.imul(ue,Ir)|0,F=F+Math.imul(ue,Je)|0,S=S+Math.imul(Ge,Tr)|0,N=N+Math.imul(Ge,et)|0,N=N+Math.imul(se,Tr)|0,F=F+Math.imul(se,et)|0,S=S+Math.imul(wt,Rr)|0,N=N+Math.imul(wt,Xe)|0,N=N+Math.imul(ge,Rr)|0,F=F+Math.imul(ge,Xe)|0,S=S+Math.imul(Oe,Er)|0,N=N+Math.imul(Oe,tt)|0,N=N+Math.imul(_e,Er)|0,F=F+Math.imul(_e,tt)|0,S=S+Math.imul(oe,Mr)|0,N=N+Math.imul(oe,rt)|0,N=N+Math.imul(ae,Mr)|0,F=F+Math.imul(ae,rt)|0,S=S+Math.imul(Te,Cr)|0,N=N+Math.imul(Te,nt)|0,N=N+Math.imul(Re,Cr)|0,F=F+Math.imul(Re,nt)|0,S=S+Math.imul(J,hr)|0,N=N+Math.imul(J,yr)|0,N=N+Math.imul(V,hr)|0,F=F+Math.imul(V,yr)|0;var Fn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,S=Math.imul(Be,Ir),N=Math.imul(Be,Je),N=N+Math.imul(Ae,Ir)|0,F=Math.imul(Ae,Je),S=S+Math.imul(re,Tr)|0,N=N+Math.imul(re,et)|0,N=N+Math.imul(ue,Tr)|0,F=F+Math.imul(ue,et)|0,S=S+Math.imul(Ge,Rr)|0,N=N+Math.imul(Ge,Xe)|0,N=N+Math.imul(se,Rr)|0,F=F+Math.imul(se,Xe)|0,S=S+Math.imul(wt,Er)|0,N=N+Math.imul(wt,tt)|0,N=N+Math.imul(ge,Er)|0,F=F+Math.imul(ge,tt)|0,S=S+Math.imul(Oe,Mr)|0,N=N+Math.imul(Oe,rt)|0,N=N+Math.imul(_e,Mr)|0,F=F+Math.imul(_e,rt)|0,S=S+Math.imul(oe,Cr)|0,N=N+Math.imul(oe,nt)|0,N=N+Math.imul(ae,Cr)|0,F=F+Math.imul(ae,nt)|0,S=S+Math.imul(Te,hr)|0,N=N+Math.imul(Te,yr)|0,N=N+Math.imul(Re,hr)|0,F=F+Math.imul(Re,yr)|0;var $n=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+($n>>>26)|0,$n&=67108863,S=Math.imul(Be,Tr),N=Math.imul(Be,et),N=N+Math.imul(Ae,Tr)|0,F=Math.imul(Ae,et),S=S+Math.imul(re,Rr)|0,N=N+Math.imul(re,Xe)|0,N=N+Math.imul(ue,Rr)|0,F=F+Math.imul(ue,Xe)|0,S=S+Math.imul(Ge,Er)|0,N=N+Math.imul(Ge,tt)|0,N=N+Math.imul(se,Er)|0,F=F+Math.imul(se,tt)|0,S=S+Math.imul(wt,Mr)|0,N=N+Math.imul(wt,rt)|0,N=N+Math.imul(ge,Mr)|0,F=F+Math.imul(ge,rt)|0,S=S+Math.imul(Oe,Cr)|0,N=N+Math.imul(Oe,nt)|0,N=N+Math.imul(_e,Cr)|0,F=F+Math.imul(_e,nt)|0,S=S+Math.imul(oe,hr)|0,N=N+Math.imul(oe,yr)|0,N=N+Math.imul(ae,hr)|0,F=F+Math.imul(ae,yr)|0;var Un=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Un>>>26)|0,Un&=67108863,S=Math.imul(Be,Rr),N=Math.imul(Be,Xe),N=N+Math.imul(Ae,Rr)|0,F=Math.imul(Ae,Xe),S=S+Math.imul(re,Er)|0,N=N+Math.imul(re,tt)|0,N=N+Math.imul(ue,Er)|0,F=F+Math.imul(ue,tt)|0,S=S+Math.imul(Ge,Mr)|0,N=N+Math.imul(Ge,rt)|0,N=N+Math.imul(se,Mr)|0,F=F+Math.imul(se,rt)|0,S=S+Math.imul(wt,Cr)|0,N=N+Math.imul(wt,nt)|0,N=N+Math.imul(ge,Cr)|0,F=F+Math.imul(ge,nt)|0,S=S+Math.imul(Oe,hr)|0,N=N+Math.imul(Oe,yr)|0,N=N+Math.imul(_e,hr)|0,F=F+Math.imul(_e,yr)|0;var Xn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,S=Math.imul(Be,Er),N=Math.imul(Be,tt),N=N+Math.imul(Ae,Er)|0,F=Math.imul(Ae,tt),S=S+Math.imul(re,Mr)|0,N=N+Math.imul(re,rt)|0,N=N+Math.imul(ue,Mr)|0,F=F+Math.imul(ue,rt)|0,S=S+Math.imul(Ge,Cr)|0,N=N+Math.imul(Ge,nt)|0,N=N+Math.imul(se,Cr)|0,F=F+Math.imul(se,nt)|0,S=S+Math.imul(wt,hr)|0,N=N+Math.imul(wt,yr)|0,N=N+Math.imul(ge,hr)|0,F=F+Math.imul(ge,yr)|0;var Qn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,S=Math.imul(Be,Mr),N=Math.imul(Be,rt),N=N+Math.imul(Ae,Mr)|0,F=Math.imul(Ae,rt),S=S+Math.imul(re,Cr)|0,N=N+Math.imul(re,nt)|0,N=N+Math.imul(ue,Cr)|0,F=F+Math.imul(ue,nt)|0,S=S+Math.imul(Ge,hr)|0,N=N+Math.imul(Ge,yr)|0,N=N+Math.imul(se,hr)|0,F=F+Math.imul(se,yr)|0;var Jn=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,S=Math.imul(Be,Cr),N=Math.imul(Be,nt),N=N+Math.imul(Ae,Cr)|0,F=Math.imul(Ae,nt),S=S+Math.imul(re,hr)|0,N=N+Math.imul(re,yr)|0,N=N+Math.imul(ue,hr)|0,F=F+Math.imul(ue,yr)|0;var bS=(l+S|0)+((N&8191)<<13)|0;l=(F+(N>>>13)|0)+(bS>>>26)|0,bS&=67108863,S=Math.imul(Be,hr),N=Math.imul(Be,yr),N=N+Math.imul(Ae,hr)|0,F=Math.imul(Ae,yr);var ky=(l+S|0)+((N&8191)<<13)|0;return l=(F+(N>>>13)|0)+(ky>>>26)|0,ky&=67108863,w[0]=pn,w[1]=gn,w[2]=mn,w[3]=yn,w[4]=bn,w[5]=Tn,w[6]=Vn,w[7]=In,w[8]=Gn,w[9]=Yn,w[10]=Zn,w[11]=Fn,w[12]=$n,w[13]=Un,w[14]=Xn,w[15]=Qn,w[16]=Jn,w[17]=bS,w[18]=ky,l!==0&&(w[19]=l,v.length++),v};Math.imul||(C=R);function P(h,p,m){m.negative=p.negative^h.negative,m.length=h.length+p.length;for(var v=0,_=0,T=0;T<m.length-1;T++){var w=_;_=0;for(var l=v&67108863,S=Math.min(T,p.length-1),N=Math.max(0,T-h.length+1);N<=S;N++){var F=T-N,W=h.words[F]|0,D=p.words[N]|0,K=W*D,z=K&67108863;w=w+(K/67108864|0)|0,z=z+l|0,l=z&67108863,w=w+(z>>>26)|0,_+=w>>>26,w&=67108863}m.words[T]=l,v=w,w=_}return v!==0?m.words[T]=v:m.length--,m._strip()}function O(h,p,m){return P(h,p,m)}s.prototype.mulTo=function(p,m){var v,_=this.length+p.length;return this.length===10&&p.length===10?v=C(this,p,m):_<63?v=R(this,p,m):_<1024?v=P(this,p,m):v=O(this,p,m),v},s.prototype.mul=function(p){var m=new s(null);return m.words=new Array(this.length+p.length),this.mulTo(p,m)},s.prototype.mulf=function(p){var m=new s(null);return m.words=new Array(this.length+p.length),O(this,p,m)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var m=p<0;m&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var v=0,_=0;_<this.length;_++){var T=(this.words[_]|0)*p,w=(T&67108863)+(v&67108863);v>>=26,v+=T/67108864|0,v+=w>>>26,this.words[_]=w&67108863}return v!==0&&(this.words[_]=v,this.length++),m?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var m=k(p);if(m.length===0)return new s(1);for(var v=this,_=0;_<m.length&&m[_]===0;_++,v=v.sqr());if(++_<m.length)for(var T=v.sqr();_<m.length;_++,T=T.sqr())m[_]!==0&&(v=v.mul(T));return v},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var m=p%26,v=(p-m)/26,_=67108863>>>26-m<<26-m,T;if(m!==0){var w=0;for(T=0;T<this.length;T++){var l=this.words[T]&_,S=(this.words[T]|0)-l<<m;this.words[T]=S|w,w=l>>>26-m}w&&(this.words[T]=w,this.length++)}if(v!==0){for(T=this.length-1;T>=0;T--)this.words[T+v]=this.words[T];for(T=0;T<v;T++)this.words[T]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,m,v){n(typeof p=="number"&&p>=0);var _;m?_=(m-m%26)/26:_=0;var T=p%26,w=Math.min((p-T)/26,this.length),l=67108863^67108863>>>T<<T,S=v;if(_-=w,_=Math.max(0,_),S){for(var N=0;N<w;N++)S.words[N]=this.words[N];S.length=w}if(w!==0)if(this.length>w)for(this.length-=w,N=0;N<this.length;N++)this.words[N]=this.words[N+w];else this.words[0]=0,this.length=1;var F=0;for(N=this.length-1;N>=0&&(F!==0||N>=_);N--){var W=this.words[N]|0;this.words[N]=F<<26-T|W>>>T,F=W&l}return S&&F!==0&&(S.words[S.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,m,v){return n(this.negative===0),this.iushrn(p,m,v)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var m=p%26,v=(p-m)/26,_=1<<m;if(this.length<=v)return!1;var T=this.words[v];return!!(T&_)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var m=p%26,v=(p-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(m!==0&&v++,this.length=Math.min(v,this.length),m!==0){var _=67108863^67108863>>>m<<m;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,m,v){var _=p.length+v,T;this._expand(_);var w,l=0;for(T=0;T<p.length;T++){w=(this.words[T+v]|0)+l;var S=(p.words[T]|0)*m;w-=S&67108863,l=(w>>26)-(S/67108864|0),this.words[T+v]=w&67108863}for(;T<this.length-v;T++)w=(this.words[T+v]|0)+l,l=w>>26,this.words[T+v]=w&67108863;if(l===0)return this._strip();for(n(l===-1),l=0,T=0;T<this.length;T++)w=-(this.words[T]|0)+l,l=w>>26,this.words[T]=w&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,m){var v=this.length-p.length,_=this.clone(),T=p,w=T.words[T.length-1]|0,l=this._countBits(w);v=26-l,v!==0&&(T=T.ushln(v),_.iushln(v),w=T.words[T.length-1]|0);var S=_.length-T.length,N;if(m!=="mod"){N=new s(null),N.length=S+1,N.words=new Array(N.length);for(var F=0;F<N.length;F++)N.words[F]=0}var W=_.clone()._ishlnsubmul(T,1,S);W.negative===0&&(_=W,N&&(N.words[S]=1));for(var D=S-1;D>=0;D--){var K=(_.words[T.length+D]|0)*67108864+(_.words[T.length+D-1]|0);for(K=Math.min(K/w|0,67108863),_._ishlnsubmul(T,K,D);_.negative!==0;)K--,_.negative=0,_._ishlnsubmul(T,1,D),_.isZero()||(_.negative^=1);N&&(N.words[D]=K)}return N&&N._strip(),_._strip(),m!=="div"&&v!==0&&_.iushrn(v),{div:N||null,mod:_}},s.prototype.divmod=function(p,m,v){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,T,w;return this.negative!==0&&p.negative===0?(w=this.neg().divmod(p,m),m!=="mod"&&(_=w.div.neg()),m!=="div"&&(T=w.mod.neg(),v&&T.negative!==0&&T.iadd(p)),{div:_,mod:T}):this.negative===0&&p.negative!==0?(w=this.divmod(p.neg(),m),m!=="mod"&&(_=w.div.neg()),{div:_,mod:w.mod}):this.negative&p.negative?(w=this.neg().divmod(p.neg(),m),m!=="div"&&(T=w.mod.neg(),v&&T.negative!==0&&T.isub(p)),{div:w.div,mod:T}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?m==="div"?{div:this.divn(p.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,m)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var m=this.divmod(p);if(m.mod.isZero())return m.div;var v=m.div.negative!==0?m.mod.isub(p):m.mod,_=p.ushrn(1),T=p.andln(1),w=v.cmp(_);return w<0||T===1&&w===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(p){var m=p<0;m&&(p=-p),n(p<=67108863);for(var v=(1<<26)%p,_=0,T=this.length-1;T>=0;T--)_=(v*_+(this.words[T]|0))%p;return m?-_:_},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var m=p<0;m&&(p=-p),n(p<=67108863);for(var v=0,_=this.length-1;_>=0;_--){var T=(this.words[_]|0)+v*67108864;this.words[_]=T/p|0,v=T%p}return this._strip(),m?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var m=this,v=p.clone();m.negative!==0?m=m.umod(p):m=m.clone();for(var _=new s(1),T=new s(0),w=new s(0),l=new s(1),S=0;m.isEven()&&v.isEven();)m.iushrn(1),v.iushrn(1),++S;for(var N=v.clone(),F=m.clone();!m.isZero();){for(var W=0,D=1;!(m.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(m.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(N),T.isub(F)),_.iushrn(1),T.iushrn(1);for(var K=0,z=1;!(v.words[0]&z)&&K<26;++K,z<<=1);if(K>0)for(v.iushrn(K);K-- >0;)(w.isOdd()||l.isOdd())&&(w.iadd(N),l.isub(F)),w.iushrn(1),l.iushrn(1);m.cmp(v)>=0?(m.isub(v),_.isub(w),T.isub(l)):(v.isub(m),w.isub(_),l.isub(T))}return{a:w,b:l,gcd:v.iushln(S)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var m=this,v=p.clone();m.negative!==0?m=m.umod(p):m=m.clone();for(var _=new s(1),T=new s(0),w=v.clone();m.cmpn(1)>0&&v.cmpn(1)>0;){for(var l=0,S=1;!(m.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(m.iushrn(l);l-- >0;)_.isOdd()&&_.iadd(w),_.iushrn(1);for(var N=0,F=1;!(v.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(v.iushrn(N);N-- >0;)T.isOdd()&&T.iadd(w),T.iushrn(1);m.cmp(v)>=0?(m.isub(v),_.isub(T)):(v.isub(m),T.isub(_))}var W;return m.cmpn(1)===0?W=_:W=T,W.cmpn(0)<0&&W.iadd(p),W},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var m=this.clone(),v=p.clone();m.negative=0,v.negative=0;for(var _=0;m.isEven()&&v.isEven();_++)m.iushrn(1),v.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;v.isEven();)v.iushrn(1);var T=m.cmp(v);if(T<0){var w=m;m=v,v=w}else if(T===0||v.cmpn(1)===0)break;m.isub(v)}while(!0);return v.iushln(_)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var m=p%26,v=(p-m)/26,_=1<<m;if(this.length<=v)return this._expand(v+1),this.words[v]|=_,this;for(var T=_,w=v;T!==0&&w<this.length;w++){var l=this.words[w]|0;l+=T,T=l>>>26,l&=67108863,this.words[w]=l}return T!==0&&(this.words[w]=T,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var m=p<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var v;if(this.length>1)v=1;else{m&&(p=-p),n(p<=67108863,"Number is too big");var _=this.words[0]|0;v=_===p?0:_<p?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var m=this.ucmp(p);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var m=0,v=this.length-1;v>=0;v--){var _=this.words[v]|0,T=p.words[v]|0;if(_!==T){_<T?m=-1:_>T&&(m=1);break}}return m},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new I(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var q={k256:null,p224:null,p192:null,p25519:null};function Q(h,p){this.name=h,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Q.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},Q.prototype.ireduce=function(p){var m=p,v;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),v=m.bitLength();while(v>this.n);var _=v<this.n?-1:m.ucmp(this.p);return _===0?(m.words[0]=0,m.length=1):_>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},Q.prototype.split=function(p,m){p.iushrn(this.n,0,m)},Q.prototype.imulK=function(p){return p.imul(this.k)};function Y(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Y,Q),Y.prototype.split=function(p,m){for(var v=4194303,_=Math.min(p.length,9),T=0;T<_;T++)m.words[T]=p.words[T];if(m.length=_,p.length<=9){p.words[0]=0,p.length=1;return}var w=p.words[9];for(m.words[m.length++]=w&v,T=10;T<p.length;T++){var l=p.words[T]|0;p.words[T-10]=(l&v)<<4|w>>>22,w=l}w>>>=22,p.words[T-10]=w,w===0&&p.length>10?p.length-=10:p.length-=9},Y.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var m=0,v=0;v<p.length;v++){var _=p.words[v]|0;m+=_*977,p.words[v]=m&67108863,m=_*64+(m/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function X(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,Q);function Z(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,Q);function le(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(le,Q),le.prototype.imulK=function(p){for(var m=0,v=0;v<p.length;v++){var _=(p.words[v]|0)*19+m,T=_&67108863;_>>>=26,p.words[v]=T,m=_}return m!==0&&(p.words[p.length++]=m),p},s._prime=function(p){if(q[p])return q[p];var m;if(p==="k256")m=new Y;else if(p==="p224")m=new X;else if(p==="p192")m=new Z;else if(p==="p25519")m=new le;else throw new Error("Unknown prime "+p);return q[p]=m,m};function I(h){if(typeof h=="string"){var p=s._prime(h);this.m=p.p,this.prime=p}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}I.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},I.prototype._verify2=function(p,m){n((p.negative|m.negative)===0,"red works only with positives"),n(p.red&&p.red===m.red,"red works only with red numbers")},I.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(d(p,p.umod(this.m)._forceRed(this)),p)},I.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},I.prototype.add=function(p,m){this._verify2(p,m);var v=p.add(m);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},I.prototype.iadd=function(p,m){this._verify2(p,m);var v=p.iadd(m);return v.cmp(this.m)>=0&&v.isub(this.m),v},I.prototype.sub=function(p,m){this._verify2(p,m);var v=p.sub(m);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},I.prototype.isub=function(p,m){this._verify2(p,m);var v=p.isub(m);return v.cmpn(0)<0&&v.iadd(this.m),v},I.prototype.shl=function(p,m){return this._verify1(p),this.imod(p.ushln(m))},I.prototype.imul=function(p,m){return this._verify2(p,m),this.imod(p.imul(m))},I.prototype.mul=function(p,m){return this._verify2(p,m),this.imod(p.mul(m))},I.prototype.isqr=function(p){return this.imul(p,p.clone())},I.prototype.sqr=function(p){return this.mul(p,p)},I.prototype.sqrt=function(p){if(p.isZero())return p.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(p,v)}for(var _=this.m.subn(1),T=0;!_.isZero()&&_.andln(1)===0;)T++,_.iushrn(1);n(!_.isZero());var w=new s(1).toRed(this),l=w.redNeg(),S=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new s(2*N*N).toRed(this);this.pow(N,S).cmp(l)!==0;)N.redIAdd(l);for(var F=this.pow(N,_),W=this.pow(p,_.addn(1).iushrn(1)),D=this.pow(p,_),K=T;D.cmp(w)!==0;){for(var z=D,G=0;z.cmp(w)!==0;G++)z=z.redSqr();n(G<K);var te=this.pow(F,new s(1).iushln(K-G-1));W=W.redMul(te),F=te.redSqr(),D=D.redMul(F),K=G}return W},I.prototype.invm=function(p){var m=p._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},I.prototype.pow=function(p,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return p.clone();var v=4,_=new Array(1<<v);_[0]=new s(1).toRed(this),_[1]=p;for(var T=2;T<_.length;T++)_[T]=this.mul(_[T-1],p);var w=_[0],l=0,S=0,N=m.bitLength()%26;for(N===0&&(N=26),T=m.length-1;T>=0;T--){for(var F=m.words[T],W=N-1;W>=0;W--){var D=F>>W&1;if(w!==_[0]&&(w=this.sqr(w)),D===0&&l===0){S=0;continue}l<<=1,l|=D,S++,!(S!==v&&(T!==0||W!==0))&&(w=this.mul(w,_[l]),S=0,l=0)}N=26}return w},I.prototype.convertTo=function(p){var m=p.umod(this.m);return m===p?m.clone():m},I.prototype.convertFrom=function(p){var m=p.clone();return m.red=null,m},s.mont=function(p){return new c(p)};function c(h){I.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(c,I),c.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},c.prototype.convertFrom=function(p){var m=this.imod(p.mul(this.rinv));return m.red=null,m},c.prototype.imul=function(p,m){if(p.isZero()||m.isZero())return p.words[0]=0,p.length=1,p;var v=p.imul(m),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(_).iushrn(this.shift),w=T;return T.cmp(this.m)>=0?w=T.isub(this.m):T.cmpn(0)<0&&(w=T.iadd(this.m)),w._forceRed(this)},c.prototype.mul=function(p,m){if(p.isZero()||m.isZero())return new s(0)._forceRed(this);var v=p.mul(m),_=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=v.isub(_).iushrn(this.shift),w=T;return T.cmp(this.m)>=0?w=T.isub(this.m):T.cmpn(0)<0&&(w=T.iadd(this.m)),w._forceRed(this)},c.prototype.invm=function(p){var m=this.imod(p._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,Lt)})(n7);var Jm=n7.exports;const an=ea(Jm);var kO={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Pe,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(kO,kO.exports);var $r=kO.exports,nk=$r.Buffer;function fDe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=nk.from(b)),!nk.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var A=0,x=0,k=0,R=b.length;k!==R&&b[k]===0;)k++,A++;for(var C=(R-k)*f+1>>>0,P=new Uint8Array(C);k!==R;){for(var O=b[k],q=0,Q=C-1;(O!==0||q<x)&&Q!==-1;Q--,q++)O+=256*P[Q]>>>0,P[Q]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");x=q,k++}for(var Y=C-x;Y!==C&&P[Y]===0;)Y++;for(var X=a.repeat(A);Y<C;++Y)X+=t.charAt(P[Y]);return X}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return nk.alloc(0);for(var A=0,x=0,k=0;b[A]===a;)x++,A++;for(var R=(b.length-A)*u+1>>>0,C=new Uint8Array(R);A<b.length;){var P=e[b.charCodeAt(A)];if(P===255)return;for(var O=0,q=R-1;(P!==0||O<k)&&q!==-1;q--,O++)P+=o*C[q]>>>0,C[q]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=O,A++}for(var Q=R-k;Q!==R&&C[Q]===0;)Q++;var Y=nk.allocUnsafe(x+(R-Q));Y.fill(0,0,x);for(var X=x;Q!==R;)Y[X++]=C[Q++];return Y}function y(b){var A=g(b);if(A)return A;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:y}}var kw=fDe,dDe=kw,hDe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pDe=dDe(hDe);const xo=ea(pDe),gDe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fp=new Uint32Array(64);let i7=class extends _se{constructor(){super(64,32,8,!1),this.A=lp[0]|0,this.B=lp[1]|0,this.C=lp[2]|0,this.D=lp[3]|0,this.E=lp[4]|0,this.F=lp[5]|0,this.G=lp[6]|0,this.H=lp[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let g=0;g<16;g++,r+=4)fp[g]=e.getUint32(r,!1);for(let g=16;g<64;g++){const y=fp[g-15],b=fp[g-2],A=Kc(y,7)^Kc(y,18)^y>>>3,x=Kc(b,17)^Kc(b,19)^b>>>10;fp[g]=x+fp[g-7]+A+fp[g-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:f,H:d}=this;for(let g=0;g<64;g++){const y=Kc(a,6)^Kc(a,11)^Kc(a,25),b=d+y+uLe(a,u,f)+gDe[g]+fp[g]|0,x=(Kc(n,2)^Kc(n,13)^Kc(n,22))+cLe(n,i,s)|0;d=f,f=u,u=a,a=o+b|0,o=s,s=i,i=n,n=b+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,f,d)}roundClean(){fp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},mDe=class extends i7{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const ru=Rg(()=>new i7),yDe=Rg(()=>new mDe),M8t=Object.freeze(Object.defineProperty({__proto__:null,SHA256:i7,sha224:yDe,sha256:ru},Symbol.toStringTag,{value:"Module"}));var So={},bDe=kw,vDe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",wDe=bDe(vDe);function rh(t,e,r){return e<=t&&t<=r}function M6(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function SDe(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,u=o&1023;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}function _De(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var mT=-1;function s7(t){this.tokens=[].slice.call(t)}s7.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():mT},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Wv=-1;function wP(t,e){if(t)throw TypeError("Decoder error");return e||65533}var yT="utf-8";function bT(t,e){if(!(this instanceof bT))return new bT(t,e);if(t=t!==void 0?String(t).toLowerCase():yT,t!==yT)throw new Error("Encoding not supported. Only utf-8 is supported");e=M6(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}bT.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=M6(r),this._streaming||(this._decoder=new ADe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new s7(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Wv);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Wv)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),_De(s)}};function vT(t,e){if(!(this instanceof vT))return new vT(t,e);if(t=t!==void 0?String(t).toLowerCase():yT,t!==yT)throw new Error("Encoding not supported. Only utf-8 is supported");e=M6(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}vT.prototype={encode:function(e,r){e=e?String(e):"",r=M6(r),this._streaming||(this._encoder=new xDe(this._options)),this._streaming=!!r.stream;for(var n=[],i=new s7(SDe(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Wv);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Wv;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function ADe(t){var e=t.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,u){if(u===mT&&i!==0)return i=0,wP(e);if(u===mT)return Wv;if(i===0){if(rh(u,0,127))return u;if(rh(u,194,223))i=1,r=u-192;else if(rh(u,224,239))u===224&&(s=160),u===237&&(o=159),i=2,r=u-224;else if(rh(u,240,244))u===240&&(s=144),u===244&&(o=143),i=3,r=u-240;else return wP(e);return r=r<<6*i,null}if(!rh(u,s,o))return r=i=n=0,s=128,o=191,a.prepend(u),wP(e);if(s=128,o=191,n+=1,r+=u-128<<6*(i-n),n!==i)return null;var f=r;return r=i=n=0,f}}function xDe(t){t.fatal,this.handler=function(e,r){if(r===mT)return Wv;if(rh(r,0,127))return r;var n,i;rh(r,128,2047)?(n=1,i=192):rh(r,2048,65535)?(n=2,i=224):rh(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}const EDe=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:bT,TextEncoder:vT},Symbol.toStringTag,{value:"Module"})),kDe=Ox(EDe);var TDe=Lt&&Lt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IDe=Lt&&Lt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xf=Lt&&Lt.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},RDe=Lt&&Lt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&TDe(e,t,r);return IDe(e,t),e},Wse=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(So,"__esModule",{value:!0});var Tw=So.deserializeUnchecked=Rw=So.deserialize=Iw=So.serialize=So.BinaryReader=So.BinaryWriter=So.BorshError=So.baseDecode=So.baseEncode=void 0;const Gp=Wse(Jm),Kse=Wse(wDe),MDe=RDe(kDe),CDe=typeof TextDecoder!="function"?MDe.TextDecoder:TextDecoder,PDe=new CDe("utf-8",{fatal:!0});function NDe(t){return typeof t=="string"&&(t=Ie.Buffer.from(t,"utf8")),Kse.default.encode(Ie.Buffer.from(t))}So.baseEncode=NDe;function BDe(t){return Ie.Buffer.from(Kse.default.decode(t))}So.baseDecode=BDe;const SP=1024;class wa extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}So.BorshError=wa;class jse{constructor(){this.buf=Ie.Buffer.alloc(SP),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Ie.Buffer.concat([this.buf,Ie.Buffer.alloc(SP)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Ie.Buffer.from(new Gp.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Ie.Buffer.from(new Gp.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Ie.Buffer.from(new Gp.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Ie.Buffer.from(new Gp.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Ie.Buffer.concat([Ie.Buffer.from(this.buf.subarray(0,this.length)),e,Ie.Buffer.alloc(SP)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Ie.Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Ie.Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}So.BinaryWriter=jse;function Qf(t,e,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new wa("Reached the end of buffer when deserializing")}throw s}}}class $u{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Gp.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Gp.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Gp.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Gp.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new wa(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return PDe.decode(r)}catch(n){throw new wa(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}}Xf([Qf],$u.prototype,"readU8",null);Xf([Qf],$u.prototype,"readU16",null);Xf([Qf],$u.prototype,"readU32",null);Xf([Qf],$u.prototype,"readU64",null);Xf([Qf],$u.prototype,"readU128",null);Xf([Qf],$u.prototype,"readU256",null);Xf([Qf],$u.prototype,"readU512",null);Xf([Qf],$u.prototype,"readString",null);Xf([Qf],$u.prototype,"readFixedArray",null);Xf([Qf],$u.prototype,"readArray",null);So.BinaryReader=$u;function Hse(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d0(t,e,r,n,i){try{if(typeof n=="string")i[`write${Hse(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new wa(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new wa(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)d0(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{d0(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),d0(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{d0(t,e,o,n.key,i),d0(t,e,s,n.value,i)});break}default:throw new wa(`FieldType ${n} unrecognized`)}else qse(t,r,i)}catch(s){throw s instanceof wa&&s.addToFieldPath(e),s}}function qse(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new wa(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{d0(t,i,e[i],s,r)});else if(n.kind==="enum"){const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),d0(t,o,e[o],a,r);break}}}else throw new wa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function ODe(t,e,r=jse){const n=new r;return qse(t,e,n),n.toArray()}var Iw=So.serialize=ODe;function h0(t,e,r,n){try{if(typeof r=="string")return n[`read${Hse(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(h0(t,null,r[0],n));return i}else return n.readArray(()=>h0(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?h0(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=h0(t,e,r.key,n),u=h0(t,e,r.value,n);i.set(a,u)}return i}return o7(t,r,n)}catch(i){throw i instanceof wa&&i.addToFieldPath(e),i}}function o7(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new wa(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=h0(t,s,o,r);return new e(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new wa(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=h0(t,s,o,r);return new e({[s]:a})}throw new wa(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function LDe(t,e,r,n=$u){const i=new n(r),s=o7(t,e,i);if(i.offset<r.length)throw new wa(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var Rw=So.deserialize=LDe;function DDe(t,e,r,n=$u){const i=new n(r);return o7(t,e,i)}Tw=So.deserializeUnchecked=DDe;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.s16=it.s8=it.nu64be=it.u48be=it.u40be=it.u32be=it.u24be=it.u16be=Bt=it.nu64=it.u48=it.u40=xe=it.u32=it.u24=cr=it.u16=st=it.u8=En=it.offset=it.greedy=it.Constant=it.UTF8=it.CString=it.Blob=it.Boolean=it.BitField=it.BitStructure=it.VariantLayout=it.Union=it.UnionLayoutDiscriminator=it.UnionDiscriminator=it.Structure=it.Sequence=it.DoubleBE=it.Double=it.FloatBE=it.Float=it.NearInt64BE=it.NearInt64=it.NearUInt64BE=it.NearUInt64=it.IntBE=it.Int=it.UIntBE=it.UInt=it.OffsetLayout=it.GreedyCount=it.ExternalLayout=it.bindConstructorLayout=it.nameWithProperty=it.Layout=it.uint8ArrayToBuffer=it.checkUint8Array=void 0;it.constant=it.utf8=it.cstr=At=it.blob=it.unionLayoutDiscriminator=it.union=Vt=it.seq=it.bits=Se=it.struct=it.f64be=it.f64=it.f32be=it.f32=it.ns64be=it.s48be=it.s40be=it.s32be=it.s24be=it.s16be=er=it.ns64=it.s48=it.s40=it.s32=it.s24=void 0;const a7=Pe;function Mw(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}it.checkUint8Array=Mw;function Nn(t){return Mw(t),a7.Buffer.from(t.buffer,t.byteOffset,t.length)}it.uint8ArrayToBuffer=Nn;let ii=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};it.Layout=ii;function u7(t,e){return e.property?t+"["+e.property+"]":t}it.nameWithProperty=u7;function FDe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ii))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}it.bindConstructorLayout=FDe;let Ya=class extends ii{isCount(){throw new Error("ExternalLayout is abstract")}};it.ExternalLayout=Ya;let Vse=class extends Ya{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){Mw(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};it.GreedyCount=Vse;let c7=class extends Ya{constructor(e,r=0,n){if(!(e instanceof ii))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof bc||this.layout instanceof fl}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};it.OffsetLayout=c7;let bc=class extends ii{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Nn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Nn(r).writeUIntLE(e,n,this.span),this.span}};it.UInt=bc;let fl=class extends ii{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Nn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Nn(r).writeUIntBE(e,n,this.span),this.span}};it.UIntBE=fl;let ey=class extends ii{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Nn(e).readIntLE(r,this.span)}encode(e,r,n=0){return Nn(r).writeIntLE(e,n,this.span),this.span}};it.Int=ey;let Cw=class extends ii{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Nn(e).readIntBE(r,this.span)}encode(e,r,n=0){return Nn(r).writeIntBE(e,n,this.span),this.span}};it.IntBE=Cw;const TO=Math.pow(2,32);function C6(t){const e=Math.floor(t/TO),r=t-e*TO;return{hi32:e,lo32:r}}function P6(t,e){return t*TO+e}let Gse=class extends ii{constructor(e){super(8,e)}decode(e,r=0){const n=Nn(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return P6(s,i)}encode(e,r,n=0){const i=C6(e),s=Nn(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};it.NearUInt64=Gse;let Yse=class extends ii{constructor(e){super(8,e)}decode(e,r=0){const n=Nn(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return P6(i,s)}encode(e,r,n=0){const i=C6(e),s=Nn(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};it.NearUInt64BE=Yse;let Zse=class extends ii{constructor(e){super(8,e)}decode(e,r=0){const n=Nn(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return P6(s,i)}encode(e,r,n=0){const i=C6(e),s=Nn(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};it.NearInt64=Zse;let Xse=class extends ii{constructor(e){super(8,e)}decode(e,r=0){const n=Nn(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return P6(i,s)}encode(e,r,n=0){const i=C6(e),s=Nn(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};it.NearInt64BE=Xse;let Qse=class extends ii{constructor(e){super(4,e)}decode(e,r=0){return Nn(e).readFloatLE(r)}encode(e,r,n=0){return Nn(r).writeFloatLE(e,n),4}};it.Float=Qse;let Jse=class extends ii{constructor(e){super(4,e)}decode(e,r=0){return Nn(e).readFloatBE(r)}encode(e,r,n=0){return Nn(r).writeFloatBE(e,n),4}};it.FloatBE=Jse;let eoe=class extends ii{constructor(e){super(8,e)}decode(e,r=0){return Nn(e).readDoubleLE(r)}encode(e,r,n=0){return Nn(r).writeDoubleLE(e,n),8}};it.Double=eoe;let toe=class extends ii{constructor(e){super(8,e)}decode(e,r=0){return Nn(e).readDoubleBE(r)}encode(e,r,n=0){return Nn(r).writeDoubleBE(e,n),8}};it.DoubleBE=toe;let roe=class extends ii{constructor(e,r,n){if(!(e instanceof ii))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Ya&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Ya)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Ya&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let i=0,s=this.count;for(s instanceof Ya&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof Ya&&this.count.encode(e.length,r,n),s}};it.Sequence=roe;let noe=class extends ii{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof ii,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){Mw(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,r,n),0>u&&(u=a.getSpan(r,n)))}s=n,n+=u}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};it.Structure=noe;let l7=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};it.UnionDiscriminator=l7;let wT=class extends l7{constructor(e,r){if(!(e instanceof Ya&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};it.UnionLayoutDiscriminator=wT;let f7=class extends ii{constructor(e,r,n){let i;if(e instanceof bc||e instanceof fl)i=new wT(new c7(e));else if(e instanceof Ya&&e.isCount())i=new wT(e);else if(e instanceof l7)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof ii))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof bc||e instanceof fl)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof bc||e instanceof fl,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const i=this.discriminator,s=i.decode(e,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(e,r+u)}else n=o.decode(e,r);return n}encode(e,r,n=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new ioe(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};it.Union=f7;let ioe=class extends ii{constructor(e,r,n,i){if(!(e instanceof f7))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof ii))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};it.VariantLayout=ioe;function d1(t){return 0>t&&(t+=4294967296),t}let d7=class extends ii{constructor(e,r,n){if(!(e instanceof bc||e instanceof fl))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=d1(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){const n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new h7(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new soe(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}};it.BitStructure=d7;let h7=class{constructor(e,r,n){if(!(e instanceof d7))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=d1(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return d1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==d1(e&this.valueMask))throw new TypeError(u7("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=d1(e<<this.start);this.container._packedSetValue(d1(r&~this.wordMask)|n)}};it.BitField=h7;let soe=class extends h7{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};it.Boolean=soe;let ooe=class extends ii{constructor(e,r){if(!(e instanceof Ya&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ya||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Nn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ya&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(u7("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Nn(e);return Nn(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Ya&&this.length.encode(i,r,n),i}};it.Blob=ooe;let aoe=class extends ii{constructor(e){super(-1,e)}getSpan(e,r=0){Mw(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return Nn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=a7.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Nn(r);return i.copy(o,n),o[n+s]=0,s+1}};it.CString=aoe;let uoe=class extends ii{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return Mw(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Nn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=a7.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Nn(r),n),s}};it.UTF8=uoe;let coe=class extends ii{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};it.Constant=coe;it.greedy=(t,e)=>new Vse(t,e);var En=it.offset=(t,e,r)=>new c7(t,e,r),st=it.u8=t=>new bc(1,t),cr=it.u16=t=>new bc(2,t);it.u24=t=>new bc(3,t);var xe=it.u32=t=>new bc(4,t);it.u40=t=>new bc(5,t);it.u48=t=>new bc(6,t);var Bt=it.nu64=t=>new Gse(t);it.u16be=t=>new fl(2,t);it.u24be=t=>new fl(3,t);it.u32be=t=>new fl(4,t);it.u40be=t=>new fl(5,t);it.u48be=t=>new fl(6,t);it.nu64be=t=>new Yse(t);it.s8=t=>new ey(1,t);it.s16=t=>new ey(2,t);it.s24=t=>new ey(3,t);it.s32=t=>new ey(4,t);it.s40=t=>new ey(5,t);it.s48=t=>new ey(6,t);var er=it.ns64=t=>new Zse(t);it.s16be=t=>new Cw(2,t);it.s24be=t=>new Cw(3,t);it.s32be=t=>new Cw(4,t);it.s40be=t=>new Cw(5,t);it.s48be=t=>new Cw(6,t);it.ns64be=t=>new Xse(t);it.f32=t=>new Qse(t);it.f32be=t=>new Jse(t);it.f64=t=>new eoe(t);it.f64be=t=>new toe(t);var Se=it.struct=(t,e,r)=>new noe(t,e,r);it.bits=(t,e,r)=>new d7(t,e,r);var Vt=it.seq=(t,e,r)=>new roe(t,e,r);it.union=(t,e,r)=>new f7(t,e,r);it.unionLayoutDiscriminator=(t,e)=>new wT(t,e);var At=it.blob=(t,e)=>new ooe(t,e);it.cstr=t=>new aoe(t);it.utf8=(t,e)=>new uoe(t,e);it.constant=(t,e)=>new coe(t,e);var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});function $De(t){{const e=Ie.Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var Pw=Vx.toBigIntLE=$De;function UDe(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Vx.toBigIntBE=UDe;function zDe(t,e){{const r=t.toString(16),n=Ie.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var Mg=Vx.toBufferLE=zDe;function WDe(t,e){{const r=t.toString(16);return Ie.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}Vx.toBufferBE=WDe;var ik,KDe=new Uint8Array(16);function loe(){if(!ik&&(ik=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ik))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ik(KDe)}const jDe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function N6(t){return typeof t=="string"&&jDe.test(t)}var yo=[];for(var _P=0;_P<256;++_P)yo.push((_P+256).toString(16).substr(1));function B6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(yo[t[e+0]]+yo[t[e+1]]+yo[t[e+2]]+yo[t[e+3]]+"-"+yo[t[e+4]]+yo[t[e+5]]+"-"+yo[t[e+6]]+yo[t[e+7]]+"-"+yo[t[e+8]]+yo[t[e+9]]+"-"+yo[t[e+10]]+yo[t[e+11]]+yo[t[e+12]]+yo[t[e+13]]+yo[t[e+14]]+yo[t[e+15]]).toLowerCase();if(!N6(r))throw TypeError("Stringified UUID is invalid");return r}var JG,AP,xP=0,EP=0;function HDe(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||JG,o=t.clockseq!==void 0?t.clockseq:AP;if(s==null||o==null){var a=t.random||(t.rng||loe)();s==null&&(s=JG=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=AP=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:EP+1,d=u-xP+(f-EP)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||u>xP)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xP=u,EP=f,AP=o,u+=122192928e5;var g=((u&268435455)*1e4+f)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=g&255;var y=u/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=y&255,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var b=0;b<6;++b)i[n+b]=s[b];return e||B6(i)}function foe(t){if(!N6(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function qDe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var VDe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",GDe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function doe(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=qDe(i)),typeof s=="string"&&(s=foe(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(var f=0;f<16;++f)o[a+f]=u[f];return o}return B6(u)}try{n.name=t}catch{}return n.DNS=VDe,n.URL=GDe,n}function YDe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return ZDe(XDe(QDe(t),t.length*8))}function ZDe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function hoe(t){return(t+64>>>9<<4)+14+1}function XDe(t,e){t[e>>5]|=128<<e%32,t[hoe(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=r,u=n,f=i,d=s;r=No(r,n,i,s,t[o],7,-680876936),s=No(s,r,n,i,t[o+1],12,-389564586),i=No(i,s,r,n,t[o+2],17,606105819),n=No(n,i,s,r,t[o+3],22,-1044525330),r=No(r,n,i,s,t[o+4],7,-176418897),s=No(s,r,n,i,t[o+5],12,1200080426),i=No(i,s,r,n,t[o+6],17,-1473231341),n=No(n,i,s,r,t[o+7],22,-45705983),r=No(r,n,i,s,t[o+8],7,1770035416),s=No(s,r,n,i,t[o+9],12,-1958414417),i=No(i,s,r,n,t[o+10],17,-42063),n=No(n,i,s,r,t[o+11],22,-1990404162),r=No(r,n,i,s,t[o+12],7,1804603682),s=No(s,r,n,i,t[o+13],12,-40341101),i=No(i,s,r,n,t[o+14],17,-1502002290),n=No(n,i,s,r,t[o+15],22,1236535329),r=Bo(r,n,i,s,t[o+1],5,-165796510),s=Bo(s,r,n,i,t[o+6],9,-1069501632),i=Bo(i,s,r,n,t[o+11],14,643717713),n=Bo(n,i,s,r,t[o],20,-373897302),r=Bo(r,n,i,s,t[o+5],5,-701558691),s=Bo(s,r,n,i,t[o+10],9,38016083),i=Bo(i,s,r,n,t[o+15],14,-660478335),n=Bo(n,i,s,r,t[o+4],20,-405537848),r=Bo(r,n,i,s,t[o+9],5,568446438),s=Bo(s,r,n,i,t[o+14],9,-1019803690),i=Bo(i,s,r,n,t[o+3],14,-187363961),n=Bo(n,i,s,r,t[o+8],20,1163531501),r=Bo(r,n,i,s,t[o+13],5,-1444681467),s=Bo(s,r,n,i,t[o+2],9,-51403784),i=Bo(i,s,r,n,t[o+7],14,1735328473),n=Bo(n,i,s,r,t[o+12],20,-1926607734),r=Oo(r,n,i,s,t[o+5],4,-378558),s=Oo(s,r,n,i,t[o+8],11,-2022574463),i=Oo(i,s,r,n,t[o+11],16,1839030562),n=Oo(n,i,s,r,t[o+14],23,-35309556),r=Oo(r,n,i,s,t[o+1],4,-1530992060),s=Oo(s,r,n,i,t[o+4],11,1272893353),i=Oo(i,s,r,n,t[o+7],16,-155497632),n=Oo(n,i,s,r,t[o+10],23,-1094730640),r=Oo(r,n,i,s,t[o+13],4,681279174),s=Oo(s,r,n,i,t[o],11,-358537222),i=Oo(i,s,r,n,t[o+3],16,-722521979),n=Oo(n,i,s,r,t[o+6],23,76029189),r=Oo(r,n,i,s,t[o+9],4,-640364487),s=Oo(s,r,n,i,t[o+12],11,-421815835),i=Oo(i,s,r,n,t[o+15],16,530742520),n=Oo(n,i,s,r,t[o+2],23,-995338651),r=Lo(r,n,i,s,t[o],6,-198630844),s=Lo(s,r,n,i,t[o+7],10,1126891415),i=Lo(i,s,r,n,t[o+14],15,-1416354905),n=Lo(n,i,s,r,t[o+5],21,-57434055),r=Lo(r,n,i,s,t[o+12],6,1700485571),s=Lo(s,r,n,i,t[o+3],10,-1894986606),i=Lo(i,s,r,n,t[o+10],15,-1051523),n=Lo(n,i,s,r,t[o+1],21,-2054922799),r=Lo(r,n,i,s,t[o+8],6,1873313359),s=Lo(s,r,n,i,t[o+15],10,-30611744),i=Lo(i,s,r,n,t[o+6],15,-1560198380),n=Lo(n,i,s,r,t[o+13],21,1309151649),r=Lo(r,n,i,s,t[o+4],6,-145523070),s=Lo(s,r,n,i,t[o+11],10,-1120210379),i=Lo(i,s,r,n,t[o+2],15,718787259),n=Lo(n,i,s,r,t[o+9],21,-343485551),r=Yp(r,a),n=Yp(n,u),i=Yp(i,f),s=Yp(s,d)}return[r,n,i,s]}function QDe(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(hoe(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Yp(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function JDe(t,e){return t<<e|t>>>32-e}function O6(t,e,r,n,i,s){return Yp(JDe(Yp(Yp(e,t),Yp(n,s)),i),r)}function No(t,e,r,n,i,s,o){return O6(e&r|~e&n,t,e,i,s,o)}function Bo(t,e,r,n,i,s,o){return O6(e&n|r&~n,t,e,i,s,o)}function Oo(t,e,r,n,i,s,o){return O6(e^r^n,t,e,i,s,o)}function Lo(t,e,r,n,i,s,o){return O6(r^(e|~n),t,e,i,s,o)}var e9e=doe("v3",48,YDe);function t9e(t,e,r){t=t||{};var n=t.random||(t.rng||loe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return B6(n)}function r9e(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function kP(t,e){return t<<e|t>>>32-e}function n9e(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=t[u*64+d*4]<<24|t[u*64+d*4+1]<<16|t[u*64+d*4+2]<<8|t[u*64+d*4+3];a[u]=f}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var y=new Uint32Array(80),b=0;b<16;++b)y[b]=a[g][b];for(var A=16;A<80;++A)y[A]=kP(y[A-3]^y[A-8]^y[A-14]^y[A-16],1);for(var x=r[0],k=r[1],R=r[2],C=r[3],P=r[4],O=0;O<80;++O){var q=Math.floor(O/20),Q=kP(x,5)+r9e(q,k,R,C)+P+e[q]+y[O]>>>0;P=C,C=R,R=kP(k,30)>>>0,k=x,x=Q}r[0]=r[0]+x>>>0,r[1]=r[1]+k>>>0,r[2]=r[2]+R>>>0,r[3]=r[3]+C>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var i9e=doe("v5",80,n9e);const s9e="00000000-0000-0000-0000-000000000000";function o9e(t){if(!N6(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const a9e=Object.freeze(Object.defineProperty({__proto__:null,NIL:s9e,parse:foe,stringify:B6,v1:HDe,v3:e9e,v4:t9e,v5:i9e,validate:N6,version:o9e},Symbol.toStringTag,{value:"Module"})),poe=Ox(a9e),u9e=poe.v4,c9e=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return u9e()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var l9e=c9e;const f9e=poe.v4,d9e=l9e,CA=function(t,e){if(!(this instanceof CA))return new CA(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return f9e()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var h9e=CA;CA.prototype.request=function(t,e,r,n){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const f=typeof n=="function";try{s=d9e(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(f)return n(d);throw d}if(!f)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(f){return n(f)}return this.callServer(u,function(f,d){i._parseResponse(f,d,n)}),s};CA.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const p7=ea(h9e);var p9e=class extends x6{constructor(e,r,n){super();Ue(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}};function g7(t,e){return new p9e(t,e)}var g9e=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},m7=class extends x6{constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},u,f){super();Ue(this,"address");Ue(this,"rpc_id");Ue(this,"queue");Ue(this,"options");Ue(this,"autoconnect");Ue(this,"ready");Ue(this,"reconnect");Ue(this,"reconnect_timer_id");Ue(this,"reconnect_interval");Ue(this,"max_reconnects");Ue(this,"rest_options");Ue(this,"current_reconnects");Ue(this,"generate_request_id");Ue(this,"socket");Ue(this,"webSocketFactory");Ue(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),f?this.dataPack=f:this.dataPack=new g9e,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,r),u={jsonrpc:"2.0",method:e,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(u),i,f=>{if(f)return o(f);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Pe.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const goe=[],moe=[],yoe=[],m9e=BigInt(0),US=BigInt(1),y9e=BigInt(2),b9e=BigInt(7),v9e=BigInt(256),w9e=BigInt(113);for(let t=0,e=US,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],goe.push(2*(5*n+r)),moe.push((t+1)*(t+2)/2%64);let i=m9e;for(let s=0;s<7;s++)e=(e<<US^(e>>b9e)*w9e)%v9e,e&y9e&&(i^=US<<(US<<BigInt(s))-US);yoe.push(i)}const[S9e,_9e]=xse(yoe,!0),eY=(t,e,r)=>r>32?Tse(t,e,r):Ese(t,e,r),tY=(t,e,r)=>r>32?Ise(t,e,r):kse(t,e,r);function A9e(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=r[u],d=r[u+1],g=eY(f,d,1)^r[a],y=tY(f,d,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=moe[o],u=eY(i,s,a),f=tY(i,s,a),d=goe[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=S9e[n],t[1]^=_9e[n]}r.fill(0)}let x9e=class boe extends E6{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,pT(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=bse(this.state)}keccak(){gT||_O(this.state32),A9e(this.state32,this.rounds),gT||_O(this.state32),this.posOut=0,this.pos=0}update(e){$v(this);const{blockLen:r,state:n}=this;e=Qm(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){$v(this,!1),xw(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return pT(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yse(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new boe(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const E9e=(t,e,r)=>Rg(()=>new x9e(e,t,r)),ST=E9e(1,136,256/8);class voe extends E6{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,YOe(e);const n=Qm(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return $v(this),this.iHash.update(e),this}digestInto(e){$v(this),xw(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const woe=(t,e,r)=>new voe(t,e).update(r).digest();woe.create=(t,e)=>new voe(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rY(t){t.lowS!==void 0&&bh("lowS",t.lowS),t.prehash!==void 0&&bh("prehash",t.prehash)}function k9e(t){const e=t7(t);Ew(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:T9e,hexToBytes:I9e}=ULe;class R9e extends Error{constructor(e=""){super(e)}}const zd={Err:R9e,_tlv:{encode:(t,e)=>{const{Err:r}=zd;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=X1(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?X1(i.length/2|128):"";return X1(t)+s+i+e},decode(t,e){const{Err:r}=zd;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const u=i&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");const f=e.subarray(n,n+u);if(f.length!==u)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const d of f)o=o<<8|d;if(n+=u,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=zd;if(t<nh)throw new e("integer: negative integers are not allowed");let r=X1(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=zd;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return T9e(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=zd,i=typeof t=="string"?I9e(t):t;qx(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=n.decode(2,s),{v:f,l:d}=n.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(f)}},hexFromSig(t){const{_tlv:e,_int:r}=zd,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},nh=BigInt(0),Ys=BigInt(1);BigInt(2);const nY=BigInt(3);BigInt(4);function M9e(t){const e=k9e(t),{Fp:r}=e,n=R6(e.n,e.nBitLength),i=e.toBytes||((x,k,R)=>{const C=k.toAffine();return Sm(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),s=e.fromBytes||(x=>{const k=x.subarray(1),R=r.fromBytes(k.subarray(0,r.BYTES)),C=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:R,y:C}});function o(x){const{a:k,b:R}=e,C=r.sqr(x),P=r.mul(C,x);return r.add(r.add(P,r.mul(x,k)),R)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return I6(x,Ys,e.n)}function u(x){const{allowedPrivateKeyLengths:k,nByteLength:R,wrapPrivateKey:C,n:P}=e;if(k&&typeof x!="bigint"){if(vm(x)&&(x=wm(x)),typeof x!="string"||!k.includes(x.length))throw new Error("invalid private key");x=x.padStart(R*2,"0")}let O;try{O=typeof x=="bigint"?x:cm(Es("private key",x,R))}catch{throw new Error("invalid private key, expected hex or "+R+" bytes, got "+typeof x)}return C&&(O=$i(O,P)),mc("private key",O,Ys,P),O}function f(x){if(!(x instanceof y))throw new Error("ProjectivePoint expected")}const d=MA((x,k)=>{const{px:R,py:C,pz:P}=x;if(r.eql(P,r.ONE))return{x:R,y:C};const O=x.is0();k==null&&(k=O?r.ONE:r.inv(P));const q=r.mul(R,k),Q=r.mul(C,k),Y=r.mul(P,k);if(O)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Y,r.ONE))throw new Error("invZ was invalid");return{x:q,y:Q}}),g=MA(x=>{if(x.is0()){if(e.allowInfinityPoint&&!r.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:k,y:R}=x.toAffine();if(!r.isValid(k)||!r.isValid(R))throw new Error("bad point: x or y not FE");const C=r.sqr(R),P=o(k);if(!r.eql(C,P))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(k,R,C){if(this.px=k,this.py=R,this.pz=C,k==null||!r.isValid(k))throw new Error("x required");if(R==null||!r.isValid(R))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(k){const{x:R,y:C}=k||{};if(!k||!r.isValid(R)||!r.isValid(C))throw new Error("invalid affine point");if(k instanceof y)throw new Error("projective point not allowed");const P=O=>r.eql(O,r.ZERO);return P(R)&&P(C)?y.ZERO:new y(R,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const R=r.invertBatch(k.map(C=>C.pz));return k.map((C,P)=>C.toAffine(R[P])).map(y.fromAffine)}static fromHex(k){const R=y.fromAffine(s(Es("pointHex",k)));return R.assertValidity(),R}static fromPrivateKey(k){return y.BASE.multiply(u(k))}static msm(k,R){return zse(y,n,k,R)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){g(this)}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){f(k);const{px:R,py:C,pz:P}=this,{px:O,py:q,pz:Q}=k,Y=r.eql(r.mul(R,Q),r.mul(O,P)),X=r.eql(r.mul(C,Q),r.mul(q,P));return Y&&X}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:R}=e,C=r.mul(R,nY),{px:P,py:O,pz:q}=this;let Q=r.ZERO,Y=r.ZERO,X=r.ZERO,Z=r.mul(P,P),le=r.mul(O,O),I=r.mul(q,q),c=r.mul(P,O);return c=r.add(c,c),X=r.mul(P,q),X=r.add(X,X),Q=r.mul(k,X),Y=r.mul(C,I),Y=r.add(Q,Y),Q=r.sub(le,Y),Y=r.add(le,Y),Y=r.mul(Q,Y),Q=r.mul(c,Q),X=r.mul(C,X),I=r.mul(k,I),c=r.sub(Z,I),c=r.mul(k,c),c=r.add(c,X),X=r.add(Z,Z),Z=r.add(X,Z),Z=r.add(Z,I),Z=r.mul(Z,c),Y=r.add(Y,Z),I=r.mul(O,q),I=r.add(I,I),Z=r.mul(I,c),Q=r.sub(Q,Z),X=r.mul(I,le),X=r.add(X,X),X=r.add(X,X),new y(Q,Y,X)}add(k){f(k);const{px:R,py:C,pz:P}=this,{px:O,py:q,pz:Q}=k;let Y=r.ZERO,X=r.ZERO,Z=r.ZERO;const le=e.a,I=r.mul(e.b,nY);let c=r.mul(R,O),h=r.mul(C,q),p=r.mul(P,Q),m=r.add(R,C),v=r.add(O,q);m=r.mul(m,v),v=r.add(c,h),m=r.sub(m,v),v=r.add(R,P);let _=r.add(O,Q);return v=r.mul(v,_),_=r.add(c,p),v=r.sub(v,_),_=r.add(C,P),Y=r.add(q,Q),_=r.mul(_,Y),Y=r.add(h,p),_=r.sub(_,Y),Z=r.mul(le,v),Y=r.mul(I,p),Z=r.add(Y,Z),Y=r.sub(h,Z),Z=r.add(h,Z),X=r.mul(Y,Z),h=r.add(c,c),h=r.add(h,c),p=r.mul(le,p),v=r.mul(I,v),h=r.add(h,p),p=r.sub(c,p),p=r.mul(le,p),v=r.add(v,p),c=r.mul(h,v),X=r.add(X,c),c=r.mul(_,v),Y=r.mul(m,Y),Y=r.sub(Y,c),c=r.mul(m,h),Z=r.mul(_,Z),Z=r.add(Z,c),new y(Y,X,Z)}subtract(k){return this.add(k.negate())}is0(){return this.equals(y.ZERO)}wNAF(k){return A.wNAFCached(this,k,y.normalizeZ)}multiplyUnsafe(k){const{endo:R,n:C}=e;mc("scalar",k,nh,C);const P=y.ZERO;if(k===nh)return P;if(this.is0()||k===Ys)return this;if(!R||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,k,y.normalizeZ);let{k1neg:O,k1:q,k2neg:Q,k2:Y}=R.splitScalar(k),X=P,Z=P,le=this;for(;q>nh||Y>nh;)q&Ys&&(X=X.add(le)),Y&Ys&&(Z=Z.add(le)),le=le.double(),q>>=Ys,Y>>=Ys;return O&&(X=X.negate()),Q&&(Z=Z.negate()),Z=new y(r.mul(Z.px,R.beta),Z.py,Z.pz),X.add(Z)}multiply(k){const{endo:R,n:C}=e;mc("scalar",k,Ys,C);let P,O;if(R){const{k1neg:q,k1:Q,k2neg:Y,k2:X}=R.splitScalar(k);let{p:Z,f:le}=this.wNAF(Q),{p:I,f:c}=this.wNAF(X);Z=A.constTimeNegate(q,Z),I=A.constTimeNegate(Y,I),I=new y(r.mul(I.px,R.beta),I.py,I.pz),P=Z.add(I),O=le.add(c)}else{const{p:q,f:Q}=this.wNAF(k);P=q,O=Q}return y.normalizeZ([P,O])[0]}multiplyAndAddUnsafe(k,R,C){const P=y.BASE,O=(Q,Y)=>Y===nh||Y===Ys||!Q.equals(P)?Q.multiplyUnsafe(Y):Q.multiply(Y),q=O(this,R).add(O(k,C));return q.is0()?void 0:q}toAffine(k){return d(this,k)}isTorsionFree(){const{h:k,isTorsionFree:R}=e;if(k===Ys)return!0;if(R)return R(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:R}=e;return k===Ys?this:R?R(y,this):this.multiplyUnsafe(e.h)}toRawBytes(k=!0){return bh("isCompressed",k),this.assertValidity(),i(y,this,k)}toHex(k=!0){return bh("isCompressed",k),wm(this.toRawBytes(k))}}y.BASE=new y(e.Gx,e.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const b=e.nBitLength,A=Use(y,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:a}}function C9e(t){const e=t7(t);return Ew(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function P9e(t){const e=C9e(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(p){return $i(p,n)}function a(p){return EO(p,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:g}=M9e({...e,toBytes(p,m,v){const _=m.toAffine(),T=r.toBytes(_.x),w=Sm;return bh("isCompressed",v),v?w(Uint8Array.from([m.hasEvenY()?2:3]),T):w(Uint8Array.from([4]),T,r.toBytes(_.y))},fromBytes(p){const m=p.length,v=p[0],_=p.subarray(1);if(m===i&&(v===2||v===3)){const T=cm(_);if(!I6(T,Ys,r.ORDER))throw new Error("Point is not on curve");const w=d(T);let l;try{l=r.sqrt(w)}catch(F){const W=F instanceof Error?": "+F.message:"";throw new Error("Point is not on curve"+W)}const S=(l&Ys)===Ys;return(v&1)===1!==S&&(l=r.neg(l)),{x:T,y:l}}else if(m===s&&v===4){const T=r.fromBytes(_.subarray(0,r.BYTES)),w=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:T,y:w}}else{const T=i,w=s;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+w+", got "+m)}}}),y=p=>wm(zv(p,e.nByteLength));function b(p){const m=n>>Ys;return p>m}function A(p){return b(p)?o(-p):p}const x=(p,m,v)=>cm(p.slice(m,v));class k{constructor(m,v,_){this.r=m,this.s=v,this.recovery=_,this.assertValidity()}static fromCompact(m){const v=e.nByteLength;return m=Es("compactSignature",m,v*2),new k(x(m,0,v),x(m,v,2*v))}static fromDER(m){const{r:v,s:_}=zd.toSig(Es("DER",m));return new k(v,_)}assertValidity(){mc("r",this.r,Ys,n),mc("s",this.s,Ys,n)}addRecoveryBit(m){return new k(this.r,this.s,m)}recoverPublicKey(m){const{r:v,s:_,recovery:T}=this,w=Q(Es("msgHash",m));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const l=T===2||T===3?v+e.n:v;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const S=T&1?"03":"02",N=u.fromHex(S+y(l)),F=a(l),W=o(-w*F),D=o(_*F),K=u.BASE.multiplyAndAddUnsafe(N,W,D);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Uv(this.toDERHex())}toDERHex(){return zd.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Uv(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const R={isValidPrivateKey(p){try{return f(p),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const p=Dse(e.n);return ZLe(e.randomBytes(p),e.n)},precompute(p=8,m=u.BASE){return m._setWindowSize(p),m.multiply(BigInt(3)),m}};function C(p,m=!0){return u.fromPrivateKey(p).toRawBytes(m)}function P(p){const m=vm(p),v=typeof p=="string",_=(m||v)&&p.length;return m?_===i||_===s:v?_===2*i||_===2*s:p instanceof u}function O(p,m,v=!0){if(P(p))throw new Error("first arg must be private key");if(!P(m))throw new Error("second arg must be public key");return u.fromHex(m).multiply(f(p)).toRawBytes(v)}const q=e.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const m=cm(p),v=p.length*8-e.nBitLength;return v>0?m>>BigInt(v):m},Q=e.bits2int_modN||function(p){return o(q(p))},Y=e7(e.nBitLength);function X(p){return mc("num < 2^"+e.nBitLength,p,nh,Y),zv(p,e.nByteLength)}function Z(p,m,v=le){if(["recovered","canonical"].some(G=>G in v))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:T}=e;let{lowS:w,prehash:l,extraEntropy:S}=v;w==null&&(w=!0),p=Es("msgHash",p),rY(v),l&&(p=Es("prehashed msgHash",_(p)));const N=Q(p),F=f(m),W=[X(F),X(N)];if(S!=null&&S!==!1){const G=S===!0?T(r.BYTES):S;W.push(Es("extraEntropy",G))}const D=Sm(...W),K=N;function z(G){const te=q(G);if(!g(te))return;const ie=a(te),J=u.BASE.multiply(te).toAffine(),V=o(J.x);if(V===nh)return;const fe=o(ie*o(K+V*F));if(fe===nh)return;let Te=(J.x===V?0:2)|Number(J.y&Ys),Re=fe;return w&&b(fe)&&(Re=A(fe),Te^=1),new k(V,Re,Te)}return{seed:D,k2sig:z}}const le={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function c(p,m,v=le){const{seed:_,k2sig:T}=Z(p,m,v),w=e;return Bse(w.hash.outputLen,w.nByteLength,w.hmac)(_,T)}u.BASE._setWindowSize(8);function h(p,m,v,_=I){var Te;const T=p;m=Es("msgHash",m),v=Es("publicKey",v);const{lowS:w,prehash:l,format:S}=_;if(rY(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(S!==void 0&&S!=="compact"&&S!=="der")throw new Error("format must be compact or der");const N=typeof T=="string"||vm(T),F=!N&&!S&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!N&&!F)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,D;try{if(F&&(W=new k(T.r,T.s)),N){try{S!=="compact"&&(W=k.fromDER(T))}catch(Re){if(!(Re instanceof zd.Err))throw Re}!W&&S!=="der"&&(W=k.fromCompact(T))}D=u.fromHex(v)}catch{return!1}if(!W||w&&W.hasHighS())return!1;l&&(m=e.hash(m));const{r:K,s:z}=W,G=Q(m),te=a(z),ie=o(G*te),J=o(K*te),V=(Te=u.BASE.multiplyAndAddUnsafe(D,ie,J))==null?void 0:Te.toAffine();return V?o(V.x)===K:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:O,sign:c,verify:h,ProjectivePoint:u,Signature:k,utils:R}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function N9e(t){return{hash:t,hmac:(e,...r)=>woe(t,e,Sse(...r)),randomBytes:Q9}}function B9e(t,e){const r=n=>P9e({...t,...N9e(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Soe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),iY=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O9e=BigInt(1),IO=BigInt(2),sY=(t,e)=>(t+e/IO)/e;function L9e(t){const e=Soe,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),f=t*t*t%e,d=f*f*t%e,g=es(d,r,e)*d%e,y=es(g,r,e)*d%e,b=es(y,IO,e)*f%e,A=es(b,i,e)*b%e,x=es(A,s,e)*A%e,k=es(x,a,e)*x%e,R=es(k,u,e)*k%e,C=es(R,a,e)*x%e,P=es(C,r,e)*d%e,O=es(P,o,e)*A%e,q=es(O,n,e)*f%e,Q=es(q,IO,e);if(!RO.eql(RO.sqr(Q),t))throw new Error("Cannot find square root");return Q}const RO=R6(Soe,void 0,void 0,{sqrt:L9e}),Uu=B9e({a:BigInt(0),b:BigInt(7),Fp:RO,n:iY,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=iY,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-O9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=sY(s*t,e),u=sY(-n*t,e);let f=$i(t-a*r-u*i,e),d=$i(-a*n-u*s,e);const g=f>o,y=d>o;if(g&&(f=e-f),y&&(d=e-d),f>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:f,k2neg:y,k2:d}}}},ru);BigInt(0);Uu.ProjectivePoint;function oY(t){try{return zs.ExtendedPoint.fromHex(t),!0}catch{return!1}}const _oe=(t,e)=>zs.sign(t,e.slice(0,32)),D9e=zs.verify,Zs=t=>Pe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Pe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Pe.Buffer.from(t);let F9e=class{constructor(e){Object.assign(this,e)}encode(){return Pe.Buffer.from(Iw(a3,this))}static decode(e){return Rw(a3,this,e)}static decodeUnchecked(e){return Tw(a3,this,e)}};const a3=new Map;var Aoe;const $9e=32,rg=32;function U9e(t){return t._bn!==void 0}let aY=1,Tt=class h1 extends F9e{constructor(e){if(super({}),this._bn=void 0,U9e(e))this._bn=e._bn;else{if(typeof e=="string"){const r=xo.decode(e);if(r.length!=rg)throw new Error("Invalid public key input");this._bn=new an(r)}else this._bn=new an(e);if(this._bn.byteLength()>rg)throw new Error("Invalid public key input")}}static unique(){const e=new h1(aY);return aY+=1,new h1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return xo.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Pe.Buffer);if(e.length===rg)return e;const r=Pe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Pe.Buffer.concat([e.toBuffer(),Pe.Buffer.from(r),n.toBuffer()]),s=ru(i);return new h1(s)}static createProgramAddressSync(e,r){let n=Pe.Buffer.alloc(0);e.forEach(function(s){if(s.length>$9e)throw new TypeError("Max seed length exceeded");n=Pe.Buffer.concat([n,Zs(s)])}),n=Pe.Buffer.concat([n,r.toBuffer(),Pe.Buffer.from("ProgramDerivedAddress")]);const i=ru(n);if(oY(i))throw new Error("Invalid seeds, address must fall off the curve");return new h1(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Pe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new h1(e);return oY(r.toBytes())}};Aoe=Tt;Tt.default=new Aoe("11111111111111111111111111111111");a3.set(Tt,{kind:"struct",fields:[["_bn","u256"]]});new Tt("BPFLoader1111111111111111111111111111111111");const Ib=1232,y7=127,_T=64;let xoe=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(xoe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Eoe=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Eoe.prototype,"name",{value:"TransactionExpiredTimeoutError"});let x_=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(x_.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let AT=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const nn=(t="publicKey")=>At(32,t),z9e=(t="signature")=>At(64,t),Q1=(t="string")=>{const e=Se([xe("length"),xe("lengthPadding"),At(En(xe(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:Pe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>xe().span+xe().span+Pe.Buffer.from(s,"utf8").length,i},W9e=(t="authorized")=>Se([nn("staker"),nn("withdrawer")],t),K9e=(t="lockup")=>Se([er("unixTimestamp"),er("epoch"),nn("custodian")],t),j9e=(t="voteInit")=>Se([nn("nodePubkey"),nn("authorizedVoter"),nn("authorizedWithdrawer"),st("commission")],t),H9e=(t="voteAuthorizeWithSeedArgs")=>Se([xe("voteAuthorizationType"),nn("currentAuthorityDerivedKeyOwnerPubkey"),Q1("currentAuthorityDerivedKeySeed"),nn("newAuthorized")],t);function koe(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return koe({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function wu(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Su(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function _i(t,e){if(!t)throw new Error(e||"Assertion failed")}let Toe=class Ioe{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new Ioe(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];_i(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{_i(r.length>0,"Expected at least one writable signer key");const[u]=r[0];_i(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new Tt(u)),...n.map(([u])=>new Tt(u)),...i.map(([u])=>new Tt(u)),...s.map(([u])=>new Tt(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new Tt(s),u=e.findIndex(f=>f.equals(a));u>=0&&(_i(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}};const Roe="Reached end of buffer unexpectedly";function ih(t){if(t.length===0)throw new Error(Roe);return t.shift()}function _u(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Roe);return t.splice(...e)}let _m=class MO{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Tt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:xo.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new AT(this.staticAccountKeys)}static compile(e){const r=Toe.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new AT(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:xo.encode(a.data)}));return new MO({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Su(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(xo.decode(g.data));let x=[];Su(x,y.length);let k=[];return Su(k,A.length),{programIdIndex:b,keyIndicesCount:Pe.Buffer.from(x),keyIndices:y,dataLength:Pe.Buffer.from(k),data:A}});let i=[];Su(i,n.length);let s=Pe.Buffer.alloc(Ib);Pe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=Se([st("programIdIndex"),At(g.keyIndicesCount.length,"keyIndicesCount"),Vt(st("keyIndex"),g.keyIndices.length,"keyIndices"),At(g.dataLength.length,"dataLength"),Vt(st("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=Se([At(1,"numRequiredSignatures"),At(1,"numReadonlySignedAccounts"),At(1,"numReadonlyUnsignedAccounts"),At(r.length,"keyCount"),Vt(nn("key"),e,"keys"),nn("recentBlockhash")]),u={numRequiredSignatures:Pe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Pe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Pe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Pe.Buffer.from(r),keys:this.accountKeys.map(g=>Zs(g.toBytes())),recentBlockhash:xo.decode(this.recentBlockhash)};let f=Pe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=ih(r);if(n!==(n&y7))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ih(r),s=ih(r),o=wu(r);let a=[];for(let y=0;y<o;y++){const b=_u(r,0,rg);a.push(new Tt(Pe.Buffer.from(b)))}const u=_u(r,0,rg),f=wu(r);let d=[];for(let y=0;y<f;y++){const b=ih(r),A=wu(r),x=_u(r,0,A),k=wu(r),R=_u(r,0,k),C=xo.encode(Pe.Buffer.from(R));d.push({programIdIndex:b,accounts:x,data:C})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:xo.encode(Pe.Buffer.from(u)),accountKeys:a,instructions:d};return new MO(g)}},b7=class CO{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new AT(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=Toe.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new AT(a,i).compileInstructions(e.instructions);return new CO({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();Su(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Su(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Su(s,this.addressTableLookups.length);const o=Se([st("prefix"),Se([st("numRequiredSignatures"),st("numReadonlySignedAccounts"),st("numReadonlyUnsignedAccounts")],"header"),At(e.length,"staticAccountKeysLength"),Vt(nn(),this.staticAccountKeys.length,"staticAccountKeys"),nn("recentBlockhash"),At(n.length,"instructionsLength"),At(r.length,"serializedInstructions"),At(s.length,"addressTableLookupsLength"),At(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ib),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:xo.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(Ib);for(const n of this.compiledInstructions){const i=Array();Su(i,n.accountKeyIndexes.length);const s=Array();Su(s,n.data.length);const o=Se([st("programIdIndex"),At(i.length,"encodedAccountKeyIndexesLength"),Vt(st(),n.accountKeyIndexes.length,"accountKeyIndexes"),At(s.length,"encodedDataLength"),At(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(Ib);for(const n of this.addressTableLookups){const i=Array();Su(i,n.writableIndexes.length);const s=Array();Su(s,n.readonlyIndexes.length);const o=Se([nn("accountKey"),At(i.length,"encodedWritableIndexesLength"),Vt(st(),n.writableIndexes.length,"writableIndexes"),At(s.length,"encodedReadonlyIndexesLength"),Vt(st(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=ih(r),i=n&y7;_i(n!==i,"Expected versioned message but received legacy message");const s=i;_i(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:ih(r),numReadonlySignedAccounts:ih(r),numReadonlyUnsignedAccounts:ih(r)},a=[],u=wu(r);for(let A=0;A<u;A++)a.push(new Tt(_u(r,0,rg)));const f=xo.encode(_u(r,0,rg)),d=wu(r),g=[];for(let A=0;A<d;A++){const x=ih(r),k=wu(r),R=_u(r,0,k),C=wu(r),P=new Uint8Array(_u(r,0,C));g.push({programIdIndex:x,accountKeyIndexes:R,data:P})}const y=wu(r),b=[];for(let A=0;A<y;A++){const x=new Tt(_u(r,0,rg)),k=wu(r),R=_u(r,0,k),C=wu(r),P=_u(r,0,C);b.push({accountKey:x,writableIndexes:R,readonlyIndexes:P})}return new CO({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}};const Moe={deserializeMessageVersion(t){const e=t[0],r=e&y7;return r===e?"legacy":r},deserialize:t=>{const e=Moe.deserializeMessageVersion(t);if(e==="legacy")return _m.from(t);if(e===0)return b7.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let dp=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const q9e=Pe.Buffer.alloc(_T).fill(0);let Ds=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Pe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},p0=class PO{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Ds(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(R=>{s.push({...R})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new Tt(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),R=o.findIndex(C=>C.pubkey.toString()===k);R>-1?(o[R].isWritable=o[R].isWritable||x.isWritable,o[R].isSigner=o[R].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",R)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(R=>R.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:R})=>{k?(g.push(x.toString()),u+=1,R||(f+=1)):(y.push(x.toString()),R||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:R}=x;return{programIdIndex:b.indexOf(R.toString()),accounts:x.keys.map(C=>b.indexOf(C.pubkey.toString())),data:xo.encode(k)}});return A.forEach(x=>{_i(x.programIdIndex>=0),x.accounts.forEach(k=>_i(k>=0))}),new _m({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=_oe(n,i.secretKey);this._addSignature(i.publicKey,Zs(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){_i(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Pe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):D9e(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];Su(n,r.length);const i=n.length+r.length*64+e.length,s=Pe.Buffer.alloc(i);return _i(r.length<256),Pe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(_i(o.length===64,"signature has invalid length"),Pe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),_i(s.length<=Ib,`Transaction too large: ${s.length} > ${Ib}`),s}get keys(){return _i(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return _i(this.instructions.length===1),this.instructions[0].programId}get data(){return _i(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=wu(r);let i=[];for(let s=0;s<n;s++){const o=_u(r,0,_T);i.push(xo.encode(Pe.Buffer.from(o)))}return PO.populate(_m.from(r),i)}static populate(e,r=[]){const n=new PO;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==xo.encode(q9e)?null:xo.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Ds({keys:s,programId:e.accountKeys[i.programIdIndex],data:xo.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},Coe=class Poe{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;_i(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;_i(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const R of A.accountKeyIndexes){const C=g.get(R);if(C===void 0)throw new Error(`Failed to find key for account key index ${R}`);const P=R<o;let O;P?O=R<f:R<g.staticAccountKeys.length?O=R-o<d:O=R-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:C,isSigner:R<n.numRequiredSignatures,isWritable:O})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new Ds({programId:k,data:Zs(A.data),keys:x}))}return new Poe({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return _m.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return b7.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},Noe=class Boe{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)_i(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(_T));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();Su(r,this.signatures.length);const n=Se([At(r.length,"encodedSignaturesLength"),Vt(z9e(),this.signatures.length,"signatures"),At(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=wu(r);for(let o=0;o<i;o++)n.push(new Uint8Array(_u(r,0,_T)));const s=Moe.deserialize(new Uint8Array(r));return new Boe(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));_i(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=_oe(r,i.secretKey)}}addSignature(e,r){_i(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));_i(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}};const V9e=160,G9e=64,Y9e=V9e/G9e,Z9e=1e3/Y9e;new Tt("SysvarC1ock11111111111111111111111111111111");new Tt("SysvarEpochSchedu1e111111111111111111111111");new Tt("Sysvar1nstructions1111111111111111111111111");const TP=new Tt("SysvarRecentB1ockHashes11111111111111111111"),uY=new Tt("SysvarRent111111111111111111111111111111111");new Tt("SysvarRewards111111111111111111111111111111");new Tt("SysvarS1otHashes111111111111111111111111111");new Tt("SysvarS1otHistory11111111111111111111111111");new Tt("SysvarStakeHistory1111111111111111111111111");let cY=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}},nr=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};function p1(t){return new Promise(e=>setTimeout(e,t))}function Ho(t,e){const r=t.layout.span>=0?t.layout.span:koe(t,e),n=Pe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}const X9e=Bt("lamportsPerSignature"),Ooe=Se([xe("version"),xe("state"),nn("authorizedPubkey"),nn("nonce"),Se([X9e],"feeCalculator")]),lY=Ooe.span;let Q9e=class Loe{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=Ooe.decode(Zs(e),0);return new Loe({authorizedPubkey:new Tt(r.authorizedPubkey),nonce:new Tt(r.nonce).toString(),feeCalculator:r.feeCalculator})}};const J9e=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},e7e=t=>e=>{const r=At(t,e),{encode:n,decode:i}=J9e(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return Pw(Pe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Mg(o,t);return n(f,a,u)},s},Kv=e7e(8),tc=Object.freeze({Create:{index:0,layout:Se([xe("instruction"),er("lamports"),er("space"),nn("programId")])},Assign:{index:1,layout:Se([xe("instruction"),nn("programId")])},Transfer:{index:2,layout:Se([xe("instruction"),Kv("lamports")])},CreateWithSeed:{index:3,layout:Se([xe("instruction"),nn("base"),Q1("seed"),er("lamports"),er("space"),nn("programId")])},AdvanceNonceAccount:{index:4,layout:Se([xe("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([xe("instruction"),er("lamports")])},InitializeNonceAccount:{index:6,layout:Se([xe("instruction"),nn("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([xe("instruction"),nn("authorized")])},Allocate:{index:8,layout:Se([xe("instruction"),er("space")])},AllocateWithSeed:{index:9,layout:Se([xe("instruction"),nn("base"),Q1("seed"),er("space"),nn("programId")])},AssignWithSeed:{index:10,layout:Se([xe("instruction"),nn("base"),Q1("seed"),nn("programId")])},TransferWithSeed:{index:11,layout:Se([xe("instruction"),Kv("lamports"),Q1("seed"),nn("programId")])},UpgradeNonceAccount:{index:12,layout:Se([xe("instruction")])}});let Doe=class NO{constructor(){}static createAccount(e){const r=tc.Create,n=Ho(r,{lamports:e.lamports,space:e.space,programId:Zs(e.programId.toBuffer())});return new Ds({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=tc.TransferWithSeed;r=Ho(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Zs(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=tc.Transfer;r=Ho(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ds({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=tc.AssignWithSeed;r=Ho(i,{base:Zs(e.basePubkey.toBuffer()),seed:e.seed,programId:Zs(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=tc.Assign;r=Ho(i,{programId:Zs(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ds({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=tc.CreateWithSeed,n=Ho(r,{base:Zs(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Zs(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ds({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new p0;"basePubkey"in e&&"seed"in e?r.add(NO.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:lY,programId:this.programId})):r.add(NO.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:lY,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=tc.InitializeNonceAccount,n=Ho(r,{authorized:Zs(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:TP,isSigner:!1,isWritable:!1},{pubkey:uY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Ds(i)}static nonceAdvance(e){const r=tc.AdvanceNonceAccount,n=Ho(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:TP,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Ds(i)}static nonceWithdraw(e){const r=tc.WithdrawNonceAccount,n=Ho(r,{lamports:e.lamports});return new Ds({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:TP,isSigner:!1,isWritable:!1},{pubkey:uY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=tc.AuthorizeNonceAccount,n=Ho(r,{authorized:Zs(e.newAuthorizedPubkey.toBuffer())});return new Ds({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=tc.AllocateWithSeed;r=Ho(i,{base:Zs(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Zs(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=tc.Allocate;r=Ho(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ds({keys:n,programId:this.programId,data:r})}};Doe.programId=new Tt("11111111111111111111111111111111");new Tt("BPFLoader2111111111111111111111111111111111");function t7e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r7e=Object.prototype.toString,n7e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function E_(t,e){var r,n,i,s,o,a,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return E_(t.toJSON(),e);if(u=r7e.call(t),u==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=E_(t[r],!0)+",";return n>-1&&(i+=E_(t[r],!0)),i+"]"}else if(u==="[object Object]"){for(s=n7e(t).sort(),n=s.length,i="",r=0;r<n;)o=s[r],a=E_(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var i7e=function(t){var e=E_(t,!1);if(e!==void 0)return""+e},fY=t7e(i7e);const zS=32;function IP(t){let e=0;for(;t>1;)t/=2,e++;return e}function s7e(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}let o7e=class{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=IP(s7e(e+zS+1))-IP(zS)-1,n=this.getSlotsInEpoch(r),i=e-(n-zS);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*zS:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+IP(zS)):this.slotsPerEpoch}};var a7e=globalThis.fetch;let u7e=class extends m7{constructor(e,r,n){const i=s=>{const o=g7(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function c7e(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const dY=56;let hY=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=c7e(l7e,e),n=e.length-dY;_i(n>=0,"lookup table is invalid"),_i(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=Se([Vt(nn(),i,"addresses")]).decode(e.slice(dY));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Tt(r.authority[0]):void 0,addresses:s.map(o=>new Tt(o))}}};const l7e={index:1,layout:Se([xe("typeIndex"),Kv("deactivationSlot"),Bt("lastExtendedSlot"),st("lastExtendedStartIndex"),st(),Vt(nn(),En(st(),-1),"authority")])},f7e=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function d7e(t){const e=t.match(f7e);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${n}${u}${s}`}const Yi=Cs(Tc(Tt),ve(),t=>new Tt(t)),Foe=Ic([ve(),Rt("base64")]),v7=Cs(Tc(Pe.Buffer),Foe,t=>Pe.Buffer.from(t[0],"base64")),h7e=30*1e3;function p7e(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function mi(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function pY(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function $oe(t){return rr([pe({jsonrpc:Rt("2.0"),id:ve(),result:t}),pe({jsonrpc:Rt("2.0"),id:ve(),error:pe({code:Wi(),message:ve(),data:De(a6())})})])}const g7e=$oe(Wi());function Vr(t){return Cs($oe(t),g7e,e=>"error"in e?e:{...e,result:Ve(e.result,t)})}function rs(t){return Vr(pe({context:pe({slot:ee()}),value:t}))}function L6(t){return pe({context:pe({slot:ee()}),value:t})}function RP(t,e){return t===0?new b7({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Tt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:xo.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new _m(e)}const m7e=pe({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()}),y7e=Vr(Ee(ke(pe({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:De(ke(ee()))})))),b7e=Ee(pe({slot:ee(),prioritizationFee:ee()})),v7e=pe({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),w7e=pe({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:De(ee()),transactionCount:De(ee())}),S7e=pe({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Qr(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),_7e=Tg(ve(),Ee(ee())),ty=ke(rr([pe({}),ve()])),A7e=pe({err:ty}),x7e=Rt("receivedSignature"),E7e=pe({"solana-core":ve(),"feature-set":De(ee())}),k7e=pe({program:ve(),programId:Yi,parsed:Wi()}),T7e=pe({programId:Yi,accounts:Ee(Yi),data:ve()}),gY=rs(pe({err:ke(rr([pe({}),ve()])),logs:ke(Ee(ve())),accounts:De(ke(Ee(ke(pe({executable:Qr(),owner:ve(),lamports:ee(),data:Ee(ve()),rentEpoch:De(ee())}))))),unitsConsumed:De(ee()),returnData:De(ke(pe({programId:ve(),data:Ic([ve(),Rt("base64")])}))),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(rr([k7e,T7e]))}))))})),I7e=rs(pe({byIdentity:Tg(ve(),Ee(ee())),range:pe({firstSlot:ee(),lastSlot:ee()})}));function R7e(t,e,r,n,i,s){const o=r||a7e;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(d,g)=>{const y=await new Promise((b,A)=>{try{n(d,g,(x,k)=>b([x,k]))}catch(x){A(x)}});return await o(...y)}),new p7(async(d,g)=>{const y={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},MFe)};try{let b=5,A,x=500;for(;u?A=await u(t,y):A=await o(t,y),!(A.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${x}ms delay...`),await p1(x),x*=2;const k=await A.text();A.ok?g(null,k):g(new Error(`${A.status} ${A.statusText}: ${k}`))}catch(b){b instanceof Error&&g(b)}},{})}function M7e(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function C7e(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const P7e=Vr(m7e),N7e=Vr(v7e),B7e=Vr(b7e),O7e=Vr(w7e),L7e=Vr(S7e),D7e=Vr(_7e),F7e=Vr(ee()),$7e=rs(pe({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:Ee(Yi)})),BO=pe({amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())}),U7e=rs(Ee(pe({address:Yi,amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())}))),z7e=rs(Ee(pe({pubkey:Yi,account:pe({executable:Qr(),owner:Yi,lamports:ee(),data:v7,rentEpoch:ee()})}))),OO=pe({program:ve(),parsed:Wi(),space:ee()}),W7e=rs(Ee(pe({pubkey:Yi,account:pe({executable:Qr(),owner:Yi,lamports:ee(),data:OO,rentEpoch:ee()})}))),K7e=rs(Ee(pe({lamports:ee(),address:Yi}))),PA=pe({executable:Qr(),owner:Yi,lamports:ee(),data:v7,rentEpoch:ee()}),j7e=pe({pubkey:Yi,account:PA}),H7e=Cs(rr([Tc(Pe.Buffer),OO]),rr([Foe,OO]),t=>Array.isArray(t)?Ve(t,v7):t),LO=pe({executable:Qr(),owner:Yi,lamports:ee(),data:H7e,rentEpoch:ee()}),q7e=pe({pubkey:Yi,account:LO}),V7e=pe({state:rr([Rt("active"),Rt("inactive"),Rt("activating"),Rt("deactivating")]),active:ee(),inactive:ee()}),G7e=Vr(Ee(pe({signature:ve(),slot:ee(),err:ty,memo:ke(ve()),blockTime:De(ke(ee()))}))),Y7e=Vr(Ee(pe({signature:ve(),slot:ee(),err:ty,memo:ke(ve()),blockTime:De(ke(ee()))}))),Z7e=pe({subscription:ee(),result:L6(PA)}),X7e=pe({pubkey:Yi,account:PA}),Q7e=pe({subscription:ee(),result:L6(X7e)}),J7e=pe({parent:ee(),slot:ee(),root:ee()}),eFe=pe({subscription:ee(),result:J7e}),tFe=rr([pe({type:rr([Rt("firstShredReceived"),Rt("completed"),Rt("optimisticConfirmation"),Rt("root")]),slot:ee(),timestamp:ee()}),pe({type:Rt("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),pe({type:Rt("frozen"),slot:ee(),timestamp:ee(),stats:pe({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),pe({type:Rt("dead"),slot:ee(),timestamp:ee(),err:ve()})]),rFe=pe({subscription:ee(),result:tFe}),nFe=pe({subscription:ee(),result:L6(rr([A7e,x7e]))}),iFe=pe({subscription:ee(),result:ee()}),sFe=pe({pubkey:ve(),gossip:ke(ve()),tpu:ke(ve()),rpc:ke(ve()),version:ke(ve())}),mY=pe({votePubkey:ve(),nodePubkey:ve(),activatedStake:ee(),epochVoteAccount:Qr(),epochCredits:Ee(Ic([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:ke(ee())}),oFe=Vr(pe({current:Ee(mY),delinquent:Ee(mY)})),aFe=rr([Rt("processed"),Rt("confirmed"),Rt("finalized")]),uFe=pe({slot:ee(),confirmations:ke(ee()),err:ty,confirmationStatus:De(aFe)}),cFe=rs(Ee(ke(uFe))),lFe=Vr(ee()),Uoe=pe({accountKey:Yi,writableIndexes:Ee(ee()),readonlyIndexes:Ee(ee())}),w7=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(ve()),header:pe({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()})),recentBlockhash:ve(),addressTableLookups:De(Ee(Uoe))})}),zoe=pe({pubkey:Yi,signer:Qr(),writable:Qr(),source:De(rr([Rt("transaction"),Rt("lookupTable")]))}),Woe=pe({accountKeys:Ee(zoe),signatures:Ee(ve())}),Koe=pe({parsed:Wi(),program:ve(),programId:Yi}),joe=pe({accounts:Ee(Yi),data:ve(),programId:Yi}),fFe=rr([joe,Koe]),dFe=rr([pe({parsed:Wi(),program:ve(),programId:ve()}),pe({accounts:Ee(ve()),data:ve(),programId:ve()})]),Hoe=Cs(fFe,dFe,t=>"accounts"in t?Ve(t,joe):Ve(t,Koe)),qoe=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(zoe),instructions:Ee(Hoe),recentBlockhash:ve(),addressTableLookups:De(ke(Ee(Uoe)))})}),xT=pe({accountIndex:ee(),mint:ve(),owner:De(ve()),uiTokenAmount:BO}),Voe=pe({writable:Ee(Yi),readonly:Ee(Yi)}),D6=pe({err:ty,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()}))})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(xT))),postTokenBalances:De(ke(Ee(xT))),loadedAddresses:De(Voe),computeUnitsConsumed:De(ee())}),S7=pe({err:ty,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(Hoe)})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(xT))),postTokenBalances:De(ke(Ee(xT))),loadedAddresses:De(Voe),computeUnitsConsumed:De(ee())}),Nw=rr([Rt(0),Rt("legacy")]),ry=pe({pubkey:ve(),lamports:ee(),postBalance:ke(ee()),rewardType:ke(ve()),commission:De(ke(ee()))}),hFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:w7,meta:ke(D6),version:De(Nw)})),rewards:De(Ee(ry)),blockTime:ke(ee()),blockHeight:ke(ee())}))),pFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(ry)),blockTime:ke(ee()),blockHeight:ke(ee())}))),gFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:Woe,meta:ke(D6),version:De(Nw)})),rewards:De(Ee(ry)),blockTime:ke(ee()),blockHeight:ke(ee())}))),mFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:qoe,meta:ke(S7),version:De(Nw)})),rewards:De(Ee(ry)),blockTime:ke(ee()),blockHeight:ke(ee())}))),yFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:Woe,meta:ke(S7),version:De(Nw)})),rewards:De(Ee(ry)),blockTime:ke(ee()),blockHeight:ke(ee())}))),bFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(ry)),blockTime:ke(ee()),blockHeight:ke(ee())}))),vFe=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:w7,meta:ke(D6)})),rewards:De(Ee(ry)),blockTime:ke(ee())}))),yY=Vr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),signatures:Ee(ve()),blockTime:ke(ee())}))),MP=Vr(ke(pe({slot:ee(),meta:ke(D6),blockTime:De(ke(ee())),transaction:w7,version:De(Nw)}))),sk=Vr(ke(pe({slot:ee(),transaction:qoe,meta:ke(S7),blockTime:De(ke(ee())),version:De(Nw)}))),wFe=rs(pe({blockhash:ve(),feeCalculator:pe({lamportsPerSignature:ee()})})),SFe=rs(pe({blockhash:ve(),lastValidBlockHeight:ee()})),_Fe=rs(Qr()),AFe=pe({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()}),xFe=Vr(Ee(AFe)),EFe=rs(ke(pe({feeCalculator:pe({lamportsPerSignature:ee()})}))),kFe=Vr(ve()),TFe=Vr(ve()),IFe=pe({err:ty,logs:Ee(ve()),signature:ve()}),RFe=pe({result:L6(IFe),subscription:ee()}),MFe={"solana-client":"js/1.0.0-maintenance"};let CP=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async d=>{const{commitment:g,config:y}=mi(d),b=this._buildArgs([],g,void 0,y),A=fY(b);return f[A]=f[A]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",b),k=Ve(x,Vr(ee()));if("error"in k)throw new nr(k.error,"failed to get block height information");return k.result}finally{delete f[A]}})(),await f[A]}})();let n,i,s,o,a,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=p7e(e),this._rpcWsEndpoint=n||d7e(e),this._rpcClient=R7e(e,i,s,o,a,u),this._rpcRequest=M7e(this._rpcClient),this._rpcBatchRequest=C7e(this._rpcClient),this._rpcWebSocket=new u7e(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Ve(o,rs(ee()));if("error"in a)throw new nr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Ve(r,Vr(ke(ee())));if("error"in n)throw new nr(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Ve(e,Vr(ee()));if("error"in r)throw new nr(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Ve(e,F7e);if("error"in r)throw new nr(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Ve(n,$7e);if("error"in i)throw new nr(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Ve(i,rs(BO));if("error"in s)throw new nr(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Ve(i,rs(BO));if("error"in s)throw new nr(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=mi(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),f=Ve(u,z7e);if("error"in f)throw new nr(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Ve(o,W7e);if("error"in a)throw new nr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Ve(i,K7e);if("error"in s)throw new nr(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Ve(i,U7e);if("error"in s)throw new nr(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Ve(o,rs(ke(PA)));if("error"in a)throw new nr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Ve(o,rs(ke(LO)));if("error"in a)throw new nr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=mi(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Ve(a,rs(Ee(ke(LO))));if("error"in u)throw new nr(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=mi(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Ve(a,rs(Ee(ke(PA))));if("error"in u)throw new nr(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=mi(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=Ve(a,Vr(V7e));if("error"in u)throw new nr(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=mi(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:pY(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),f=Ee(j7e),d=o.withContext===!0?Ve(u,rs(f)):Ve(u,Vr(f));if("error"in d)throw new nr(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Ve(o,Vr(Ee(q7e)));if("error"in a)throw new nr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=xo.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return _i(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((u,f)=>{try{n=this.onSignature(r,(g,y)=>{n=void 0;const b={context:y,value:g};u({__type:dp.PROCESSED,response:b})},e);const d=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,y=>{y==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(r);if(s||g==null)return;const{context:y,value:b}=g;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:dp.PROCESSED,response:{context:y,value:b}})}})()}catch(d){f(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await y();if(!s){for(;b<=n;)if(await p1(1e3),s||(b=await y(),s))return;g({__type:dp.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(r);let d;try{const g=await Promise.race([f,u,o]);if(g.__type===dp.PROCESSED)d=g.response;else throw new xoe(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(b=>{let A=s,x=null;const k=async()=>{try{const{context:R,value:C}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return x=R.slot,C==null?void 0:C.nonce}catch{return A}};(async()=>{if(A=await k(),!a)for(;;){if(s!==A){b({__type:dp.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await p1(2e3),a||(A=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(r);let y;try{const b=await Promise.race([g,d,u]);if(b.__type===dp.PROCESSED)y=b.response;else{let A;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(b.slotInWhichNonceDidAdvance??n)){await p1(400);continue}A=x;break}if(A!=null&&A.value){const x=e||"finalized",{confirmationStatus:k}=A.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new x_(o);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new x_(o);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new x_(o);break;default:}y={context:A.context,value:{err:A.value.err}}}else throw new x_(o)}}finally{a=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:dp.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const u=await Promise.race([o,i]);if(u.__type===dp.PROCESSED)a=u.response;else throw new Eoe(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Ve(e,Vr(Ee(sFe)));if("error"in r)throw new nr(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Ve(n,oFe);if("error"in i)throw new nr(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=mi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Ve(s,Vr(ee()));if("error"in o)throw new nr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=mi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Ve(s,Vr(ve()));if("error"in o)throw new nr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Ve(i,Vr(Ee(Yi)));if("error"in s)throw new nr(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);_i(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Ve(i,cFe);if("error"in s)throw new nr(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=mi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Ve(s,Vr(ee()));if("error"in o)throw new nr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Ve(n,P7e);if("error"in i)throw new nr(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=mi(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=Ve(a,y7e);if("error"in u)throw new nr(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Ve(e,N7e);if("error"in r)throw new nr(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=mi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Ve(s,O7e);if("error"in o)throw new nr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Ve(e,L7e);if("error"in r)throw new nr(r.error,"failed to get epoch schedule");const n=r.result;return new o7e(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Ve(e,D7e);if("error"in r)throw new nr(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Ve(i,lFe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=Ve(n,wFe);if("error"in i)throw new nr(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Ve(r,xFe);if("error"in n)throw new nr(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Ve(i,EFe);if("error"in s)throw new nr(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=Zs(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Ve(s,rs(ke(ee())));if("error"in o)throw new nr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Ve(i,B7e);if("error"in s)throw new nr(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=mi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Ve(s,SFe);if("error"in o)throw new nr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Ve(o,_Fe);if("error"in a)throw new nr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Ve(e,Vr(E7e));if("error"in r)throw new nr(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Ve(e,Vr(ve()));if("error"in r)throw new nr(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ve(o,gFe);if("error"in a)throw a.error;return a.result}case"none":{const a=Ve(o,pFe);if("error"in a)throw a.error;return a.result}default:{const a=Ve(o,hFe);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:d,version:g})=>({meta:d,transaction:{...f,message:RP(g,f.message)},version:g}))}:null}}}catch(a){throw new nr(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ve(o,yFe);if("error"in a)throw a.error;return a.result}case"none":{const a=Ve(o,bFe);if("error"in a)throw a.error;return a.result}default:{const a=Ve(o,mFe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new nr(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...u}=e;n=a,r=u}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Ve(s,I7e);if("error"in o)throw new nr(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Ve(o,MP);if("error"in a)throw new nr(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:RP(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=mi(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Ve(o,sk);if("error"in a)throw new nr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=mi(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Ve(u,sk);if("error"in f)throw new nr(f.error,"failed to get transactions");return f.result})}async getTransactions(e,r){const{commitment:n,config:i}=mi(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Ve(u,MP);if("error"in f)throw new nr(f.error,"failed to get transactions");const d=f.result;return d&&{...d,transaction:{...d.transaction,message:RP(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=Ve(i,vFe);if("error"in s)throw new nr(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:f})=>{const d=new _m(u.message);return{meta:f,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:p0.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Ve(s,Vr(Ee(ee())));if("error"in o)throw new nr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ve(i,yY);if("error"in s)throw new nr(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=Ve(i,yY);if("error"in s)throw new nr(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=Ve(i,MP);if("error"in s)throw new nr(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new _m(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:p0.populate(a,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=Ve(i,sk);if("error"in s)throw new nr(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Ve(o,sk);if("error"in a)throw new nr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ve(s,G7e);if("error"in o)throw new nr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ve(s,Y7e);if("error"in o)throw new nr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new hY({key:e,state:hY.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=Q9e.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Ve(n,kFe);if("error"in i)throw new nr(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await p1(100);const n=Date.now()-this._blockhashInfo.lastFetch>=h7e;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await p1(Z9e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=mi(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ve(s,rs(ee()));if("error"in o)throw new nr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const x=e.serialize(),k=Pe.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const R=r||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(R.innerInstructions=r.innerInstructions);const C=[k,R],P=await this._rpcRequest("simulateTransaction",C),O=Ve(P,gY);if("error"in O)throw new Error("failed to simulate transaction: "+O.error.message);return O.result}let i;if(e instanceof p0){let A=e;i=new p0,i.feePayer=A.feePayer,i.instructions=e.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=p0.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else A=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}s&&(d.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(d.innerInstructions=r.innerInstructions);const g=[f,d],y=await this._rpcRequest("simulateTransaction",g),b=Ve(y,gY);if("error"in b){let A;if("data"in b.error&&(A=b.error.data.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new cY({action:"simulate",signature:"",transactionMessage:b.error.message,logs:A})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=Zs(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),u=Ve(a,TFe);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new cY({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Ve(e,Z7e);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=fY([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];_i(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=mi(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Ve(e,Q7e);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=mi(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:pY(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Ve(e,RFe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Ve(e,eFe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Ve(e,rFe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Ve(e,nFe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,f)=>{r(u,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Ve(e,iFe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}};Object.freeze({CreateLookupTable:{index:0,layout:Se([xe("instruction"),Kv("recentSlot"),st("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([xe("instruction")])},ExtendLookupTable:{index:2,layout:Se([xe("instruction"),Kv(),Vt(nn(),En(xe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([xe("instruction")])},CloseLookupTable:{index:4,layout:Se([xe("instruction")])}});new Tt("AddressLookupTab1e1111111111111111111111111");const ok=Object.freeze({RequestUnits:{index:0,layout:Se([st("instruction"),xe("units"),xe("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([st("instruction"),xe("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([st("instruction"),xe("units")])},SetComputeUnitPrice:{index:3,layout:Se([st("instruction"),Kv("microLamports")])}});let Goe=class{constructor(){}static requestUnits(e){const r=ok.RequestUnits,n=Ho(r,e);return new Ds({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=ok.RequestHeapFrame,n=Ho(r,e);return new Ds({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=ok.SetComputeUnitLimit,n=Ho(r,e);return new Ds({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=ok.SetComputeUnitPrice,n=Ho(r,{microLamports:BigInt(e.microLamports)});return new Ds({keys:[],programId:this.programId,data:n})}};Goe.programId=new Tt("ComputeBudget111111111111111111111111111111");Se([st("numSignatures"),st("padding"),cr("signatureOffset"),cr("signatureInstructionIndex"),cr("publicKeyOffset"),cr("publicKeyInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),cr("messageInstructionIndex")]);new Tt("Ed25519SigVerify111111111111111111111111111");Uu.utils.isValidPrivateKey;Uu.getPublicKey;Se([st("numSignatures"),cr("signatureOffset"),st("signatureInstructionIndex"),cr("ethAddressOffset"),st("ethAddressInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),st("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),st("recoveryId")]);new Tt("KeccakSecp256k11111111111111111111111111111");var Yoe;new Tt("StakeConfig11111111111111111111111111111111");let Zoe=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Yoe=Zoe;Zoe.default=new Yoe(0,0,Tt.default);Object.freeze({Initialize:{index:0,layout:Se([xe("instruction"),W9e(),K9e()])},Authorize:{index:1,layout:Se([xe("instruction"),nn("newAuthorized"),xe("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([xe("instruction")])},Split:{index:3,layout:Se([xe("instruction"),er("lamports")])},Withdraw:{index:4,layout:Se([xe("instruction"),er("lamports")])},Deactivate:{index:5,layout:Se([xe("instruction")])},Merge:{index:7,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([xe("instruction"),nn("newAuthorized"),xe("stakeAuthorizationType"),Q1("authoritySeed"),nn("authorityOwner")])}});new Tt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Se([xe("instruction"),j9e()])},Authorize:{index:1,layout:Se([xe("instruction"),nn("newAuthorized"),xe("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([xe("instruction"),er("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([xe("instruction"),H9e()])}});new Tt("Vote111111111111111111111111111111111111111");new Tt("Va1idator1nfo111111111111111111111111111111");pe({name:ve(),website:De(ve()),details:De(ve()),iconUrl:De(ve()),keybaseUsername:De(ve())});new Tt("Vote111111111111111111111111111111111111111");Se([nn("nodePubkey"),nn("authorizedWithdrawer"),st("commission"),Bt(),Vt(Se([Bt("slot"),xe("confirmationCount")]),En(xe(),-8),"votes"),st("rootSlotValid"),Bt("rootSlot"),Bt(),Vt(Se([Bt("epoch"),nn("authorizedVoter")]),En(xe(),-8),"authorizedVoters"),Se([Vt(Se([nn("authorizedPubkey"),Bt("epochOfLastAuthorizedSwitch"),Bt("targetEpoch")]),32,"buf"),Bt("idx"),st("isEmpty")],"priorVoters"),Bt(),Vt(Se([Bt("epoch"),Bt("credits"),Bt("prevCredits")]),En(xe(),-8),"epochCredits"),Se([Bt("slot"),Bt("timestamp")],"lastTimestamp")]);const bY={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function CFe(t,e){const r="https";if(!t)return bY[r].devnet;const n=bY[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}var PFe=Object.create,_7=Object.defineProperty,NFe=Object.getOwnPropertyDescriptor,BFe=Object.getOwnPropertyNames,OFe=Object.getPrototypeOf,LFe=Object.prototype.hasOwnProperty,DFe=(t,e)=>()=>(t&&(e=t(t=0)),e),Bw=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),FFe=(t,e)=>{for(var r in e)_7(t,r,{get:e[r],enumerable:!0})},$Fe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BFe(e))!LFe.call(t,i)&&i!==r&&_7(t,i,{get:()=>e[i],enumerable:!(n=NFe(e,i))||n.enumerable});return t},NA=(t,e,r)=>(r=t!=null?PFe(OFe(t)):{},$Fe(!t||!t.__esModule?_7(r,"default",{value:t,enumerable:!0}):r,t)),UFe=Bw(t=>{ki(),t.byteLength=u,t.toByteArray=d,t.fromByteArray=b;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,o=i.length;s<o;++s)e[s]=i[s],r[i.charCodeAt(s)]=s;var s,o;r[45]=62,r[95]=63;function a(A){var x=A.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=A.indexOf("=");k===-1&&(k=x);var R=k===x?0:4-k%4;return[k,R]}function u(A){var x=a(A),k=x[0],R=x[1];return(k+R)*3/4-R}function f(A,x,k){return(x+k)*3/4-k}function d(A){var x,k=a(A),R=k[0],C=k[1],P=new n(f(A,R,C)),O=0,q=C>0?R-4:R,Q;for(Q=0;Q<q;Q+=4)x=r[A.charCodeAt(Q)]<<18|r[A.charCodeAt(Q+1)]<<12|r[A.charCodeAt(Q+2)]<<6|r[A.charCodeAt(Q+3)],P[O++]=x>>16&255,P[O++]=x>>8&255,P[O++]=x&255;return C===2&&(x=r[A.charCodeAt(Q)]<<2|r[A.charCodeAt(Q+1)]>>4,P[O++]=x&255),C===1&&(x=r[A.charCodeAt(Q)]<<10|r[A.charCodeAt(Q+1)]<<4|r[A.charCodeAt(Q+2)]>>2,P[O++]=x>>8&255,P[O++]=x&255),P}function g(A){return e[A>>18&63]+e[A>>12&63]+e[A>>6&63]+e[A&63]}function y(A,x,k){for(var R,C=[],P=x;P<k;P+=3)R=(A[P]<<16&16711680)+(A[P+1]<<8&65280)+(A[P+2]&255),C.push(g(R));return C.join("")}function b(A){for(var x,k=A.length,R=k%3,C=[],P=16383,O=0,q=k-R;O<q;O+=P)C.push(y(A,O,O+P>q?q:O+P));return R===1?(x=A[k-1],C.push(e[x>>2]+e[x<<4&63]+"==")):R===2&&(x=(A[k-2]<<8)+A[k-1],C.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),C.join("")}}),zFe=Bw(t=>{ki(),t.read=function(e,r,n,i,s){var o,a,u=s*8-i-1,f=(1<<u)-1,d=f>>1,g=-7,y=n?s-1:0,b=n?-1:1,A=e[r+y];for(y+=b,o=A&(1<<-g)-1,A>>=-g,g+=u;g>0;o=o*256+e[r+y],y+=b,g-=8);for(a=o&(1<<-g)-1,o>>=-g,g+=i;g>0;a=a*256+e[r+y],y+=b,g-=8);if(o===0)o=1-d;else{if(o===f)return a?NaN:(A?-1:1)*(1/0);a=a+Math.pow(2,i),o=o-d}return(A?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,r,n,i,s,o){var a,u,f,d=o*8-s-1,g=(1<<d)-1,y=g>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=i?0:o-1,x=i?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,a=g):(a=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+y>=1?r+=b/f:r+=b*Math.pow(2,1-y),r*f>=2&&(a++,f/=2),a+y>=g?(u=0,a=g):a+y>=1?(u=(r*f-1)*Math.pow(2,s),a=a+y):(u=r*Math.pow(2,y-1)*Math.pow(2,s),a=0));s>=8;e[n+A]=u&255,A+=x,u/=256,s-=8);for(a=a<<s|u,d+=s;d>0;e[n+A]=a&255,A+=x,a/=256,d-=8);e[n+A-x]|=k*128}}),Xoe=Bw(t=>{ki();var e=UFe(),r=zFe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var H=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(H,oe),H.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');var oe=new Uint8Array(H);return Object.setPrototypeOf(oe,a.prototype),oe}function a(H,oe,ae){if(typeof H=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(H)}return u(H,oe,ae)}a.poolSize=8192;function u(H,oe,ae){if(typeof H=="string")return y(H,oe);if(ArrayBuffer.isView(H))return A(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(fe(H,ArrayBuffer)||H&&fe(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(H,SharedArrayBuffer)||H&&fe(H.buffer,SharedArrayBuffer)))return x(H,oe,ae);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ce=H.valueOf&&H.valueOf();if(ce!=null&&ce!==H)return a.from(ce,oe,ae);var Oe=k(H);if(Oe)return Oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return a.from(H[Symbol.toPrimitive]("string"),oe,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}a.from=function(H,oe,ae){return u(H,oe,ae)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function d(H,oe,ae){return f(H),H<=0?o(H):oe!==void 0?typeof ae=="string"?o(H).fill(oe,ae):o(H).fill(oe):o(H)}a.alloc=function(H,oe,ae){return d(H,oe,ae)};function g(H){return f(H),o(H<0?0:R(H)|0)}a.allocUnsafe=function(H){return g(H)},a.allocUnsafeSlow=function(H){return g(H)};function y(H,oe){if((typeof oe!="string"||oe==="")&&(oe="utf8"),!a.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var ae=P(H,oe)|0,ce=o(ae),Oe=ce.write(H,oe);return Oe!==ae&&(ce=ce.slice(0,Oe)),ce}function b(H){for(var oe=H.length<0?0:R(H.length)|0,ae=o(oe),ce=0;ce<oe;ce+=1)ae[ce]=H[ce]&255;return ae}function A(H){if(fe(H,Uint8Array)){var oe=new Uint8Array(H);return x(oe.buffer,oe.byteOffset,oe.byteLength)}return b(H)}function x(H,oe,ae){if(oe<0||H.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<oe+(ae||0))throw new RangeError('"length" is outside of buffer bounds');var ce;return oe===void 0&&ae===void 0?ce=new Uint8Array(H):ae===void 0?ce=new Uint8Array(H,oe):ce=new Uint8Array(H,oe,ae),Object.setPrototypeOf(ce,a.prototype),ce}function k(H){if(a.isBuffer(H)){var oe=R(H.length)|0,ae=o(oe);return ae.length===0||H.copy(ae,0,0,oe),ae}if(H.length!==void 0)return typeof H.length!="number"||Te(H.length)?o(0):b(H);if(H.type==="Buffer"&&Array.isArray(H.data))return b(H.data)}function R(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function C(H){return+H!=H&&(H=0),a.alloc(+H)}a.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==a.prototype},a.compare=function(H,oe){if(fe(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),fe(oe,Uint8Array)&&(oe=a.from(oe,oe.offset,oe.byteLength)),!a.isBuffer(H)||!a.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===oe)return 0;for(var ae=H.length,ce=oe.length,Oe=0,_e=Math.min(ae,ce);Oe<_e;++Oe)if(H[Oe]!==oe[Oe]){ae=H[Oe],ce=oe[Oe];break}return ae<ce?-1:ce<ae?1:0},a.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(H,oe){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return a.alloc(0);var ae;if(oe===void 0)for(oe=0,ae=0;ae<H.length;++ae)oe+=H[ae].length;var ce=a.allocUnsafe(oe),Oe=0;for(ae=0;ae<H.length;++ae){var _e=H[ae];if(fe(_e,Uint8Array))Oe+_e.length>ce.length?a.from(_e).copy(ce,Oe):Uint8Array.prototype.set.call(ce,_e,Oe);else if(a.isBuffer(_e))_e.copy(ce,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=_e.length}return ce};function P(H,oe){if(a.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||fe(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var ae=H.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&ae===0)return 0;for(var Oe=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return G(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae*2;case"hex":return ae>>>1;case"base64":return J(H).length;default:if(Oe)return ce?-1:G(H).length;oe=(""+oe).toLowerCase(),Oe=!0}}a.byteLength=P;function O(H,oe,ae){var ce=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((ae===void 0||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0,oe>>>=0,ae<=oe))return"";for(H||(H="utf8");;)switch(H){case"hex":return w(this,oe,ae);case"utf8":case"utf-8":return p(this,oe,ae);case"ascii":return _(this,oe,ae);case"latin1":case"binary":return T(this,oe,ae);case"base64":return h(this,oe,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,oe,ae);default:if(ce)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),ce=!0}}a.prototype._isBuffer=!0;function q(H,oe,ae){var ce=H[oe];H[oe]=H[ae],H[ae]=ce}a.prototype.swap16=function(){var H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<H;oe+=2)q(this,oe,oe+1);return this},a.prototype.swap32=function(){var H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<H;oe+=4)q(this,oe,oe+3),q(this,oe+1,oe+2);return this},a.prototype.swap64=function(){var H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<H;oe+=8)q(this,oe,oe+7),q(this,oe+1,oe+6),q(this,oe+2,oe+5),q(this,oe+3,oe+4);return this},a.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?p(this,0,H):O.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(H){if(!a.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:a.compare(this,H)===0},a.prototype.inspect=function(){var H="",oe=t.INSPECT_MAX_BYTES;return H=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(H+=" ... "),"<Buffer "+H+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(H,oe,ae,ce,Oe){if(fe(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),!a.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(oe===void 0&&(oe=0),ae===void 0&&(ae=H?H.length:0),ce===void 0&&(ce=0),Oe===void 0&&(Oe=this.length),oe<0||ae>H.length||ce<0||Oe>this.length)throw new RangeError("out of range index");if(ce>=Oe&&oe>=ae)return 0;if(ce>=Oe)return-1;if(oe>=ae)return 1;if(oe>>>=0,ae>>>=0,ce>>>=0,Oe>>>=0,this===H)return 0;for(var _e=Oe-ce,Ne=ae-oe,wt=Math.min(_e,Ne),ge=this.slice(ce,Oe),ye=H.slice(oe,ae),Ge=0;Ge<wt;++Ge)if(ge[Ge]!==ye[Ge]){_e=ge[Ge],Ne=ye[Ge];break}return _e<Ne?-1:Ne<_e?1:0};function Q(H,oe,ae,ce,Oe){if(H.length===0)return-1;if(typeof ae=="string"?(ce=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,Te(ae)&&(ae=Oe?0:H.length-1),ae<0&&(ae=H.length+ae),ae>=H.length){if(Oe)return-1;ae=H.length-1}else if(ae<0)if(Oe)ae=0;else return-1;if(typeof oe=="string"&&(oe=a.from(oe,ce)),a.isBuffer(oe))return oe.length===0?-1:Y(H,oe,ae,ce,Oe);if(typeof oe=="number")return oe=oe&255,typeof Uint8Array.prototype.indexOf=="function"?Oe?Uint8Array.prototype.indexOf.call(H,oe,ae):Uint8Array.prototype.lastIndexOf.call(H,oe,ae):Y(H,[oe],ae,ce,Oe);throw new TypeError("val must be string, number or Buffer")}function Y(H,oe,ae,ce,Oe){var _e=1,Ne=H.length,wt=oe.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(H.length<2||oe.length<2)return-1;_e=2,Ne/=2,wt/=2,ae/=2}function ge(re,ue){return _e===1?re[ue]:re.readUInt16BE(ue*_e)}var ye;if(Oe){var Ge=-1;for(ye=ae;ye<Ne;ye++)if(ge(H,ye)===ge(oe,Ge===-1?0:ye-Ge)){if(Ge===-1&&(Ge=ye),ye-Ge+1===wt)return Ge*_e}else Ge!==-1&&(ye-=ye-Ge),Ge=-1}else for(ae+wt>Ne&&(ae=Ne-wt),ye=ae;ye>=0;ye--){for(var se=!0,j=0;j<wt;j++)if(ge(H,ye+j)!==ge(oe,j)){se=!1;break}if(se)return ye}return-1}a.prototype.includes=function(H,oe,ae){return this.indexOf(H,oe,ae)!==-1},a.prototype.indexOf=function(H,oe,ae){return Q(this,H,oe,ae,!0)},a.prototype.lastIndexOf=function(H,oe,ae){return Q(this,H,oe,ae,!1)};function X(H,oe,ae,ce){ae=Number(ae)||0;var Oe=H.length-ae;ce?(ce=Number(ce),ce>Oe&&(ce=Oe)):ce=Oe;var _e=oe.length;ce>_e/2&&(ce=_e/2);for(var Ne=0;Ne<ce;++Ne){var wt=parseInt(oe.substr(Ne*2,2),16);if(Te(wt))return Ne;H[ae+Ne]=wt}return Ne}function Z(H,oe,ae,ce){return V(G(oe,H.length-ae),H,ae,ce)}function le(H,oe,ae,ce){return V(te(oe),H,ae,ce)}function I(H,oe,ae,ce){return V(J(oe),H,ae,ce)}function c(H,oe,ae,ce){return V(ie(oe,H.length-ae),H,ae,ce)}a.prototype.write=function(H,oe,ae,ce){if(oe===void 0)ce="utf8",ae=this.length,oe=0;else if(ae===void 0&&typeof oe=="string")ce=oe,ae=this.length,oe=0;else if(isFinite(oe))oe=oe>>>0,isFinite(ae)?(ae=ae>>>0,ce===void 0&&(ce="utf8")):(ce=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Oe=this.length-oe;if((ae===void 0||ae>Oe)&&(ae=Oe),H.length>0&&(ae<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var _e=!1;;)switch(ce){case"hex":return X(this,H,oe,ae);case"utf8":case"utf-8":return Z(this,H,oe,ae);case"ascii":case"latin1":case"binary":return le(this,H,oe,ae);case"base64":return I(this,H,oe,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,H,oe,ae);default:if(_e)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),_e=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(H,oe,ae){return oe===0&&ae===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(oe,ae))}function p(H,oe,ae){ae=Math.min(H.length,ae);for(var ce=[],Oe=oe;Oe<ae;){var _e=H[Oe],Ne=null,wt=_e>239?4:_e>223?3:_e>191?2:1;if(Oe+wt<=ae){var ge,ye,Ge,se;switch(wt){case 1:_e<128&&(Ne=_e);break;case 2:ge=H[Oe+1],(ge&192)===128&&(se=(_e&31)<<6|ge&63,se>127&&(Ne=se));break;case 3:ge=H[Oe+1],ye=H[Oe+2],(ge&192)===128&&(ye&192)===128&&(se=(_e&15)<<12|(ge&63)<<6|ye&63,se>2047&&(se<55296||se>57343)&&(Ne=se));break;case 4:ge=H[Oe+1],ye=H[Oe+2],Ge=H[Oe+3],(ge&192)===128&&(ye&192)===128&&(Ge&192)===128&&(se=(_e&15)<<18|(ge&63)<<12|(ye&63)<<6|Ge&63,se>65535&&se<1114112&&(Ne=se))}}Ne===null?(Ne=65533,wt=1):Ne>65535&&(Ne-=65536,ce.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),ce.push(Ne),Oe+=wt}return v(ce)}var m=4096;function v(H){var oe=H.length;if(oe<=m)return String.fromCharCode.apply(String,H);for(var ae="",ce=0;ce<oe;)ae+=String.fromCharCode.apply(String,H.slice(ce,ce+=m));return ae}function _(H,oe,ae){var ce="";ae=Math.min(H.length,ae);for(var Oe=oe;Oe<ae;++Oe)ce+=String.fromCharCode(H[Oe]&127);return ce}function T(H,oe,ae){var ce="";ae=Math.min(H.length,ae);for(var Oe=oe;Oe<ae;++Oe)ce+=String.fromCharCode(H[Oe]);return ce}function w(H,oe,ae){var ce=H.length;(!oe||oe<0)&&(oe=0),(!ae||ae<0||ae>ce)&&(ae=ce);for(var Oe="",_e=oe;_e<ae;++_e)Oe+=Re[H[_e]];return Oe}function l(H,oe,ae){for(var ce=H.slice(oe,ae),Oe="",_e=0;_e<ce.length-1;_e+=2)Oe+=String.fromCharCode(ce[_e]+ce[_e+1]*256);return Oe}a.prototype.slice=function(H,oe){var ae=this.length;H=~~H,oe=oe===void 0?ae:~~oe,H<0?(H+=ae,H<0&&(H=0)):H>ae&&(H=ae),oe<0?(oe+=ae,oe<0&&(oe=0)):oe>ae&&(oe=ae),oe<H&&(oe=H);var ce=this.subarray(H,oe);return Object.setPrototypeOf(ce,a.prototype),ce};function S(H,oe,ae){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+oe>ae)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(H,oe,ae){H=H>>>0,oe=oe>>>0,ae||S(H,oe,this.length);for(var ce=this[H],Oe=1,_e=0;++_e<oe&&(Oe*=256);)ce+=this[H+_e]*Oe;return ce},a.prototype.readUintBE=a.prototype.readUIntBE=function(H,oe,ae){H=H>>>0,oe=oe>>>0,ae||S(H,oe,this.length);for(var ce=this[H+--oe],Oe=1;oe>0&&(Oe*=256);)ce+=this[H+--oe]*Oe;return ce},a.prototype.readUint8=a.prototype.readUInt8=function(H,oe){return H=H>>>0,oe||S(H,1,this.length),this[H]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(H,oe){return H=H>>>0,oe||S(H,2,this.length),this[H]|this[H+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(H,oe){return H=H>>>0,oe||S(H,2,this.length),this[H]<<8|this[H+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(H,oe){return H=H>>>0,oe||S(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(H,oe){return H=H>>>0,oe||S(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},a.prototype.readIntLE=function(H,oe,ae){H=H>>>0,oe=oe>>>0,ae||S(H,oe,this.length);for(var ce=this[H],Oe=1,_e=0;++_e<oe&&(Oe*=256);)ce+=this[H+_e]*Oe;return Oe*=128,ce>=Oe&&(ce-=Math.pow(2,8*oe)),ce},a.prototype.readIntBE=function(H,oe,ae){H=H>>>0,oe=oe>>>0,ae||S(H,oe,this.length);for(var ce=oe,Oe=1,_e=this[H+--ce];ce>0&&(Oe*=256);)_e+=this[H+--ce]*Oe;return Oe*=128,_e>=Oe&&(_e-=Math.pow(2,8*oe)),_e},a.prototype.readInt8=function(H,oe){return H=H>>>0,oe||S(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},a.prototype.readInt16LE=function(H,oe){H=H>>>0,oe||S(H,2,this.length);var ae=this[H]|this[H+1]<<8;return ae&32768?ae|4294901760:ae},a.prototype.readInt16BE=function(H,oe){H=H>>>0,oe||S(H,2,this.length);var ae=this[H+1]|this[H]<<8;return ae&32768?ae|4294901760:ae},a.prototype.readInt32LE=function(H,oe){return H=H>>>0,oe||S(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},a.prototype.readInt32BE=function(H,oe){return H=H>>>0,oe||S(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},a.prototype.readFloatLE=function(H,oe){return H=H>>>0,oe||S(H,4,this.length),r.read(this,H,!0,23,4)},a.prototype.readFloatBE=function(H,oe){return H=H>>>0,oe||S(H,4,this.length),r.read(this,H,!1,23,4)},a.prototype.readDoubleLE=function(H,oe){return H=H>>>0,oe||S(H,8,this.length),r.read(this,H,!0,52,8)},a.prototype.readDoubleBE=function(H,oe){return H=H>>>0,oe||S(H,8,this.length),r.read(this,H,!1,52,8)};function N(H,oe,ae,ce,Oe,_e){if(!a.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Oe||oe<_e)throw new RangeError('"value" argument is out of bounds');if(ae+ce>H.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(H,oe,ae,ce){if(H=+H,oe=oe>>>0,ae=ae>>>0,!ce){var Oe=Math.pow(2,8*ae)-1;N(this,H,oe,ae,Oe,0)}var _e=1,Ne=0;for(this[oe]=H&255;++Ne<ae&&(_e*=256);)this[oe+Ne]=H/_e&255;return oe+ae},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(H,oe,ae,ce){if(H=+H,oe=oe>>>0,ae=ae>>>0,!ce){var Oe=Math.pow(2,8*ae)-1;N(this,H,oe,ae,Oe,0)}var _e=ae-1,Ne=1;for(this[oe+_e]=H&255;--_e>=0&&(Ne*=256);)this[oe+_e]=H/Ne&255;return oe+ae},a.prototype.writeUint8=a.prototype.writeUInt8=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,1,255,0),this[oe]=H&255,oe+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,2,65535,0),this[oe]=H&255,this[oe+1]=H>>>8,oe+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,2,65535,0),this[oe]=H>>>8,this[oe+1]=H&255,oe+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,4,4294967295,0),this[oe+3]=H>>>24,this[oe+2]=H>>>16,this[oe+1]=H>>>8,this[oe]=H&255,oe+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,4,4294967295,0),this[oe]=H>>>24,this[oe+1]=H>>>16,this[oe+2]=H>>>8,this[oe+3]=H&255,oe+4},a.prototype.writeIntLE=function(H,oe,ae,ce){if(H=+H,oe=oe>>>0,!ce){var Oe=Math.pow(2,8*ae-1);N(this,H,oe,ae,Oe-1,-Oe)}var _e=0,Ne=1,wt=0;for(this[oe]=H&255;++_e<ae&&(Ne*=256);)H<0&&wt===0&&this[oe+_e-1]!==0&&(wt=1),this[oe+_e]=(H/Ne>>0)-wt&255;return oe+ae},a.prototype.writeIntBE=function(H,oe,ae,ce){if(H=+H,oe=oe>>>0,!ce){var Oe=Math.pow(2,8*ae-1);N(this,H,oe,ae,Oe-1,-Oe)}var _e=ae-1,Ne=1,wt=0;for(this[oe+_e]=H&255;--_e>=0&&(Ne*=256);)H<0&&wt===0&&this[oe+_e+1]!==0&&(wt=1),this[oe+_e]=(H/Ne>>0)-wt&255;return oe+ae},a.prototype.writeInt8=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,1,127,-128),H<0&&(H=255+H+1),this[oe]=H&255,oe+1},a.prototype.writeInt16LE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,2,32767,-32768),this[oe]=H&255,this[oe+1]=H>>>8,oe+2},a.prototype.writeInt16BE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,2,32767,-32768),this[oe]=H>>>8,this[oe+1]=H&255,oe+2},a.prototype.writeInt32LE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,4,2147483647,-2147483648),this[oe]=H&255,this[oe+1]=H>>>8,this[oe+2]=H>>>16,this[oe+3]=H>>>24,oe+4},a.prototype.writeInt32BE=function(H,oe,ae){return H=+H,oe=oe>>>0,ae||N(this,H,oe,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[oe]=H>>>24,this[oe+1]=H>>>16,this[oe+2]=H>>>8,this[oe+3]=H&255,oe+4};function F(H,oe,ae,ce,Oe,_e){if(ae+ce>H.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function W(H,oe,ae,ce,Oe){return oe=+oe,ae=ae>>>0,Oe||F(H,oe,ae,4),r.write(H,oe,ae,ce,23,4),ae+4}a.prototype.writeFloatLE=function(H,oe,ae){return W(this,H,oe,!0,ae)},a.prototype.writeFloatBE=function(H,oe,ae){return W(this,H,oe,!1,ae)};function D(H,oe,ae,ce,Oe){return oe=+oe,ae=ae>>>0,Oe||F(H,oe,ae,8),r.write(H,oe,ae,ce,52,8),ae+8}a.prototype.writeDoubleLE=function(H,oe,ae){return D(this,H,oe,!0,ae)},a.prototype.writeDoubleBE=function(H,oe,ae){return D(this,H,oe,!1,ae)},a.prototype.copy=function(H,oe,ae,ce){if(!a.isBuffer(H))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!ce&&ce!==0&&(ce=this.length),oe>=H.length&&(oe=H.length),oe||(oe=0),ce>0&&ce<ae&&(ce=ae),ce===ae||H.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),H.length-oe<ce-ae&&(ce=H.length-oe+ae);var Oe=ce-ae;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,ae,ce):Uint8Array.prototype.set.call(H,this.subarray(ae,ce),oe),Oe},a.prototype.fill=function(H,oe,ae,ce){if(typeof H=="string"){if(typeof oe=="string"?(ce=oe,oe=0,ae=this.length):typeof ae=="string"&&(ce=ae,ae=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!a.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(H.length===1){var Oe=H.charCodeAt(0);(ce==="utf8"&&Oe<128||ce==="latin1")&&(H=Oe)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(oe<0||this.length<oe||this.length<ae)throw new RangeError("Out of range index");if(ae<=oe)return this;oe=oe>>>0,ae=ae===void 0?this.length:ae>>>0,H||(H=0);var _e;if(typeof H=="number")for(_e=oe;_e<ae;++_e)this[_e]=H;else{var Ne=a.isBuffer(H)?H:a.from(H,ce),wt=Ne.length;if(wt===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(_e=0;_e<ae-oe;++_e)this[_e+oe]=Ne[_e%wt]}return this};var K=/[^+/0-9A-Za-z-_]/g;function z(H){if(H=H.split("=")[0],H=H.trim().replace(K,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function G(H,oe){oe=oe||1/0;for(var ae,ce=H.length,Oe=null,_e=[],Ne=0;Ne<ce;++Ne){if(ae=H.charCodeAt(Ne),ae>55295&&ae<57344){if(!Oe){if(ae>56319){(oe-=3)>-1&&_e.push(239,191,189);continue}else if(Ne+1===ce){(oe-=3)>-1&&_e.push(239,191,189);continue}Oe=ae;continue}if(ae<56320){(oe-=3)>-1&&_e.push(239,191,189),Oe=ae;continue}ae=(Oe-55296<<10|ae-56320)+65536}else Oe&&(oe-=3)>-1&&_e.push(239,191,189);if(Oe=null,ae<128){if((oe-=1)<0)break;_e.push(ae)}else if(ae<2048){if((oe-=2)<0)break;_e.push(ae>>6|192,ae&63|128)}else if(ae<65536){if((oe-=3)<0)break;_e.push(ae>>12|224,ae>>6&63|128,ae&63|128)}else if(ae<1114112){if((oe-=4)<0)break;_e.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,ae&63|128)}else throw new Error("Invalid code point")}return _e}function te(H){for(var oe=[],ae=0;ae<H.length;++ae)oe.push(H.charCodeAt(ae)&255);return oe}function ie(H,oe){for(var ae,ce,Oe,_e=[],Ne=0;Ne<H.length&&!((oe-=2)<0);++Ne)ae=H.charCodeAt(Ne),ce=ae>>8,Oe=ae%256,_e.push(Oe),_e.push(ce);return _e}function J(H){return e.toByteArray(z(H))}function V(H,oe,ae,ce){for(var Oe=0;Oe<ce&&!(Oe+ae>=oe.length||Oe>=H.length);++Oe)oe[Oe+ae]=H[Oe];return Oe}function fe(H,oe){return H instanceof oe||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===oe.name}function Te(H){return H!==H}var Re=function(){for(var H="0123456789abcdef",oe=new Array(256),ae=0;ae<16;++ae)for(var ce=ae*16,Oe=0;Oe<16;++Oe)oe[ce+Oe]=H[ae]+H[Oe];return oe}()}),WFe=Bw((t,e)=>{ki();var r=e.exports={},n,i;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?i=clearTimeout:i=o}catch{i=o}})();function a(R){if(n===setTimeout)return setTimeout(R,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(R,0);try{return n(R,0)}catch{try{return n.call(null,R,0)}catch{return n.call(this,R,0)}}}function u(R){if(i===clearTimeout)return clearTimeout(R);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(R);try{return i(R)}catch{try{return i.call(null,R)}catch{return i.call(this,R)}}}var f=[],d=!1,g,y=-1;function b(){!d||!g||(d=!1,g.length?f=g.concat(f):y=-1,f.length&&A())}function A(){if(!d){var R=a(b);d=!0;for(var C=f.length;C;){for(g=f,f=[];++y<C;)g&&g[y].run();y=-1,C=f.length}g=null,d=!1,u(R)}}r.nextTick=function(R){var C=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)C[P-1]=arguments[P];f.push(new x(R,C)),f.length===1&&!d&&a(A)};function x(R,C){this.fun=R,this.array=C}x.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function k(){}r.on=k,r.addListener=k,r.once=k,r.off=k,r.removeListener=k,r.removeAllListeners=k,r.emit=k,r.prependListener=k,r.prependOnceListener=k,r.listeners=function(R){return[]},r.binding=function(R){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(R){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),A7,vY,DO,ki=DFe(()=>{A7=NA(Xoe()),NA(WFe()),vY=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),DO=vY}),KFe=Bw((t,e)=>{ki();function r(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var o=0;o<n.length;o++){var a=n.charAt(o),u=a.charCodeAt(0);if(i[u]!==255)throw new TypeError(a+" is ambiguous");i[u]=o}var f=n.length,d=n.charAt(0),g=Math.log(f)/Math.log(256),y=Math.log(256)/Math.log(f);function b(k){if(k instanceof Uint8Array||(ArrayBuffer.isView(k)?k=new Uint8Array(k.buffer,k.byteOffset,k.byteLength):Array.isArray(k)&&(k=Uint8Array.from(k))),!(k instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(k.length===0)return"";for(var R=0,C=0,P=0,O=k.length;P!==O&&k[P]===0;)P++,R++;for(var q=(O-P)*y+1>>>0,Q=new Uint8Array(q);P!==O;){for(var Y=k[P],X=0,Z=q-1;(Y!==0||X<C)&&Z!==-1;Z--,X++)Y+=256*Q[Z]>>>0,Q[Z]=Y%f>>>0,Y=Y/f>>>0;if(Y!==0)throw new Error("Non-zero carry");C=X,P++}for(var le=q-C;le!==q&&Q[le]===0;)le++;for(var I=d.repeat(R);le<q;++le)I+=n.charAt(Q[le]);return I}function A(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return new Uint8Array;for(var R=0,C=0,P=0;k[R]===d;)C++,R++;for(var O=(k.length-R)*g+1>>>0,q=new Uint8Array(O);k[R];){var Q=k.charCodeAt(R);if(Q>255)return;var Y=i[Q];if(Y===255)return;for(var X=0,Z=O-1;(Y!==0||X<P)&&Z!==-1;Z--,X++)Y+=f*q[Z]>>>0,q[Z]=Y%256>>>0,Y=Y/256>>>0;if(Y!==0)throw new Error("Non-zero carry");P=X,R++}for(var le=O-P;le!==O&&q[le]===0;)le++;for(var I=new Uint8Array(C+(O-le)),c=C;le!==O;)I[c++]=q[le++];return I}function x(k){var R=A(k);if(R)return R;throw new Error("Non-base"+f+" character")}return{encode:b,decodeUnsafe:A,decode:x}}e.exports=r}),Qoe=Bw((t,e)=>{ki();var r=KFe(),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=r(n)});ki();ki();ki();var PP=NA(Qoe());ki();var qo=2n**255n-19n,eA=2n**252n+27742317777372353535851937790883648493n,wY=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,SY=0x6666666666666666666666666666666666666666666666666666666666666658n,ak={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,h:8},da=(t="")=>{throw new Error(t)},Joe=t=>typeof t=="string",F6=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?da("Uint8Array expected"):t,jv=t=>new Uint8Array(t),$6=(t,e)=>F6(Joe(t)?E7(t):jv(t),e),dr=(t,e=qo)=>{let r=t%e;return r>=0n?r:e+r},_Y=t=>t instanceof Hv?t:da("Point expected"),AY,Hv=class g1{constructor(e,r,n,i){this.ex=e,this.ey=r,this.ez=n,this.et=i}static fromAffine(e){return new g1(e.x,e.y,1n,dr(e.x*e.y))}static fromHex(e,r=!0){let{d:n}=ak;e=$6(e,32);let i=e.slice();i[31]=e[31]&-129;let s=rae(i);s===0n||(r&&!(0n<s&&s<qo)&&da("bad y coord 1"),!r&&!(0n<s&&s<2n**256n)&&da("bad y coord 2"));let o=dr(s*s),a=dr(o-1n),u=dr(n*o+1n),{isValid:f,value:d}=HFe(a,u);f||da("bad y coordinate 3");let g=(d&1n)===1n;return(e[31]&128)!==0!==g&&(d=dr(-d)),new g1(d,s,1n,dr(d*s))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){let{ex:r,ey:n,ez:i}=this,{ex:s,ey:o,ez:a}=_Y(e),u=dr(r*a),f=dr(s*i),d=dr(n*a),g=dr(o*i);return u===f&&d===g}is0(){return this.equals(u3)}negate(){return new g1(dr(-this.ex),this.ey,this.ez,dr(-this.et))}double(){let{ex:e,ey:r,ez:n}=this,{a:i}=ak,s=dr(e*e),o=dr(r*r),a=dr(2n*dr(n*n)),u=dr(i*s),f=e+r,d=dr(dr(f*f)-s-o),g=u+o,y=g-a,b=u-o,A=dr(d*y),x=dr(g*b),k=dr(d*b),R=dr(y*g);return new g1(A,x,R,k)}add(e){let{ex:r,ey:n,ez:i,et:s}=this,{ex:o,ey:a,ez:u,et:f}=_Y(e),{a:d,d:g}=ak,y=dr(r*o),b=dr(n*a),A=dr(s*g*f),x=dr(i*u),k=dr((r+n)*(o+a)-y-b),R=dr(x-A),C=dr(x+A),P=dr(b-d*y),O=dr(k*R),q=dr(C*P),Q=dr(k*P),Y=dr(R*C);return new g1(O,q,Y,Q)}mul(e,r=!0){if(e===0n)return r===!0?da("cannot multiply by 0"):u3;if(typeof e=="bigint"&&0n<e&&e<eA||da("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(Am))return QFe(e).p;let n=u3,i=Am;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?n=n.add(s):r&&(i=i.add(s));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(ak.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(eA/2n,!1).double();return eA%2n&&(e=e.add(this)),e.is0()}toAffine(){let{ex:e,ey:r,ez:n}=this;if(this.is0())return{x:0n,y:0n};let i=nae(n);return dr(n*i)!==1n&&da("invalid inverse"),{x:dr(e*i),y:dr(r*i)}}toRawBytes(){let{x:e,y:r}=this.toAffine(),n=tae(r);return n[31]|=e&1n?128:0,n}toHex(){return x7(this.toRawBytes())}};Hv.BASE=new Hv(wY,SY,1n,dr(wY*SY));Hv.ZERO=new Hv(0n,1n,1n,0n);var{BASE:Am,ZERO:u3}=Hv,eae=(t,e)=>t.toString(16).padStart(e,"0"),x7=t=>Array.from(t).map(e=>eae(e,2)).join(""),E7=t=>{let e=t.length;(!Joe(t)||e%2)&&da("hex invalid 1");let r=jv(e/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);(Number.isNaN(o)||o<0)&&da("hex invalid 2"),r[n]=o}return r},tae=t=>E7(eae(t,32*2)).reverse(),rae=t=>BigInt("0x"+x7(jv(F6(t)).reverse())),ET=(...t)=>{let e=jv(t.reduce((n,i)=>n+F6(i).length,0)),r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e},nae=(t,e=qo)=>{(t===0n||e<=0n)&&da("no inverse n="+t+" mod="+e);let r=dr(t,e),n=e,i=0n,s=1n;for(;r!==0n;){let o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}return n===1n?dr(i,e):da("no inverse")},Kl=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=qo;return r},jFe=t=>{let e=t*t%qo*t%qo,r=Kl(e,2n)*e%qo,n=Kl(r,1n)*t%qo,i=Kl(n,5n)*n%qo,s=Kl(i,10n)*i%qo,o=Kl(s,20n)*s%qo,a=Kl(o,40n)*o%qo,u=Kl(a,80n)*a%qo,f=Kl(u,80n)*a%qo,d=Kl(f,10n)*i%qo;return{pow_p_5_8:Kl(d,2n)*t%qo,b2:e}},xY=19681161376707505956807079304988542015446066515923890162744021073123829784752n,HFe=(t,e)=>{let r=dr(e*e*e),n=dr(r*r*e),i=jFe(t*n).pow_p_5_8,s=dr(t*r*i),o=dr(e*s*s),a=s,u=dr(s*xY),f=o===t,d=o===dr(-t),g=o===dr(-t*xY);return f&&(s=a),(d||g)&&(s=u),(dr(s)&1n)===1n&&(s=dr(-s)),{isValid:f||d,value:s}},FO=t=>dr(rae(t),eA),tA,k7=(...t)=>I7.sha512Async(...t),iae=(...t)=>typeof tA=="function"?tA(...t):da("etc.sha512Sync not set"),sae=t=>{let e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;let r=t.slice(32,64),n=FO(e),i=Am.mul(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}},T7=t=>k7($6(t,32)).then(sae),qFe=t=>sae(iae($6(t,32))),VFe=t=>T7(t).then(e=>e.pointBytes);function GFe(t,e){return t?k7(e.hashable).then(e.finish):e.finish(iae(e.hashable))}var YFe=(t,e,r)=>{let{pointBytes:n,scalar:i}=t,s=FO(e),o=Am.mul(s).toRawBytes();return{hashable:ET(o,n,r),finish:a=>{let u=dr(s+FO(a)*i,eA);return F6(ET(o,tae(u)),64)}}},ZFe=async(t,e)=>{let r=$6(t),n=await T7(e),i=await k7(n.prefix,r);return GFe(!0,YFe(n,i,r))},EY=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,I7={bytesToHex:x7,hexToBytes:E7,concatBytes:ET,mod:dr,invert:nae,randomBytes:t=>{let e=EY();return e||da("crypto.getRandomValues must be defined"),e.getRandomValues(jv(t))},sha512Async:async(...t)=>{let e=EY();e||da("crypto.subtle or etc.sha512Async must be defined");let r=ET(...t);return jv(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(I7,{sha512Sync:{configurable:!1,get(){return tA},set(t){tA||(tA=t)}}});var oae={getExtendedPublicKeyAsync:T7,getExtendedPublicKey:qFe,randomPrivateKey:()=>I7.randomBytes(32),precompute(t=8,e=Am){return e.multiply(3n),e}},g0=8,XFe=()=>{let t=[],e=256/g0+1,r=Am,n=r;for(let i=0;i<e;i++){n=r,t.push(n);for(let s=1;s<2**(g0-1);s++)n=n.add(r),t.push(n);r=n.double()}return t},QFe=t=>{let e=AY||(AY=XFe()),r=(d,g)=>{let y=g.negate();return d?y:g},n=u3,i=Am,s=1+256/g0,o=2**(g0-1),a=BigInt(2**g0-1),u=2**g0,f=BigInt(g0);for(let d=0;d<s;d++){let g=d*o,y=Number(t&a);t>>=f,y>o&&(y-=u,t+=1n);let b=g,A=g+Math.abs(y)-1,x=d%2!==0,k=y<0;y===0?i=i.add(r(x,e[b])):n=n.add(r(k,e[A]))}return{p:n,f:i}},kT=class aae{static generateKey(){let e,r;do e=oae.randomPrivateKey(),r=(0,PP.encode)(e);while(r.length!==44);return new aae(r)}constructor(e){this.secretKey=e;let r=(0,PP.decode)(e);this.privateKey=A7.Buffer.from(r).toString("hex")}async sign(e){return await ZFe(e,this.privateKey)}async getPublicKey(){let e=await VFe(this.privateKey);return`ed25519:${(0,PP.encode)(e)}`}toString(){return this.privateKey}},JFe=class{constructor(t="testnet"){this.networkId=t}get keyPrefix(){return`orderly_${this.networkId}_`}},e$e=class extends JFe{getOrderlyKey(e){let r;if(e)r=this.getItem(e,"orderlyKey");else{let n=this.getAddress();if(!n)return null;r=this.getItem(n,"orderlyKey")}return r?new kT(r):null}getAccountId(e){return this.getItem(e,"accountId")}setAccountId(e,r){this.setItem(e,{accountId:r})}getAddress(){return localStorage.getItem(`${this.keyPrefix}address`)}setAddress(e){localStorage.setItem(`${this.keyPrefix}address`,e)}removeAddress(){localStorage.removeItem(`${this.keyPrefix}address`)}generateKey(){return kT.generateKey()}setKey(e,r){this.setItem(e,{orderlyKey:r.secretKey})}cleanAllKey(e){localStorage.removeItem(`${this.keyPrefix}${e}`),localStorage.removeItem(`${this.keyPrefix}address`)}cleanKey(e,r){let n=this.getItem(e);delete n[r],localStorage.setItem(`${this.keyPrefix}${e}`,JSON.stringify(n))}setItem(e,r){let n=`${this.keyPrefix}${e}`,i=localStorage.getItem(n);i?i=JSON.parse(i):i={},localStorage.setItem(n,JSON.stringify({...i,...r}))}getItem(e,r){let n=`${this.keyPrefix}${e}`,i=localStorage.getItem(n);return i?i=JSON.parse(i):i={},typeof r>"u"?i:i[r]}};ki();var t$e={};FFe(t$e,{base64url:()=>uae,calculateStringHash:()=>R7,formatByUnits:()=>UO,getGlobalObject:()=>U6,getTimestamp:()=>pc,isHex:()=>TT,isHexString:()=>r$e,parseAccountId:()=>cae,parseBrokerHash:()=>BA,parseTokenHash:()=>$O,parseUnits:()=>M9});ki();var uae=function(t){return t.replace(/\+/g,"-").replace(/\//g,"_")};function BA(t){return R7(t)}function cae(t,e){let r=yl.defaultAbiCoder();return Vi(r.encode(["address","bytes32"],[t,BA(e)]))}function $O(t){return R7(t)}function R7(t){return eg(["string"],[t])}function UO(t,e="ether"){return R9(t,e)}function TT(t){return/^[a-f0-9]+$/iu.test(t)}function r$e(t){return typeof t=="string"&&t.startsWith("0x")&&TT(t)}var U6=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof DO<"u")return DO;throw new Error("cannot find the global object")},pc=()=>{var t;if(typeof window<"u"){let e=(t=U6())==null?void 0:t.__ORDERLY_timestamp_offset;if(typeof e=="number")return Date.now()+(e||0)}return Date.now()},kY=NA(Xoe()),n$e=class{constructor(e){this.keyStore=e}async sign(e,r=pc()){let n=r.toString(),i=[n,e.method.toUpperCase(),e.url].join("");e.data&&Object.keys(e.data).length&&(i+=JSON.stringify(e.data));let{signature:s,publicKey:o}=await this.signText(i);return{"orderly-key":o,"orderly-timestamp":n,"orderly-signature":s}}async signText(e){let r=this.keyStore.getOrderlyKey();if(!r)throw new Error("orderlyKeyPair is not defined");let n=kY.Buffer.from(e),i=await r.sign(n),s=kY.Buffer.from(i).toString("base64");return{signature:uae(s),publicKey:await r.getPublicKey()}}};ki();ki();ki();var i$e="0xfd064A18f3BF249cf1f87FC203E90D8f650f2d63",s$e="0x0EaC556c0C2321BA25b9DC01e4e3c95aD5CDCd2f",o$e="0x1826B75e2ef249173FC735149AE4B8e9ea10abff",a$e="0xaf88d065e77c8cC2239327C5EDb3A432268e5831",u$e="0x816f722424B49Cf1275cc86DA9840Fbd5a6167e9",c$e="0x6F7a338F2aA472838dEFD3283eB360d4Dff5D203",l$e="ErBmAD61mGFKvrFNaTJuxoPwqrS8GgtwtqJTJVjFWx9Q",f$e="9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2",d$e="5zBjLor7vEraAt4zp2H82sy9MSqFoDnNa1Lx6EYKTYRZ",h$e="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",p$e="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",_s={statusChanged:"change:status",validateStart:"validate:start",validateEnd:"validate:end",switchAccount:"switch:account"},g$e="0x65B99E978d1eeE9CfEdfD463EC7A81317e5A5073",m$e="0x9442e24203e999db4aE87E35Dc0c8F3C610c29A0",y$e="0x77F77926C6596c78f285D230Cd0dC8dC3540e3a6",b$e="0xdd6E018D747D70C705BA84B67B6eAD7748a57cDa",TY=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],v$e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccountIdInvalid",type:"error"},{inputs:[],name:"AddressZero",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"BalanceNotEnough",type:"error"},{inputs:[],name:"BrokerNotAllowed",type:"error"},{inputs:[],name:"EnumerableSetError",type:"error"},{inputs:[],name:"OnlyCrossChainManagerCanCall",type:"error"},{inputs:[],name:"TokenNotAllowed",type:"error"},{inputs:[],name:"ZeroDepositFee",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDepositTo",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"uint64",name:"withdrawNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"brokerHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"},{indexed:!1,internalType:"uint128",name:"fee",type:"uint128"}],name:"AccountWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldAddress",type:"address"},{indexed:!1,internalType:"address",name:"newAddress",type:"address"}],name:"ChangeCrossChainManager",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"_tokenAddress",type:"address"}],name:"ChangeTokenAddressAndAllow",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedBroker",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"address",name:"_tokenAddress",type:"address"}],name:"changeTokenAddressAndAllow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"crossChainManagerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"depositFeeEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"emergencyPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyUnpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"enableDepositFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllAllowedBroker",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllAllowedToken",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"}],name:"getAllowedBroker",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"}],name:"getAllowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"getDepositFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"messageTransmitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstDomain",type:"uint32"},{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"address",name:"dstVaultAddress",type:"address"}],internalType:"struct RebalanceTypes.RebalanceBurnCCData",name:"data",type:"tuple"}],name:"rebalanceBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"bytes",name:"messageBytes",type:"bytes"},{internalType:"bytes",name:"messageSignature",type:"bytes"}],internalType:"struct RebalanceTypes.RebalanceMintCCData",name:"data",type:"tuple"}],name:"rebalanceMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedBroker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_crossChainManagerAddress",type:"address"}],name:"setCrossChainManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rebalanceMessengerContract",type:"address"}],name:"setRebalanceMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenMessengerContract",type:"address"}],name:"setTokenMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenMessengerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"},{internalType:"uint128",name:"fee",type:"uint128"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint64",name:"withdrawNonce",type:"uint64"}],internalType:"struct VaultTypes.VaultWithdraw",name:"data",type:"tuple"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],IY=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint8",name:"decimals_",type:"uint8"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"issue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"pauseTransfers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],w$e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AccountIdInvalid",type:"error"},{inputs:[],name:"AddressZero",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"BalanceNotEnough",type:"error"},{inputs:[],name:"BrokerNotAllowed",type:"error"},{inputs:[],name:"EnumerableSetError",type:"error"},{inputs:[],name:"OnlyCrossChainManagerCanCall",type:"error"},{inputs:[],name:"TokenNotAllowed",type:"error"},{inputs:[],name:"ZeroDepositFee",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!0,internalType:"uint64",name:"depositNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"}],name:"AccountDepositTo",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"accountId",type:"bytes32"},{indexed:!0,internalType:"uint64",name:"withdrawNonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"brokerHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"bytes32",name:"tokenHash",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"tokenAmount",type:"uint128"},{indexed:!1,internalType:"uint128",name:"fee",type:"uint128"}],name:"AccountWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldAddress",type:"address"},{indexed:!1,internalType:"address",name:"newAddress",type:"address"}],name:"ChangeCrossChainManager",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"address",name:"_tokenAddress",type:"address"}],name:"ChangeTokenAddressAndAllow",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedBroker",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"_allowed",type:"bool"}],name:"SetAllowedToken",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"address",name:"_tokenAddress",type:"address"}],name:"changeTokenAddressAndAllow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"crossChainManagerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"depositFeeEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"emergencyPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyUnpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"enableDepositFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllAllowedBroker",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllAllowedToken",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"}],name:"getAllowedBroker",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"}],name:"getAllowedToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"}],internalType:"struct VaultTypes.VaultDepositFE",name:"data",type:"tuple"}],name:"getDepositFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"messageTransmitterContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint32",name:"dstDomain",type:"uint32"},{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"address",name:"dstVaultAddress",type:"address"}],internalType:"struct RebalanceTypes.RebalanceBurnCCData",name:"data",type:"tuple"}],name:"rebalanceBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"rebalanceId",type:"uint64"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint256",name:"burnChainId",type:"uint256"},{internalType:"uint256",name:"mintChainId",type:"uint256"},{internalType:"bytes",name:"messageBytes",type:"bytes"},{internalType:"bytes",name:"messageSignature",type:"bytes"}],internalType:"struct RebalanceTypes.RebalanceMintCCData",name:"data",type:"tuple"}],name:"rebalanceMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_brokerHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedBroker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_tokenHash",type:"bytes32"},{internalType:"bool",name:"_allowed",type:"bool"}],name:"setAllowedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_crossChainManagerAddress",type:"address"}],name:"setCrossChainManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rebalanceMessengerContract",type:"address"}],name:"setRebalanceMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenMessengerContract",type:"address"}],name:"setTokenMessengerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenMessengerContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"accountId",type:"bytes32"},{internalType:"bytes32",name:"brokerHash",type:"bytes32"},{internalType:"bytes32",name:"tokenHash",type:"bytes32"},{internalType:"uint128",name:"tokenAmount",type:"uint128"},{internalType:"uint128",name:"fee",type:"uint128"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"receiver",type:"address"},{internalType:"uint64",name:"withdrawNonce",type:"uint64"}],internalType:"struct VaultTypes.VaultWithdraw",name:"data",type:"tuple"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],S$e=class{constructor(e){this.configStore=e}getContractInfoByEnv(){let e=this.configStore.get("networkId"),r=this.configStore.get("env"),n=o$e;if(e==="mainnet")return{usdcAddress:a$e,usdcAbi:TY,vaultAddress:u$e,vaultAbi:v$e,verifyContractAddress:c$e,erc20Abi:TY,solanaUSDCAddress:p$e,solanaVaultAddress:l$e};let i=f$e,s=g$e,o=m$e,a=y$e;return r==="qa"&&(i=d$e,n="0x50F59504D3623Ad99302835da367676d1f7E3D44",s="0xFeA61647309cA4624EfF3c86EEEeb76a6F3eaFf7",o=b$e),{usdcAddress:i$e,usdcAbi:IY,vaultAddress:s$e,solanaVaultAddress:i,solanaUSDCAddress:h$e,vaultAbi:w$e,verifyContractAddress:n,erc20Abi:IY,storyTestnetVaultAddress:s,monadTestnetVaultAddress:o,monadTestnetUSDCAddress:a}}};ki();ki();var _$e=class{constructor(t=[],e={}){this.providers=t,this.services=e,this.injectProperties={}}register(...t){this.providers.push(...t),t.forEach(e=>{let r=e;r instanceof Function&&(r=new e),this.add(r)})}registerByName(t,e){let r=e;r instanceof Function&&(r=new e),this.addByName(t,r)}get(t){return this.services[t]}getAll(){return Object.assign({},this.services)}add(t){return this.addByName(t.constructor.name,t)}addByName(t,e){return this.services[t]=e,this.services[t.toLowerCase()]=e,this.injectIntoProperties(e,t),this.get(t)}inject(t,e,r){t&&r&&(t[e]=r)}injectIntoProperties(t,e=t.constructor.name){this.getInjectProperty(e.toLowerCase()).forEach(r=>{this.inject(r.target,r.propertyKey,t)})}getInjectProperty(t){return this.injectProperties[t]||(this.injectProperties[t]=[]),this.injectProperties[t]}},A$e=_$e,c3=class jc{static getContainer(){return jc.container||(U6()[jc.KEY]=jc.container=new A$e),jc.container}static register(...e){jc.getContainer().register(...e)}static registerByName(e,r){jc.getContainer().registerByName(e,r)}static get(e){return jc.getContainer().get(e)}static getOr(e,r){return jc.getContainer().get(e)||jc.registerByName(e,r),r}static getAll(){return jc.getContainer().getAll()}constructor(){}};c3.KEY="__ORDERLY_CONTAINER__",c3.container=U6()[c3.KEY]||null;var lae=c3,Ro=lae;ki();ki();var x$e=class{constructor(e,r,n){this.configStore=e,this.contractManger=r,this.account=n}async withdraw(e){if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");if(!this.account.stateValue.address)throw new Error("account address is required");let{chainId:r,token:n,allowCrossChainWithdraw:i}=e,{amount:s}=e;typeof s=="number"&&(s=s.toString());let o="/v1/withdraw_request",a=await this.getWithdrawalNonce(),u=pc(),{message:f,signatured:d,domain:g}=await this.account.walletAdapter.generateWithdrawMessage({receiver:this.account.stateValue.address,token:n,brokerId:this.configStore.get("brokerId"),amount:this.account.walletAdapter.parseUnits(s),nonce:a,timestamp:u,verifyContract:this.contractManger.getContractInfoByEnv().verifyContractAddress}),y={signature:d,message:f,userAddress:this.account.stateValue.address,verifyingContract:g.verifyingContract},b={method:"POST",url:o,data:y};i&&(y.message={...y.message,allowCrossChainWithdraw:i});let A=await this.account.signer.sign(b,pc()),x=await this._simpleFetch(o,{method:"POST",body:JSON.stringify(y),headers:{"Content-Type":"application/json","orderly-account-id":this.account.stateValue.accountId,...A}});if(!x.success)throw new XCe(x.message,x.code);return x}async getWithdrawalNonce(){var u;let e=pc().toString(),r="/v1/withdraw_nonce",n=[e,"GET",r].join(""),i=this.account.signer,{publicKey:s,signature:o}=await i.signText(n),a=await this._simpleFetch(r,{headers:{"orderly-account-id":this.account.stateValue.accountId,"orderly-key":s,"orderly-timestamp":e,"orderly-signature":o}});if(a.success)return(u=a.data)==null?void 0:u.withdraw_nonce;throw new Error(a.message)}async getNativeBalance(e){if(!this.account.walletAdapter)return"0";let r=await this.account.walletAdapter.getBalance();return UO(r,e==null?void 0:e.decimals)}async getBalance(e,r){var s,o;if(!this.account.walletAdapter)return"0";let n=this.contractManger.getContractInfoByEnv(),i=await((s=this.account.walletAdapter)==null?void 0:s.call(e??n.usdcAddress,"balanceOf",[this.account.stateValue.address],{abi:n.usdcAbi}));return(o=this.account.walletAdapter)==null?void 0:o.formatUnits(i,r==null?void 0:r.decimals)}async getBalanceByAddress(e,r){var s;if(!this.account.walletAdapter)return"0";let n=this.contractManger.getContractInfoByEnv(),i=await((s=this.account.walletAdapter)==null?void 0:s.call(e,"balanceOf",[this.account.stateValue.address],{abi:n.erc20Abi}));return UO(i,r==null?void 0:r.decimals)}async getAllowance(e,r){var d,g;let{address:n,vaultAddress:i,decimals:s}=typeof e=="object"?e:{address:e,vaultAddress:r,decimals:void 0};if(!this.account.walletAdapter)return"0";let o=this.contractManger.getContractInfoByEnv(),a=i??o.vaultAddress,u=n;this.account.walletAdapter.chainId===b_&&(a=o.storyTestnetVaultAddress??""),this.account.walletAdapter.chainId===V1&&(a=o.monadTestnetVaultAddress??"",u=o.monadTestnetUSDCAddress);let f=await((d=this.account.walletAdapter)==null?void 0:d.call(u??"","allowance",[this.account.stateValue.address,a],{abi:o.usdcAbi}));return(g=this.account.walletAdapter)==null?void 0:g.formatUnits(f,s)}async approve(e,r,n){var y;let{address:i,amount:s,vaultAddress:o,decimals:a}=typeof e=="object"?e:{address:e,amount:r,vaultAddress:n,decimals:void 0};if(!i)throw new Error("address is required");if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let u=this.contractManger.getContractInfoByEnv(),f=typeof s<"u"&&s!==""?this.account.walletAdapter.parseUnits(s,a):eT.toString(),d=o||u.vaultAddress,g=i;return this.account.walletAdapter.chainId===b_&&(d=u.storyTestnetVaultAddress??""),this.account.walletAdapter.chainId===V1&&(d=u.monadTestnetVaultAddress??"",g=u.monadTestnetUSDCAddress??""),await((y=this.account.walletAdapter)==null?void 0:y.call(g,"approve",[d,f],{abi:u.usdcAbi}))}async approveByAddress(e){var a;let{address:r,amount:n,decimals:i}=e;if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let s=typeof n<"u"&&n!==""?this.account.walletAdapter.parseUnits(n,i):eT.toString(),o=this.contractManger.getContractInfoByEnv();return await((a=this.account.walletAdapter)==null?void 0:a.call(r,"approve",[o.vaultAddress,s],{abi:o.erc20Abi}))}async getDepositFee(e,r){var a;if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let n=this.configStore.get("brokerId");if(!n)throw new Error("[Assets]:brokerId is required");let i={accountId:this.account.accountIdHashStr,brokerHash:BA(n),tokenHash:$O("USDC"),tokenAmount:(a=this.account.walletAdapter)==null?void 0:a.parseUnits(e)},s=this.contractManger.getContractInfoByEnv(),o=s.vaultAddress;return this.account.walletAdapter.chainNamespace===gl.solana&&(o=s.solanaVaultAddress,i.USDCAddress=s.solanaUSDCAddress),r.chain_id===b_&&(o=s.storyTestnetVaultAddress??""),r.chain_id===V1&&(o=s.monadTestnetVaultAddress??""),await this.account.walletAdapter.callOnChain(r,o,"getDepositFee",[this.account.stateValue.address,i],{abi:s.vaultAbi})}async deposit(e,r=0n){var a,u;if(!this.account.walletAdapter)throw new Error("walletAdapter is undefined");let n=this.configStore.get("brokerId");if(!n)throw new Error("[Assets]:brokerId is required");let i=this.contractManger.getContractInfoByEnv(),s={accountId:this.account.accountIdHashStr,brokerHash:BA(n),tokenHash:$O("USDC"),tokenAmount:(a=this.account.walletAdapter)==null?void 0:a.parseUnits(e)},o=i.vaultAddress;return this.account.walletAdapter.chainNamespace===gl.solana&&(o=i.solanaVaultAddress,s.USDCAddress=i.solanaUSDCAddress),this.account.walletAdapter.chainId===b_&&(o=i.storyTestnetVaultAddress??""),this.account.walletAdapter.chainId===V1&&(o=i.monadTestnetVaultAddress??""),await((u=this.account.walletAdapter)==null?void 0:u.sendTransaction(o,"deposit",{from:this.account.stateValue.address,to:o,data:[s],value:r},{abi:i.vaultAbi}))}async _simpleFetch(e,r={}){let n=`${this.configStore.get("apiBaseUrl")}${e}`;return fetch(n,r).then(i=>i.json())}get usdcAddress(){return this.contractManger.getContractInfoByEnv().usdcAddress}};ki();var E$e=class{constructor(e){if(this.walletAdapters=e,!this.walletAdapters.length)throw new Error("No wallet adapters provided")}get adapter(){return this._adapter}get isEmpty(){return this.walletAdapters.length===0}get isAdapterExist(){return!!this._adapter}switchWallet(e,r,n,i){console.log("-- this.walletAdapters",this.walletAdapters,e);let s=this.walletAdapters.find(a=>a.chainNamespace===e.toUpperCase());if(!s)throw new Error("Unsupported chain namespace");let o={address:r,chain:{id:n},provider:i.provider,contractManager:i.contractManager};if(console.log("------+++++---",o),this._adapter)if(this._adapter===s){this._adapter.update(o);return}else this._adapter.deactivate();this._adapter=s,this._adapter.active(o)}get chainId(){var e;return(e=this.adapter)==null?void 0:e.chainId}},Rb=class{constructor(e,r,n,i){this.configStore=e,this.keyStore=r,this._ee=new x6,this._state={status:Wn.NotConnected,validating:!1,isNew:!1},i!=null&&i.contracts?this.contractManger=i.contracts:this.contractManger=new S$e(e),this.assetsManager=new x$e(e,this.contractManger,this),this.walletAdapterManager=new E$e(n),this._bindEvents()}logout(){}async setAddress(e,r){var s,o;if(!e)throw new ar("Address is required");if(!r)throw new ar("Wallet is required");if(!((s=r==null?void 0:r.chain)!=null&&s.id))throw new ar("Chain id is required");if(this.stateValue.address===e)return console.warn("address parameter is the same as the current address, if you want to change chain, please use `switchChain` method."),this.stateValue.status;this.stateValue.status>Wn.NotConnected&&this._ee.emit(_s.switchAccount,e),r.chain.id=this.parseChainId((o=r==null?void 0:r.chain)==null?void 0:o.id),this.keyStore.setAddress(e);let n={...this.stateValue,status:Wn.Connected,address:e,chainNamespace:r.chain.namespace,accountId:void 0,connectWallet:{name:r.wallet.name||"unknown",chainId:r.chain.id},validating:!0};this._ee.emit(_s.statusChanged,n),this.walletAdapterManager.switchWallet(r.chain.namespace,e,r.chain.id,{provider:r.provider,contractManager:this.contractManger}),this.configStore.set("chainNamespace",r.chain.namespace),this._ee.emit(_s.validateStart);let i=await this._checkAccount(e);return this._ee.emit(_s.validateEnd,i),i}get stateValue(){return this._state}get accountId(){return this.stateValue.accountId}get accountIdHashStr(){var r;if(!this.address)throw new Error("address is error");let e=this.configStore.get("brokerId");if(((r=this.walletAdapter)==null?void 0:r.chainNamespace)===gl.solana){let n=new Tt(this.address),i=A7.Buffer.from(n.toBytes()),s=yl.defaultAbiCoder();return Vi(s.encode(["bytes32","bytes32"],[i,BA(e)]))}return cae(this.address,e)}get address(){return this.stateValue.address}get chainId(){if(this.walletAdapterManager.isAdapterExist)return this.walletAdapterManager.chainId}get apiBaseUrl(){return this.configStore.get("apiBaseUrl")}_bindEvents(){this._ee.addListener(_s.statusChanged,e=>{this._state=e})}async _checkAccount(e){let r;try{let n=await this._checkAccountExist(e);if(n&&n.account_id)this.keyStore.setAccountId(e,n.account_id),r={...this.stateValue,status:Wn.SignedIn,accountId:n.account_id,userId:n.user_id},this._ee.emit(_s.statusChanged,r);else return r={...this.stateValue,validating:!1,status:Wn.NotSignedIn},this._ee.emit(_s.statusChanged,r),Wn.NotSignedIn;let i=this.keyStore.getOrderlyKey();if(!i)return this._ee.emit(_s.statusChanged,{...this.stateValue,isNew:!1,validating:!1,status:Wn.DisabledTrading}),Wn.DisabledTrading;let s=await i.getPublicKey(),o=await this._checkOrderlyKeyState(n.account_id,s);if(o&&o.orderly_key&&o.key_status==="ACTIVE"){let a=pc(),u=o.expiration;return a>u?(this._ee.emit(_s.statusChanged,{...this.stateValue,validating:!1}),this.keyStore.cleanKey(e,"orderlyKey"),Wn.DisabledTrading):(this._ee.emit(_s.statusChanged,{...this.stateValue,validating:!1,status:Wn.EnableTrading}),Wn.EnableTrading)}return this._ee.emit(_s.statusChanged,{...this.stateValue,validating:!1}),this.keyStore.cleanKey(e,"orderlyKey"),Wn.NotConnected}catch{this._ee.emit(_s.statusChanged,{...this.stateValue,validating:!1})}return Wn.NotSignedIn}async _checkAccountExist(e,r){let n=await this._getAccountInfo(e,r);return n.success?n.data:null}async createAccount(){let{nonce:e,timestamp:r}=await this._getRegisterationNonce(),n=this.stateValue.address;if(!n)throw new Error("address is undefined");let{message:i,signatured:s}=await this.walletAdapterManager.adapter.generateRegisterAccountMessage({registrationNonce:e,brokerId:this.configStore.get("brokerId"),timestamp:r}),o=await this._simpleFetch("/v1/register_account",{method:"POST",body:JSON.stringify({signature:s,message:i,userAddress:n}),headers:{"Content-Type":"application/json"}});if(o.success){this.keyStore.setAccountId(n,o.data.account_id);let a={...this.stateValue,status:Wn.DisabledTrading,accountId:o.data.account_id,userId:o.data.user_id,isNew:!0};return this._ee.emit(_s.statusChanged,a),o}else throw new Error(o.message)}async createApiKey(e,r){var n;try{let{res:i,keyPair:s}=await this.generateApiKey(e,r);if(i.success)return{key:(await s.getPublicKey()).replace("ed25519:",""),secretKey:(n=s.secretKey)==null?void 0:n.replace("ed25519:","")}}catch(i){throw console.log("createApiKey error",i),`${i}`.includes("user rejected action")?new Error("User rejected the request."):i}throw new Error("create api key failed")}async createOrderlyKey(e,r){let{res:n,address:i,keyPair:s}=await this.generateApiKey(e,r);if(n.success){this.keyStore.setKey(i,s);let o={...this.stateValue,status:Wn.EnableTrading};return this._ee.emit(_s.statusChanged,o),n}else throw new Error(n.message)}async generateApiKey(e,r){if(this.stateValue.accountId===void 0)throw new Error("account id is undefined");if(!this.walletAdapter)throw new Error("walletAdapter is undefined");if(!this.walletAdapterManager.isAdapterExist)throw new Error("wallet adapter is not exist");if(typeof e!="number")throw new Error("the 'expiration' must be valid number");let n=this.walletAdapter.generateSecretKey(),i=new kT(n),s=await i.getPublicKey(),o=this.stateValue.address;if(!o)throw new Error("address is undefined");let{message:a,signatured:u}=await this.walletAdapter.generateAddOrderlyKeyMessage({brokerId:this.configStore.get("brokerId"),publicKey:s,expiration:e,timestamp:pc(),scope:r==null?void 0:r.scope,tag:r==null?void 0:r.tag});return console.log("generateAPiKey",s,o),{res:await this._simpleFetch("/v1/orderly_key",{method:"POST",body:JSON.stringify({signature:u,message:a,userAddress:o}),headers:{"X-Account-Id":this.stateValue.accountId,"Content-Type":"application/json"}}),address:o,keyPair:i}}async importOrderlyKey(e){var u;let{address:r,secretKey:n,chainNamespace:i}=e;if(!r||!n||!i)return;let s=(u=await this._checkAccountExist(r,i))==null?void 0:u.account_id;if(!s)return;let o=new kT(n),a=await this.checkOrderlyKey(r,o,s);return a&&this.configStore.set("chainNamespace",i),a}async checkOrderlyKey(e,r,n){if(!e||!r||!n)return;let i=await r.getPublicKey(),s=await this._checkOrderlyKeyState(n,i),{orderly_key:o,key_status:a,expiration:u}=s||{},f=pc();if(o&&a==="ACTIVE"&&u>f){this.keyStore.setAddress(e),this.keyStore.setKey(e,r),this.keyStore.setAccountId(e,n);let d={...this.stateValue,address:e,accountId:n,status:Wn.EnableTradingWithoutConnected};return this._ee.emit(_s.statusChanged,d),!0}}async settle(){if(!this.walletAdapter)return Promise.reject("walletAdapter is undefined");let e=await this._getSettleNonce(),r=this.stateValue.address,n="/v1/settle_pnl",i=pc(),{message:s,signatured:o,domain:a}=await this.walletAdapter.generateSettleMessage({settlePnlNonce:e,timestamp:i,brokerId:this.configStore.get("brokerId"),verifyContract:this.contractManger.getContractInfoByEnv().verifyContractAddress}),u={signature:o,message:s,userAddress:r,verifyingContract:a.verifyingContract},f={method:"POST",url:n,data:u},d=await this.signer.sign(f,pc()),g=await this._simpleFetch(n,{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json","orderly-account-id":this.stateValue.accountId,...d}});return g.success?Promise.resolve(g):Promise.reject(g)}async destroyOrderlyKey(){this.stateValue.address&&this.keyStore.cleanKey(this.stateValue.address,"orderlyKey");let e={...this.stateValue,status:Wn.DisabledTrading};this._ee.emit(_s.statusChanged,e)}async disconnect(){this.stateValue.address&&this.keyStore.removeAddress();let e={...this.stateValue,status:Wn.NotConnected,accountId:void 0,userId:void 0,address:void 0};this._ee.emit(_s.statusChanged,e)}switchChainId(e){e=this.parseChainId(e);let r={...this.stateValue,connectWallet:{...this.stateValue.connectWallet,chainId:e}};this.walletAdapter&&(this.walletAdapter.chainId=e),this._ee.emit(_s.statusChanged,r)}parseChainId(e){return typeof e=="string"&&(TT(e)||e.startsWith("0x")&&TT(e.slice(2)))&&(e=parseInt(e,16)),e}async _checkOrderlyKeyState(e,r){let n=await this._simpleFetch(`/v1/get_orderly_key?account_id=${e}&orderly_key=${r}`);return n.success?n.data:null}get signer(){return this._singer||(this._singer=new n$e(this.keyStore)),this._singer}get walletAdapter(){return this.walletAdapterManager.adapter}async _getRegisterationNonce(){var r;let e=await this._simpleFetch("/v1/registration_nonce",{headers:{"orderly-account-id":this.stateValue.accountId}});if(e.success)return{nonce:(r=e.data)==null?void 0:r.registration_nonce,timestamp:e.timestamp};throw new Error(e.message)}async _getTimestampFromServer(){let e=await this._getAccountInfo();if(e.success)return e.timestamp;throw new ar("get timestamp error")}async _getAccountInfo(e,r){let n=this.configStore.get("brokerId"),i=e||this.address,s=r||this.stateValue.chainNamespace;return await this._simpleFetch(`/v1/get_account?address=${i}&broker_id=${n}&chain_type=${s}`)}async _getSettleNonce(){var a;let e=pc().toString(),r=[e,"GET","/v1/settle_nonce"].join(""),n=this.signer,{publicKey:i,signature:s}=await n.signText(r),o=await this._simpleFetch("/v1/settle_nonce",{headers:{"orderly-account-id":this.stateValue.accountId,"orderly-key":i,"orderly-timestamp":e,"orderly-signature":s}});if(o.success)return(a=o.data)==null?void 0:a.settle_nonce;throw new Error(o.message)}async _simpleFetch(e,r={}){let n=`${this.configStore.get("apiBaseUrl")}${e}`;return fetch(n,r).then(i=>i.json())}get on(){return this._ee.on.bind(this._ee)}get once(){return this._ee.once.bind(this._ee)}get off(){return this._ee.off.bind(this._ee)}};Rb.instanceName="account";ki();ki();var k$e={mainnet:{apiBaseUrl:"https://api.orderly.org",publicWsUrl:"wss://ws-evm.orderly.org",privateWsUrl:"wss://ws-private-evm.orderly.org",operatorUrl:{EVM:"https://operator-evm.orderly.org",SOL:"https://operator-solana.orderly.org"}},testnet:{apiBaseUrl:"https://testnet-api.orderly.org",publicWsUrl:"wss://testnet-ws-evm.orderly.org",privateWsUrl:"wss://testnet-ws-private-evm.orderly.org",operatorUrl:{EVM:"https://testnet-operator-evm.orderly.org",SOL:"https://testnet-operator-sol.orderly.org"}}},T$e=class{constructor(t){let e=t.env||"prod",r=t.networkId||"mainnet",n=k$e[r],i=(t==null?void 0:t.brokerId)||"orderly",s=(t==null?void 0:t.brokerName)||"Orderly",o=(t==null?void 0:t.chainNamespace)||gl.evm;this.map=new Map([["env",e],["brokerId",i],["brokerName",s],["networkId",r],["chainNamespace",o],["apiBaseUrl",n.apiBaseUrl],["publicWsUrl",n.publicWsUrl],["privateWsUrl",n.privateWsUrl],["operatorUrl",n.operatorUrl]])}get(t){let e=this.map.get(t);return typeof e!="object"||e===null?e:e[this.get("chainNamespace")]}getOr(t,e){return this.map.get(t)??e}set(t,e){this.map.set(t,e)}clear(){throw new Error("Method not implemented.")}};ki();var I$e=NA(Qoe()),fae=class{async signMessageByOrderlyKey(e){let r=lae.get("account"),n=await r.signer.sign(e,pc());return n["orderly-account-id"]=r.accountId,n}get address(){throw new ar("Method not implemented.")}get chainId(){throw new ar("Method not implemented.")}active(e){throw new ar("Method not implemented.")}update(e){throw new ar("Method not implemented.")}generateSecretKey(){let e,r;do e=oae.randomPrivateKey(),r=(0,I$e.encode)(e);while(r.length!==44);return r}parseUnits(e,r=6){return M9(e,r).toString()}formatUnits(e,r=6){return R9(e,r)}on(e,r){throw new ar("Method not implemented.")}off(e,r){throw new ar("Method not implemented.")}};ki();ki();ki();/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/ed25519/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/var Ow=1e9,R$e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C7,zi=!0,_c="[DecimalError] ",lm=_c+"Invalid argument: ",M7=_c+"Exponent out of range: ",Lw=Math.floor,o0=Math.pow,M$e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ru,Qs=1e7,Ni=7,dae=9007199254740991,IT=Lw(dae/Ni),Xt={};Xt.absoluteValue=Xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xt.comparedTo=Xt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ni;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Xt.dividedBy=Xt.div=function(t){return vh(this,new this.constructor(t))};Xt.dividedToIntegerBy=Xt.idiv=function(t){var e=this,r=e.constructor;return hi(vh(e,new r(t),0,1),r.precision)};Xt.equals=Xt.eq=function(t){return!this.cmp(t)};Xt.exponent=function(){return Ms(this)};Xt.greaterThan=Xt.gt=function(t){return this.cmp(t)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(t){return this.cmp(t)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(t){return this.cmp(t)<0};Xt.lessThanOrEqualTo=Xt.lte=function(t){return this.cmp(t)<1};Xt.logarithm=Xt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ru))throw Error(_c+"NaN");if(r.s<1)throw Error(_c+(r.s?"NaN":"-Infinity"));return r.eq(Ru)?new n(0):(zi=!1,e=vh(OA(r,s),OA(t,s),s),zi=!0,hi(e,i))};Xt.minus=Xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gae(e,t):hae(e,(t.s=-t.s,t))};Xt.modulo=Xt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(_c+"NaN");return r.s?(zi=!1,e=vh(r,t,0,1).times(t),zi=!0,r.minus(e)):hi(new n(r),i)};Xt.naturalExponential=Xt.exp=function(){return pae(this)};Xt.naturalLogarithm=Xt.ln=function(){return OA(this)};Xt.negated=Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xt.plus=Xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hae(e,t):gae(e,(t.s=-t.s,t))};Xt.precision=Xt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(lm+t);if(e=Ms(i)+1,n=i.d.length-1,r=n*Ni+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Xt.squareRoot=Xt.sqrt=function(){var t,e,r,n,i,s,o,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(_c+"NaN")}for(t=Ms(a),zi=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Sf(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Lw((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(s=n,n=s.plus(vh(a,s,o+2)).times(.5),Sf(s.d).slice(0,o)===(e=Sf(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(hi(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(e!="9999")break;o+=4}return zi=!0,hi(n,r)};Xt.times=Xt.mul=function(t){var e,r,n,i,s,o,a,u,f,d=this,g=d.constructor,y=d.d,b=(t=new g(t)).d;if(!d.s||!t.s)return new g(0);for(t.s*=d.s,r=d.e+t.e,u=y.length,f=b.length,u<f&&(s=y,y=b,b=s,o=u,u=f,f=o),s=[],o=u+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(e=0,i=u+n;i>n;)a=s[i]+b[n]*y[i-n-1]+e,s[i--]=a%Qs|0,e=a/Qs|0;s[i]=(s[i]+e)%Qs|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,zi?hi(t,g.precision):t};Xt.toDecimalPlaces=Xt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:($f(t,0,Ow),e===void 0?e=n.rounding:$f(e,0,8),hi(r,t+Ms(r)+1,e))};Xt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=xm(n,!0):($f(t,0,Ow),e===void 0?e=i.rounding:$f(e,0,8),n=hi(new i(n),t+1,e),r=xm(n,!0,t+1)),r};Xt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?xm(i):($f(t,0,Ow),e===void 0?e=s.rounding:$f(e,0,8),n=hi(new s(i),t+Ms(i)+1,e),r=xm(n.abs(),!1,t+Ms(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xt.toInteger=Xt.toint=function(){var t=this,e=t.constructor;return hi(new e(t),Ms(t)+1,e.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(t){var e,r,n,i,s,o,a=this,u=a.constructor,f=12,d=+(t=new u(t));if(!t.s)return new u(Ru);if(a=new u(a),!a.s){if(t.s<1)throw Error(_c+"Infinity");return a}if(a.eq(Ru))return a;if(n=u.precision,t.eq(Ru))return hi(a,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=a.s,o){if((r=d<0?-d:d)<=dae){for(i=new u(Ru),e=Math.ceil(n/Ni+4),zi=!1;r%2&&(i=i.times(a),MY(i.d,e)),r=Lw(r/2),r!==0;)a=a.times(a),MY(a.d,e);return zi=!0,t.s<0?new u(Ru).div(i):hi(i,n)}}else if(s<0)throw Error(_c+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,zi=!1,i=t.times(OA(a,n+f)),zi=!0,i=pae(i),i.s=s,i};Xt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Ms(i),n=xm(i,r<=s.toExpNeg||r>=s.toExpPos)):($f(t,1,Ow),e===void 0?e=s.rounding:$f(e,0,8),i=hi(new s(i),t,e),r=Ms(i),n=xm(i,t<=r||r<=s.toExpNeg,t)),n};Xt.toSignificantDigits=Xt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):($f(t,1,Ow),e===void 0?e=n.rounding:$f(e,0,8)),hi(new n(r),t,e)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ms(t),r=t.constructor;return xm(t,e<=r.toExpNeg||e>=r.toExpPos)};function hae(t,e){var r,n,i,s,o,a,u,f,d=t.constructor,g=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),zi?hi(e,g):e;if(u=t.d,f=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(n=u,s=-s,a=f.length):(n=f,i=o,a=u.length),o=Math.ceil(g/Ni),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=u.length,s=f.length,a-s<0&&(s=a,n=f,f=u,u=n),r=0;s;)r=(u[--s]=u[s]+f[s]+r)/Qs|0,u[s]%=Qs;for(r&&(u.unshift(r),++i),a=u.length;u[--a]==0;)u.pop();return e.d=u,e.e=i,zi?hi(e,g):e}function $f(t,e,r){if(t!==~~t||t<e||t>r)throw Error(lm+t)}function Sf(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Ni-n.length,r&&(s+=Ap(r)),s+=n;o=t[e],n=o+"",r=Ni-n.length,r&&(s+=Ap(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var vh=function(){function t(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Qs|0,o=s/Qs|0;return o&&n.unshift(o),n}function e(n,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(n[a]!=i[a]){u=n[a]>i[a]?1:-1;break}return u}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Qs+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,u,f,d,g,y,b,A,x,k,R,C,P,O,q,Q,Y,X,Z=n.constructor,le=n.s==i.s?1:-1,I=n.d,c=i.d;if(!n.s)return new Z(n);if(!i.s)throw Error(_c+"Division by zero");for(u=n.e-i.e,Y=c.length,q=I.length,b=new Z(le),A=b.d=[],f=0;c[f]==(I[f]||0);)++f;if(c[f]>(I[f]||0)&&--u,s==null?C=s=Z.precision:o?C=s+(Ms(n)-Ms(i))+1:C=s,C<0)return new Z(0);if(C=C/Ni+2|0,f=0,Y==1)for(d=0,c=c[0],C++;(f<q||d)&&C--;f++)P=d*Qs+(I[f]||0),A[f]=P/c|0,d=P%c|0;else{for(d=Qs/(c[0]+1)|0,d>1&&(c=t(c,d),I=t(I,d),Y=c.length,q=I.length),O=Y,x=I.slice(0,Y),k=x.length;k<Y;)x[k++]=0;X=c.slice(),X.unshift(0),Q=c[0],c[1]>=Qs/2&&++Q;do d=0,a=e(c,x,Y,k),a<0?(R=x[0],Y!=k&&(R=R*Qs+(x[1]||0)),d=R/Q|0,d>1?(d>=Qs&&(d=Qs-1),g=t(c,d),y=g.length,k=x.length,a=e(g,x,y,k),a==1&&(d--,r(g,Y<y?X:c,y))):(d==0&&(a=d=1),g=c.slice()),y=g.length,y<k&&g.unshift(0),r(x,g,k),a==-1&&(k=x.length,a=e(c,x,Y,k),a<1&&(d++,r(x,Y<k?X:c,k))),k=x.length):a===0&&(d++,x=[0]),A[f++]=d,a&&x[0]?x[k++]=I[O]||0:(x=[I[O]],k=1);while((O++<q||x[0]!==void 0)&&C--)}return A[0]||A.shift(),b.e=u,hi(b,o?s+Ms(b)+1:s)}}();function pae(t,e){var r,n,i,s,o,a,u=0,f=0,d=t.constructor,g=d.precision;if(Ms(t)>16)throw Error(M7+Ms(t));if(!t.s)return new d(Ru);for(zi=!1,a=g,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(o0(2,f))/Math.LN10*2+5|0,a+=n,r=i=s=new d(Ru),d.precision=a;;){if(i=hi(i.times(t),a),r=r.times(++u),o=s.plus(vh(i,r,a)),Sf(o.d).slice(0,a)===Sf(s.d).slice(0,a)){for(;f--;)s=hi(s.times(s),a);return d.precision=g,e==null?(zi=!0,hi(s,g)):s}s=o}}function Ms(t){for(var e=t.e*Ni,r=t.d[0];r>=10;r/=10)e++;return e}function NP(t,e,r){if(e>t.LN10.sd())throw zi=!0,r&&(t.precision=r),Error(_c+"LN10 precision limit exceeded");return hi(new t(t.LN10),e)}function Ap(t){for(var e="";t--;)e+="0";return e}function OA(t,e){var r,n,i,s,o,a,u,f,d,g=1,y=10,b=t,A=b.d,x=b.constructor,k=x.precision;if(b.s<1)throw Error(_c+(b.s?"NaN":"-Infinity"));if(b.eq(Ru))return new x(0);if(e==null?(zi=!1,f=k):f=e,b.eq(10))return e==null&&(zi=!0),NP(x,f);if(f+=y,x.precision=f,r=Sf(A),n=r.charAt(0),s=Ms(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=Sf(b.d),n=r.charAt(0),g++;s=Ms(b),n>1?(b=new x("0."+r),s++):b=new x(n+"."+r.slice(1))}else return u=NP(x,f+2,k).times(s+""),b=OA(new x(n+"."+r.slice(1)),f-y).plus(u),x.precision=k,e==null?(zi=!0,hi(b,k)):b;for(a=o=b=vh(b.minus(Ru),b.plus(Ru),f),d=hi(b.times(b),f),i=3;;){if(o=hi(o.times(d),f),u=a.plus(vh(o,new x(i),f)),Sf(u.d).slice(0,f)===Sf(a.d).slice(0,f))return a=a.times(2),s!==0&&(a=a.plus(NP(x,f+2,k).times(s+""))),a=vh(a,new x(g),f),x.precision=k,e==null?(zi=!0,hi(a,k)):a;a=u,i+=2}}function RY(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Lw(r/Ni),t.d=[],n=(r+1)%Ni,r<0&&(n+=Ni),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ni;n<i;)t.d.push(+e.slice(n,n+=Ni));e=e.slice(n),n=Ni-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),zi&&(t.e>IT||t.e<-IT))throw Error(M7+r)}else t.s=0,t.e=0,t.d=[0];return t}function hi(t,e,r){var n,i,s,o,a,u,f,d,g=t.d;for(o=1,s=g[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Ni,i=e,f=g[d=0];else{if(d=Math.ceil((n+1)/Ni),s=g.length,d>=s)return t;for(f=s=g[d],o=1;s>=10;s/=10)o++;n%=Ni,i=n-Ni+o}if(r!==void 0&&(s=o0(10,o-i-1),a=f/s%10|0,u=e<0||g[d+1]!==void 0||f%s,u=r<4?(a||u)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||u||r==6&&(n>0?i>0?f/o0(10,o-i):0:g[d-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return u?(s=Ms(t),g.length=1,e=e-s-1,g[0]=o0(10,(Ni-e%Ni)%Ni),t.e=Lw(-e/Ni)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=d,s=1,d--):(g.length=d+1,s=o0(10,Ni-n),g[d]=i>0?(f/o0(10,o-i)%o0(10,i)|0)*s:0),u)for(;;)if(d==0){(g[0]+=s)==Qs&&(g[0]=1,++t.e);break}else{if(g[d]+=s,g[d]!=Qs)break;g[d--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(zi&&(t.e>IT||t.e<-IT))throw Error(M7+Ms(t));return t}function gae(t,e){var r,n,i,s,o,a,u,f,d,g,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),zi?hi(e,b):e;if(u=t.d,g=e.d,n=e.e,f=t.e,u=u.slice(),o=f-n,o){for(d=o<0,d?(r=u,o=-o,a=g.length):(r=g,n=f,a=u.length),i=Math.max(Math.ceil(b/Ni),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,a=g.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(u[i]!=g[i]){d=u[i]<g[i];break}o=0}for(d&&(r=u,u=g,g=r,e.s=-e.s),a=u.length,i=g.length-a;i>0;--i)u[a++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(s=i;s&&u[--s]===0;)u[s]=Qs-1;--u[s],u[i]+=Qs}u[i]-=g[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,zi?hi(e,b):e):new y(0)}function xm(t,e,r){var n,i=Ms(t),s=Sf(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ap(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ap(-i-1)+s,r&&(n=r-o)>0&&(s+=Ap(n))):i>=o?(s+=Ap(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Ap(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Ap(n))),t.s<0?"-"+s:s}function MY(t,e){if(t.length>e)return t.length=e,!0}function mae(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(lm+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return RY(o,s.toString())}else if(typeof s!="string")throw Error(lm+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,M$e.test(s))RY(o,s);else throw Error(lm+s)}if(i.prototype=Xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mae,i.config=i.set=C$e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function C$e(t){if(!t||typeof t!="object")throw Error(_c+"Object expected");var e,r,n,i=["precision",1,Ow,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Lw(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(lm+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lm+r+": "+n);return this}var C7=mae(R$e);Ru=new C7(1);const Em=C7;var P$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Lt,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",u="hour",f="day",d="week",g="month",y="quarter",b="year",A="date",x="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var m=["th","st","nd","rd"],v=p%100;return"["+p+(m[(v-20)%10]||m[v]||m[0])+"]"}},P=function(p,m,v){var _=String(p);return!_||_.length>=m?p:""+Array(m+1-_.length).join(v)+p},O={s:P,z:function(p){var m=-p.utcOffset(),v=Math.abs(m),_=Math.floor(v/60),T=v%60;return(m<=0?"+":"-")+P(_,2,"0")+":"+P(T,2,"0")},m:function p(m,v){if(m.date()<v.date())return-p(v,m);var _=12*(v.year()-m.year())+(v.month()-m.month()),T=m.clone().add(_,g),w=v-T<0,l=m.clone().add(_+(w?-1:1),g);return+(-(_+(v-T)/(w?T-l:l-T))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:g,y:b,w:d,d:f,D:A,h:u,m:a,s:o,ms:s,Q:y}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},q="en",Q={};Q[q]=C;var Y="$isDayjsObject",X=function(p){return p instanceof c||!(!p||!p[Y])},Z=function p(m,v,_){var T;if(!m)return q;if(typeof m=="string"){var w=m.toLowerCase();Q[w]&&(T=w),v&&(Q[w]=v,T=w);var l=m.split("-");if(!T&&l.length>1)return p(l[0])}else{var S=m.name;Q[S]=m,T=S}return!_&&T&&(q=T),T||!_&&q},le=function(p,m){if(X(p))return p.clone();var v=typeof m=="object"?m:{};return v.date=p,v.args=arguments,new c(v)},I=O;I.l=Z,I.i=X,I.w=function(p,m){return le(p,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var c=function(){function p(v){this.$L=Z(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[Y]=!0}var m=p.prototype;return m.parse=function(v){this.$d=function(_){var T=_.date,w=_.utc;if(T===null)return new Date(NaN);if(I.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var l=T.match(k);if(l){var S=l[2]-1||0,N=(l[7]||"0").substring(0,3);return w?new Date(Date.UTC(l[1],S,l[3]||1,l[4]||0,l[5]||0,l[6]||0,N)):new Date(l[1],S,l[3]||1,l[4]||0,l[5]||0,l[6]||0,N)}}return new Date(T)}(v),this.init()},m.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return this.$d.toString()!==x},m.isSame=function(v,_){var T=le(v);return this.startOf(_)<=T&&T<=this.endOf(_)},m.isAfter=function(v,_){return le(v)<this.startOf(_)},m.isBefore=function(v,_){return this.endOf(_)<le(v)},m.$g=function(v,_,T){return I.u(v)?this[_]:this.set(T,v)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(v,_){var T=this,w=!!I.u(_)||_,l=I.p(v),S=function(te,ie){var J=I.w(T.$u?Date.UTC(T.$y,ie,te):new Date(T.$y,ie,te),T);return w?J:J.endOf(f)},N=function(te,ie){return I.w(T.toDate()[te].apply(T.toDate("s"),(w?[0,0,0,0]:[23,59,59,999]).slice(ie)),T)},F=this.$W,W=this.$M,D=this.$D,K="set"+(this.$u?"UTC":"");switch(l){case b:return w?S(1,0):S(31,11);case g:return w?S(1,W):S(0,W+1);case d:var z=this.$locale().weekStart||0,G=(F<z?F+7:F)-z;return S(w?D-G:D+(6-G),W);case f:case A:return N(K+"Hours",0);case u:return N(K+"Minutes",1);case a:return N(K+"Seconds",2);case o:return N(K+"Milliseconds",3);default:return this.clone()}},m.endOf=function(v){return this.startOf(v,!1)},m.$set=function(v,_){var T,w=I.p(v),l="set"+(this.$u?"UTC":""),S=(T={},T[f]=l+"Date",T[A]=l+"Date",T[g]=l+"Month",T[b]=l+"FullYear",T[u]=l+"Hours",T[a]=l+"Minutes",T[o]=l+"Seconds",T[s]=l+"Milliseconds",T)[w],N=w===f?this.$D+(_-this.$W):_;if(w===g||w===b){var F=this.clone().set(A,1);F.$d[S](N),F.init(),this.$d=F.set(A,Math.min(this.$D,F.daysInMonth())).$d}else S&&this.$d[S](N);return this.init(),this},m.set=function(v,_){return this.clone().$set(v,_)},m.get=function(v){return this[I.p(v)]()},m.add=function(v,_){var T,w=this;v=Number(v);var l=I.p(_),S=function(W){var D=le(w);return I.w(D.date(D.date()+Math.round(W*v)),w)};if(l===g)return this.set(g,this.$M+v);if(l===b)return this.set(b,this.$y+v);if(l===f)return S(1);if(l===d)return S(7);var N=(T={},T[a]=n,T[u]=i,T[o]=r,T)[l]||1,F=this.$d.getTime()+v*N;return I.w(F,this)},m.subtract=function(v,_){return this.add(-1*v,_)},m.format=function(v){var _=this,T=this.$locale();if(!this.isValid())return T.invalidDate||x;var w=v||"YYYY-MM-DDTHH:mm:ssZ",l=I.z(this),S=this.$H,N=this.$m,F=this.$M,W=T.weekdays,D=T.months,K=T.meridiem,z=function(ie,J,V,fe){return ie&&(ie[J]||ie(_,w))||V[J].slice(0,fe)},G=function(ie){return I.s(S%12||12,ie,"0")},te=K||function(ie,J,V){var fe=ie<12?"AM":"PM";return V?fe.toLowerCase():fe};return w.replace(R,function(ie,J){return J||function(V){switch(V){case"YY":return String(_.$y).slice(-2);case"YYYY":return I.s(_.$y,4,"0");case"M":return F+1;case"MM":return I.s(F+1,2,"0");case"MMM":return z(T.monthsShort,F,D,3);case"MMMM":return z(D,F);case"D":return _.$D;case"DD":return I.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return z(T.weekdaysMin,_.$W,W,2);case"ddd":return z(T.weekdaysShort,_.$W,W,3);case"dddd":return W[_.$W];case"H":return String(S);case"HH":return I.s(S,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return te(S,N,!0);case"A":return te(S,N,!1);case"m":return String(N);case"mm":return I.s(N,2,"0");case"s":return String(_.$s);case"ss":return I.s(_.$s,2,"0");case"SSS":return I.s(_.$ms,3,"0");case"Z":return l}return null}(ie)||l.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(v,_,T){var w,l=this,S=I.p(_),N=le(v),F=(N.utcOffset()-this.utcOffset())*n,W=this-N,D=function(){return I.m(l,N)};switch(S){case b:w=D()/12;break;case g:w=D();break;case y:w=D()/3;break;case d:w=(W-F)/6048e5;break;case f:w=(W-F)/864e5;break;case u:w=W/i;break;case a:w=W/n;break;case o:w=W/r;break;default:w=W}return T?w:I.a(w)},m.daysInMonth=function(){return this.endOf(g).$D},m.$locale=function(){return Q[this.$L]},m.locale=function(v,_){if(!v)return this.$L;var T=this.clone(),w=Z(v,_,!0);return w&&(T.$L=w),T},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},p}(),h=c.prototype;return le.prototype=h,[["$ms",s],["$s",o],["$m",a],["$H",u],["$W",f],["$M",g],["$y",b],["$D",A]].forEach(function(p){h[p[1]]=function(m){return this.$g(m,p[0],p[1])}}),le.extend=function(p,m){return p.$i||(p(m,c,le),p.$i=!0),le},le.locale=Z,le.isDayjs=X,le.unix=function(p){return le(1e3*p)},le.en=Q[q],le.Ls=Q,le.p={},le})})(P$e);Em.set({rounding:Em.ROUND_DOWN});var Fe=Em,Ui=new Em(0),TCt=(t,e)=>{if(typeof t=="string"&&isNaN(Number(t)))return(e==null?void 0:e.fallback)||"--";let r=(e==null?void 0:e.prefix)||"";if(typeof t>"u")return r+((e==null?void 0:e.fallback)||"--");let n=qv(t,e==null?void 0:e.fix);if(e&&e.padEnd&&e.fix){let i=(e==null?void 0:e.fillString)||"0",s=n.includes("."),o=n.split(".");return s?r+o[0]+"."+o[1].padEnd(e.fix,i):r+o[0]+"."+"".padEnd(e.fix,i)}return r+n},qv=(t,e)=>{let r=`${t}`;var n=r.split(".");let i=n[0],s=n[1],o=/\B(?=(\d{3})+(?!\d))/g,a=r.endsWith(".")&&r.length>1,u=i.replace(o,",")+(s?"."+s.substring(0,e||s.length):a?".":"");return e===0&&u.includes(".")?u.substring(0,u.indexOf(".")):u},LA=t=>{t=N$e(Number(t));let e=t.toString().split(".");return e[1]?e[1].length:0};function N$e(t){let e=t.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/);return Array.isArray(e)?t.toFixed(Math.max(0,(e[1]||"").length-e[2])):t}function B$e(t,e=2,r){let n=["","K","M","B","T"],i=0;for(;t>=1e3&&i<n.length-1;)t/=1e3,i++;let s=new Em(t).toFixed(e,Em.ROUND_DOWN).toString();return s=s.replace(/\.0+$/,""),`${s}${n[i]}`}function O$e(t,e=16){let r=`${t}`,n=/^[-+]?[0-9]+(\.[0-9]+)?[eE][-+]?[0-9]+$/.test(r);return!t.toString().includes(".")&&!n?`${t}`:new Em(t).toFixed(e).replace(/(\.[0-9]*[1-9])0+$/,"$1")}var yae=(t,e)=>{if(t===void 0||t===""||(typeof t=="number"&&(t=t.toString()),t.endsWith(".")))return t;let r=t.split(".");return r.length===1||r[1].length<=e||!r[1]?t:`${r[0]}.${r[1].substring(0,e)}`},L$e=t=>{t/=1e3;let e=Math.floor(t/3600),r=Math.floor(t/60%60),n=Math.floor(t%60);return[e,r,n]};function ICt(t,e){let r=e||new Date,n=new Date(r);return n.setDate(r.getDate()-t),n}var D$e=t=>parseInt(t),RCt=t=>`0x${t.toString(16)}`,F$e=t=>typeof t=="string"&&t.startsWith("0x")&&/^[a-f0-9]+$/iu.test(t.slice(2))?D$e(t):t,MCt=F$e,bae=t=>[E9,UCe,b_,V1].includes(t);function CCt(t){let e=t.toLowerCase();return e.charAt(0).toUpperCase()+e.slice(1)}function PCt(t){let e=t.split("_");if(e.length!==3)throw new Error("Invalid string format");let[r,n,i]=e;if(!r.startsWith("PERP"))throw new Error("Invalid string format");return`${n}-${r}`}function $$e(t){return t.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()}var U$e=(t,e)=>{for(let r=0;r<t.length;r++){let n=t.at(r),i=e.at(r);if(n!==i)return r}return-1},z$e=t=>{typeof window<"u"&&t()},z6=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ie.global<"u")return Ie.global;throw new Error("cannot find the global object")},bl=()=>{var t;if(typeof window<"u"){let e=(t=z6())==null?void 0:t.__ORDERLY_timestamp_offset;if(typeof e=="number")return Date.now()+(e||0)}return Date.now()},RT={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */RT.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",g=1,y=2,b=4,A=1,x=2,k=1,R=2,C=4,P=8,O=16,q=32,Q=64,Y=128,X=256,Z=512,le=30,I="...",c=800,h=16,p=1,m=2,v=3,_=1/0,T=9007199254740991,w=17976931348623157e292,l=NaN,S=4294967295,N=S-1,F=S>>>1,W=[["ary",Y],["bind",k],["bindKey",R],["curry",P],["curryRight",O],["flip",Z],["partial",q],["partialRight",Q],["rearg",X]],D="[object Arguments]",K="[object Array]",z="[object AsyncFunction]",G="[object Boolean]",te="[object Date]",ie="[object DOMException]",J="[object Error]",V="[object Function]",fe="[object GeneratorFunction]",Te="[object Map]",Re="[object Number]",H="[object Null]",oe="[object Object]",ae="[object Promise]",ce="[object Proxy]",Oe="[object RegExp]",_e="[object Set]",Ne="[object String]",wt="[object Symbol]",ge="[object Undefined]",ye="[object WeakMap]",Ge="[object WeakSet]",se="[object ArrayBuffer]",j="[object DataView]",re="[object Float32Array]",ue="[object Float64Array]",me="[object Int8Array]",Be="[object Int16Array]",Ae="[object Int32Array]",ze="[object Uint8Array]",$t="[object Uint8ClampedArray]",Ke="[object Uint16Array]",qe="[object Uint32Array]",Nt=/\b__p \+= '';/g,Ye=/\b(__p \+=) '' \+/g,ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kr=/&(?:amp|lt|gt|quot|#39);/g,Qe=/[&<>"']/g,ct=RegExp(kr.source),Ir=RegExp(Qe.source),Je=/<%-([\s\S]+?)%>/g,lt=/<%([\s\S]+?)%>/g,Tr=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,Rr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xe=/[\\^$.*+?()[\]{}|]/g,dt=RegExp(Xe.source),Er=/^\s+/,tt=/\s/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mr=/\{\n\/\* \[wrapped with (.+)\] \*/,rt=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cr=/[()=,{}\[\]\/\s]/,nt=/\\(\\)?/g,gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hr=/\w*$/,yr=/^[-+]0x[0-9a-f]+$/i,pn=/^0b[01]+$/i,gn=/^\[object .+?Constructor\]$/,mn=/^0o[0-7]+$/i,yn=/^(?:0|[1-9]\d*)$/,bn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tn=/($^)/,Vn=/['\n\r\u2028\u2029\\]/g,In="\\ud800-\\udfff",Gn="\\u0300-\\u036f",Yn="\\ufe20-\\ufe2f",Zn="\\u20d0-\\u20ff",Fn=Gn+Yn+Zn,$n="\\u2700-\\u27bf",Un="a-z\\xdf-\\xf6\\xf8-\\xff",Xn="\\xac\\xb1\\xd7\\xf7",Qn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jn="\\u2000-\\u206f",bS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ky="A-Z\\xc0-\\xd6\\xd8-\\xde",tH="\\ufe0e\\ufe0f",rH=Xn+Qn+Jn+bS,N8="['’]",L3e="["+In+"]",nH="["+rH+"]",nE="["+Fn+"]",iH="\\d+",D3e="["+$n+"]",sH="["+Un+"]",oH="[^"+In+rH+iH+$n+Un+ky+"]",B8="\\ud83c[\\udffb-\\udfff]",F3e="(?:"+nE+"|"+B8+")",aH="[^"+In+"]",O8="(?:\\ud83c[\\udde6-\\uddff]){2}",L8="[\\ud800-\\udbff][\\udc00-\\udfff]",Ty="["+ky+"]",uH="\\u200d",cH="(?:"+sH+"|"+oH+")",$3e="(?:"+Ty+"|"+oH+")",lH="(?:"+N8+"(?:d|ll|m|re|s|t|ve))?",fH="(?:"+N8+"(?:D|LL|M|RE|S|T|VE))?",dH=F3e+"?",hH="["+tH+"]?",U3e="(?:"+uH+"(?:"+[aH,O8,L8].join("|")+")"+hH+dH+")*",z3e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",W3e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pH=hH+dH+U3e,K3e="(?:"+[D3e,O8,L8].join("|")+")"+pH,j3e="(?:"+[aH+nE+"?",nE,O8,L8,L3e].join("|")+")",H3e=RegExp(N8,"g"),q3e=RegExp(nE,"g"),D8=RegExp(B8+"(?="+B8+")|"+j3e+pH,"g"),V3e=RegExp([Ty+"?"+sH+"+"+lH+"(?="+[nH,Ty,"$"].join("|")+")",$3e+"+"+fH+"(?="+[nH,Ty+cH,"$"].join("|")+")",Ty+"?"+cH+"+"+lH,Ty+"+"+fH,W3e,z3e,iH,K3e].join("|"),"g"),G3e=RegExp("["+uH+In+Fn+tH+"]"),Y3e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Z3e=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],X3e=-1,Mi={};Mi[re]=Mi[ue]=Mi[me]=Mi[Be]=Mi[Ae]=Mi[ze]=Mi[$t]=Mi[Ke]=Mi[qe]=!0,Mi[D]=Mi[K]=Mi[se]=Mi[G]=Mi[j]=Mi[te]=Mi[J]=Mi[V]=Mi[Te]=Mi[Re]=Mi[oe]=Mi[Oe]=Mi[_e]=Mi[Ne]=Mi[ye]=!1;var gi={};gi[D]=gi[K]=gi[se]=gi[j]=gi[G]=gi[te]=gi[re]=gi[ue]=gi[me]=gi[Be]=gi[Ae]=gi[Te]=gi[Re]=gi[oe]=gi[Oe]=gi[_e]=gi[Ne]=gi[wt]=gi[ze]=gi[$t]=gi[Ke]=gi[qe]=!0,gi[J]=gi[V]=gi[ye]=!1;var Q3e={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},J3e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eTe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tTe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rTe=parseFloat,nTe=parseInt,gH=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt,iTe=typeof self=="object"&&self&&self.Object===Object&&self,go=gH||iTe||Function("return this")(),F8=e&&!e.nodeType&&e,jg=F8&&!0&&t&&!t.nodeType&&t,mH=jg&&jg.exports===F8,$8=mH&&gH.process,qu=function(){try{var je=jg&&jg.require&&jg.require("util").types;return je||$8&&$8.binding&&$8.binding("util")}catch{}}(),yH=qu&&qu.isArrayBuffer,bH=qu&&qu.isDate,vH=qu&&qu.isMap,wH=qu&&qu.isRegExp,SH=qu&&qu.isSet,_H=qu&&qu.isTypedArray;function ou(je,yt,at){switch(at.length){case 0:return je.call(yt);case 1:return je.call(yt,at[0]);case 2:return je.call(yt,at[0],at[1]);case 3:return je.call(yt,at[0],at[1],at[2])}return je.apply(yt,at)}function sTe(je,yt,at,Gt){for(var Or=-1,On=je==null?0:je.length;++Or<On;){var Bs=je[Or];yt(Gt,Bs,at(Bs),je)}return Gt}function Vu(je,yt){for(var at=-1,Gt=je==null?0:je.length;++at<Gt&&yt(je[at],at,je)!==!1;);return je}function oTe(je,yt){for(var at=je==null?0:je.length;at--&&yt(je[at],at,je)!==!1;);return je}function AH(je,yt){for(var at=-1,Gt=je==null?0:je.length;++at<Gt;)if(!yt(je[at],at,je))return!1;return!0}function Yh(je,yt){for(var at=-1,Gt=je==null?0:je.length,Or=0,On=[];++at<Gt;){var Bs=je[at];yt(Bs,at,je)&&(On[Or++]=Bs)}return On}function iE(je,yt){var at=je==null?0:je.length;return!!at&&Iy(je,yt,0)>-1}function U8(je,yt,at){for(var Gt=-1,Or=je==null?0:je.length;++Gt<Or;)if(at(yt,je[Gt]))return!0;return!1}function Li(je,yt){for(var at=-1,Gt=je==null?0:je.length,Or=Array(Gt);++at<Gt;)Or[at]=yt(je[at],at,je);return Or}function Zh(je,yt){for(var at=-1,Gt=yt.length,Or=je.length;++at<Gt;)je[Or+at]=yt[at];return je}function z8(je,yt,at,Gt){var Or=-1,On=je==null?0:je.length;for(Gt&&On&&(at=je[++Or]);++Or<On;)at=yt(at,je[Or],Or,je);return at}function aTe(je,yt,at,Gt){var Or=je==null?0:je.length;for(Gt&&Or&&(at=je[--Or]);Or--;)at=yt(at,je[Or],Or,je);return at}function W8(je,yt){for(var at=-1,Gt=je==null?0:je.length;++at<Gt;)if(yt(je[at],at,je))return!0;return!1}var uTe=K8("length");function cTe(je){return je.split("")}function lTe(je){return je.match(pt)||[]}function xH(je,yt,at){var Gt;return at(je,function(Or,On,Bs){if(yt(Or,On,Bs))return Gt=On,!1}),Gt}function sE(je,yt,at,Gt){for(var Or=je.length,On=at+(Gt?1:-1);Gt?On--:++On<Or;)if(yt(je[On],On,je))return On;return-1}function Iy(je,yt,at){return yt===yt?_Te(je,yt,at):sE(je,EH,at)}function fTe(je,yt,at,Gt){for(var Or=at-1,On=je.length;++Or<On;)if(Gt(je[Or],yt))return Or;return-1}function EH(je){return je!==je}function kH(je,yt){var at=je==null?0:je.length;return at?H8(je,yt)/at:l}function K8(je){return function(yt){return yt==null?r:yt[je]}}function j8(je){return function(yt){return je==null?r:je[yt]}}function TH(je,yt,at,Gt,Or){return Or(je,function(On,Bs,li){at=Gt?(Gt=!1,On):yt(at,On,Bs,li)}),at}function dTe(je,yt){var at=je.length;for(je.sort(yt);at--;)je[at]=je[at].value;return je}function H8(je,yt){for(var at,Gt=-1,Or=je.length;++Gt<Or;){var On=yt(je[Gt]);On!==r&&(at=at===r?On:at+On)}return at}function q8(je,yt){for(var at=-1,Gt=Array(je);++at<je;)Gt[at]=yt(at);return Gt}function hTe(je,yt){return Li(yt,function(at){return[at,je[at]]})}function IH(je){return je&&je.slice(0,PH(je)+1).replace(Er,"")}function au(je){return function(yt){return je(yt)}}function V8(je,yt){return Li(yt,function(at){return je[at]})}function vS(je,yt){return je.has(yt)}function RH(je,yt){for(var at=-1,Gt=je.length;++at<Gt&&Iy(yt,je[at],0)>-1;);return at}function MH(je,yt){for(var at=je.length;at--&&Iy(yt,je[at],0)>-1;);return at}function pTe(je,yt){for(var at=je.length,Gt=0;at--;)je[at]===yt&&++Gt;return Gt}var gTe=j8(Q3e),mTe=j8(J3e);function yTe(je){return"\\"+tTe[je]}function bTe(je,yt){return je==null?r:je[yt]}function Ry(je){return G3e.test(je)}function vTe(je){return Y3e.test(je)}function wTe(je){for(var yt,at=[];!(yt=je.next()).done;)at.push(yt.value);return at}function G8(je){var yt=-1,at=Array(je.size);return je.forEach(function(Gt,Or){at[++yt]=[Or,Gt]}),at}function CH(je,yt){return function(at){return je(yt(at))}}function Xh(je,yt){for(var at=-1,Gt=je.length,Or=0,On=[];++at<Gt;){var Bs=je[at];(Bs===yt||Bs===d)&&(je[at]=d,On[Or++]=at)}return On}function oE(je){var yt=-1,at=Array(je.size);return je.forEach(function(Gt){at[++yt]=Gt}),at}function STe(je){var yt=-1,at=Array(je.size);return je.forEach(function(Gt){at[++yt]=[Gt,Gt]}),at}function _Te(je,yt,at){for(var Gt=at-1,Or=je.length;++Gt<Or;)if(je[Gt]===yt)return Gt;return-1}function ATe(je,yt,at){for(var Gt=at+1;Gt--;)if(je[Gt]===yt)return Gt;return Gt}function My(je){return Ry(je)?ETe(je):uTe(je)}function Dc(je){return Ry(je)?kTe(je):cTe(je)}function PH(je){for(var yt=je.length;yt--&&tt.test(je.charAt(yt)););return yt}var xTe=j8(eTe);function ETe(je){for(var yt=D8.lastIndex=0;D8.test(je);)++yt;return yt}function kTe(je){return je.match(D8)||[]}function TTe(je){return je.match(V3e)||[]}var ITe=function je(yt){yt=yt==null?go:Cy.defaults(go.Object(),yt,Cy.pick(go,Z3e));var at=yt.Array,Gt=yt.Date,Or=yt.Error,On=yt.Function,Bs=yt.Math,li=yt.Object,Y8=yt.RegExp,RTe=yt.String,Gu=yt.TypeError,aE=at.prototype,MTe=On.prototype,Py=li.prototype,uE=yt["__core-js_shared__"],cE=MTe.toString,ei=Py.hasOwnProperty,CTe=0,NH=function(){var E=/[^.]+$/.exec(uE&&uE.keys&&uE.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),lE=Py.toString,PTe=cE.call(li),NTe=go._,BTe=Y8("^"+cE.call(ei).replace(Xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fE=mH?yt.Buffer:r,Qh=yt.Symbol,dE=yt.Uint8Array,BH=fE?fE.allocUnsafe:r,hE=CH(li.getPrototypeOf,li),OH=li.create,LH=Py.propertyIsEnumerable,pE=aE.splice,DH=Qh?Qh.isConcatSpreadable:r,wS=Qh?Qh.iterator:r,Hg=Qh?Qh.toStringTag:r,gE=function(){try{var E=Zg(li,"defineProperty");return E({},"",{}),E}catch{}}(),OTe=yt.clearTimeout!==go.clearTimeout&&yt.clearTimeout,LTe=Gt&&Gt.now!==go.Date.now&&Gt.now,DTe=yt.setTimeout!==go.setTimeout&&yt.setTimeout,mE=Bs.ceil,yE=Bs.floor,Z8=li.getOwnPropertySymbols,FTe=fE?fE.isBuffer:r,FH=yt.isFinite,$Te=aE.join,UTe=CH(li.keys,li),Os=Bs.max,Co=Bs.min,zTe=Gt.now,WTe=yt.parseInt,$H=Bs.random,KTe=aE.reverse,X8=Zg(yt,"DataView"),SS=Zg(yt,"Map"),Q8=Zg(yt,"Promise"),Ny=Zg(yt,"Set"),_S=Zg(yt,"WeakMap"),AS=Zg(li,"create"),bE=_S&&new _S,By={},jTe=Xg(X8),HTe=Xg(SS),qTe=Xg(Q8),VTe=Xg(Ny),GTe=Xg(_S),vE=Qh?Qh.prototype:r,xS=vE?vE.valueOf:r,UH=vE?vE.toString:r;function be(E){if(Qi(E)&&!Lr(E)&&!(E instanceof un)){if(E instanceof Yu)return E;if(ei.call(E,"__wrapped__"))return zq(E)}return new Yu(E)}var Oy=function(){function E(){}return function(M){if(!Ki(M))return{};if(OH)return OH(M);E.prototype=M;var U=new E;return E.prototype=r,U}}();function wE(){}function Yu(E,M){this.__wrapped__=E,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=r}be.templateSettings={escape:Je,evaluate:lt,interpolate:Tr,variable:"",imports:{_:be}},be.prototype=wE.prototype,be.prototype.constructor=be,Yu.prototype=Oy(wE.prototype),Yu.prototype.constructor=Yu;function un(E){this.__wrapped__=E,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=S,this.__views__=[]}function YTe(){var E=new un(this.__wrapped__);return E.__actions__=Ia(this.__actions__),E.__dir__=this.__dir__,E.__filtered__=this.__filtered__,E.__iteratees__=Ia(this.__iteratees__),E.__takeCount__=this.__takeCount__,E.__views__=Ia(this.__views__),E}function ZTe(){if(this.__filtered__){var E=new un(this);E.__dir__=-1,E.__filtered__=!0}else E=this.clone(),E.__dir__*=-1;return E}function XTe(){var E=this.__wrapped__.value(),M=this.__dir__,U=Lr(E),ne=M<0,he=U?E.length:0,we=c6e(0,he,this.__views__),Ce=we.start,Le=we.end,He=Le-Ce,bt=ne?Le:Ce-1,vt=this.__iteratees__,xt=vt.length,Ut=0,tr=Co(He,this.__takeCount__);if(!U||!ne&&he==He&&tr==He)return lq(E,this.__actions__);var _r=[];e:for(;He--&&Ut<tr;){bt+=M;for(var jr=-1,Ar=E[bt];++jr<xt;){var rn=vt[jr],dn=rn.iteratee,lu=rn.type,ia=dn(Ar);if(lu==m)Ar=ia;else if(!ia){if(lu==p)continue e;break e}}_r[Ut++]=Ar}return _r}un.prototype=Oy(wE.prototype),un.prototype.constructor=un;function qg(E){var M=-1,U=E==null?0:E.length;for(this.clear();++M<U;){var ne=E[M];this.set(ne[0],ne[1])}}function QTe(){this.__data__=AS?AS(null):{},this.size=0}function JTe(E){var M=this.has(E)&&delete this.__data__[E];return this.size-=M?1:0,M}function eIe(E){var M=this.__data__;if(AS){var U=M[E];return U===u?r:U}return ei.call(M,E)?M[E]:r}function tIe(E){var M=this.__data__;return AS?M[E]!==r:ei.call(M,E)}function rIe(E,M){var U=this.__data__;return this.size+=this.has(E)?0:1,U[E]=AS&&M===r?u:M,this}qg.prototype.clear=QTe,qg.prototype.delete=JTe,qg.prototype.get=eIe,qg.prototype.has=tIe,qg.prototype.set=rIe;function ad(E){var M=-1,U=E==null?0:E.length;for(this.clear();++M<U;){var ne=E[M];this.set(ne[0],ne[1])}}function nIe(){this.__data__=[],this.size=0}function iIe(E){var M=this.__data__,U=SE(M,E);if(U<0)return!1;var ne=M.length-1;return U==ne?M.pop():pE.call(M,U,1),--this.size,!0}function sIe(E){var M=this.__data__,U=SE(M,E);return U<0?r:M[U][1]}function oIe(E){return SE(this.__data__,E)>-1}function aIe(E,M){var U=this.__data__,ne=SE(U,E);return ne<0?(++this.size,U.push([E,M])):U[ne][1]=M,this}ad.prototype.clear=nIe,ad.prototype.delete=iIe,ad.prototype.get=sIe,ad.prototype.has=oIe,ad.prototype.set=aIe;function ud(E){var M=-1,U=E==null?0:E.length;for(this.clear();++M<U;){var ne=E[M];this.set(ne[0],ne[1])}}function uIe(){this.size=0,this.__data__={hash:new qg,map:new(SS||ad),string:new qg}}function cIe(E){var M=NE(this,E).delete(E);return this.size-=M?1:0,M}function lIe(E){return NE(this,E).get(E)}function fIe(E){return NE(this,E).has(E)}function dIe(E,M){var U=NE(this,E),ne=U.size;return U.set(E,M),this.size+=U.size==ne?0:1,this}ud.prototype.clear=uIe,ud.prototype.delete=cIe,ud.prototype.get=lIe,ud.prototype.has=fIe,ud.prototype.set=dIe;function Vg(E){var M=-1,U=E==null?0:E.length;for(this.__data__=new ud;++M<U;)this.add(E[M])}function hIe(E){return this.__data__.set(E,u),this}function pIe(E){return this.__data__.has(E)}Vg.prototype.add=Vg.prototype.push=hIe,Vg.prototype.has=pIe;function Fc(E){var M=this.__data__=new ad(E);this.size=M.size}function gIe(){this.__data__=new ad,this.size=0}function mIe(E){var M=this.__data__,U=M.delete(E);return this.size=M.size,U}function yIe(E){return this.__data__.get(E)}function bIe(E){return this.__data__.has(E)}function vIe(E,M){var U=this.__data__;if(U instanceof ad){var ne=U.__data__;if(!SS||ne.length<i-1)return ne.push([E,M]),this.size=++U.size,this;U=this.__data__=new ud(ne)}return U.set(E,M),this.size=U.size,this}Fc.prototype.clear=gIe,Fc.prototype.delete=mIe,Fc.prototype.get=yIe,Fc.prototype.has=bIe,Fc.prototype.set=vIe;function zH(E,M){var U=Lr(E),ne=!U&&Qg(E),he=!U&&!ne&&np(E),we=!U&&!ne&&!he&&$y(E),Ce=U||ne||he||we,Le=Ce?q8(E.length,RTe):[],He=Le.length;for(var bt in E)(M||ei.call(E,bt))&&!(Ce&&(bt=="length"||he&&(bt=="offset"||bt=="parent")||we&&(bt=="buffer"||bt=="byteLength"||bt=="byteOffset")||dd(bt,He)))&&Le.push(bt);return Le}function WH(E){var M=E.length;return M?E[cC(0,M-1)]:r}function wIe(E,M){return BE(Ia(E),Gg(M,0,E.length))}function SIe(E){return BE(Ia(E))}function J8(E,M,U){(U!==r&&!$c(E[M],U)||U===r&&!(M in E))&&cd(E,M,U)}function ES(E,M,U){var ne=E[M];(!(ei.call(E,M)&&$c(ne,U))||U===r&&!(M in E))&&cd(E,M,U)}function SE(E,M){for(var U=E.length;U--;)if($c(E[U][0],M))return U;return-1}function _Ie(E,M,U,ne){return Jh(E,function(he,we,Ce){M(ne,he,U(he),Ce)}),ne}function KH(E,M){return E&&Ul(M,qs(M),E)}function AIe(E,M){return E&&Ul(M,Ma(M),E)}function cd(E,M,U){M=="__proto__"&&gE?gE(E,M,{configurable:!0,enumerable:!0,value:U,writable:!0}):E[M]=U}function eC(E,M){for(var U=-1,ne=M.length,he=at(ne),we=E==null;++U<ne;)he[U]=we?r:BC(E,M[U]);return he}function Gg(E,M,U){return E===E&&(U!==r&&(E=E<=U?E:U),M!==r&&(E=E>=M?E:M)),E}function Zu(E,M,U,ne,he,we){var Ce,Le=M&g,He=M&y,bt=M&b;if(U&&(Ce=he?U(E,ne,he,we):U(E)),Ce!==r)return Ce;if(!Ki(E))return E;var vt=Lr(E);if(vt){if(Ce=f6e(E),!Le)return Ia(E,Ce)}else{var xt=Po(E),Ut=xt==V||xt==fe;if(np(E))return hq(E,Le);if(xt==oe||xt==D||Ut&&!he){if(Ce=He||Ut?{}:Pq(E),!Le)return He?e6e(E,AIe(Ce,E)):JIe(E,KH(Ce,E))}else{if(!gi[xt])return he?E:{};Ce=d6e(E,xt,Le)}}we||(we=new Fc);var tr=we.get(E);if(tr)return tr;we.set(E,Ce),aV(E)?E.forEach(function(Ar){Ce.add(Zu(Ar,M,U,Ar,E,we))}):sV(E)&&E.forEach(function(Ar,rn){Ce.set(rn,Zu(Ar,M,U,rn,E,we))});var _r=bt?He?wC:vC:He?Ma:qs,jr=vt?r:_r(E);return Vu(jr||E,function(Ar,rn){jr&&(rn=Ar,Ar=E[rn]),ES(Ce,rn,Zu(Ar,M,U,rn,E,we))}),Ce}function xIe(E){var M=qs(E);return function(U){return jH(U,E,M)}}function jH(E,M,U){var ne=U.length;if(E==null)return!ne;for(E=li(E);ne--;){var he=U[ne],we=M[he],Ce=E[he];if(Ce===r&&!(he in E)||!we(Ce))return!1}return!0}function HH(E,M,U){if(typeof E!="function")throw new Gu(o);return PS(function(){E.apply(r,U)},M)}function kS(E,M,U,ne){var he=-1,we=iE,Ce=!0,Le=E.length,He=[],bt=M.length;if(!Le)return He;U&&(M=Li(M,au(U))),ne?(we=U8,Ce=!1):M.length>=i&&(we=vS,Ce=!1,M=new Vg(M));e:for(;++he<Le;){var vt=E[he],xt=U==null?vt:U(vt);if(vt=ne||vt!==0?vt:0,Ce&&xt===xt){for(var Ut=bt;Ut--;)if(M[Ut]===xt)continue e;He.push(vt)}else we(M,xt,ne)||He.push(vt)}return He}var Jh=bq($l),qH=bq(rC,!0);function EIe(E,M){var U=!0;return Jh(E,function(ne,he,we){return U=!!M(ne,he,we),U}),U}function _E(E,M,U){for(var ne=-1,he=E.length;++ne<he;){var we=E[ne],Ce=M(we);if(Ce!=null&&(Le===r?Ce===Ce&&!cu(Ce):U(Ce,Le)))var Le=Ce,He=we}return He}function kIe(E,M,U,ne){var he=E.length;for(U=Ur(U),U<0&&(U=-U>he?0:he+U),ne=ne===r||ne>he?he:Ur(ne),ne<0&&(ne+=he),ne=U>ne?0:cV(ne);U<ne;)E[U++]=M;return E}function VH(E,M){var U=[];return Jh(E,function(ne,he,we){M(ne,he,we)&&U.push(ne)}),U}function mo(E,M,U,ne,he){var we=-1,Ce=E.length;for(U||(U=p6e),he||(he=[]);++we<Ce;){var Le=E[we];M>0&&U(Le)?M>1?mo(Le,M-1,U,ne,he):Zh(he,Le):ne||(he[he.length]=Le)}return he}var tC=vq(),GH=vq(!0);function $l(E,M){return E&&tC(E,M,qs)}function rC(E,M){return E&&GH(E,M,qs)}function AE(E,M){return Yh(M,function(U){return hd(E[U])})}function Yg(E,M){M=tp(M,E);for(var U=0,ne=M.length;E!=null&&U<ne;)E=E[zl(M[U++])];return U&&U==ne?E:r}function YH(E,M,U){var ne=M(E);return Lr(E)?ne:Zh(ne,U(E))}function ra(E){return E==null?E===r?ge:H:Hg&&Hg in li(E)?u6e(E):S6e(E)}function nC(E,M){return E>M}function TIe(E,M){return E!=null&&ei.call(E,M)}function IIe(E,M){return E!=null&&M in li(E)}function RIe(E,M,U){return E>=Co(M,U)&&E<Os(M,U)}function iC(E,M,U){for(var ne=U?U8:iE,he=E[0].length,we=E.length,Ce=we,Le=at(we),He=1/0,bt=[];Ce--;){var vt=E[Ce];Ce&&M&&(vt=Li(vt,au(M))),He=Co(vt.length,He),Le[Ce]=!U&&(M||he>=120&&vt.length>=120)?new Vg(Ce&&vt):r}vt=E[0];var xt=-1,Ut=Le[0];e:for(;++xt<he&&bt.length<He;){var tr=vt[xt],_r=M?M(tr):tr;if(tr=U||tr!==0?tr:0,!(Ut?vS(Ut,_r):ne(bt,_r,U))){for(Ce=we;--Ce;){var jr=Le[Ce];if(!(jr?vS(jr,_r):ne(E[Ce],_r,U)))continue e}Ut&&Ut.push(_r),bt.push(tr)}}return bt}function MIe(E,M,U,ne){return $l(E,function(he,we,Ce){M(ne,U(he),we,Ce)}),ne}function TS(E,M,U){M=tp(M,E),E=Lq(E,M);var ne=E==null?E:E[zl(Qu(M))];return ne==null?r:ou(ne,E,U)}function ZH(E){return Qi(E)&&ra(E)==D}function CIe(E){return Qi(E)&&ra(E)==se}function PIe(E){return Qi(E)&&ra(E)==te}function IS(E,M,U,ne,he){return E===M?!0:E==null||M==null||!Qi(E)&&!Qi(M)?E!==E&&M!==M:NIe(E,M,U,ne,IS,he)}function NIe(E,M,U,ne,he,we){var Ce=Lr(E),Le=Lr(M),He=Ce?K:Po(E),bt=Le?K:Po(M);He=He==D?oe:He,bt=bt==D?oe:bt;var vt=He==oe,xt=bt==oe,Ut=He==bt;if(Ut&&np(E)){if(!np(M))return!1;Ce=!0,vt=!1}if(Ut&&!vt)return we||(we=new Fc),Ce||$y(E)?Rq(E,M,U,ne,he,we):o6e(E,M,He,U,ne,he,we);if(!(U&A)){var tr=vt&&ei.call(E,"__wrapped__"),_r=xt&&ei.call(M,"__wrapped__");if(tr||_r){var jr=tr?E.value():E,Ar=_r?M.value():M;return we||(we=new Fc),he(jr,Ar,U,ne,we)}}return Ut?(we||(we=new Fc),a6e(E,M,U,ne,he,we)):!1}function BIe(E){return Qi(E)&&Po(E)==Te}function sC(E,M,U,ne){var he=U.length,we=he,Ce=!ne;if(E==null)return!we;for(E=li(E);he--;){var Le=U[he];if(Ce&&Le[2]?Le[1]!==E[Le[0]]:!(Le[0]in E))return!1}for(;++he<we;){Le=U[he];var He=Le[0],bt=E[He],vt=Le[1];if(Ce&&Le[2]){if(bt===r&&!(He in E))return!1}else{var xt=new Fc;if(ne)var Ut=ne(bt,vt,He,E,M,xt);if(!(Ut===r?IS(vt,bt,A|x,ne,xt):Ut))return!1}}return!0}function XH(E){if(!Ki(E)||m6e(E))return!1;var M=hd(E)?BTe:gn;return M.test(Xg(E))}function OIe(E){return Qi(E)&&ra(E)==Oe}function LIe(E){return Qi(E)&&Po(E)==_e}function DIe(E){return Qi(E)&&UE(E.length)&&!!Mi[ra(E)]}function QH(E){return typeof E=="function"?E:E==null?Ca:typeof E=="object"?Lr(E)?tq(E[0],E[1]):eq(E):wV(E)}function oC(E){if(!CS(E))return UTe(E);var M=[];for(var U in li(E))ei.call(E,U)&&U!="constructor"&&M.push(U);return M}function FIe(E){if(!Ki(E))return w6e(E);var M=CS(E),U=[];for(var ne in E)ne=="constructor"&&(M||!ei.call(E,ne))||U.push(ne);return U}function aC(E,M){return E<M}function JH(E,M){var U=-1,ne=Ra(E)?at(E.length):[];return Jh(E,function(he,we,Ce){ne[++U]=M(he,we,Ce)}),ne}function eq(E){var M=_C(E);return M.length==1&&M[0][2]?Bq(M[0][0],M[0][1]):function(U){return U===E||sC(U,E,M)}}function tq(E,M){return xC(E)&&Nq(M)?Bq(zl(E),M):function(U){var ne=BC(U,E);return ne===r&&ne===M?OC(U,E):IS(M,ne,A|x)}}function xE(E,M,U,ne,he){E!==M&&tC(M,function(we,Ce){if(he||(he=new Fc),Ki(we))$Ie(E,M,Ce,U,xE,ne,he);else{var Le=ne?ne(kC(E,Ce),we,Ce+"",E,M,he):r;Le===r&&(Le=we),J8(E,Ce,Le)}},Ma)}function $Ie(E,M,U,ne,he,we,Ce){var Le=kC(E,U),He=kC(M,U),bt=Ce.get(He);if(bt){J8(E,U,bt);return}var vt=we?we(Le,He,U+"",E,M,Ce):r,xt=vt===r;if(xt){var Ut=Lr(He),tr=!Ut&&np(He),_r=!Ut&&!tr&&$y(He);vt=He,Ut||tr||_r?Lr(Le)?vt=Le:us(Le)?vt=Ia(Le):tr?(xt=!1,vt=hq(He,!0)):_r?(xt=!1,vt=pq(He,!0)):vt=[]:NS(He)||Qg(He)?(vt=Le,Qg(Le)?vt=lV(Le):(!Ki(Le)||hd(Le))&&(vt=Pq(He))):xt=!1}xt&&(Ce.set(He,vt),he(vt,He,ne,we,Ce),Ce.delete(He)),J8(E,U,vt)}function rq(E,M){var U=E.length;if(U)return M+=M<0?U:0,dd(M,U)?E[M]:r}function nq(E,M,U){M.length?M=Li(M,function(we){return Lr(we)?function(Ce){return Yg(Ce,we.length===1?we[0]:we)}:we}):M=[Ca];var ne=-1;M=Li(M,au(br()));var he=JH(E,function(we,Ce,Le){var He=Li(M,function(bt){return bt(we)});return{criteria:He,index:++ne,value:we}});return dTe(he,function(we,Ce){return QIe(we,Ce,U)})}function UIe(E,M){return iq(E,M,function(U,ne){return OC(E,ne)})}function iq(E,M,U){for(var ne=-1,he=M.length,we={};++ne<he;){var Ce=M[ne],Le=Yg(E,Ce);U(Le,Ce)&&RS(we,tp(Ce,E),Le)}return we}function zIe(E){return function(M){return Yg(M,E)}}function uC(E,M,U,ne){var he=ne?fTe:Iy,we=-1,Ce=M.length,Le=E;for(E===M&&(M=Ia(M)),U&&(Le=Li(E,au(U)));++we<Ce;)for(var He=0,bt=M[we],vt=U?U(bt):bt;(He=he(Le,vt,He,ne))>-1;)Le!==E&&pE.call(Le,He,1),pE.call(E,He,1);return E}function sq(E,M){for(var U=E?M.length:0,ne=U-1;U--;){var he=M[U];if(U==ne||he!==we){var we=he;dd(he)?pE.call(E,he,1):dC(E,he)}}return E}function cC(E,M){return E+yE($H()*(M-E+1))}function WIe(E,M,U,ne){for(var he=-1,we=Os(mE((M-E)/(U||1)),0),Ce=at(we);we--;)Ce[ne?we:++he]=E,E+=U;return Ce}function lC(E,M){var U="";if(!E||M<1||M>T)return U;do M%2&&(U+=E),M=yE(M/2),M&&(E+=E);while(M);return U}function Jr(E,M){return TC(Oq(E,M,Ca),E+"")}function KIe(E){return WH(Uy(E))}function jIe(E,M){var U=Uy(E);return BE(U,Gg(M,0,U.length))}function RS(E,M,U,ne){if(!Ki(E))return E;M=tp(M,E);for(var he=-1,we=M.length,Ce=we-1,Le=E;Le!=null&&++he<we;){var He=zl(M[he]),bt=U;if(He==="__proto__"||He==="constructor"||He==="prototype")return E;if(he!=Ce){var vt=Le[He];bt=ne?ne(vt,He,Le):r,bt===r&&(bt=Ki(vt)?vt:dd(M[he+1])?[]:{})}ES(Le,He,bt),Le=Le[He]}return E}var oq=bE?function(E,M){return bE.set(E,M),E}:Ca,HIe=gE?function(E,M){return gE(E,"toString",{configurable:!0,enumerable:!1,value:DC(M),writable:!0})}:Ca;function qIe(E){return BE(Uy(E))}function Xu(E,M,U){var ne=-1,he=E.length;M<0&&(M=-M>he?0:he+M),U=U>he?he:U,U<0&&(U+=he),he=M>U?0:U-M>>>0,M>>>=0;for(var we=at(he);++ne<he;)we[ne]=E[ne+M];return we}function VIe(E,M){var U;return Jh(E,function(ne,he,we){return U=M(ne,he,we),!U}),!!U}function EE(E,M,U){var ne=0,he=E==null?ne:E.length;if(typeof M=="number"&&M===M&&he<=F){for(;ne<he;){var we=ne+he>>>1,Ce=E[we];Ce!==null&&!cu(Ce)&&(U?Ce<=M:Ce<M)?ne=we+1:he=we}return he}return fC(E,M,Ca,U)}function fC(E,M,U,ne){var he=0,we=E==null?0:E.length;if(we===0)return 0;M=U(M);for(var Ce=M!==M,Le=M===null,He=cu(M),bt=M===r;he<we;){var vt=yE((he+we)/2),xt=U(E[vt]),Ut=xt!==r,tr=xt===null,_r=xt===xt,jr=cu(xt);if(Ce)var Ar=ne||_r;else bt?Ar=_r&&(ne||Ut):Le?Ar=_r&&Ut&&(ne||!tr):He?Ar=_r&&Ut&&!tr&&(ne||!jr):tr||jr?Ar=!1:Ar=ne?xt<=M:xt<M;Ar?he=vt+1:we=vt}return Co(we,N)}function aq(E,M){for(var U=-1,ne=E.length,he=0,we=[];++U<ne;){var Ce=E[U],Le=M?M(Ce):Ce;if(!U||!$c(Le,He)){var He=Le;we[he++]=Ce===0?0:Ce}}return we}function uq(E){return typeof E=="number"?E:cu(E)?l:+E}function uu(E){if(typeof E=="string")return E;if(Lr(E))return Li(E,uu)+"";if(cu(E))return UH?UH.call(E):"";var M=E+"";return M=="0"&&1/E==-1/0?"-0":M}function ep(E,M,U){var ne=-1,he=iE,we=E.length,Ce=!0,Le=[],He=Le;if(U)Ce=!1,he=U8;else if(we>=i){var bt=M?null:i6e(E);if(bt)return oE(bt);Ce=!1,he=vS,He=new Vg}else He=M?[]:Le;e:for(;++ne<we;){var vt=E[ne],xt=M?M(vt):vt;if(vt=U||vt!==0?vt:0,Ce&&xt===xt){for(var Ut=He.length;Ut--;)if(He[Ut]===xt)continue e;M&&He.push(xt),Le.push(vt)}else he(He,xt,U)||(He!==Le&&He.push(xt),Le.push(vt))}return Le}function dC(E,M){return M=tp(M,E),E=Lq(E,M),E==null||delete E[zl(Qu(M))]}function cq(E,M,U,ne){return RS(E,M,U(Yg(E,M)),ne)}function kE(E,M,U,ne){for(var he=E.length,we=ne?he:-1;(ne?we--:++we<he)&&M(E[we],we,E););return U?Xu(E,ne?0:we,ne?we+1:he):Xu(E,ne?we+1:0,ne?he:we)}function lq(E,M){var U=E;return U instanceof un&&(U=U.value()),z8(M,function(ne,he){return he.func.apply(he.thisArg,Zh([ne],he.args))},U)}function hC(E,M,U){var ne=E.length;if(ne<2)return ne?ep(E[0]):[];for(var he=-1,we=at(ne);++he<ne;)for(var Ce=E[he],Le=-1;++Le<ne;)Le!=he&&(we[he]=kS(we[he]||Ce,E[Le],M,U));return ep(mo(we,1),M,U)}function fq(E,M,U){for(var ne=-1,he=E.length,we=M.length,Ce={};++ne<he;){var Le=ne<we?M[ne]:r;U(Ce,E[ne],Le)}return Ce}function pC(E){return us(E)?E:[]}function gC(E){return typeof E=="function"?E:Ca}function tp(E,M){return Lr(E)?E:xC(E,M)?[E]:Uq(zn(E))}var GIe=Jr;function rp(E,M,U){var ne=E.length;return U=U===r?ne:U,!M&&U>=ne?E:Xu(E,M,U)}var dq=OTe||function(E){return go.clearTimeout(E)};function hq(E,M){if(M)return E.slice();var U=E.length,ne=BH?BH(U):new E.constructor(U);return E.copy(ne),ne}function mC(E){var M=new E.constructor(E.byteLength);return new dE(M).set(new dE(E)),M}function YIe(E,M){var U=M?mC(E.buffer):E.buffer;return new E.constructor(U,E.byteOffset,E.byteLength)}function ZIe(E){var M=new E.constructor(E.source,hr.exec(E));return M.lastIndex=E.lastIndex,M}function XIe(E){return xS?li(xS.call(E)):{}}function pq(E,M){var U=M?mC(E.buffer):E.buffer;return new E.constructor(U,E.byteOffset,E.length)}function gq(E,M){if(E!==M){var U=E!==r,ne=E===null,he=E===E,we=cu(E),Ce=M!==r,Le=M===null,He=M===M,bt=cu(M);if(!Le&&!bt&&!we&&E>M||we&&Ce&&He&&!Le&&!bt||ne&&Ce&&He||!U&&He||!he)return 1;if(!ne&&!we&&!bt&&E<M||bt&&U&&he&&!ne&&!we||Le&&U&&he||!Ce&&he||!He)return-1}return 0}function QIe(E,M,U){for(var ne=-1,he=E.criteria,we=M.criteria,Ce=he.length,Le=U.length;++ne<Ce;){var He=gq(he[ne],we[ne]);if(He){if(ne>=Le)return He;var bt=U[ne];return He*(bt=="desc"?-1:1)}}return E.index-M.index}function mq(E,M,U,ne){for(var he=-1,we=E.length,Ce=U.length,Le=-1,He=M.length,bt=Os(we-Ce,0),vt=at(He+bt),xt=!ne;++Le<He;)vt[Le]=M[Le];for(;++he<Ce;)(xt||he<we)&&(vt[U[he]]=E[he]);for(;bt--;)vt[Le++]=E[he++];return vt}function yq(E,M,U,ne){for(var he=-1,we=E.length,Ce=-1,Le=U.length,He=-1,bt=M.length,vt=Os(we-Le,0),xt=at(vt+bt),Ut=!ne;++he<vt;)xt[he]=E[he];for(var tr=he;++He<bt;)xt[tr+He]=M[He];for(;++Ce<Le;)(Ut||he<we)&&(xt[tr+U[Ce]]=E[he++]);return xt}function Ia(E,M){var U=-1,ne=E.length;for(M||(M=at(ne));++U<ne;)M[U]=E[U];return M}function Ul(E,M,U,ne){var he=!U;U||(U={});for(var we=-1,Ce=M.length;++we<Ce;){var Le=M[we],He=ne?ne(U[Le],E[Le],Le,U,E):r;He===r&&(He=E[Le]),he?cd(U,Le,He):ES(U,Le,He)}return U}function JIe(E,M){return Ul(E,AC(E),M)}function e6e(E,M){return Ul(E,Mq(E),M)}function TE(E,M){return function(U,ne){var he=Lr(U)?sTe:_Ie,we=M?M():{};return he(U,E,br(ne,2),we)}}function Ly(E){return Jr(function(M,U){var ne=-1,he=U.length,we=he>1?U[he-1]:r,Ce=he>2?U[2]:r;for(we=E.length>3&&typeof we=="function"?(he--,we):r,Ce&&na(U[0],U[1],Ce)&&(we=he<3?r:we,he=1),M=li(M);++ne<he;){var Le=U[ne];Le&&E(M,Le,ne,we)}return M})}function bq(E,M){return function(U,ne){if(U==null)return U;if(!Ra(U))return E(U,ne);for(var he=U.length,we=M?he:-1,Ce=li(U);(M?we--:++we<he)&&ne(Ce[we],we,Ce)!==!1;);return U}}function vq(E){return function(M,U,ne){for(var he=-1,we=li(M),Ce=ne(M),Le=Ce.length;Le--;){var He=Ce[E?Le:++he];if(U(we[He],He,we)===!1)break}return M}}function t6e(E,M,U){var ne=M&k,he=MS(E);function we(){var Ce=this&&this!==go&&this instanceof we?he:E;return Ce.apply(ne?U:this,arguments)}return we}function wq(E){return function(M){M=zn(M);var U=Ry(M)?Dc(M):r,ne=U?U[0]:M.charAt(0),he=U?rp(U,1).join(""):M.slice(1);return ne[E]()+he}}function Dy(E){return function(M){return z8(bV(yV(M).replace(H3e,"")),E,"")}}function MS(E){return function(){var M=arguments;switch(M.length){case 0:return new E;case 1:return new E(M[0]);case 2:return new E(M[0],M[1]);case 3:return new E(M[0],M[1],M[2]);case 4:return new E(M[0],M[1],M[2],M[3]);case 5:return new E(M[0],M[1],M[2],M[3],M[4]);case 6:return new E(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new E(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var U=Oy(E.prototype),ne=E.apply(U,M);return Ki(ne)?ne:U}}function r6e(E,M,U){var ne=MS(E);function he(){for(var we=arguments.length,Ce=at(we),Le=we,He=Fy(he);Le--;)Ce[Le]=arguments[Le];var bt=we<3&&Ce[0]!==He&&Ce[we-1]!==He?[]:Xh(Ce,He);if(we-=bt.length,we<U)return Eq(E,M,IE,he.placeholder,r,Ce,bt,r,r,U-we);var vt=this&&this!==go&&this instanceof he?ne:E;return ou(vt,this,Ce)}return he}function Sq(E){return function(M,U,ne){var he=li(M);if(!Ra(M)){var we=br(U,3);M=qs(M),U=function(Le){return we(he[Le],Le,he)}}var Ce=E(M,U,ne);return Ce>-1?he[we?M[Ce]:Ce]:r}}function _q(E){return fd(function(M){var U=M.length,ne=U,he=Yu.prototype.thru;for(E&&M.reverse();ne--;){var we=M[ne];if(typeof we!="function")throw new Gu(o);if(he&&!Ce&&PE(we)=="wrapper")var Ce=new Yu([],!0)}for(ne=Ce?ne:U;++ne<U;){we=M[ne];var Le=PE(we),He=Le=="wrapper"?SC(we):r;He&&EC(He[0])&&He[1]==(Y|P|q|X)&&!He[4].length&&He[9]==1?Ce=Ce[PE(He[0])].apply(Ce,He[3]):Ce=we.length==1&&EC(we)?Ce[Le]():Ce.thru(we)}return function(){var bt=arguments,vt=bt[0];if(Ce&&bt.length==1&&Lr(vt))return Ce.plant(vt).value();for(var xt=0,Ut=U?M[xt].apply(this,bt):vt;++xt<U;)Ut=M[xt].call(this,Ut);return Ut}})}function IE(E,M,U,ne,he,we,Ce,Le,He,bt){var vt=M&Y,xt=M&k,Ut=M&R,tr=M&(P|O),_r=M&Z,jr=Ut?r:MS(E);function Ar(){for(var rn=arguments.length,dn=at(rn),lu=rn;lu--;)dn[lu]=arguments[lu];if(tr)var ia=Fy(Ar),fu=pTe(dn,ia);if(ne&&(dn=mq(dn,ne,he,tr)),we&&(dn=yq(dn,we,Ce,tr)),rn-=fu,tr&&rn<bt){var cs=Xh(dn,ia);return Eq(E,M,IE,Ar.placeholder,U,dn,cs,Le,He,bt-rn)}var Uc=xt?U:this,gd=Ut?Uc[E]:E;return rn=dn.length,Le?dn=_6e(dn,Le):_r&&rn>1&&dn.reverse(),vt&&He<rn&&(dn.length=He),this&&this!==go&&this instanceof Ar&&(gd=jr||MS(gd)),gd.apply(Uc,dn)}return Ar}function Aq(E,M){return function(U,ne){return MIe(U,E,M(ne),{})}}function RE(E,M){return function(U,ne){var he;if(U===r&&ne===r)return M;if(U!==r&&(he=U),ne!==r){if(he===r)return ne;typeof U=="string"||typeof ne=="string"?(U=uu(U),ne=uu(ne)):(U=uq(U),ne=uq(ne)),he=E(U,ne)}return he}}function yC(E){return fd(function(M){return M=Li(M,au(br())),Jr(function(U){var ne=this;return E(M,function(he){return ou(he,ne,U)})})})}function ME(E,M){M=M===r?" ":uu(M);var U=M.length;if(U<2)return U?lC(M,E):M;var ne=lC(M,mE(E/My(M)));return Ry(M)?rp(Dc(ne),0,E).join(""):ne.slice(0,E)}function n6e(E,M,U,ne){var he=M&k,we=MS(E);function Ce(){for(var Le=-1,He=arguments.length,bt=-1,vt=ne.length,xt=at(vt+He),Ut=this&&this!==go&&this instanceof Ce?we:E;++bt<vt;)xt[bt]=ne[bt];for(;He--;)xt[bt++]=arguments[++Le];return ou(Ut,he?U:this,xt)}return Ce}function xq(E){return function(M,U,ne){return ne&&typeof ne!="number"&&na(M,U,ne)&&(U=ne=r),M=pd(M),U===r?(U=M,M=0):U=pd(U),ne=ne===r?M<U?1:-1:pd(ne),WIe(M,U,ne,E)}}function CE(E){return function(M,U){return typeof M=="string"&&typeof U=="string"||(M=Ju(M),U=Ju(U)),E(M,U)}}function Eq(E,M,U,ne,he,we,Ce,Le,He,bt){var vt=M&P,xt=vt?Ce:r,Ut=vt?r:Ce,tr=vt?we:r,_r=vt?r:we;M|=vt?q:Q,M&=~(vt?Q:q),M&C||(M&=-4);var jr=[E,M,he,tr,xt,_r,Ut,Le,He,bt],Ar=U.apply(r,jr);return EC(E)&&Dq(Ar,jr),Ar.placeholder=ne,Fq(Ar,E,M)}function bC(E){var M=Bs[E];return function(U,ne){if(U=Ju(U),ne=ne==null?0:Co(Ur(ne),292),ne&&FH(U)){var he=(zn(U)+"e").split("e"),we=M(he[0]+"e"+(+he[1]+ne));return he=(zn(we)+"e").split("e"),+(he[0]+"e"+(+he[1]-ne))}return M(U)}}var i6e=Ny&&1/oE(new Ny([,-0]))[1]==_?function(E){return new Ny(E)}:UC;function kq(E){return function(M){var U=Po(M);return U==Te?G8(M):U==_e?STe(M):hTe(M,E(M))}}function ld(E,M,U,ne,he,we,Ce,Le){var He=M&R;if(!He&&typeof E!="function")throw new Gu(o);var bt=ne?ne.length:0;if(bt||(M&=-97,ne=he=r),Ce=Ce===r?Ce:Os(Ur(Ce),0),Le=Le===r?Le:Ur(Le),bt-=he?he.length:0,M&Q){var vt=ne,xt=he;ne=he=r}var Ut=He?r:SC(E),tr=[E,M,U,ne,he,vt,xt,we,Ce,Le];if(Ut&&v6e(tr,Ut),E=tr[0],M=tr[1],U=tr[2],ne=tr[3],he=tr[4],Le=tr[9]=tr[9]===r?He?0:E.length:Os(tr[9]-bt,0),!Le&&M&(P|O)&&(M&=-25),!M||M==k)var _r=t6e(E,M,U);else M==P||M==O?_r=r6e(E,M,Le):(M==q||M==(k|q))&&!he.length?_r=n6e(E,M,U,ne):_r=IE.apply(r,tr);var jr=Ut?oq:Dq;return Fq(jr(_r,tr),E,M)}function Tq(E,M,U,ne){return E===r||$c(E,Py[U])&&!ei.call(ne,U)?M:E}function Iq(E,M,U,ne,he,we){return Ki(E)&&Ki(M)&&(we.set(M,E),xE(E,M,r,Iq,we),we.delete(M)),E}function s6e(E){return NS(E)?r:E}function Rq(E,M,U,ne,he,we){var Ce=U&A,Le=E.length,He=M.length;if(Le!=He&&!(Ce&&He>Le))return!1;var bt=we.get(E),vt=we.get(M);if(bt&&vt)return bt==M&&vt==E;var xt=-1,Ut=!0,tr=U&x?new Vg:r;for(we.set(E,M),we.set(M,E);++xt<Le;){var _r=E[xt],jr=M[xt];if(ne)var Ar=Ce?ne(jr,_r,xt,M,E,we):ne(_r,jr,xt,E,M,we);if(Ar!==r){if(Ar)continue;Ut=!1;break}if(tr){if(!W8(M,function(rn,dn){if(!vS(tr,dn)&&(_r===rn||he(_r,rn,U,ne,we)))return tr.push(dn)})){Ut=!1;break}}else if(!(_r===jr||he(_r,jr,U,ne,we))){Ut=!1;break}}return we.delete(E),we.delete(M),Ut}function o6e(E,M,U,ne,he,we,Ce){switch(U){case j:if(E.byteLength!=M.byteLength||E.byteOffset!=M.byteOffset)return!1;E=E.buffer,M=M.buffer;case se:return!(E.byteLength!=M.byteLength||!we(new dE(E),new dE(M)));case G:case te:case Re:return $c(+E,+M);case J:return E.name==M.name&&E.message==M.message;case Oe:case Ne:return E==M+"";case Te:var Le=G8;case _e:var He=ne&A;if(Le||(Le=oE),E.size!=M.size&&!He)return!1;var bt=Ce.get(E);if(bt)return bt==M;ne|=x,Ce.set(E,M);var vt=Rq(Le(E),Le(M),ne,he,we,Ce);return Ce.delete(E),vt;case wt:if(xS)return xS.call(E)==xS.call(M)}return!1}function a6e(E,M,U,ne,he,we){var Ce=U&A,Le=vC(E),He=Le.length,bt=vC(M),vt=bt.length;if(He!=vt&&!Ce)return!1;for(var xt=He;xt--;){var Ut=Le[xt];if(!(Ce?Ut in M:ei.call(M,Ut)))return!1}var tr=we.get(E),_r=we.get(M);if(tr&&_r)return tr==M&&_r==E;var jr=!0;we.set(E,M),we.set(M,E);for(var Ar=Ce;++xt<He;){Ut=Le[xt];var rn=E[Ut],dn=M[Ut];if(ne)var lu=Ce?ne(dn,rn,Ut,M,E,we):ne(rn,dn,Ut,E,M,we);if(!(lu===r?rn===dn||he(rn,dn,U,ne,we):lu)){jr=!1;break}Ar||(Ar=Ut=="constructor")}if(jr&&!Ar){var ia=E.constructor,fu=M.constructor;ia!=fu&&"constructor"in E&&"constructor"in M&&!(typeof ia=="function"&&ia instanceof ia&&typeof fu=="function"&&fu instanceof fu)&&(jr=!1)}return we.delete(E),we.delete(M),jr}function fd(E){return TC(Oq(E,r,jq),E+"")}function vC(E){return YH(E,qs,AC)}function wC(E){return YH(E,Ma,Mq)}var SC=bE?function(E){return bE.get(E)}:UC;function PE(E){for(var M=E.name+"",U=By[M],ne=ei.call(By,M)?U.length:0;ne--;){var he=U[ne],we=he.func;if(we==null||we==E)return he.name}return M}function Fy(E){var M=ei.call(be,"placeholder")?be:E;return M.placeholder}function br(){var E=be.iteratee||FC;return E=E===FC?QH:E,arguments.length?E(arguments[0],arguments[1]):E}function NE(E,M){var U=E.__data__;return g6e(M)?U[typeof M=="string"?"string":"hash"]:U.map}function _C(E){for(var M=qs(E),U=M.length;U--;){var ne=M[U],he=E[ne];M[U]=[ne,he,Nq(he)]}return M}function Zg(E,M){var U=bTe(E,M);return XH(U)?U:r}function u6e(E){var M=ei.call(E,Hg),U=E[Hg];try{E[Hg]=r;var ne=!0}catch{}var he=lE.call(E);return ne&&(M?E[Hg]=U:delete E[Hg]),he}var AC=Z8?function(E){return E==null?[]:(E=li(E),Yh(Z8(E),function(M){return LH.call(E,M)}))}:zC,Mq=Z8?function(E){for(var M=[];E;)Zh(M,AC(E)),E=hE(E);return M}:zC,Po=ra;(X8&&Po(new X8(new ArrayBuffer(1)))!=j||SS&&Po(new SS)!=Te||Q8&&Po(Q8.resolve())!=ae||Ny&&Po(new Ny)!=_e||_S&&Po(new _S)!=ye)&&(Po=function(E){var M=ra(E),U=M==oe?E.constructor:r,ne=U?Xg(U):"";if(ne)switch(ne){case jTe:return j;case HTe:return Te;case qTe:return ae;case VTe:return _e;case GTe:return ye}return M});function c6e(E,M,U){for(var ne=-1,he=U.length;++ne<he;){var we=U[ne],Ce=we.size;switch(we.type){case"drop":E+=Ce;break;case"dropRight":M-=Ce;break;case"take":M=Co(M,E+Ce);break;case"takeRight":E=Os(E,M-Ce);break}}return{start:E,end:M}}function l6e(E){var M=E.match(Mr);return M?M[1].split(rt):[]}function Cq(E,M,U){M=tp(M,E);for(var ne=-1,he=M.length,we=!1;++ne<he;){var Ce=zl(M[ne]);if(!(we=E!=null&&U(E,Ce)))break;E=E[Ce]}return we||++ne!=he?we:(he=E==null?0:E.length,!!he&&UE(he)&&dd(Ce,he)&&(Lr(E)||Qg(E)))}function f6e(E){var M=E.length,U=new E.constructor(M);return M&&typeof E[0]=="string"&&ei.call(E,"index")&&(U.index=E.index,U.input=E.input),U}function Pq(E){return typeof E.constructor=="function"&&!CS(E)?Oy(hE(E)):{}}function d6e(E,M,U){var ne=E.constructor;switch(M){case se:return mC(E);case G:case te:return new ne(+E);case j:return YIe(E,U);case re:case ue:case me:case Be:case Ae:case ze:case $t:case Ke:case qe:return pq(E,U);case Te:return new ne;case Re:case Ne:return new ne(E);case Oe:return ZIe(E);case _e:return new ne;case wt:return XIe(E)}}function h6e(E,M){var U=M.length;if(!U)return E;var ne=U-1;return M[ne]=(U>1?"& ":"")+M[ne],M=M.join(U>2?", ":" "),E.replace(ht,`{
/* [wrapped with `+M+`] */
`)}function p6e(E){return Lr(E)||Qg(E)||!!(DH&&E&&E[DH])}function dd(E,M){var U=typeof E;return M=M??T,!!M&&(U=="number"||U!="symbol"&&yn.test(E))&&E>-1&&E%1==0&&E<M}function na(E,M,U){if(!Ki(U))return!1;var ne=typeof M;return(ne=="number"?Ra(U)&&dd(M,U.length):ne=="string"&&M in U)?$c(U[M],E):!1}function xC(E,M){if(Lr(E))return!1;var U=typeof E;return U=="number"||U=="symbol"||U=="boolean"||E==null||cu(E)?!0:ft.test(E)||!et.test(E)||M!=null&&E in li(M)}function g6e(E){var M=typeof E;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?E!=="__proto__":E===null}function EC(E){var M=PE(E),U=be[M];if(typeof U!="function"||!(M in un.prototype))return!1;if(E===U)return!0;var ne=SC(U);return!!ne&&E===ne[0]}function m6e(E){return!!NH&&NH in E}var y6e=uE?hd:WC;function CS(E){var M=E&&E.constructor,U=typeof M=="function"&&M.prototype||Py;return E===U}function Nq(E){return E===E&&!Ki(E)}function Bq(E,M){return function(U){return U==null?!1:U[E]===M&&(M!==r||E in li(U))}}function b6e(E){var M=FE(E,function(ne){return U.size===f&&U.clear(),ne}),U=M.cache;return M}function v6e(E,M){var U=E[1],ne=M[1],he=U|ne,we=he<(k|R|Y),Ce=ne==Y&&U==P||ne==Y&&U==X&&E[7].length<=M[8]||ne==(Y|X)&&M[7].length<=M[8]&&U==P;if(!(we||Ce))return E;ne&k&&(E[2]=M[2],he|=U&k?0:C);var Le=M[3];if(Le){var He=E[3];E[3]=He?mq(He,Le,M[4]):Le,E[4]=He?Xh(E[3],d):M[4]}return Le=M[5],Le&&(He=E[5],E[5]=He?yq(He,Le,M[6]):Le,E[6]=He?Xh(E[5],d):M[6]),Le=M[7],Le&&(E[7]=Le),ne&Y&&(E[8]=E[8]==null?M[8]:Co(E[8],M[8])),E[9]==null&&(E[9]=M[9]),E[0]=M[0],E[1]=he,E}function w6e(E){var M=[];if(E!=null)for(var U in li(E))M.push(U);return M}function S6e(E){return lE.call(E)}function Oq(E,M,U){return M=Os(M===r?E.length-1:M,0),function(){for(var ne=arguments,he=-1,we=Os(ne.length-M,0),Ce=at(we);++he<we;)Ce[he]=ne[M+he];he=-1;for(var Le=at(M+1);++he<M;)Le[he]=ne[he];return Le[M]=U(Ce),ou(E,this,Le)}}function Lq(E,M){return M.length<2?E:Yg(E,Xu(M,0,-1))}function _6e(E,M){for(var U=E.length,ne=Co(M.length,U),he=Ia(E);ne--;){var we=M[ne];E[ne]=dd(we,U)?he[we]:r}return E}function kC(E,M){if(!(M==="constructor"&&typeof E[M]=="function")&&M!="__proto__")return E[M]}var Dq=$q(oq),PS=DTe||function(E,M){return go.setTimeout(E,M)},TC=$q(HIe);function Fq(E,M,U){var ne=M+"";return TC(E,h6e(ne,A6e(l6e(ne),U)))}function $q(E){var M=0,U=0;return function(){var ne=zTe(),he=h-(ne-U);if(U=ne,he>0){if(++M>=c)return arguments[0]}else M=0;return E.apply(r,arguments)}}function BE(E,M){var U=-1,ne=E.length,he=ne-1;for(M=M===r?ne:M;++U<M;){var we=cC(U,he),Ce=E[we];E[we]=E[U],E[U]=Ce}return E.length=M,E}var Uq=b6e(function(E){var M=[];return E.charCodeAt(0)===46&&M.push(""),E.replace(Rr,function(U,ne,he,we){M.push(he?we.replace(nt,"$1"):ne||U)}),M});function zl(E){if(typeof E=="string"||cu(E))return E;var M=E+"";return M=="0"&&1/E==-1/0?"-0":M}function Xg(E){if(E!=null){try{return cE.call(E)}catch{}try{return E+""}catch{}}return""}function A6e(E,M){return Vu(W,function(U){var ne="_."+U[0];M&U[1]&&!iE(E,ne)&&E.push(ne)}),E.sort()}function zq(E){if(E instanceof un)return E.clone();var M=new Yu(E.__wrapped__,E.__chain__);return M.__actions__=Ia(E.__actions__),M.__index__=E.__index__,M.__values__=E.__values__,M}function x6e(E,M,U){(U?na(E,M,U):M===r)?M=1:M=Os(Ur(M),0);var ne=E==null?0:E.length;if(!ne||M<1)return[];for(var he=0,we=0,Ce=at(mE(ne/M));he<ne;)Ce[we++]=Xu(E,he,he+=M);return Ce}function E6e(E){for(var M=-1,U=E==null?0:E.length,ne=0,he=[];++M<U;){var we=E[M];we&&(he[ne++]=we)}return he}function k6e(){var E=arguments.length;if(!E)return[];for(var M=at(E-1),U=arguments[0],ne=E;ne--;)M[ne-1]=arguments[ne];return Zh(Lr(U)?Ia(U):[U],mo(M,1))}var T6e=Jr(function(E,M){return us(E)?kS(E,mo(M,1,us,!0)):[]}),I6e=Jr(function(E,M){var U=Qu(M);return us(U)&&(U=r),us(E)?kS(E,mo(M,1,us,!0),br(U,2)):[]}),R6e=Jr(function(E,M){var U=Qu(M);return us(U)&&(U=r),us(E)?kS(E,mo(M,1,us,!0),r,U):[]});function M6e(E,M,U){var ne=E==null?0:E.length;return ne?(M=U||M===r?1:Ur(M),Xu(E,M<0?0:M,ne)):[]}function C6e(E,M,U){var ne=E==null?0:E.length;return ne?(M=U||M===r?1:Ur(M),M=ne-M,Xu(E,0,M<0?0:M)):[]}function P6e(E,M){return E&&E.length?kE(E,br(M,3),!0,!0):[]}function N6e(E,M){return E&&E.length?kE(E,br(M,3),!0):[]}function B6e(E,M,U,ne){var he=E==null?0:E.length;return he?(U&&typeof U!="number"&&na(E,M,U)&&(U=0,ne=he),kIe(E,M,U,ne)):[]}function Wq(E,M,U){var ne=E==null?0:E.length;if(!ne)return-1;var he=U==null?0:Ur(U);return he<0&&(he=Os(ne+he,0)),sE(E,br(M,3),he)}function Kq(E,M,U){var ne=E==null?0:E.length;if(!ne)return-1;var he=ne-1;return U!==r&&(he=Ur(U),he=U<0?Os(ne+he,0):Co(he,ne-1)),sE(E,br(M,3),he,!0)}function jq(E){var M=E==null?0:E.length;return M?mo(E,1):[]}function O6e(E){var M=E==null?0:E.length;return M?mo(E,_):[]}function L6e(E,M){var U=E==null?0:E.length;return U?(M=M===r?1:Ur(M),mo(E,M)):[]}function D6e(E){for(var M=-1,U=E==null?0:E.length,ne={};++M<U;){var he=E[M];ne[he[0]]=he[1]}return ne}function Hq(E){return E&&E.length?E[0]:r}function F6e(E,M,U){var ne=E==null?0:E.length;if(!ne)return-1;var he=U==null?0:Ur(U);return he<0&&(he=Os(ne+he,0)),Iy(E,M,he)}function $6e(E){var M=E==null?0:E.length;return M?Xu(E,0,-1):[]}var U6e=Jr(function(E){var M=Li(E,pC);return M.length&&M[0]===E[0]?iC(M):[]}),z6e=Jr(function(E){var M=Qu(E),U=Li(E,pC);return M===Qu(U)?M=r:U.pop(),U.length&&U[0]===E[0]?iC(U,br(M,2)):[]}),W6e=Jr(function(E){var M=Qu(E),U=Li(E,pC);return M=typeof M=="function"?M:r,M&&U.pop(),U.length&&U[0]===E[0]?iC(U,r,M):[]});function K6e(E,M){return E==null?"":$Te.call(E,M)}function Qu(E){var M=E==null?0:E.length;return M?E[M-1]:r}function j6e(E,M,U){var ne=E==null?0:E.length;if(!ne)return-1;var he=ne;return U!==r&&(he=Ur(U),he=he<0?Os(ne+he,0):Co(he,ne-1)),M===M?ATe(E,M,he):sE(E,EH,he,!0)}function H6e(E,M){return E&&E.length?rq(E,Ur(M)):r}var q6e=Jr(qq);function qq(E,M){return E&&E.length&&M&&M.length?uC(E,M):E}function V6e(E,M,U){return E&&E.length&&M&&M.length?uC(E,M,br(U,2)):E}function G6e(E,M,U){return E&&E.length&&M&&M.length?uC(E,M,r,U):E}var Y6e=fd(function(E,M){var U=E==null?0:E.length,ne=eC(E,M);return sq(E,Li(M,function(he){return dd(he,U)?+he:he}).sort(gq)),ne});function Z6e(E,M){var U=[];if(!(E&&E.length))return U;var ne=-1,he=[],we=E.length;for(M=br(M,3);++ne<we;){var Ce=E[ne];M(Ce,ne,E)&&(U.push(Ce),he.push(ne))}return sq(E,he),U}function IC(E){return E==null?E:KTe.call(E)}function X6e(E,M,U){var ne=E==null?0:E.length;return ne?(U&&typeof U!="number"&&na(E,M,U)?(M=0,U=ne):(M=M==null?0:Ur(M),U=U===r?ne:Ur(U)),Xu(E,M,U)):[]}function Q6e(E,M){return EE(E,M)}function J6e(E,M,U){return fC(E,M,br(U,2))}function e4e(E,M){var U=E==null?0:E.length;if(U){var ne=EE(E,M);if(ne<U&&$c(E[ne],M))return ne}return-1}function t4e(E,M){return EE(E,M,!0)}function r4e(E,M,U){return fC(E,M,br(U,2),!0)}function n4e(E,M){var U=E==null?0:E.length;if(U){var ne=EE(E,M,!0)-1;if($c(E[ne],M))return ne}return-1}function i4e(E){return E&&E.length?aq(E):[]}function s4e(E,M){return E&&E.length?aq(E,br(M,2)):[]}function o4e(E){var M=E==null?0:E.length;return M?Xu(E,1,M):[]}function a4e(E,M,U){return E&&E.length?(M=U||M===r?1:Ur(M),Xu(E,0,M<0?0:M)):[]}function u4e(E,M,U){var ne=E==null?0:E.length;return ne?(M=U||M===r?1:Ur(M),M=ne-M,Xu(E,M<0?0:M,ne)):[]}function c4e(E,M){return E&&E.length?kE(E,br(M,3),!1,!0):[]}function l4e(E,M){return E&&E.length?kE(E,br(M,3)):[]}var f4e=Jr(function(E){return ep(mo(E,1,us,!0))}),d4e=Jr(function(E){var M=Qu(E);return us(M)&&(M=r),ep(mo(E,1,us,!0),br(M,2))}),h4e=Jr(function(E){var M=Qu(E);return M=typeof M=="function"?M:r,ep(mo(E,1,us,!0),r,M)});function p4e(E){return E&&E.length?ep(E):[]}function g4e(E,M){return E&&E.length?ep(E,br(M,2)):[]}function m4e(E,M){return M=typeof M=="function"?M:r,E&&E.length?ep(E,r,M):[]}function RC(E){if(!(E&&E.length))return[];var M=0;return E=Yh(E,function(U){if(us(U))return M=Os(U.length,M),!0}),q8(M,function(U){return Li(E,K8(U))})}function Vq(E,M){if(!(E&&E.length))return[];var U=RC(E);return M==null?U:Li(U,function(ne){return ou(M,r,ne)})}var y4e=Jr(function(E,M){return us(E)?kS(E,M):[]}),b4e=Jr(function(E){return hC(Yh(E,us))}),v4e=Jr(function(E){var M=Qu(E);return us(M)&&(M=r),hC(Yh(E,us),br(M,2))}),w4e=Jr(function(E){var M=Qu(E);return M=typeof M=="function"?M:r,hC(Yh(E,us),r,M)}),S4e=Jr(RC);function _4e(E,M){return fq(E||[],M||[],ES)}function A4e(E,M){return fq(E||[],M||[],RS)}var x4e=Jr(function(E){var M=E.length,U=M>1?E[M-1]:r;return U=typeof U=="function"?(E.pop(),U):r,Vq(E,U)});function Gq(E){var M=be(E);return M.__chain__=!0,M}function E4e(E,M){return M(E),E}function OE(E,M){return M(E)}var k4e=fd(function(E){var M=E.length,U=M?E[0]:0,ne=this.__wrapped__,he=function(we){return eC(we,E)};return M>1||this.__actions__.length||!(ne instanceof un)||!dd(U)?this.thru(he):(ne=ne.slice(U,+U+(M?1:0)),ne.__actions__.push({func:OE,args:[he],thisArg:r}),new Yu(ne,this.__chain__).thru(function(we){return M&&!we.length&&we.push(r),we}))});function T4e(){return Gq(this)}function I4e(){return new Yu(this.value(),this.__chain__)}function R4e(){this.__values__===r&&(this.__values__=uV(this.value()));var E=this.__index__>=this.__values__.length,M=E?r:this.__values__[this.__index__++];return{done:E,value:M}}function M4e(){return this}function C4e(E){for(var M,U=this;U instanceof wE;){var ne=zq(U);ne.__index__=0,ne.__values__=r,M?he.__wrapped__=ne:M=ne;var he=ne;U=U.__wrapped__}return he.__wrapped__=E,M}function P4e(){var E=this.__wrapped__;if(E instanceof un){var M=E;return this.__actions__.length&&(M=new un(this)),M=M.reverse(),M.__actions__.push({func:OE,args:[IC],thisArg:r}),new Yu(M,this.__chain__)}return this.thru(IC)}function N4e(){return lq(this.__wrapped__,this.__actions__)}var B4e=TE(function(E,M,U){ei.call(E,U)?++E[U]:cd(E,U,1)});function O4e(E,M,U){var ne=Lr(E)?AH:EIe;return U&&na(E,M,U)&&(M=r),ne(E,br(M,3))}function L4e(E,M){var U=Lr(E)?Yh:VH;return U(E,br(M,3))}var D4e=Sq(Wq),F4e=Sq(Kq);function $4e(E,M){return mo(LE(E,M),1)}function U4e(E,M){return mo(LE(E,M),_)}function z4e(E,M,U){return U=U===r?1:Ur(U),mo(LE(E,M),U)}function Yq(E,M){var U=Lr(E)?Vu:Jh;return U(E,br(M,3))}function Zq(E,M){var U=Lr(E)?oTe:qH;return U(E,br(M,3))}var W4e=TE(function(E,M,U){ei.call(E,U)?E[U].push(M):cd(E,U,[M])});function K4e(E,M,U,ne){E=Ra(E)?E:Uy(E),U=U&&!ne?Ur(U):0;var he=E.length;return U<0&&(U=Os(he+U,0)),zE(E)?U<=he&&E.indexOf(M,U)>-1:!!he&&Iy(E,M,U)>-1}var j4e=Jr(function(E,M,U){var ne=-1,he=typeof M=="function",we=Ra(E)?at(E.length):[];return Jh(E,function(Ce){we[++ne]=he?ou(M,Ce,U):TS(Ce,M,U)}),we}),H4e=TE(function(E,M,U){cd(E,U,M)});function LE(E,M){var U=Lr(E)?Li:JH;return U(E,br(M,3))}function q4e(E,M,U,ne){return E==null?[]:(Lr(M)||(M=M==null?[]:[M]),U=ne?r:U,Lr(U)||(U=U==null?[]:[U]),nq(E,M,U))}var V4e=TE(function(E,M,U){E[U?0:1].push(M)},function(){return[[],[]]});function G4e(E,M,U){var ne=Lr(E)?z8:TH,he=arguments.length<3;return ne(E,br(M,4),U,he,Jh)}function Y4e(E,M,U){var ne=Lr(E)?aTe:TH,he=arguments.length<3;return ne(E,br(M,4),U,he,qH)}function Z4e(E,M){var U=Lr(E)?Yh:VH;return U(E,$E(br(M,3)))}function X4e(E){var M=Lr(E)?WH:KIe;return M(E)}function Q4e(E,M,U){(U?na(E,M,U):M===r)?M=1:M=Ur(M);var ne=Lr(E)?wIe:jIe;return ne(E,M)}function J4e(E){var M=Lr(E)?SIe:qIe;return M(E)}function eRe(E){if(E==null)return 0;if(Ra(E))return zE(E)?My(E):E.length;var M=Po(E);return M==Te||M==_e?E.size:oC(E).length}function tRe(E,M,U){var ne=Lr(E)?W8:VIe;return U&&na(E,M,U)&&(M=r),ne(E,br(M,3))}var rRe=Jr(function(E,M){if(E==null)return[];var U=M.length;return U>1&&na(E,M[0],M[1])?M=[]:U>2&&na(M[0],M[1],M[2])&&(M=[M[0]]),nq(E,mo(M,1),[])}),DE=LTe||function(){return go.Date.now()};function nRe(E,M){if(typeof M!="function")throw new Gu(o);return E=Ur(E),function(){if(--E<1)return M.apply(this,arguments)}}function Xq(E,M,U){return M=U?r:M,M=E&&M==null?E.length:M,ld(E,Y,r,r,r,r,M)}function Qq(E,M){var U;if(typeof M!="function")throw new Gu(o);return E=Ur(E),function(){return--E>0&&(U=M.apply(this,arguments)),E<=1&&(M=r),U}}var MC=Jr(function(E,M,U){var ne=k;if(U.length){var he=Xh(U,Fy(MC));ne|=q}return ld(E,ne,M,U,he)}),Jq=Jr(function(E,M,U){var ne=k|R;if(U.length){var he=Xh(U,Fy(Jq));ne|=q}return ld(M,ne,E,U,he)});function eV(E,M,U){M=U?r:M;var ne=ld(E,P,r,r,r,r,r,M);return ne.placeholder=eV.placeholder,ne}function tV(E,M,U){M=U?r:M;var ne=ld(E,O,r,r,r,r,r,M);return ne.placeholder=tV.placeholder,ne}function rV(E,M,U){var ne,he,we,Ce,Le,He,bt=0,vt=!1,xt=!1,Ut=!0;if(typeof E!="function")throw new Gu(o);M=Ju(M)||0,Ki(U)&&(vt=!!U.leading,xt="maxWait"in U,we=xt?Os(Ju(U.maxWait)||0,M):we,Ut="trailing"in U?!!U.trailing:Ut);function tr(cs){var Uc=ne,gd=he;return ne=he=r,bt=cs,Ce=E.apply(gd,Uc),Ce}function _r(cs){return bt=cs,Le=PS(rn,M),vt?tr(cs):Ce}function jr(cs){var Uc=cs-He,gd=cs-bt,SV=M-Uc;return xt?Co(SV,we-gd):SV}function Ar(cs){var Uc=cs-He,gd=cs-bt;return He===r||Uc>=M||Uc<0||xt&&gd>=we}function rn(){var cs=DE();if(Ar(cs))return dn(cs);Le=PS(rn,jr(cs))}function dn(cs){return Le=r,Ut&&ne?tr(cs):(ne=he=r,Ce)}function lu(){Le!==r&&dq(Le),bt=0,ne=He=he=Le=r}function ia(){return Le===r?Ce:dn(DE())}function fu(){var cs=DE(),Uc=Ar(cs);if(ne=arguments,he=this,He=cs,Uc){if(Le===r)return _r(He);if(xt)return dq(Le),Le=PS(rn,M),tr(He)}return Le===r&&(Le=PS(rn,M)),Ce}return fu.cancel=lu,fu.flush=ia,fu}var iRe=Jr(function(E,M){return HH(E,1,M)}),sRe=Jr(function(E,M,U){return HH(E,Ju(M)||0,U)});function oRe(E){return ld(E,Z)}function FE(E,M){if(typeof E!="function"||M!=null&&typeof M!="function")throw new Gu(o);var U=function(){var ne=arguments,he=M?M.apply(this,ne):ne[0],we=U.cache;if(we.has(he))return we.get(he);var Ce=E.apply(this,ne);return U.cache=we.set(he,Ce)||we,Ce};return U.cache=new(FE.Cache||ud),U}FE.Cache=ud;function $E(E){if(typeof E!="function")throw new Gu(o);return function(){var M=arguments;switch(M.length){case 0:return!E.call(this);case 1:return!E.call(this,M[0]);case 2:return!E.call(this,M[0],M[1]);case 3:return!E.call(this,M[0],M[1],M[2])}return!E.apply(this,M)}}function aRe(E){return Qq(2,E)}var uRe=GIe(function(E,M){M=M.length==1&&Lr(M[0])?Li(M[0],au(br())):Li(mo(M,1),au(br()));var U=M.length;return Jr(function(ne){for(var he=-1,we=Co(ne.length,U);++he<we;)ne[he]=M[he].call(this,ne[he]);return ou(E,this,ne)})}),CC=Jr(function(E,M){var U=Xh(M,Fy(CC));return ld(E,q,r,M,U)}),nV=Jr(function(E,M){var U=Xh(M,Fy(nV));return ld(E,Q,r,M,U)}),cRe=fd(function(E,M){return ld(E,X,r,r,r,M)});function lRe(E,M){if(typeof E!="function")throw new Gu(o);return M=M===r?M:Ur(M),Jr(E,M)}function fRe(E,M){if(typeof E!="function")throw new Gu(o);return M=M==null?0:Os(Ur(M),0),Jr(function(U){var ne=U[M],he=rp(U,0,M);return ne&&Zh(he,ne),ou(E,this,he)})}function dRe(E,M,U){var ne=!0,he=!0;if(typeof E!="function")throw new Gu(o);return Ki(U)&&(ne="leading"in U?!!U.leading:ne,he="trailing"in U?!!U.trailing:he),rV(E,M,{leading:ne,maxWait:M,trailing:he})}function hRe(E){return Xq(E,1)}function pRe(E,M){return CC(gC(M),E)}function gRe(){if(!arguments.length)return[];var E=arguments[0];return Lr(E)?E:[E]}function mRe(E){return Zu(E,b)}function yRe(E,M){return M=typeof M=="function"?M:r,Zu(E,b,M)}function bRe(E){return Zu(E,g|b)}function vRe(E,M){return M=typeof M=="function"?M:r,Zu(E,g|b,M)}function wRe(E,M){return M==null||jH(E,M,qs(M))}function $c(E,M){return E===M||E!==E&&M!==M}var SRe=CE(nC),_Re=CE(function(E,M){return E>=M}),Qg=ZH(function(){return arguments}())?ZH:function(E){return Qi(E)&&ei.call(E,"callee")&&!LH.call(E,"callee")},Lr=at.isArray,ARe=yH?au(yH):CIe;function Ra(E){return E!=null&&UE(E.length)&&!hd(E)}function us(E){return Qi(E)&&Ra(E)}function xRe(E){return E===!0||E===!1||Qi(E)&&ra(E)==G}var np=FTe||WC,ERe=bH?au(bH):PIe;function kRe(E){return Qi(E)&&E.nodeType===1&&!NS(E)}function TRe(E){if(E==null)return!0;if(Ra(E)&&(Lr(E)||typeof E=="string"||typeof E.splice=="function"||np(E)||$y(E)||Qg(E)))return!E.length;var M=Po(E);if(M==Te||M==_e)return!E.size;if(CS(E))return!oC(E).length;for(var U in E)if(ei.call(E,U))return!1;return!0}function IRe(E,M){return IS(E,M)}function RRe(E,M,U){U=typeof U=="function"?U:r;var ne=U?U(E,M):r;return ne===r?IS(E,M,r,U):!!ne}function PC(E){if(!Qi(E))return!1;var M=ra(E);return M==J||M==ie||typeof E.message=="string"&&typeof E.name=="string"&&!NS(E)}function MRe(E){return typeof E=="number"&&FH(E)}function hd(E){if(!Ki(E))return!1;var M=ra(E);return M==V||M==fe||M==z||M==ce}function iV(E){return typeof E=="number"&&E==Ur(E)}function UE(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=T}function Ki(E){var M=typeof E;return E!=null&&(M=="object"||M=="function")}function Qi(E){return E!=null&&typeof E=="object"}var sV=vH?au(vH):BIe;function CRe(E,M){return E===M||sC(E,M,_C(M))}function PRe(E,M,U){return U=typeof U=="function"?U:r,sC(E,M,_C(M),U)}function NRe(E){return oV(E)&&E!=+E}function BRe(E){if(y6e(E))throw new Or(s);return XH(E)}function ORe(E){return E===null}function LRe(E){return E==null}function oV(E){return typeof E=="number"||Qi(E)&&ra(E)==Re}function NS(E){if(!Qi(E)||ra(E)!=oe)return!1;var M=hE(E);if(M===null)return!0;var U=ei.call(M,"constructor")&&M.constructor;return typeof U=="function"&&U instanceof U&&cE.call(U)==PTe}var NC=wH?au(wH):OIe;function DRe(E){return iV(E)&&E>=-9007199254740991&&E<=T}var aV=SH?au(SH):LIe;function zE(E){return typeof E=="string"||!Lr(E)&&Qi(E)&&ra(E)==Ne}function cu(E){return typeof E=="symbol"||Qi(E)&&ra(E)==wt}var $y=_H?au(_H):DIe;function FRe(E){return E===r}function $Re(E){return Qi(E)&&Po(E)==ye}function URe(E){return Qi(E)&&ra(E)==Ge}var zRe=CE(aC),WRe=CE(function(E,M){return E<=M});function uV(E){if(!E)return[];if(Ra(E))return zE(E)?Dc(E):Ia(E);if(wS&&E[wS])return wTe(E[wS]());var M=Po(E),U=M==Te?G8:M==_e?oE:Uy;return U(E)}function pd(E){if(!E)return E===0?E:0;if(E=Ju(E),E===_||E===-1/0){var M=E<0?-1:1;return M*w}return E===E?E:0}function Ur(E){var M=pd(E),U=M%1;return M===M?U?M-U:M:0}function cV(E){return E?Gg(Ur(E),0,S):0}function Ju(E){if(typeof E=="number")return E;if(cu(E))return l;if(Ki(E)){var M=typeof E.valueOf=="function"?E.valueOf():E;E=Ki(M)?M+"":M}if(typeof E!="string")return E===0?E:+E;E=IH(E);var U=pn.test(E);return U||mn.test(E)?nTe(E.slice(2),U?2:8):yr.test(E)?l:+E}function lV(E){return Ul(E,Ma(E))}function KRe(E){return E?Gg(Ur(E),-9007199254740991,T):E===0?E:0}function zn(E){return E==null?"":uu(E)}var jRe=Ly(function(E,M){if(CS(M)||Ra(M)){Ul(M,qs(M),E);return}for(var U in M)ei.call(M,U)&&ES(E,U,M[U])}),fV=Ly(function(E,M){Ul(M,Ma(M),E)}),WE=Ly(function(E,M,U,ne){Ul(M,Ma(M),E,ne)}),HRe=Ly(function(E,M,U,ne){Ul(M,qs(M),E,ne)}),qRe=fd(eC);function VRe(E,M){var U=Oy(E);return M==null?U:KH(U,M)}var GRe=Jr(function(E,M){E=li(E);var U=-1,ne=M.length,he=ne>2?M[2]:r;for(he&&na(M[0],M[1],he)&&(ne=1);++U<ne;)for(var we=M[U],Ce=Ma(we),Le=-1,He=Ce.length;++Le<He;){var bt=Ce[Le],vt=E[bt];(vt===r||$c(vt,Py[bt])&&!ei.call(E,bt))&&(E[bt]=we[bt])}return E}),YRe=Jr(function(E){return E.push(r,Iq),ou(dV,r,E)});function ZRe(E,M){return xH(E,br(M,3),$l)}function XRe(E,M){return xH(E,br(M,3),rC)}function QRe(E,M){return E==null?E:tC(E,br(M,3),Ma)}function JRe(E,M){return E==null?E:GH(E,br(M,3),Ma)}function eMe(E,M){return E&&$l(E,br(M,3))}function tMe(E,M){return E&&rC(E,br(M,3))}function rMe(E){return E==null?[]:AE(E,qs(E))}function nMe(E){return E==null?[]:AE(E,Ma(E))}function BC(E,M,U){var ne=E==null?r:Yg(E,M);return ne===r?U:ne}function iMe(E,M){return E!=null&&Cq(E,M,TIe)}function OC(E,M){return E!=null&&Cq(E,M,IIe)}var sMe=Aq(function(E,M,U){M!=null&&typeof M.toString!="function"&&(M=lE.call(M)),E[M]=U},DC(Ca)),oMe=Aq(function(E,M,U){M!=null&&typeof M.toString!="function"&&(M=lE.call(M)),ei.call(E,M)?E[M].push(U):E[M]=[U]},br),aMe=Jr(TS);function qs(E){return Ra(E)?zH(E):oC(E)}function Ma(E){return Ra(E)?zH(E,!0):FIe(E)}function uMe(E,M){var U={};return M=br(M,3),$l(E,function(ne,he,we){cd(U,M(ne,he,we),ne)}),U}function cMe(E,M){var U={};return M=br(M,3),$l(E,function(ne,he,we){cd(U,he,M(ne,he,we))}),U}var lMe=Ly(function(E,M,U){xE(E,M,U)}),dV=Ly(function(E,M,U,ne){xE(E,M,U,ne)}),fMe=fd(function(E,M){var U={};if(E==null)return U;var ne=!1;M=Li(M,function(we){return we=tp(we,E),ne||(ne=we.length>1),we}),Ul(E,wC(E),U),ne&&(U=Zu(U,g|y|b,s6e));for(var he=M.length;he--;)dC(U,M[he]);return U});function dMe(E,M){return hV(E,$E(br(M)))}var hMe=fd(function(E,M){return E==null?{}:UIe(E,M)});function hV(E,M){if(E==null)return{};var U=Li(wC(E),function(ne){return[ne]});return M=br(M),iq(E,U,function(ne,he){return M(ne,he[0])})}function pMe(E,M,U){M=tp(M,E);var ne=-1,he=M.length;for(he||(he=1,E=r);++ne<he;){var we=E==null?r:E[zl(M[ne])];we===r&&(ne=he,we=U),E=hd(we)?we.call(E):we}return E}function gMe(E,M,U){return E==null?E:RS(E,M,U)}function mMe(E,M,U,ne){return ne=typeof ne=="function"?ne:r,E==null?E:RS(E,M,U,ne)}var pV=kq(qs),gV=kq(Ma);function yMe(E,M,U){var ne=Lr(E),he=ne||np(E)||$y(E);if(M=br(M,4),U==null){var we=E&&E.constructor;he?U=ne?new we:[]:Ki(E)?U=hd(we)?Oy(hE(E)):{}:U={}}return(he?Vu:$l)(E,function(Ce,Le,He){return M(U,Ce,Le,He)}),U}function bMe(E,M){return E==null?!0:dC(E,M)}function vMe(E,M,U){return E==null?E:cq(E,M,gC(U))}function wMe(E,M,U,ne){return ne=typeof ne=="function"?ne:r,E==null?E:cq(E,M,gC(U),ne)}function Uy(E){return E==null?[]:V8(E,qs(E))}function SMe(E){return E==null?[]:V8(E,Ma(E))}function _Me(E,M,U){return U===r&&(U=M,M=r),U!==r&&(U=Ju(U),U=U===U?U:0),M!==r&&(M=Ju(M),M=M===M?M:0),Gg(Ju(E),M,U)}function AMe(E,M,U){return M=pd(M),U===r?(U=M,M=0):U=pd(U),E=Ju(E),RIe(E,M,U)}function xMe(E,M,U){if(U&&typeof U!="boolean"&&na(E,M,U)&&(M=U=r),U===r&&(typeof M=="boolean"?(U=M,M=r):typeof E=="boolean"&&(U=E,E=r)),E===r&&M===r?(E=0,M=1):(E=pd(E),M===r?(M=E,E=0):M=pd(M)),E>M){var ne=E;E=M,M=ne}if(U||E%1||M%1){var he=$H();return Co(E+he*(M-E+rTe("1e-"+((he+"").length-1))),M)}return cC(E,M)}var EMe=Dy(function(E,M,U){return M=M.toLowerCase(),E+(U?mV(M):M)});function mV(E){return LC(zn(E).toLowerCase())}function yV(E){return E=zn(E),E&&E.replace(bn,gTe).replace(q3e,"")}function kMe(E,M,U){E=zn(E),M=uu(M);var ne=E.length;U=U===r?ne:Gg(Ur(U),0,ne);var he=U;return U-=M.length,U>=0&&E.slice(U,he)==M}function TMe(E){return E=zn(E),E&&Ir.test(E)?E.replace(Qe,mTe):E}function IMe(E){return E=zn(E),E&&dt.test(E)?E.replace(Xe,"\\$&"):E}var RMe=Dy(function(E,M,U){return E+(U?"-":"")+M.toLowerCase()}),MMe=Dy(function(E,M,U){return E+(U?" ":"")+M.toLowerCase()}),CMe=wq("toLowerCase");function PMe(E,M,U){E=zn(E),M=Ur(M);var ne=M?My(E):0;if(!M||ne>=M)return E;var he=(M-ne)/2;return ME(yE(he),U)+E+ME(mE(he),U)}function NMe(E,M,U){E=zn(E),M=Ur(M);var ne=M?My(E):0;return M&&ne<M?E+ME(M-ne,U):E}function BMe(E,M,U){E=zn(E),M=Ur(M);var ne=M?My(E):0;return M&&ne<M?ME(M-ne,U)+E:E}function OMe(E,M,U){return U||M==null?M=0:M&&(M=+M),WTe(zn(E).replace(Er,""),M||0)}function LMe(E,M,U){return(U?na(E,M,U):M===r)?M=1:M=Ur(M),lC(zn(E),M)}function DMe(){var E=arguments,M=zn(E[0]);return E.length<3?M:M.replace(E[1],E[2])}var FMe=Dy(function(E,M,U){return E+(U?"_":"")+M.toLowerCase()});function $Me(E,M,U){return U&&typeof U!="number"&&na(E,M,U)&&(M=U=r),U=U===r?S:U>>>0,U?(E=zn(E),E&&(typeof M=="string"||M!=null&&!NC(M))&&(M=uu(M),!M&&Ry(E))?rp(Dc(E),0,U):E.split(M,U)):[]}var UMe=Dy(function(E,M,U){return E+(U?" ":"")+LC(M)});function zMe(E,M,U){return E=zn(E),U=U==null?0:Gg(Ur(U),0,E.length),M=uu(M),E.slice(U,U+M.length)==M}function WMe(E,M,U){var ne=be.templateSettings;U&&na(E,M,U)&&(M=r),E=zn(E),M=WE({},M,ne,Tq);var he=WE({},M.imports,ne.imports,Tq),we=qs(he),Ce=V8(he,we),Le,He,bt=0,vt=M.interpolate||Tn,xt="__p += '",Ut=Y8((M.escape||Tn).source+"|"+vt.source+"|"+(vt===Tr?gt:Tn).source+"|"+(M.evaluate||Tn).source+"|$","g"),tr="//# sourceURL="+(ei.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++X3e+"]")+`
`;E.replace(Ut,function(Ar,rn,dn,lu,ia,fu){return dn||(dn=lu),xt+=E.slice(bt,fu).replace(Vn,yTe),rn&&(Le=!0,xt+=`' +
__e(`+rn+`) +
'`),ia&&(He=!0,xt+=`';
`+ia+`;
__p += '`),dn&&(xt+=`' +
((__t = (`+dn+`)) == null ? '' : __t) +
'`),bt=fu+Ar.length,Ar}),xt+=`';
`;var _r=ei.call(M,"variable")&&M.variable;if(!_r)xt=`with (obj) {
`+xt+`
}
`;else if(Cr.test(_r))throw new Or(a);xt=(He?xt.replace(Nt,""):xt).replace(Ye,"$1").replace(ut,"$1;"),xt="function("+(_r||"obj")+`) {
`+(_r?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(He?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xt+`return __p
}`;var jr=vV(function(){return On(we,tr+"return "+xt).apply(r,Ce)});if(jr.source=xt,PC(jr))throw jr;return jr}function KMe(E){return zn(E).toLowerCase()}function jMe(E){return zn(E).toUpperCase()}function HMe(E,M,U){if(E=zn(E),E&&(U||M===r))return IH(E);if(!E||!(M=uu(M)))return E;var ne=Dc(E),he=Dc(M),we=RH(ne,he),Ce=MH(ne,he)+1;return rp(ne,we,Ce).join("")}function qMe(E,M,U){if(E=zn(E),E&&(U||M===r))return E.slice(0,PH(E)+1);if(!E||!(M=uu(M)))return E;var ne=Dc(E),he=MH(ne,Dc(M))+1;return rp(ne,0,he).join("")}function VMe(E,M,U){if(E=zn(E),E&&(U||M===r))return E.replace(Er,"");if(!E||!(M=uu(M)))return E;var ne=Dc(E),he=RH(ne,Dc(M));return rp(ne,he).join("")}function GMe(E,M){var U=le,ne=I;if(Ki(M)){var he="separator"in M?M.separator:he;U="length"in M?Ur(M.length):U,ne="omission"in M?uu(M.omission):ne}E=zn(E);var we=E.length;if(Ry(E)){var Ce=Dc(E);we=Ce.length}if(U>=we)return E;var Le=U-My(ne);if(Le<1)return ne;var He=Ce?rp(Ce,0,Le).join(""):E.slice(0,Le);if(he===r)return He+ne;if(Ce&&(Le+=He.length-Le),NC(he)){if(E.slice(Le).search(he)){var bt,vt=He;for(he.global||(he=Y8(he.source,zn(hr.exec(he))+"g")),he.lastIndex=0;bt=he.exec(vt);)var xt=bt.index;He=He.slice(0,xt===r?Le:xt)}}else if(E.indexOf(uu(he),Le)!=Le){var Ut=He.lastIndexOf(he);Ut>-1&&(He=He.slice(0,Ut))}return He+ne}function YMe(E){return E=zn(E),E&&ct.test(E)?E.replace(kr,xTe):E}var ZMe=Dy(function(E,M,U){return E+(U?" ":"")+M.toUpperCase()}),LC=wq("toUpperCase");function bV(E,M,U){return E=zn(E),M=U?r:M,M===r?vTe(E)?TTe(E):lTe(E):E.match(M)||[]}var vV=Jr(function(E,M){try{return ou(E,r,M)}catch(U){return PC(U)?U:new Or(U)}}),XMe=fd(function(E,M){return Vu(M,function(U){U=zl(U),cd(E,U,MC(E[U],E))}),E});function QMe(E){var M=E==null?0:E.length,U=br();return E=M?Li(E,function(ne){if(typeof ne[1]!="function")throw new Gu(o);return[U(ne[0]),ne[1]]}):[],Jr(function(ne){for(var he=-1;++he<M;){var we=E[he];if(ou(we[0],this,ne))return ou(we[1],this,ne)}})}function JMe(E){return xIe(Zu(E,g))}function DC(E){return function(){return E}}function e8e(E,M){return E==null||E!==E?M:E}var t8e=_q(),r8e=_q(!0);function Ca(E){return E}function FC(E){return QH(typeof E=="function"?E:Zu(E,g))}function n8e(E){return eq(Zu(E,g))}function i8e(E,M){return tq(E,Zu(M,g))}var s8e=Jr(function(E,M){return function(U){return TS(U,E,M)}}),o8e=Jr(function(E,M){return function(U){return TS(E,U,M)}});function $C(E,M,U){var ne=qs(M),he=AE(M,ne);U==null&&!(Ki(M)&&(he.length||!ne.length))&&(U=M,M=E,E=this,he=AE(M,qs(M)));var we=!(Ki(U)&&"chain"in U)||!!U.chain,Ce=hd(E);return Vu(he,function(Le){var He=M[Le];E[Le]=He,Ce&&(E.prototype[Le]=function(){var bt=this.__chain__;if(we||bt){var vt=E(this.__wrapped__),xt=vt.__actions__=Ia(this.__actions__);return xt.push({func:He,args:arguments,thisArg:E}),vt.__chain__=bt,vt}return He.apply(E,Zh([this.value()],arguments))})}),E}function a8e(){return go._===this&&(go._=NTe),this}function UC(){}function u8e(E){return E=Ur(E),Jr(function(M){return rq(M,E)})}var c8e=yC(Li),l8e=yC(AH),f8e=yC(W8);function wV(E){return xC(E)?K8(zl(E)):zIe(E)}function d8e(E){return function(M){return E==null?r:Yg(E,M)}}var h8e=xq(),p8e=xq(!0);function zC(){return[]}function WC(){return!1}function g8e(){return{}}function m8e(){return""}function y8e(){return!0}function b8e(E,M){if(E=Ur(E),E<1||E>T)return[];var U=S,ne=Co(E,S);M=br(M),E-=S;for(var he=q8(ne,M);++U<E;)M(U);return he}function v8e(E){return Lr(E)?Li(E,zl):cu(E)?[E]:Ia(Uq(zn(E)))}function w8e(E){var M=++CTe;return zn(E)+M}var S8e=RE(function(E,M){return E+M},0),_8e=bC("ceil"),A8e=RE(function(E,M){return E/M},1),x8e=bC("floor");function E8e(E){return E&&E.length?_E(E,Ca,nC):r}function k8e(E,M){return E&&E.length?_E(E,br(M,2),nC):r}function T8e(E){return kH(E,Ca)}function I8e(E,M){return kH(E,br(M,2))}function R8e(E){return E&&E.length?_E(E,Ca,aC):r}function M8e(E,M){return E&&E.length?_E(E,br(M,2),aC):r}var C8e=RE(function(E,M){return E*M},1),P8e=bC("round"),N8e=RE(function(E,M){return E-M},0);function B8e(E){return E&&E.length?H8(E,Ca):0}function O8e(E,M){return E&&E.length?H8(E,br(M,2)):0}return be.after=nRe,be.ary=Xq,be.assign=jRe,be.assignIn=fV,be.assignInWith=WE,be.assignWith=HRe,be.at=qRe,be.before=Qq,be.bind=MC,be.bindAll=XMe,be.bindKey=Jq,be.castArray=gRe,be.chain=Gq,be.chunk=x6e,be.compact=E6e,be.concat=k6e,be.cond=QMe,be.conforms=JMe,be.constant=DC,be.countBy=B4e,be.create=VRe,be.curry=eV,be.curryRight=tV,be.debounce=rV,be.defaults=GRe,be.defaultsDeep=YRe,be.defer=iRe,be.delay=sRe,be.difference=T6e,be.differenceBy=I6e,be.differenceWith=R6e,be.drop=M6e,be.dropRight=C6e,be.dropRightWhile=P6e,be.dropWhile=N6e,be.fill=B6e,be.filter=L4e,be.flatMap=$4e,be.flatMapDeep=U4e,be.flatMapDepth=z4e,be.flatten=jq,be.flattenDeep=O6e,be.flattenDepth=L6e,be.flip=oRe,be.flow=t8e,be.flowRight=r8e,be.fromPairs=D6e,be.functions=rMe,be.functionsIn=nMe,be.groupBy=W4e,be.initial=$6e,be.intersection=U6e,be.intersectionBy=z6e,be.intersectionWith=W6e,be.invert=sMe,be.invertBy=oMe,be.invokeMap=j4e,be.iteratee=FC,be.keyBy=H4e,be.keys=qs,be.keysIn=Ma,be.map=LE,be.mapKeys=uMe,be.mapValues=cMe,be.matches=n8e,be.matchesProperty=i8e,be.memoize=FE,be.merge=lMe,be.mergeWith=dV,be.method=s8e,be.methodOf=o8e,be.mixin=$C,be.negate=$E,be.nthArg=u8e,be.omit=fMe,be.omitBy=dMe,be.once=aRe,be.orderBy=q4e,be.over=c8e,be.overArgs=uRe,be.overEvery=l8e,be.overSome=f8e,be.partial=CC,be.partialRight=nV,be.partition=V4e,be.pick=hMe,be.pickBy=hV,be.property=wV,be.propertyOf=d8e,be.pull=q6e,be.pullAll=qq,be.pullAllBy=V6e,be.pullAllWith=G6e,be.pullAt=Y6e,be.range=h8e,be.rangeRight=p8e,be.rearg=cRe,be.reject=Z4e,be.remove=Z6e,be.rest=lRe,be.reverse=IC,be.sampleSize=Q4e,be.set=gMe,be.setWith=mMe,be.shuffle=J4e,be.slice=X6e,be.sortBy=rRe,be.sortedUniq=i4e,be.sortedUniqBy=s4e,be.split=$Me,be.spread=fRe,be.tail=o4e,be.take=a4e,be.takeRight=u4e,be.takeRightWhile=c4e,be.takeWhile=l4e,be.tap=E4e,be.throttle=dRe,be.thru=OE,be.toArray=uV,be.toPairs=pV,be.toPairsIn=gV,be.toPath=v8e,be.toPlainObject=lV,be.transform=yMe,be.unary=hRe,be.union=f4e,be.unionBy=d4e,be.unionWith=h4e,be.uniq=p4e,be.uniqBy=g4e,be.uniqWith=m4e,be.unset=bMe,be.unzip=RC,be.unzipWith=Vq,be.update=vMe,be.updateWith=wMe,be.values=Uy,be.valuesIn=SMe,be.without=y4e,be.words=bV,be.wrap=pRe,be.xor=b4e,be.xorBy=v4e,be.xorWith=w4e,be.zip=S4e,be.zipObject=_4e,be.zipObjectDeep=A4e,be.zipWith=x4e,be.entries=pV,be.entriesIn=gV,be.extend=fV,be.extendWith=WE,$C(be,be),be.add=S8e,be.attempt=vV,be.camelCase=EMe,be.capitalize=mV,be.ceil=_8e,be.clamp=_Me,be.clone=mRe,be.cloneDeep=bRe,be.cloneDeepWith=vRe,be.cloneWith=yRe,be.conformsTo=wRe,be.deburr=yV,be.defaultTo=e8e,be.divide=A8e,be.endsWith=kMe,be.eq=$c,be.escape=TMe,be.escapeRegExp=IMe,be.every=O4e,be.find=D4e,be.findIndex=Wq,be.findKey=ZRe,be.findLast=F4e,be.findLastIndex=Kq,be.findLastKey=XRe,be.floor=x8e,be.forEach=Yq,be.forEachRight=Zq,be.forIn=QRe,be.forInRight=JRe,be.forOwn=eMe,be.forOwnRight=tMe,be.get=BC,be.gt=SRe,be.gte=_Re,be.has=iMe,be.hasIn=OC,be.head=Hq,be.identity=Ca,be.includes=K4e,be.indexOf=F6e,be.inRange=AMe,be.invoke=aMe,be.isArguments=Qg,be.isArray=Lr,be.isArrayBuffer=ARe,be.isArrayLike=Ra,be.isArrayLikeObject=us,be.isBoolean=xRe,be.isBuffer=np,be.isDate=ERe,be.isElement=kRe,be.isEmpty=TRe,be.isEqual=IRe,be.isEqualWith=RRe,be.isError=PC,be.isFinite=MRe,be.isFunction=hd,be.isInteger=iV,be.isLength=UE,be.isMap=sV,be.isMatch=CRe,be.isMatchWith=PRe,be.isNaN=NRe,be.isNative=BRe,be.isNil=LRe,be.isNull=ORe,be.isNumber=oV,be.isObject=Ki,be.isObjectLike=Qi,be.isPlainObject=NS,be.isRegExp=NC,be.isSafeInteger=DRe,be.isSet=aV,be.isString=zE,be.isSymbol=cu,be.isTypedArray=$y,be.isUndefined=FRe,be.isWeakMap=$Re,be.isWeakSet=URe,be.join=K6e,be.kebabCase=RMe,be.last=Qu,be.lastIndexOf=j6e,be.lowerCase=MMe,be.lowerFirst=CMe,be.lt=zRe,be.lte=WRe,be.max=E8e,be.maxBy=k8e,be.mean=T8e,be.meanBy=I8e,be.min=R8e,be.minBy=M8e,be.stubArray=zC,be.stubFalse=WC,be.stubObject=g8e,be.stubString=m8e,be.stubTrue=y8e,be.multiply=C8e,be.nth=H6e,be.noConflict=a8e,be.noop=UC,be.now=DE,be.pad=PMe,be.padEnd=NMe,be.padStart=BMe,be.parseInt=OMe,be.random=xMe,be.reduce=G4e,be.reduceRight=Y4e,be.repeat=LMe,be.replace=DMe,be.result=pMe,be.round=P8e,be.runInContext=je,be.sample=X4e,be.size=eRe,be.snakeCase=FMe,be.some=tRe,be.sortedIndex=Q6e,be.sortedIndexBy=J6e,be.sortedIndexOf=e4e,be.sortedLastIndex=t4e,be.sortedLastIndexBy=r4e,be.sortedLastIndexOf=n4e,be.startCase=UMe,be.startsWith=zMe,be.subtract=N8e,be.sum=B8e,be.sumBy=O8e,be.template=WMe,be.times=b8e,be.toFinite=pd,be.toInteger=Ur,be.toLength=cV,be.toLower=KMe,be.toNumber=Ju,be.toSafeInteger=KRe,be.toString=zn,be.toUpper=jMe,be.trim=HMe,be.trimEnd=qMe,be.trimStart=VMe,be.truncate=GMe,be.unescape=YMe,be.uniqueId=w8e,be.upperCase=ZMe,be.upperFirst=LC,be.each=Yq,be.eachRight=Zq,be.first=Hq,$C(be,function(){var E={};return $l(be,function(M,U){ei.call(be.prototype,U)||(E[U]=M)}),E}(),{chain:!1}),be.VERSION=n,Vu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(E){be[E].placeholder=be}),Vu(["drop","take"],function(E,M){un.prototype[E]=function(U){U=U===r?1:Os(Ur(U),0);var ne=this.__filtered__&&!M?new un(this):this.clone();return ne.__filtered__?ne.__takeCount__=Co(U,ne.__takeCount__):ne.__views__.push({size:Co(U,S),type:E+(ne.__dir__<0?"Right":"")}),ne},un.prototype[E+"Right"]=function(U){return this.reverse()[E](U).reverse()}}),Vu(["filter","map","takeWhile"],function(E,M){var U=M+1,ne=U==p||U==v;un.prototype[E]=function(he){var we=this.clone();return we.__iteratees__.push({iteratee:br(he,3),type:U}),we.__filtered__=we.__filtered__||ne,we}}),Vu(["head","last"],function(E,M){var U="take"+(M?"Right":"");un.prototype[E]=function(){return this[U](1).value()[0]}}),Vu(["initial","tail"],function(E,M){var U="drop"+(M?"":"Right");un.prototype[E]=function(){return this.__filtered__?new un(this):this[U](1)}}),un.prototype.compact=function(){return this.filter(Ca)},un.prototype.find=function(E){return this.filter(E).head()},un.prototype.findLast=function(E){return this.reverse().find(E)},un.prototype.invokeMap=Jr(function(E,M){return typeof E=="function"?new un(this):this.map(function(U){return TS(U,E,M)})}),un.prototype.reject=function(E){return this.filter($E(br(E)))},un.prototype.slice=function(E,M){E=Ur(E);var U=this;return U.__filtered__&&(E>0||M<0)?new un(U):(E<0?U=U.takeRight(-E):E&&(U=U.drop(E)),M!==r&&(M=Ur(M),U=M<0?U.dropRight(-M):U.take(M-E)),U)},un.prototype.takeRightWhile=function(E){return this.reverse().takeWhile(E).reverse()},un.prototype.toArray=function(){return this.take(S)},$l(un.prototype,function(E,M){var U=/^(?:filter|find|map|reject)|While$/.test(M),ne=/^(?:head|last)$/.test(M),he=be[ne?"take"+(M=="last"?"Right":""):M],we=ne||/^find/.test(M);he&&(be.prototype[M]=function(){var Ce=this.__wrapped__,Le=ne?[1]:arguments,He=Ce instanceof un,bt=Le[0],vt=He||Lr(Ce),xt=function(rn){var dn=he.apply(be,Zh([rn],Le));return ne&&Ut?dn[0]:dn};vt&&U&&typeof bt=="function"&&bt.length!=1&&(He=vt=!1);var Ut=this.__chain__,tr=!!this.__actions__.length,_r=we&&!Ut,jr=He&&!tr;if(!we&&vt){Ce=jr?Ce:new un(this);var Ar=E.apply(Ce,Le);return Ar.__actions__.push({func:OE,args:[xt],thisArg:r}),new Yu(Ar,Ut)}return _r&&jr?E.apply(this,Le):(Ar=this.thru(xt),_r?ne?Ar.value()[0]:Ar.value():Ar)})}),Vu(["pop","push","shift","sort","splice","unshift"],function(E){var M=aE[E],U=/^(?:push|sort|unshift)$/.test(E)?"tap":"thru",ne=/^(?:pop|shift)$/.test(E);be.prototype[E]=function(){var he=arguments;if(ne&&!this.__chain__){var we=this.value();return M.apply(Lr(we)?we:[],he)}return this[U](function(Ce){return M.apply(Lr(Ce)?Ce:[],he)})}}),$l(un.prototype,function(E,M){var U=be[M];if(U){var ne=U.name+"";ei.call(By,ne)||(By[ne]=[]),By[ne].push({name:M,func:U})}}),By[IE(r,R).name]=[{name:"wrapper",func:r}],un.prototype.clone=YTe,un.prototype.reverse=ZTe,un.prototype.value=XTe,be.prototype.at=k4e,be.prototype.chain=T4e,be.prototype.commit=I4e,be.prototype.next=R4e,be.prototype.plant=C4e,be.prototype.reverse=P4e,be.prototype.toJSON=be.prototype.valueOf=be.prototype.value=N4e,be.prototype.first=be.prototype.head,wS&&(be.prototype[wS]=M4e),be},Cy=ITe();jg?((jg.exports=Cy)._=Cy,F8._=Cy):go._=Cy}).call(Lt)})(RT,RT.exports);var W$e=RT.exports;const vae=t=>Eh(t?t(0,null):null)[0],K$e=t=>_9+vae(t),BP=Promise.resolve(),j$e=t=>(e,r,n)=>{const i=B.useRef(!1),{cache:s,initialSize:o=1,revalidateAll:a=!1,persistSize:u=!1,revalidateFirstPage:f=!0,revalidateOnMount:d=!1,parallel:g=!1}=n,[,,,y]=cf.get(S9);let b;try{b=vae(e),b&&(b=_9+b)}catch{}const[A,x,k]=$d(s,b),R=B.useCallback(()=>en(A()._l)?o:A()._l,[s,b,o]);v9.useSyncExternalStore(B.useCallback(X=>b?k(b,()=>{X()}):()=>{},[s,b]),R,R);const C=B.useCallback(()=>{const X=A()._l;return en(X)?o:X},[b,o]),P=B.useRef(C());im(()=>{if(!i.current){i.current=!0;return}b&&x({_l:u?P.current:C()})},[b,s]);const O=d&&!i.current,q=t(b,async X=>{const Z=A()._i,le=[],I=C(),[c]=$d(s,X),h=c().data,p=[];let m=null;for(let v=0;v<I;++v){const[_,T]=Eh(e(v,g?null:m));if(!_)break;const[w,l]=$d(s,_);let S=w().data;const N=a||Z||en(S)||f&&!v&&!en(h)||O||h&&!en(h[v])&&!n.compare(h[v],S);if(r&&N){const F=async()=>{if(!(_ in y))S=await r(T);else{const D=y[_];delete y[_],S=await D}l({data:S,_k:T}),le[v]=S};g?p.push(F):await F()}else le[v]=S;g||(m=S)}return g&&await Promise.all(p.map(v=>v())),x({_i:ks}),le},n),Q=B.useCallback(function(X,Z){const le=typeof Z=="boolean"?{revalidate:Z}:Z||{},I=le.revalidate!==!1;return b?(I&&(en(X)?x({_i:!0}):x({_i:!1})),arguments.length?q.mutate(X,{...le,revalidate:I}):q.mutate()):BP},[b,s]),Y=B.useCallback(X=>{if(!b)return BP;const[,Z]=$d(s,b);let le;if(vf(X)?le=X(C()):typeof X=="number"&&(le=X),typeof le!="number")return BP;Z({_l:le}),P.current=le;const I=[],[c]=$d(s,b);let h=null;for(let p=0;p<le;++p){const[m]=Eh(e(p,h)),[v]=$d(s,m),_=m?v().data:ks;if(en(_))return Q(c().data);I.push(_),h=_}return Q(I)},[b,s,Q,C]);return{size:C(),setSize:Y,mutate:Q,get data(){return q.data},get error(){return q.error},get isValidating(){return q.isValidating},get isLoading(){return q.isLoading}}},H$e=A9(_w,j$e);var zO=function(t,e){return zO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zO(t,e)};function Aa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Qt=function(){return Qt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qt.apply(this,arguments)};function DA(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function jt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{f(n.next(d))}catch(g){o(g)}}function u(d){try{f(n.throw(d))}catch(g){o(g)}}function f(d){d.done?s(d.value):i(d.value).then(a,u)}f((n=n.apply(t,e||[])).next())})}function Kt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Jo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ms(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Mb(t){return this instanceof Mb?(this.v=t,this):new Mb(t)}function q$e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(A){return Promise.resolve(A).then(b,g)}}function a(b,A){n[b]&&(i[b]=function(x){return new Promise(function(k,R){s.push([b,x,k,R])>1||u(b,x)})},A&&(i[b]=A(i[b])))}function u(b,A){try{f(n[b](A))}catch(x){y(s[0][3],x)}}function f(b){b.value instanceof Mb?Promise.resolve(b.value.v).then(d,g):y(s[0][2],b)}function d(b){u("next",b)}function g(b){u("throw",b)}function y(b,A){b(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function V$e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Jo=="function"?Jo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(f){s({value:f,done:a})},o)}}var J1;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(J1||(J1={}));var km;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(km||(km={}));var CY="-",W6="AMP",G$e="".concat(W6,"_unsent"),wae="https://api2.amplitude.com/2/httpapi",Y$e="https://api.eu.amplitude.com/2/httpapi",Z$e="https://api2.amplitude.com/batch",X$e="https://api.eu.amplitude.com/batch",Q$e=1e3,WO=function(t){if(Object.keys(t).length>Q$e)return!1;for(var e in t){var r=t[e];if(!Sae(e,r))return!1}return!0},Sae=function(t,e){var r,n;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var s=Jo(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(Array.isArray(a))return!1;if(typeof a=="object")i=i&&WO(a);else if(!["number","string"].includes(typeof a))return!1;if(!i)return!1}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}else{if(e==null)return!1;if(typeof e=="object")return WO(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0},FA=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return Qt({},this._properties)},t.prototype.set=function(e,r){return this._safeSet(vi.SET,e,r),this},t.prototype.setOnce=function(e,r){return this._safeSet(vi.SET_ONCE,e,r),this},t.prototype.append=function(e,r){return this._safeSet(vi.APPEND,e,r),this},t.prototype.prepend=function(e,r){return this._safeSet(vi.PREPEND,e,r),this},t.prototype.postInsert=function(e,r){return this._safeSet(vi.POSTINSERT,e,r),this},t.prototype.preInsert=function(e,r){return this._safeSet(vi.PREINSERT,e,r),this},t.prototype.remove=function(e,r){return this._safeSet(vi.REMOVE,e,r),this},t.prototype.add=function(e,r){return this._safeSet(vi.ADD,e,r),this},t.prototype.unset=function(e){return this._safeSet(vi.UNSET,e,CY),this},t.prototype.clearAll=function(){return this._properties={},this._properties[vi.CLEAR_ALL]=CY,this},t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[r]=n,this._propertySet.add(r),!0}return!1},t.prototype._validate=function(e,r,n){return this._properties[vi.CLEAR_ALL]!==void 0||this._propertySet.has(r)?!1:e===vi.ADD?typeof n=="number":e!==vi.UNSET&&e!==vi.REMOVE?Sae(r,n):!0},t}(),vi;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(vi||(vi={}));var J$e=[vi.CLEAR_ALL,vi.UNSET,vi.SET,vi.SET_ONCE,vi.ADD,vi.APPEND,vi.PREPEND,vi.PREINSERT,vi.POSTINSERT,vi.REMOVE],eUe="Event tracked successfully",tUe="Unexpected error occurred",rUe="Event rejected due to exceeded retry count",nUe="Event skipped due to optOut config",iUe="Event rejected due to missing API key",sUe="Invalid API key",oUe="Client not initialized",xs;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(xs||(xs={}));var Cb=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=xs.Unknown),{event:t,code:e,message:r}},aUe=function(){var t="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[t]<"u")return globalThis[t];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof Ie.global<"u")return Ie.global},uUe=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,Dw)},PY=ms([],Pn(Array(256).keys()),!1).map(function(t){return t.toString(16).padStart(2,"0")}),Dw=function(t){var e,r=aUe();if(!(!((e=r==null?void 0:r.crypto)===null||e===void 0)&&e.getRandomValues))return uUe(t);var n=r.crypto.getRandomValues(new Uint8Array(16));return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ms([],Pn(n.entries()),!1).map(function(i){var s=Pn(i,2),o=s[0],a=s[1];return[4,6,8,10].includes(o)?"-".concat(PY[a]):PY[a]}).join("")},cUe=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,r){var n,i;return jt(this,void 0,void 0,function(){return Kt(this,function(s){switch(s.label){case 0:return this.plugins.some(function(o){return o.name===e.name})?(r.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2]):(e.name===void 0&&(e.name=Dw(),r.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(e.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),e.type=(n=e.type)!==null&&n!==void 0?n:"enrichment",[4,(i=e.setup)===null||i===void 0?void 0:i.call(e,r,this.client)]);case 1:return s.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e,r){var n;return jt(this,void 0,void 0,function(){var i,s;return Kt(this,function(o){switch(o.label){case 0:return i=this.plugins.findIndex(function(a){return a.name===e}),i===-1?(r.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(s=this.plugins[i],this.plugins.splice(i,1),[4,(n=s.teardown)===null||n===void 0?void 0:n.call(s)]);case 1:return o.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]),r.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var r=this;this.applying||(this.applying=!0,setTimeout(function(){r.apply(r.queue.shift()).then(function(){r.applying=!1,r.queue.length>0&&r.scheduleApply(0)})},e))},t.prototype.apply=function(e){return jt(this,void 0,void 0,function(){var r,n,i,s,o,a,u,b,A,f,d,g,y,b,A,x,k,R,C,P,O,q;return Kt(this,function(Q){switch(Q.label){case 0:if(!e)return[2];r=Pn(e,1),n=r[0],i=Pn(e,2),s=i[1],o=this.plugins.filter(function(Y){return Y.type==="before"}),Q.label=1;case 1:Q.trys.push([1,6,7,8]),a=Jo(o),u=a.next(),Q.label=2;case 2:return u.done?[3,5]:(b=u.value,b.execute?[4,b.execute(Qt({},n))]:[3,4]);case 3:if(A=Q.sent(),A===null)return s({event:n,code:0,message:""}),[2];n=A,Q.label=4;case 4:return u=a.next(),[3,2];case 5:return[3,8];case 6:return f=Q.sent(),C={error:f},[3,8];case 7:try{u&&!u.done&&(P=a.return)&&P.call(a)}finally{if(C)throw C.error}return[7];case 8:d=this.plugins.filter(function(Y){return Y.type==="enrichment"||Y.type===void 0}),Q.label=9;case 9:Q.trys.push([9,14,15,16]),g=Jo(d),y=g.next(),Q.label=10;case 10:return y.done?[3,13]:(b=y.value,b.execute?[4,b.execute(Qt({},n))]:[3,12]);case 11:if(A=Q.sent(),A===null)return s({event:n,code:0,message:""}),[2];n=A,Q.label=12;case 12:return y=g.next(),[3,10];case 13:return[3,16];case 14:return x=Q.sent(),O={error:x},[3,16];case 15:try{y&&!y.done&&(q=g.return)&&q.call(g)}finally{if(O)throw O.error}return[7];case 16:return k=this.plugins.filter(function(Y){return Y.type==="destination"}),R=k.map(function(Y){var X=Qt({},n);return Y.execute(X).catch(function(Z){return Cb(X,0,String(Z))})}),Promise.all(R).then(function(Y){var X=Pn(Y,1),Z=X[0],le=Z||Cb(n,100,"Event not tracked, no destination plugins on the instance");s(le)}),[2]}})})},t.prototype.flush=function(){return jt(this,void 0,void 0,function(){var e,r,n,i=this;return Kt(this,function(s){switch(s.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(o){return i.apply(o)}))];case 1:return s.sent(),r=this.plugins.filter(function(o){return o.type==="destination"}),n=r.map(function(o){return o.flush&&o.flush()}),[4,Promise.all(n)];case 2:return s.sent(),[2]}})})},t.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(r){var n;(n=r.onIdentityChanged)===null||n===void 0||n.call(r,e)})},t.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(r){var n;(n=r.onSessionIdChanged)===null||n===void 0||n.call(r,e)})},t.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(r){var n;(n=r.onOptOutChanged)===null||n===void 0||n.call(r,e)})},t}(),lUe=function(t,e,r){var n=typeof t=="string"?{event_type:t}:t;return Qt(Qt(Qt({},n),r),e&&{event_properties:e})},_ae=function(t,e){var r=Qt(Qt({},e),{event_type:km.IDENTIFY,user_properties:t.getUserProperties()});return r},fUe=function(t,e,r,n){var i,s=Qt(Qt({},n),{event_type:km.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return s},dUe=function(t,e,r){var n,i=new FA;i.set(t,e);var s=Qt(Qt({},r),{event_type:km.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return s},hUe=function(t,e){return Qt(Qt({},e),{event_type:km.REVENUE,event_properties:t.getEventProperties()})},$a=function(t){return{promise:t||Promise.resolve()}},pUe=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new cUe(this),this.name=e}return t.prototype._init=function(e){return jt(this,void 0,void 0,function(){return Kt(this,function(r){switch(r.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return r.sent(),this.isReady=!0,[2]}})})},t.prototype.runQueuedFunctions=function(e){return jt(this,void 0,void 0,function(){var r,n,i,s,o,a,u,f;return Kt(this,function(d){switch(d.label){case 0:r=this[e],this[e]=[],d.label=1;case 1:d.trys.push([1,8,9,10]),n=Jo(r),i=n.next(),d.label=2;case 2:return i.done?[3,7]:(s=i.value,o=s(),o&&"promise"in o?[4,o.promise]:[3,4]);case 3:return d.sent(),[3,6];case 4:return[4,o];case 5:d.sent(),d.label=6;case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return a=d.sent(),u={error:a},[3,10];case 9:try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(u)throw u.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:d.sent(),d.label=12;case 12:return[2]}})})},t.prototype.track=function(e,r,n){var i=lUe(e,r,n);return $a(this.dispatch(i))},t.prototype.identify=function(e,r){var n=_ae(e,r);return $a(this.dispatch(n))},t.prototype.groupIdentify=function(e,r,n,i){var s=fUe(e,r,n,i);return $a(this.dispatch(s))},t.prototype.setGroup=function(e,r,n){var i=dUe(e,r,n);return $a(this.dispatch(i))},t.prototype.revenue=function(e,r){var n=hUe(e,r);return $a(this.dispatch(n))},t.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),$a())},t.prototype._addPlugin=function(e){return $a(this.timeline.register(e,this.config))},t.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),$a())},t.prototype._removePlugin=function(e){return $a(this.timeline.deregister(e,this.config))},t.prototype.dispatchWithCallback=function(e,r){if(!this.isReady)return r(Cb(e,0,oUe));this.process(e).then(r)},t.prototype.dispatch=function(e){return jt(this,void 0,void 0,function(){var r=this;return Kt(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]})})},t.prototype.getOperationAppliedUserProperties=function(e){var r={};if(e===void 0)return r;var n={};return Object.keys(e).forEach(function(i){Object.values(J1).includes(i)||(n[i]=e[i])}),J$e.forEach(function(i){if(Object.keys(e).includes(i)){var s=e[i];switch(i){case J1.CLEAR_ALL:Object.keys(r).forEach(function(o){delete r[o]});break;case J1.UNSET:Object.keys(s).forEach(function(o){delete r[o]});break;case J1.SET:Object.assign(r,s);break}}}),Object.assign(r,n),r},t.prototype.process=function(e){return jt(this,void 0,void 0,function(){var r,s,n,i,s;return Kt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,Cb(e,0,nUe)]:(e.event_type===km.IDENTIFY&&(r=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:r})),[4,this.timeline.push(e)]);case 1:return s=o.sent(),s.code===200?this.config.loggerProvider.log(s.message):s.code===100?this.config.loggerProvider.warn(s.message):this.config.loggerProvider.error(s.message),[2,s];case 2:return n=o.sent(),i=String(n),this.config.loggerProvider.error(i),s=Cb(e,0,i),[2,s];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},t.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},t.prototype.flush=function(){return $a(this.timeline.flush())},t.prototype.plugin=function(e){var r=this.timeline.plugins.find(function(n){return n.name===e});if(r===void 0){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return r},t}(),gUe=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setCurrency=function(e){return this.currency=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setReceipt=function(e){return this.receipt=e,this},t.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},t.prototype.setEventProperties=function(e){return WO(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?Qt({},this.properties):{};return e[Vl.REVENUE_PRODUCT_ID]=this.productId,e[Vl.REVENUE_QUANTITY]=this.quantity,e[Vl.REVENUE_PRICE]=this.price,e[Vl.REVENUE_TYPE]=this.revenueType,e[Vl.REVENUE_CURRENCY]=this.currency,e[Vl.REVENUE]=this.revenue,e[Vl.RECEIPT]=this.receipt,e[Vl.RECEIPT_SIG]=this.receiptSig,e},t}(),Vl;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE_CURRENCY="$currency",t.REVENUE="$revenue",t.RECEIPT="$receipt",t.RECEIPT_SIG="$receiptSig"})(Vl||(Vl={}));var mUe=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,s){var o=Math.floor(s/r);return n[o]||(n[o]=[]),n[o].push(i),n},[])},el;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(el||(el={}));var uk="Amplitude Logger ",Aae=function(){function t(){this.logLevel=el.None}return t.prototype.disable=function(){this.logLevel=el.None},t.prototype.enable=function(e){e===void 0&&(e=el.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<el.Verbose||console.log("".concat(uk,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<el.Warn||console.warn("".concat(uk,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<el.Error||console.error("".concat(uk,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.logLevel<el.Debug||console.log("".concat(uk,"[Debug]: ").concat(e.join(" ")))},t}(),l3=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:el.Warn,loggerProvider:new Aae,offline:!1,optOut:!1,serverUrl:wae,serverZone:"US",useBatch:!1}},yUe=function(){function t(e){var r,n,i,s;this._optOut=!1;var o=l3();this.apiKey=e.apiKey,this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:o.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(s=e.useBatch)!==null&&s!==void 0?s:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=xae(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}(),bUe=function(t,e){return t==="EU"?e?X$e:Y$e:e?Z$e:wae},xae=function(t,e,r){if(t===void 0&&(t=""),e===void 0&&(e=l3().serverZone),r===void 0&&(r=l3().useBatch),t)return{serverUrl:t,serverZone:void 0};var n=["US","EU"].includes(e)?e:l3().serverZone;return{serverZone:n,serverUrl:bUe(n,r)}},Eae=function(){function t(){this.sdk={metrics:{histogram:{}}}}return t.prototype.recordHistogram=function(e,r){this.sdk.metrics.histogram[e]=r},t}();function vUe(t){return t instanceof Error?t.message:String(t)}function ck(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var wUe=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return t.prototype.setup=function(e){var r;return jt(this,void 0,void 0,function(){var n,i=this;return Kt(this,function(s){switch(s.label){case 0:return this.config=e,this.storageKey="".concat(G$e,"_").concat(this.config.apiKey.substring(0,10)),[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:return n=s.sent(),n&&n.length>0&&Promise.all(n.map(function(o){return i.execute(o)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var r=this;return e.insert_id||(e.insert_id=Dw()),new Promise(function(n){var i={event:e,attempts:0,callback:function(s){return n(s)},timeout:0};r.queue.push(i),r.schedule(r.config.flushIntervalMillis),r.saveEvents()})},t.prototype.removeEventsExceedFlushMaxRetries=function(e){var r=this;return e.filter(function(n){return n.attempts+=1,n.attempts<r.config.flushMaxRetries?!0:(r.fulfillRequest([n],500,rUe),!1)})},t.prototype.scheduleEvents=function(e){var r=this;e.forEach(function(n){r.schedule(n.timeout===0?r.config.flushIntervalMillis:n.timeout)})},t.prototype.schedule=function(e){var r=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){r.queue=r.queue.map(function(n){return n.timeout=0,n}),r.flush(!0)},e);return}},t.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},t.prototype.flush=function(e){return e===void 0&&(e=!1),jt(this,void 0,void 0,function(){var r,n,i,s=this;return Kt(this,function(o){switch(o.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),r=[],n=[],this.queue.forEach(function(a){return a.timeout===0?r.push(a):n.push(a)}),i=mUe(r,this.config.flushQueueSize),[4,i.reduce(function(a,u){return jt(s,void 0,void 0,function(){return Kt(this,function(f){switch(f.label){case 0:return[4,a];case 1:return f.sent(),[4,this.send(u,e)];case 2:return[2,f.sent()]}})})},Promise.resolve())]);case 1:return o.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},t.prototype.send=function(e,r){return r===void 0&&(r=!0),jt(this,void 0,void 0,function(){var n,i,s,o,a;return Kt(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,iUe)];n={api_key:this.config.apiKey,events:e.map(function(f){var d=f.event;d.extra;var g=DA(d,["extra"]);return g}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new Eae,u.label=1;case 1:return u.trys.push([1,3,,4]),i=xae(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return s=u.sent(),s===null?(this.fulfillRequest(e,0,tUe),[2]):r?(this.handleResponse(s,e),[3,4]):("body"in s?this.fulfillRequest(e,s.statusCode,"".concat(s.status,": ").concat(ck(s))):this.fulfillRequest(e,s.statusCode,s.status),[2]);case 3:return o=u.sent(),a=vUe(o),this.config.loggerProvider.error(a),this.handleResponse({status:xs.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case xs.Success:{this.handleSuccessResponse(e,r);break}case xs.Invalid:{this.handleInvalidResponse(e,r);break}case xs.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case xs.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(r.length,' events"}')),this.handleOtherResponse(r);break}}},t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,eUe)},t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(sUe)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=ms(ms(ms(ms([],Pn(Object.values(e.body.eventsWithInvalidFields)),!1),Pn(Object.values(e.body.eventsWithMissingFields)),!1),Pn(Object.values(e.body.eventsWithInvalidIdLengths)),!1),Pn(e.body.silencedEvents),!1).flat(),s=new Set(i),o=r.filter(function(u,f){if(s.has(f)){n.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});o.length>0&&this.config.loggerProvider.warn(ck(e));var a=this.removeEventsExceedFlushMaxRetries(o);this.scheduleEvents(a)},t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(ck(e)),this.config.flushQueueSize/=2;var n=this.removeEventsExceedFlushMaxRetries(r);this.scheduleEvents(n)},t.prototype.handleRateLimitResponse=function(e,r){var n=this,i=Object.keys(e.body.exceededDailyQuotaUsers),s=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(i),u=new Set(s),f=new Set(o),d=r.filter(function(y,b){if(y.event.user_id&&a.has(y.event.user_id)||y.event.device_id&&u.has(y.event.device_id)){n.fulfillRequest([y],e.statusCode,e.body.error);return}return f.has(b)&&(y.timeout=n.throttleTimeout),!0});d.length>0&&this.config.loggerProvider.warn(ck(e));var g=this.removeEventsExceedFlushMaxRetries(d);this.scheduleEvents(g)},t.prototype.handleOtherResponse=function(e){var r=this,n=e.map(function(s){return s.timeout=s.attempts*r.retryTimeout,s}),i=this.removeEventsExceedFlushMaxRetries(n);this.scheduleEvents(i)},t.prototype.fulfillRequest=function(e,r,n){this.removeEvents(e),e.forEach(function(i){return i.callback(Cb(i.event,r,n))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(r){return r.event});this.config.storageProvider.set(this.storageKey,e)}},t.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(r){return!e.some(function(n){return n.event.insert_id===r.event.insert_id})}),this.saveEvents()},t}(),SUe=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:_Ue(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),_Ue=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},AUe=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(r){e(r)}),this.queue=[])},t}(),xp=function(){return xp=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xp.apply(this,arguments)};function f3(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function NY(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}var d3=function(t,e){var r,n,i=["string","number","boolean","undefined"],s=typeof t,o=typeof e;if(s!==o)return!1;try{for(var a=f3(i),u=a.next();!u.done;u=a.next()){var f=u.value;if(f===s)return t===e}}catch(k){r={error:k}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var d=Array.isArray(t),g=Array.isArray(e);if(d!==g)return!1;if(d&&g){for(var y=0;y<t.length;y++)if(!d3(t[y],e[y]))return!1}else{var b=Object.keys(t).sort(),A=Object.keys(e).sort();if(!d3(b,A))return!1;var x=!0;return Object.keys(t).forEach(function(k){d3(t[k],e[k])||(x=!1)}),x}return!0},xUe="$set",EUe="$unset",kUe="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n});var TUe=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,r=xp({},this.identity.userProperties),n=xp(xp({},this.identity),{userProperties:r});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var s,o,a,u,f,d,g=n.userProperties||{};try{for(var y=f3(Object.entries(i)),b=y.next();!b.done;b=y.next()){var A=NY(b.value,2),x=A[0],k=A[1];switch(x){case xUe:try{for(var R=(a=void 0,f3(Object.entries(k))),C=R.next();!C.done;C=R.next()){var P=NY(C.value,2),O=P[0],q=P[1];g[O]=q}}catch(X){a={error:X}}finally{try{C&&!C.done&&(u=R.return)&&u.call(R)}finally{if(a)throw a.error}}break;case EUe:try{for(var Q=(f=void 0,f3(Object.keys(k))),Y=Q.next();!Y.done;Y=Q.next()){var O=Y.value;delete g[O]}}catch(X){f={error:X}}finally{try{Y&&!Y.done&&(d=Q.return)&&d.call(Q)}finally{if(f)throw f.error}}break;case kUe:g={};break}}}catch(X){s={error:X}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}return n.userProperties=g,this},commit:function(){return e.setIdentity(n),this}}},t.prototype.getIdentity=function(){return xp({},this.identity)},t.prototype.setIdentity=function(e){var r=xp({},this.identity);this.identity=xp({},e),d3(r,this.identity)||this.listeners.forEach(function(n){n(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),WS=typeof globalThis<"u"?globalThis:typeof Ie.global<"u"?Ie.global:self,IUe=function(){function t(){this.identityStore=new TUe,this.eventBridge=new AUe,this.applicationContextProvider=new SUe}return t.getInstance=function(e){return WS.analyticsConnectorInstances||(WS.analyticsConnectorInstances={}),WS.analyticsConnectorInstances[e]||(WS.analyticsConnectorInstances[e]=new t),WS.analyticsConnectorInstances[e]},t}(),RUe=function(t){var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(r){return r.trim()})},vs=function(t){return function(){var e=Qt({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}},MUe=function(t,e){var r,n;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var i=Jo(e.split(".")),s=i.next();!s.done;s=i.next()){var o=s.value;if(o in t)t=t[o];else return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return t},ws=function(t,e){return function(){var r,n,i={};try{for(var s=Jo(e),o=s.next();!o.done;o=s.next()){var a=o.value;i[a]=MUe(t,a)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}},Ss=function(t,e,r,n,i){return i===void 0&&(i=null),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=r(),u=a.logger,f=a.logLevel;if(f&&f<el.Debug||!f||!u)return t.apply(i,s);var d={type:"invoke public method",name:e,args:s,stacktrace:RUe(1),time:{start:new Date().toISOString()},states:{}};n&&d.states&&(d.states.before=n());var g=t.apply(i,s);return g&&g.promise?g.promise.then(function(){n&&d.states&&(d.states.after=n()),d.time&&(d.time.end=new Date().toISOString()),u.debug(JSON.stringify(d,null,2))}):(n&&d.states&&(d.states.after=n()),d.time&&(d.time.end=new Date().toISOString()),u.debug(JSON.stringify(d,null,2))),g}},P7=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return jt(this,void 0,void 0,function(){return Kt(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return jt(this,void 0,void 0,function(){return Kt(this,function(r){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return jt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return r=n.sent(),[2,r?JSON.stringify(r):void 0]}})})},t.prototype.set=function(e,r){return jt(this,void 0,void 0,function(){return Kt(this,function(n){return this.memoryStorage.set(e,r),[2]})})},t.prototype.remove=function(e){return jt(this,void 0,void 0,function(){return Kt(this,function(r){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return jt(this,void 0,void 0,function(){return Kt(this,function(e){return this.memoryStorage.clear(),[2]})})},t}(),N7=function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,i,s,o,a,u,f,d,g,y,b,A,x,k,R,C,P,O,q,Q,Y;if(typeof e!="object")return null;var X=e.code||0,Z=this.buildStatus(X);switch(Z){case xs.Success:return{status:Z,statusCode:X,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case xs.Invalid:return{status:Z,statusCode:X,body:{error:(s=e.error)!==null&&s!==void 0?s:"",missingField:(o=e.missing_field)!==null&&o!==void 0?o:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(f=e.events_with_invalid_id_lengths)!==null&&f!==void 0?f:{},epsThreshold:(d=e.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(g=e.exceeded_daily_quota_devices)!==null&&g!==void 0?g:{},silencedDevices:(y=e.silenced_devices)!==null&&y!==void 0?y:[],silencedEvents:(b=e.silenced_events)!==null&&b!==void 0?b:[],throttledDevices:(A=e.throttled_devices)!==null&&A!==void 0?A:{},throttledEvents:(x=e.throttled_events)!==null&&x!==void 0?x:[]}};case xs.PayloadTooLarge:return{status:Z,statusCode:X,body:{error:(k=e.error)!==null&&k!==void 0?k:""}};case xs.RateLimit:return{status:Z,statusCode:X,body:{error:(R=e.error)!==null&&R!==void 0?R:"",epsThreshold:(C=e.eps_threshold)!==null&&C!==void 0?C:0,throttledDevices:(P=e.throttled_devices)!==null&&P!==void 0?P:{},throttledUsers:(O=e.throttled_users)!==null&&O!==void 0?O:{},exceededDailyQuotaDevices:(q=e.exceeded_daily_quota_devices)!==null&&q!==void 0?q:{},exceededDailyQuotaUsers:(Q=e.exceeded_daily_quota_users)!==null&&Q!==void 0?Q:{},throttledEvents:(Y=e.throttled_events)!==null&&Y!==void 0?Y:[]}};case xs.Timeout:default:return{status:Z,statusCode:X}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?xs.Success:e===429?xs.RateLimit:e===413?xs.PayloadTooLarge:e===408?xs.Timeout:e>=400&&e<500?xs.Invalid:e>=500?xs.Failed:xs.Unknown},t}(),CUe=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],PUe="data-amp-track-",NUe=["div","span","h1","h2","h3","h4","h5","h6"],dl=function(){var t="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[t]<"u")return globalThis[t];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof Ie.global<"u")return Ie.global},MT=function(){var t,e=dl();if(!(!((t=e==null?void 0:e.location)===null||t===void 0)&&t.search))return{};var r=e.location.search.substring(1).split("&").filter(Boolean),n=r.reduce(function(i,s){var o=s.split("=",2),a=BY(o[0]),u=BY(o[1]);return u&&(i[a]=u),i},{});return n},BY=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}},BUe="utm_campaign",OUe="utm_content",LUe="utm_id",DUe="utm_medium",FUe="utm_source",$Ue="utm_term",OY="dclid",LY="fbclid",DY="gbraid",FY="gclid",$Y="ko_click_id",UY="li_fat_id",zY="msclkid",WY="rtd_cid",KY="ttclid",jY="twclid",HY="wbraid",K6={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},kae=function(){function t(){}return t.prototype.parse=function(){return jt(this,void 0,void 0,function(){return Kt(this,function(e){return[2,Qt(Qt(Qt(Qt({},K6),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=MT(),r=e[BUe],n=e[OUe],i=e[LUe],s=e[DUe],o=e[FUe],a=e[$Ue];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:s,utm_source:o,utm_term:a}},t.prototype.getReferrer=function(){var e,r,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch{}return n},t.prototype.getClickIds=function(){var e,r=MT();return e={},e[OY]=r[OY],e[LY]=r[LY],e[DY]=r[DY],e[FY]=r[FY],e[$Y]=r[$Y],e[UY]=r[UY],e[zY]=r[zY],e[WY]=r[WY],e[KY]=r[KY],e[jY]=r[jY],e[HY]=r[HY],e},t}(),Tae=function(t,e,r){return e===void 0&&(e=""),r===void 0&&(r=10),[W6,e,t.substring(0,r)].filter(Boolean).join("_")},UUe=function(t){return"".concat(W6.toLowerCase(),"_").concat(t.substring(0,6))},qY=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},zUe=function(t){return Object.values(t).every(function(e){return!e})},WUe=function(t,e,r,n,i){i===void 0&&(i=!0),t.referrer;var s=t.referring_domain,o=DA(t,["referrer","referring_domain"]),a=e||{};a.referrer;var u=a.referring_domain,f=DA(a,["referrer","referring_domain"]);if(KUe(r.excludeReferrers,t.referring_domain))return n.debug("This is not a new campaign because ".concat(t.referring_domain," is in the exclude referrer list.")),!1;if(!i&&zUe(t)&&e)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var d=JSON.stringify(o)!==JSON.stringify(f),g=qY(s||"")!==qY(u||""),y=!e||d||g;return y?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),y},KUe=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(r){return r instanceof RegExp?r.test(e):r===e})},jUe=function(t,e){var r=Qt(Qt({},K6),t),n=Object.entries(r).reduce(function(i,s){var o,a=Pn(s,2),u=a[0],f=a[1];return i.setOnce("initial_".concat(u),(o=f??e.initialEmptyValue)!==null&&o!==void 0?o:"EMPTY"),f?i.set(u,f):i.unset(u)},new FA);return _ae(n)},HUe=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]},qUe=function(t,e,r){return r===void 0&&(r=10),[W6,e,t.substring(0,r)].filter(Boolean).join("_")},Iae=function(t,e){e===void 0&&(e=Date.now());var r=Date.now(),n=r-e;return n>t},VUe=function(){function t(e,r){var n;this.shouldTrackNewCampaign=!1,this.options=Qt({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:HUe((n=r.cookieOptions)===null||n===void 0?void 0:n.domain)},e),this.storage=r.cookieStorage,this.storageKey=qUe(r.apiKey,"MKTG"),this.currentCampaign=K6,this.sessionTimeout=r.sessionTimeout,this.lastEventTime=r.lastEventTime,this.logger=r.loggerProvider,r.loggerProvider.log("Installing web attribution tracking.")}return t.prototype.init=function(){return jt(this,void 0,void 0,function(){var e,r;return Kt(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return r=Pn.apply(void 0,[n.sent(),2]),this.currentCampaign=r[0],this.previousCampaign=r[1],e=this.lastEventTime?Iae(this.sessionTimeout,this.lastEventTime):!0,WUe(this.currentCampaign,this.previousCampaign,this.options,this.logger,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.fetchCampaign=function(){return jt(this,void 0,void 0,function(){return Kt(this,function(e){switch(e.label){case 0:return[4,Promise.all([new kae().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},t.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var r=jUe(this.currentCampaign,this.options);return e&&(r.event_id=e),r},t.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},t}(),KO=function(){function t(e){this.options=Qt({},e)}return t.prototype.isEnabled=function(){return jt(this,void 0,void 0,function(){var e,r,n;return Kt(this,function(i){switch(i.label){case 0:if(!dl())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,e.set(r,t.testValue)];case 2:return i.sent(),[4,e.get(r)];case 3:return n=i.sent(),[2,n===t.testValue];case 4:return i.sent(),[2,!1];case 5:return[4,e.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){var r;return jt(this,void 0,void 0,function(){var n,i;return Kt(this,function(s){switch(s.label){case 0:return[4,this.getRaw(e)];case 1:if(n=s.sent(),!n)return[2,void 0];try{return i=(r=GUe(n))!==null&&r!==void 0?r:YUe(n),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var r,n;return jt(this,void 0,void 0,function(){var i,s,o;return Kt(this,function(a){return i=dl(),s=(n=(r=i==null?void 0:i.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[],o=s.find(function(u){return u.indexOf(e+"=")===0}),o?[2,o.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,r){var n;return jt(this,void 0,void 0,function(){var i,s,o,a,u,f,d;return Kt(this,function(g){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,s=r!==null?i:-1,o=void 0,s&&(a=new Date,a.setTime(a.getTime()+s*24*60*60*1e3),o=a),u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r)))),o&&(u+="; expires=".concat(o.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),f=dl(),f&&(f.document.cookie=u)}catch(y){d=y instanceof Error?y.message:String(y),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(d))}return[2]})})},t.prototype.remove=function(e){return jt(this,void 0,void 0,function(){return Kt(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:return r.sent(),[2]}})})},t.prototype.reset=function(){return jt(this,void 0,void 0,function(){return Kt(this,function(e){return[2]})})},t}(),GUe=function(t){try{return decodeURIComponent(atob(t))}catch{return}},YUe=function(t){try{return decodeURIComponent(atob(decodeURIComponent(t)))}catch{return}},ZUe=function(t){Aa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return jt(this,void 0,void 0,function(){var i,s,o;return Kt(this,function(a){switch(a.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(r,i)];case 1:return s=a.sent(),[4,s.text()];case 2:o=a.sent();try{return[2,this.buildResponse(JSON.parse(o))]}catch{return[2,this.buildResponse({code:s.status})]}return[2]}})})},e}(N7),$A=function(t){return t===void 0&&(t="$default_instance"),IUe.getInstance(t)},XUe=function(t,e){$A(e).identityStore.editIdentity().setUserId(t).commit()},QUe=function(t,e){$A(e).identityStore.editIdentity().setDeviceId(t).commit()},JUe=function(){function t(){this.name="identity",this.type="before",this.identityStore=$A().identityStore}return t.prototype.execute=function(e){return jt(this,void 0,void 0,function(){var r;return Kt(this,function(n){return r=e.user_properties,r&&this.identityStore.editIdentity().updateUserProperties(r).commit(),[2,e]})})},t.prototype.setup=function(e){return jt(this,void 0,void 0,function(){return Kt(this,function(r){return e.instanceName&&(this.identityStore=$A(e.instanceName).identityStore),[2]})})},t}(),eze=function(){var t,e,r,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""},Gx=function(t,e){return typeof t=="boolean"?t:(t==null?void 0:t[e])!==!1},Rae=function(t){return Gx(t,"attribution")},tze=function(t){return Gx(t,"fileDownloads")},rze=function(t){return Gx(t,"formInteractions")},Mae=function(t){return Gx(t,"pageViews")},VY=function(t){return Gx(t,"sessions")},Cae=function(t){return typeof t=="boolean"?t:typeof t=="object"&&(t.elementInteractions===!0||typeof t.elementInteractions=="object")},nze=function(t){if(Cae(t.autocapture)&&typeof t.autocapture=="object"&&typeof t.autocapture.elementInteractions=="object")return t.autocapture.elementInteractions},ize=function(t){var e=function(){return!1},r=void 0,n,i=t.pageCounter,s=Mae(t.defaultTracking);return s&&(e=void 0,n=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(r=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(n=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:r,eventType:n,pageCounter:i}},sze=function(t){return Rae(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?Qt({},t.defaultTracking.attribution):{}},CT;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(CT||(CT={}));var oze=null,OP=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,s=n.args,o=n.resolve,a=t&&t[i];if(typeof a=="function"){var u=a.apply(t,s);typeof o=="function"&&o(u==null?void 0:u.promise)}}return t},LP=function(t){var e=t;return e&&e._q!==void 0},aze="2.11.13",uze="amplitude-ts",cze="Web",lze="$remote",fze=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(uze,"/").concat(aze),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){return jt(this,void 0,void 0,function(){var r,n,i,s,o,a;return Kt(this,function(u){return r=new Date().getTime(),n=(o=this.config.lastEventId)!==null&&o!==void 0?o:-1,i=(a=e.event_id)!==null&&a!==void 0?a:n+1,this.config.lastEventId=i,e.time||(this.config.lastEventTime=r),s=Qt(Qt(Qt(Qt(Qt(Qt(Qt(Qt({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:cze}),this.config.trackingOptions.language&&{language:eze()}),this.config.trackingOptions.ipAddress&&{ip:lze}),{insert_id:Dw(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:i,library:this.library,user_agent:this.userAgent}),[2,s]})})},t}(),Pae=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return jt(this,void 0,void 0,function(){var e,r,n,i;return Kt(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),r=new t(this.storage),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,r.set(n,e)];case 2:return s.sent(),[4,r.get(n)];case 3:return i=s.sent(),[2,i===e];case 4:return s.sent(),[2,!1];case 5:return[4,r.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return jt(this,void 0,void 0,function(){var r;return Kt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return r=n.sent(),r?[2,JSON.parse(r)]:[2,void 0];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){return jt(this,void 0,void 0,function(){var r;return Kt(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(e))||void 0]})})},t.prototype.set=function(e,r){return jt(this,void 0,void 0,function(){var n;return Kt(this,function(i){try{(n=this.storage)===null||n===void 0||n.setItem(e,JSON.stringify(r))}catch{}return[2]})})},t.prototype.remove=function(e){return jt(this,void 0,void 0,function(){var r;return Kt(this,function(n){try{(r=this.storage)===null||r===void 0||r.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){return jt(this,void 0,void 0,function(){var e;return Kt(this,function(r){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}(),lk=1e3,Nae=function(t){Aa(e,t);function e(r){var n,i=t.call(this,(n=dl())===null||n===void 0?void 0:n.localStorage)||this;return i.loggerProvider=r==null?void 0:r.loggerProvider,i}return e.prototype.set=function(r,n){return jt(this,void 0,void 0,function(){var i,s;return Kt(this,function(o){switch(o.label){case 0:return Array.isArray(n)&&n.length>lk?(i=n.length-lk,[4,t.prototype.set.call(this,r,n.slice(0,lk))]):[3,2];case 1:return o.sent(),(s=this.loggerProvider)===null||s===void 0||s.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(lk,".")),[3,4];case 2:return[4,t.prototype.set.call(this,r,n)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},e}(Pae),dze=function(t){Aa(e,t);function e(){var r;return t.call(this,(r=dl())===null||r===void 0?void 0:r.sessionStorage)||this}return e}(Pae),hze=function(t){Aa(e,t);function e(){var r=t.apply(this,ms([],Pn(arguments),!1))||this;return r.state={done:4},r}return e.prototype.send=function(r,n){return jt(this,void 0,void 0,function(){var i=this;return Kt(this,function(s){return[2,new Promise(function(o,a){typeof XMLHttpRequest>"u"&&a(new Error("XHRTransport is not supported."));var u=new XMLHttpRequest;u.open("POST",r,!0),u.onreadystatechange=function(){if(u.readyState===i.state.done){var f=u.responseText;try{o(i.buildResponse(JSON.parse(f)))}catch{o(i.buildResponse({code:u.status}))}}},u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","*/*"),u.send(JSON.stringify(n))})]})})},e}(N7),pze=function(t){Aa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(r,n){return jt(this,void 0,void 0,function(){var i=this;return Kt(this,function(s){return[2,new Promise(function(o,a){var u=dl();if(!(u!=null&&u.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var f=JSON.stringify(n),d=u.navigator.sendBeacon(r,JSON.stringify(n));return o(d?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:f.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(g){a(g)}})]})})},e}(N7),gze=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return jt(void 0,ms([t,e],Pn(r),!1),void 0,function(i,s,o){var a,u,f,d,g,y,b,A,x;return o===void 0&&(o=!0),Kt(this,function(k){switch(k.label){case 0:return a=UUe(i),[4,s.getRaw(a)];case 1:return u=k.sent(),u?o?[4,s.remove(a)]:[3,3]:[2,{optOut:!1}];case 2:k.sent(),k.label=3;case 3:return f=Pn(u.split("."),6),d=f[0],g=f[1],y=f[2],b=f[3],A=f[4],x=f[5],[2,{deviceId:d,userId:mze(g),sessionId:DP(b),lastEventId:DP(x),lastEventTime:DP(A),optOut:!!y}]}})})},DP=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},mze=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}},Ml="[Amplitude]",GY="".concat(Ml," Form Started"),yze="".concat(Ml," Form Submitted"),bze="".concat(Ml," File Downloaded"),YY="session_start",ZY="session_end",vze="".concat(Ml," File Extension"),wze="".concat(Ml," File Name"),Sze="".concat(Ml," Link ID"),_ze="".concat(Ml," Link Text"),Aze="".concat(Ml," Link URL"),FP="".concat(Ml," Form ID"),$P="".concat(Ml," Form Name"),UP="".concat(Ml," Form Destination"),PT="cookie",xze="US",Eze=function(t){Aa(e,t);function e(r,n,i,s,o,a,u,f,d,g,y,b,A,x,k,R,C,P,O,q,Q,Y,X,Z,le,I,c,h,p,m,v,_,T,w){i===void 0&&(i=new P7),s===void 0&&(s={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),f===void 0&&(f=1e3),d===void 0&&(d=5),g===void 0&&(g=30),y===void 0&&(y=PT),R===void 0&&(R=new Aae),C===void 0&&(C=CT.Warn),O===void 0&&(O=!1),q===void 0&&(q=!1),X===void 0&&(X=""),Z===void 0&&(Z=xze),I===void 0&&(I=30*60*1e3),c===void 0&&(c=new Nae({loggerProvider:R})),h===void 0&&(h={ipAddress:!0,language:!0,platform:!0}),p===void 0&&(p="fetch"),m===void 0&&(m=!1),v===void 0&&(v=!1);var l=t.call(this,{apiKey:r,storageProvider:c,transportProvider:Bae(p)})||this;return l.apiKey=r,l.appVersion=n,l.cookieOptions=s,l.defaultTracking=o,l.autocapture=a,l.flushIntervalMillis=f,l.flushMaxRetries=d,l.flushQueueSize=g,l.identityStorage=y,l.ingestionMetadata=b,l.instanceName=A,l.loggerProvider=R,l.logLevel=C,l.minIdLength=P,l.offline=O,l.partnerId=Q,l.plan=Y,l.serverUrl=X,l.serverZone=Z,l.sessionTimeout=I,l.storageProvider=c,l.trackingOptions=h,l.transport=p,l.useBatch=m,l.fetchRemoteConfig=v,l._optOut=!1,l._cookieStorage=i,l.deviceId=u,l.lastEventId=x,l.lastEventTime=k,l.optOut=q,l.sessionId=le,l.pageCounter=T,l.userId=_,l.debugLogsEnabled=w,l.loggerProvider.enable(w?CT.Debug:l.logLevel),l}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){this._cookieStorage!==r&&(this._cookieStorage=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){this._deviceId!==r&&(this._deviceId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){this._userId!==r&&(this._userId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){this._sessionId!==r&&(this._sessionId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){this._optOut!==r&&(this._optOut=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){this._lastEventTime!==r&&(this._lastEventTime=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){this._lastEventId!==r&&(this._lastEventId=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){this._pageCounter!==r&&(this._pageCounter=r,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugLogsEnabled",{set:function(r){this._debugLogsEnabled!==r&&(this._debugLogsEnabled=r,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(Tae(this.apiKey),r)},e}(yUe),kze=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return jt(void 0,ms([t],Pn(e),!1),void 0,function(n,i,s){var o,a,u,f,d,g,y,b,A,x,k,R,C,P,O,q,Q,Y,X,Z,le,I,c,h,p,m,v,_,T,w,l,S,N,F,W,D,K,z,G,te,ie,J,V;return i===void 0&&(i={}),Kt(this,function(fe){switch(fe.label){case 0:return o=i.identityStorage||PT,X={},o===PT?[3,1]:(u="",[3,5]);case 1:return(le=(Z=i.cookieOptions)===null||Z===void 0?void 0:Z.domain)!==null&&le!==void 0?(f=le,[3,4]):[3,2];case 2:return[4,Ize()];case 3:f=fe.sent(),fe.label=4;case 4:u=f,fe.label=5;case 5:return a=Qt.apply(void 0,[(X.domain=u,X.expiration=365,X.sameSite="Lax",X.secure=!1,X.upgrade=!0,X),i.cookieOptions]),d=Tze(i.identityStorage,a),[4,gze(n,d,(c=(I=i.cookieOptions)===null||I===void 0?void 0:I.upgrade)!==null&&c!==void 0?c:!0)];case 6:return g=fe.sent(),[4,d.get(Tae(n))];case 7:return y=fe.sent(),b=MT(),A=(_=(v=(m=(p=(h=i.deviceId)!==null&&h!==void 0?h:b.ampDeviceId)!==null&&p!==void 0?p:b.deviceId)!==null&&m!==void 0?m:y==null?void 0:y.deviceId)!==null&&v!==void 0?v:g.deviceId)!==null&&_!==void 0?_:Dw(),x=(T=y==null?void 0:y.lastEventId)!==null&&T!==void 0?T:g.lastEventId,k=(w=y==null?void 0:y.lastEventTime)!==null&&w!==void 0?w:g.lastEventTime,R=(S=(l=i.optOut)!==null&&l!==void 0?l:y==null?void 0:y.optOut)!==null&&S!==void 0?S:g.optOut,C=(N=y==null?void 0:y.sessionId)!==null&&N!==void 0?N:g.sessionId,P=(W=(F=i.userId)!==null&&F!==void 0?F:y==null?void 0:y.userId)!==null&&W!==void 0?W:g.userId,s.previousSessionDeviceId=(D=y==null?void 0:y.deviceId)!==null&&D!==void 0?D:g.deviceId,s.previousSessionUserId=(K=y==null?void 0:y.userId)!==null&&K!==void 0?K:g.userId,O={ipAddress:(G=(z=i.trackingOptions)===null||z===void 0?void 0:z.ipAddress)!==null&&G!==void 0?G:!0,language:(ie=(te=i.trackingOptions)===null||te===void 0?void 0:te.language)!==null&&ie!==void 0?ie:!0,platform:(V=(J=i.trackingOptions)===null||J===void 0?void 0:J.platform)!==null&&V!==void 0?V:!0},q=y==null?void 0:y.pageCounter,Q=y==null?void 0:y.debugLogsEnabled,i.autocapture!==void 0&&(i.defaultTracking=i.autocapture),Y=new Eze(n,i.appVersion,d,a,i.defaultTracking,i.autocapture,A,i.flushIntervalMillis,i.flushMaxRetries,i.flushQueueSize,o,i.ingestionMetadata,i.instanceName,x,k,i.loggerProvider,i.logLevel,i.minIdLength,i.offline,R,i.partnerId,i.plan,i.serverUrl,i.serverZone,C,i.sessionTimeout,i.storageProvider,O,i.transport,i.useBatch,i.fetchRemoteConfig,P,q,Q),[4,Y.storageProvider.isEnabled()];case 8:return fe.sent()||(Y.loggerProvider.warn("Storage provider ".concat(Y.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),Y.storageProvider=new P7),[2,Y]}})})},Tze=function(t,e){switch(t===void 0&&(t=PT),e===void 0&&(e={}),t){case"localStorage":return new Nae;case"sessionStorage":return new dze;case"none":return new P7;case"cookie":default:return new KO(Qt(Qt({},e),{expirationDays:e.expiration}))}},Bae=function(t){return t==="xhr"?new hze:t==="beacon"?new pze:new ZUe},Ize=function(t){return jt(void 0,void 0,void 0,function(){var e,r,n,i,s,s,o,a,u,f;return Kt(this,function(d){switch(d.label){case 0:return[4,new KO().isEnabled()];case 1:if(!d.sent()||typeof location>"u"||!location.hostname)return[2,""];for(e=location.hostname,r=e.split("."),n=[],i="AMP_TLDTEST",s=r.length-2;s>=0;--s)n.push(r.slice(s).join("."));s=0,d.label=2;case 2:return s<n.length?(o=n[s],a={domain:"."+o},u=new KO(a),[4,u.set(i,1)]):[3,7];case 3:return d.sent(),[4,u.get(i)];case 4:return f=d.sent(),f?[4,u.remove(i)]:[3,6];case 5:return d.sent(),[2,"."+o];case 6:return s++,[3,2];case 7:return[2,""]}})})},NT;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(NT||(NT={}));var XY;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE_CURRENCY="$currency",t.REVENUE="$revenue"})(XY||(XY={}));var QY;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(QY||(QY={}));var Rze=function(t){var e={};for(var r in t){var n=t[r];n&&(e[r]=n)}return e},Mze="[Amplitude] Page Viewed",Cze=function(t){t===void 0&&(t={});var e,r=dl(),n=void 0,i,s,o=t.trackOn,a=t.trackHistoryChanges,u=t.eventType,f=u===void 0?Mze:u,d=function(R){var C=R;try{C=decodeURI(R)}catch(P){n==null||n.error("Malformed URI sequence: ",P)}return C},g=function(){return jt(void 0,void 0,void 0,function(){var R,C,P;return Kt(this,function(O){switch(O.label){case 0:return R=d(typeof location<"u"&&location.href||""),P={event_type:f},C=[{}],[4,Pze()];case 1:return[2,(P.event_properties=Qt.apply(void 0,[Qt.apply(void 0,C.concat([O.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":R,"[Amplitude] Page Path":typeof location<"u"&&d(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":R.split("?")[0]}]),P)]}})})},y=function(){return typeof o>"u"||typeof o=="function"&&o()},b=typeof location<"u"?location.href:null,A=function(){return jt(void 0,void 0,void 0,function(){var R,C,P,O;return Kt(this,function(q){switch(q.label){case 0:return R=location.href,C=Bze(a,R,b||"")&&y(),b=R,C?(n==null||n.log("Tracking page view event"),e!=null?[3,1]:[3,3]):[3,4];case 1:return O=(P=e).track,[4,g()];case 2:O.apply(P,[q.sent()]),q.label=3;case 3:q.label=4;case 4:return[2]}})})},x=function(){A()},k={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(R,C){return jt(void 0,void 0,void 0,function(){var P,O;return Kt(this,function(q){switch(q.label){case 0:return e=C,s=R,n=R.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),r&&(r.addEventListener("popstate",x),i=r.history.pushState,r.history.pushState=new Proxy(r.history.pushState,{apply:function(Q,Y,X){var Z=Pn(X,3),le=Z[0],I=Z[1],c=Z[2];Q.apply(Y,[le,I,c]),A()}})),y()?(n.log("Tracking page view event"),O=(P=e).track,[4,g()]):[3,2];case 1:O.apply(P,[q.sent()]),q.label=2;case 2:return[2]}})})},execute:function(R){return jt(void 0,void 0,void 0,function(){var C;return Kt(this,function(P){switch(P.label){case 0:return o==="attribution"&&Nze(R)?(n==null||n.log("Enriching campaign event to page view event with campaign parameters"),[4,g()]):[3,2];case 1:C=P.sent(),R.event_type=C.event_type,R.event_properties=Qt(Qt({},R.event_properties),C.event_properties),P.label=2;case 2:return s&&R.event_type===f&&(s.pageCounter=s.pageCounter?s.pageCounter+1:1,R.event_properties=Qt(Qt({},R.event_properties),{"[Amplitude] Page Counter":s.pageCounter})),[2,R]}})})},teardown:function(){return jt(void 0,void 0,void 0,function(){return Kt(this,function(R){return r&&(r.removeEventListener("popstate",x),i&&(r.history.pushState=i)),[2]})})}};return k},Pze=function(){return jt(void 0,void 0,void 0,function(){var t;return Kt(this,function(e){switch(e.label){case 0:return t=Rze,[4,new kae().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},Nze=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,r=e[NT.SET]||{},n=e[NT.UNSET]||{},i=ms(ms([],Pn(Object.keys(r)),!1),Pn(Object.keys(n)),!1);return Object.keys(K6).every(function(s){return i.includes(s)})}return!1},Bze=function(t,e,r){switch(t){case"pathOnly":{if(r=="")return!0;var n=new URL(e),i=new URL(r),s=n.origin+n.pathname,o=i.origin+i.pathname;return s!==o}default:return e!==r}},Oze=function(){var t,e=[],r=function(f,d,g){f.addEventListener(d,g),e.push({element:f,type:d,handler:g})},n=function(){e.forEach(function(f){var d=f.element,g=f.type,y=f.handler;d==null||d.removeEventListener(g,y)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",s="enrichment",o=function(f,d){return jt(void 0,void 0,void 0,function(){var g;return Kt(this,function(y){return(g=dl())===null||g===void 0||g.addEventListener("load",function(){if(!d){f.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var b=function(x){var k=!1;r(x,"change",function(){var R,C=JY(x);k||d.track(GY,(R={},R[FP]=Vy(x.id),R[$P]=Vy(x.name),R[UP]=C,R)),k=!0}),r(x,"submit",function(){var R,C,P=JY(x);k||d.track(GY,(R={},R[FP]=Vy(x.id),R[$P]=Vy(x.name),R[UP]=P,R)),d.track(yze,(C={},C[FP]=Vy(x.id),C[$P]=Vy(x.name),C[UP]=P,C)),k=!1})},A=Array.from(document.getElementsByTagName("form"));A.forEach(b),typeof MutationObserver<"u"&&(t=new MutationObserver(function(x){x.forEach(function(k){k.addedNodes.forEach(function(R){R.nodeName==="FORM"&&b(R),"querySelectorAll"in R&&typeof R.querySelectorAll=="function"&&Array.from(R.querySelectorAll("form")).map(b)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},a=function(f){return jt(void 0,void 0,void 0,function(){return Kt(this,function(d){return[2,f]})})},u=function(){return jt(void 0,void 0,void 0,function(){return Kt(this,function(f){return t==null||t.disconnect(),n(),[2]})})};return{name:i,type:s,setup:o,execute:a,teardown:u}},Vy=function(t){if(typeof t=="string")return t},JY=function(t){var e=t.getAttribute("action");try{e=new URL(encodeURI(e??""),window.location.href).href}catch{}return e},Lze=function(){var t,e=[],r=function(f,d,g){f.addEventListener(d,g),e.push({element:f,type:d,handler:g})},n=function(){e.forEach(function(f){var d=f.element,g=f.type,y=f.handler;d==null||d.removeEventListener(g,y)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",s="enrichment",o=function(f,d){return jt(void 0,void 0,void 0,function(){var g;return Kt(this,function(y){return(g=dl())===null||g===void 0||g.addEventListener("load",function(){if(!d){f.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var b=function(k){var R;try{R=new URL(k.href,window.location.href)}catch{return}var C=A.exec(R.href),P=C==null?void 0:C[1];P&&r(k,"click",function(){var O;P&&d.track(bze,(O={},O[vze]=P,O[wze]=R.pathname,O[Sze]=k.id,O[_ze]=k.text,O[Aze]=k.href,O))})},A=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,x=Array.from(document.getElementsByTagName("a"));x.forEach(b),typeof MutationObserver<"u"&&(t=new MutationObserver(function(k){k.forEach(function(R){R.addedNodes.forEach(function(C){C.nodeName==="A"&&b(C),"querySelectorAll"in C&&typeof C.querySelectorAll=="function"&&Array.from(C.querySelectorAll("a")).map(b)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},a=function(f){return jt(void 0,void 0,void 0,function(){return Kt(this,function(d){return[2,f]})})},u=function(){return jt(void 0,void 0,void 0,function(){return Kt(this,function(f){return t==null||t.disconnect(),n(),[2]})})};return{name:i,type:s,setup:o,execute:a,teardown:u}},eZ=!1,Dze=function(t){if(!(eZ||t.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;t.loggerProvider.warn(e),eZ=!0}},Fze=function(){var t="@amplitude/plugin-network-checker-browser",e="before",r=dl(),n=[],i=function(u,f){r&&(r.addEventListener(u,f),n.push({type:u,handler:f}))},s=function(){n.forEach(function(u){var f=u.type,d=u.handler;r&&r.removeEventListener(f,d)}),n=[]},o=function(u,f){return jt(void 0,void 0,void 0,function(){return Kt(this,function(d){return typeof navigator>"u"?(u.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),u.offline=!1,[2]):(u.offline=!navigator.onLine,i("online",function(){u.loggerProvider.debug("Network connectivity changed to online."),u.offline=!1,setTimeout(function(){f.flush()},u.flushIntervalMillis)}),i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline."),u.offline=!0}),[2])})})},a=function(){return jt(void 0,void 0,void 0,function(){return Kt(this,function(u){return s(),[2]})})};return{name:t,type:e,setup:o,teardown:a}},BT;(function(t){t.US="US",t.EU="EU"})(BT||(BT={}));var Vo;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(Vo||(Vo={}));var $ze=function(){function t(){}return t.prototype.send=function(e,r){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var r,n,i,s,o,a,u,f,d,g,y,b,A,x,k,R,C,P,O,q,Q,Y;if(typeof e!="object")return null;var X=e.code||0,Z=this.buildStatus(X);switch(Z){case Vo.Success:return{status:Z,statusCode:X,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case Vo.Invalid:return{status:Z,statusCode:X,body:{error:(s=e.error)!==null&&s!==void 0?s:"",missingField:(o=e.missing_field)!==null&&o!==void 0?o:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(f=e.events_with_invalid_id_lengths)!==null&&f!==void 0?f:{},epsThreshold:(d=e.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(g=e.exceeded_daily_quota_devices)!==null&&g!==void 0?g:{},silencedDevices:(y=e.silenced_devices)!==null&&y!==void 0?y:[],silencedEvents:(b=e.silenced_events)!==null&&b!==void 0?b:[],throttledDevices:(A=e.throttled_devices)!==null&&A!==void 0?A:{},throttledEvents:(x=e.throttled_events)!==null&&x!==void 0?x:[]}};case Vo.PayloadTooLarge:return{status:Z,statusCode:X,body:{error:(k=e.error)!==null&&k!==void 0?k:""}};case Vo.RateLimit:return{status:Z,statusCode:X,body:{error:(R=e.error)!==null&&R!==void 0?R:"",epsThreshold:(C=e.eps_threshold)!==null&&C!==void 0?C:0,throttledDevices:(P=e.throttled_devices)!==null&&P!==void 0?P:{},throttledUsers:(O=e.throttled_users)!==null&&O!==void 0?O:{},exceededDailyQuotaDevices:(q=e.exceeded_daily_quota_devices)!==null&&q!==void 0?q:{},exceededDailyQuotaUsers:(Q=e.exceeded_daily_quota_users)!==null&&Q!==void 0?Q:{},throttledEvents:(Y=e.throttled_events)!==null&&Y!==void 0?Y:[]}};case Vo.Timeout:default:return{status:Z,statusCode:X}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?Vo.Success:e===429?Vo.RateLimit:e===413?Vo.PayloadTooLarge:e===408?Vo.Timeout:e>=400&&e<500?Vo.Invalid:e>=500?Vo.Failed:Vo.Unknown},t}(),Uze="Network error occurred, remote config fetch failed",zze="Remote config successfully fetched",Wze="Remote config fetch rejected due to exceeded retry count",tZ="Remote config fetch rejected due to timeout after 5 seconds",rZ="Unexpected error occurred",Kze="https://sr-client-cfg.amplitude.com/config",jze="https://sr-client-cfg.stag2.amplitude.com/config",Hze="https://sr-client-cfg.eu.amplitude.com/config",qze=function(){function t(e){var r=e.localConfig,n=e.configKeys,i=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(s,o,a){return jt(i,void 0,void 0,function(){var u,f,d;return Kt(this,function(g){switch(g.label){case 0:return u=Date.now(),[4,this.fetchWithTimeout(a)];case 1:return f=g.sent(),f&&(d=f.configs&&f.configs[s],d)?(this.metrics.fetchTimeAPISuccess=Date.now()-u,[2,d[o]]):(this.metrics.fetchTimeAPIFail=Date.now()-u,[2,void 0])}})})},this.fetchWithTimeout=function(s){return jt(i,void 0,void 0,function(){var o,a,u;return Kt(this,function(f){switch(f.label){case 0:return o=new AbortController,a=setTimeout(function(){return o.abort()},5e3),[4,this.fetchRemoteConfig(o.signal,s)];case 1:return u=f.sent(),clearTimeout(a),[2,u]}})})},this.fetchRemoteConfig=function(s,o){return jt(i,void 0,void 0,function(){var a,u,f,d,g,y,b,A,x,k,R,C,P;return Kt(this,function(O){switch(O.label){case 0:if(o===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:Wze})];if(s.aborted)return[2,this.completeRequest({err:tZ})];o!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=o,this.attempts=0),O.label=1;case 1:O.trys.push([1,3,,4]),a=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(u=Jo(this.configKeys),f=u.next();!f.done;f=u.next())d=f.value,a.append("config_keys",d)}catch(q){R={error:q}}finally{try{f&&!f.done&&(C=u.return)&&C.call(u)}finally{if(R)throw R.error}}return o&&a.set("session_id",String(o)),g={headers:{Accept:"*/*"},method:"GET"},y="".concat(this.getServerUrl(),"?").concat(a.toString()),this.attempts+=1,[4,fetch(y,Qt(Qt({},g),{signal:s}))];case 2:if(b=O.sent(),b===null)return[2,this.completeRequest({err:rZ})];switch(A=new $ze().buildStatus(b.status),A){case Vo.Success:return this.attempts=0,[2,this.parseAndStoreConfig(b)];case Vo.Failed:return[2,this.retryFetch(s,o)];default:return[2,this.completeRequest({err:Uze})]}case 3:return x=O.sent(),k=x,s.aborted?[2,this.completeRequest({err:tZ})]:[2,this.completeRequest({err:(P=k.message)!==null&&P!==void 0?P:rZ})];case 4:return[2]}})})},this.retryFetch=function(s,o){return jt(i,void 0,void 0,function(){var a=this;return Kt(this,function(u){switch(u.label){case 0:return[4,new Promise(function(f){return setTimeout(f,a.attempts*a.retryTimeout)})];case 1:return u.sent(),[2,this.fetchRemoteConfig(s,o)]}})})},this.parseAndStoreConfig=function(s){return jt(i,void 0,void 0,function(){var o;return Kt(this,function(a){switch(a.label){case 0:return[4,s.json()];case 1:return o=a.sent(),this.completeRequest({success:zze}),[2,o]}})})},this.localConfig=r,this.configKeys=n}return t.prototype.getServerUrl=function(){return this.localConfig.serverZone===BT.STAGING?jze:this.localConfig.serverZone===BT.EU?Hze:Kze},t.prototype.completeRequest=function(e){var r=e.err,n=e.success;if(r)throw new Error(r);n&&this.localConfig.loggerProvider.log(n)},t}(),Vze=function(t){var e=t.localConfig,r=t.configKeys;return jt(void 0,void 0,void 0,function(){return Kt(this,function(n){return[2,new qze({localConfig:e,configKeys:r})]})})},Gze=Vze,Yze=function(){function t(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return t.prototype.initialize=function(){return jt(this,void 0,void 0,function(){var e;return Kt(this,function(r){switch(r.label){case 0:return e=this,[4,Gze({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=r.sent(),[2]}})})},t.prototype.generateJoinedConfig=function(){return jt(this,void 0,void 0,function(){var e,r,n,i,s,o,a;return Kt(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),r=this.remoteConfigFetch,r?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:r=u.sent(),u.label=2;case 2:return e=r,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(e,null,2)),e&&"autocapture"in e&&(typeof e.autocapture=="boolean"&&(this.config.autocapture=e.autocapture),typeof e.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=e.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=Qt({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},e.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=Qt(Qt({},this.config.autocapture),e.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(i=(a=this.config).requestMetadata)!==null&&i!==void 0||(a.requestMetadata=new Eae),!((s=this.remoteConfigFetch)===null||s===void 0)&&s.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((o=this.remoteConfigFetch)===null||o===void 0)&&o.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return n=u.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",n),[3,4];case 4:return[2,this.config]}})})},t}(),Zze=function(t){return jt(void 0,void 0,void 0,function(){var e;return Kt(this,function(r){switch(r.label){case 0:return e=new Yze(t),[4,e.initialize()];case 1:return r.sent(),[2,e]}})})},Xze="@amplitude/plugin-autocapture-browser",jO="[Amplitude] Element Clicked",Qze="[Amplitude] Element Changed",Jze="[Amplitude] Element ID",eWe="[Amplitude] Element Class",Oae="[Amplitude] Element Tag",Lae="[Amplitude] Element Text",tWe="[Amplitude] Element Hierarchy",rWe="[Amplitude] Element Href",nWe="[Amplitude] Element Position Left",iWe="[Amplitude] Element Position Top",sWe="[Amplitude] Element Aria Label",oWe="[Amplitude] Element Attributes",aWe="[Amplitude] Element Parent Label",Dae="[Amplitude] Page URL",uWe="[Amplitude] Page Title",cWe="[Amplitude] Viewport Height",lWe="[Amplitude] Viewport Width",h3="https://app.amplitude.com",fWe="https://app.eu.amplitude.com",dWe="https://apps.stag2.amplitude.com",hWe={US:h3,EU:fWe,STAGING:dWe},pWe="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",gWe="amp-visual-tagging-selector-highlight";function pi(t){return typeof t=="function"}function B7(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var zP=B7(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function OT(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Yx=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Jo(o),u=a.next();!u.done;u=a.next()){var f=u.value;f.remove(this)}}catch(x){e={error:x}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(pi(d))try{d()}catch(x){s=x instanceof zP?x.errors:[x]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var y=Jo(g),b=y.next();!b.done;b=y.next()){var A=b.value;try{nZ(A)}catch(x){s=s??[],x instanceof zP?s=ms(ms([],Pn(s)),Pn(x.errors)):s.push(x)}}}catch(x){n={error:x}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}}if(s)throw new zP(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)nZ(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&OT(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&OT(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Fae=Yx.EMPTY;function $ae(t){return t instanceof Yx||t&&"closed"in t&&pi(t.remove)&&pi(t.add)&&pi(t.unsubscribe)}function nZ(t){pi(t)?t():t.unsubscribe()}var mWe={Promise:void 0},yWe={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,ms([t,e],Pn(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Uae(t){yWe.setTimeout(function(){throw t})}function HO(){}function p3(t){t()}var O7=function(t){Aa(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,$ae(r)&&r.add(n)):n.destination=wWe,n}return e.create=function(r,n,i){return new UA(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Yx),bWe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){fk(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){fk(n)}else fk(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){fk(r)}},t}(),UA=function(t){Aa(e,t);function e(r,n,i){var s=t.call(this)||this,o;return pi(r)||!r?o={next:r??void 0,error:n??void 0,complete:i??void 0}:o=r,s.destination=new bWe(o),s}return e}(O7);function fk(t){Uae(t)}function vWe(t){throw t}var wWe={closed:!0,next:HO,error:vWe,complete:HO},L7=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zae(t){return t}function SWe(t){return t.length===0?zae:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Sa=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=AWe(e)?e:new UA(e,r,n);return p3(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=iZ(r),new r(function(i,s){var o=new UA({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[L7]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return SWe(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=iZ(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function iZ(t){var e;return(e=t??mWe.Promise)!==null&&e!==void 0?e:Promise}function _We(t){return t&&pi(t.next)&&pi(t.error)&&pi(t.complete)}function AWe(t){return t&&t instanceof O7||_We(t)&&$ae(t)}function xWe(t){return pi(t==null?void 0:t.lift)}function Rc(t){return function(e){if(xWe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cu(t,e,r,n,i){return new EWe(t,e,r,n,i)}var EWe=function(t){Aa(e,t);function e(r,n,i,s,o,a){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(f){try{n(f)}catch(d){r.error(d)}}:t.prototype._next,u._error=s?function(f){try{s(f)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(O7),kWe=B7(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Wae=function(t){Aa(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new sZ(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new kWe},e.prototype.next=function(r){var n=this;p3(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=Jo(n.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(r)}}catch(f){i={error:f}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;p3(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;p3(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?Fae:(this.currentObservers=null,a.push(r),new Yx(function(){n.currentObservers=null,OT(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},e.prototype.asObservable=function(){var r=new Sa;return r.source=this,r},e.create=function(r,n){return new sZ(r,n)},e}(Sa),sZ=function(t){Aa(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Fae},e}(Wae),Kae={now:function(){return(Kae.delegate||Date).now()},delegate:void 0},TWe=function(t){Aa(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Yx),oZ={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,ms([t,e],Pn(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},IWe=function(t){Aa(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),oZ.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&oZ.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s;try{this.work(r)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,OT(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(TWe),aZ=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Kae.now,t}(),RWe=function(t){Aa(e,t);function e(r,n){n===void 0&&(n=aZ.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(aZ),j6=new RWe(IWe),MWe=j6,D7=new Sa(function(t){return t.complete()});function jae(t){return t&&pi(t.schedule)}function F7(t){return t[t.length-1]}function NCt(t){return pi(F7(t))?t.pop():void 0}function CWe(t){return jae(F7(t))?t.pop():void 0}function PWe(t,e){return typeof F7(t)=="number"?t.pop():e}var $7=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Hae(t){return pi(t==null?void 0:t.then)}function qae(t){return pi(t[L7])}function Vae(t){return Symbol.asyncIterator&&pi(t==null?void 0:t[Symbol.asyncIterator])}function Gae(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function NWe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yae=NWe();function Zae(t){return pi(t==null?void 0:t[Yae])}function Xae(t){return q$e(this,arguments,function(){var r,n,i,s;return Kt(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Mb(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,Mb(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Mb(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Qae(t){return pi(t==null?void 0:t.getReader)}function zu(t){if(t instanceof Sa)return t;if(t!=null){if(qae(t))return BWe(t);if($7(t))return OWe(t);if(Hae(t))return LWe(t);if(Vae(t))return Jae(t);if(Zae(t))return DWe(t);if(Qae(t))return FWe(t)}throw Gae(t)}function BWe(t){return new Sa(function(e){var r=t[L7]();if(pi(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OWe(t){return new Sa(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function LWe(t){return new Sa(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Uae)})}function DWe(t){return new Sa(function(e){var r,n;try{for(var i=Jo(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function Jae(t){return new Sa(function(e){$We(t,e).catch(function(r){return e.error(r)})})}function FWe(t){return Jae(Xae(t))}function $We(t,e){var r,n,i,s;return jt(this,void 0,void 0,function(){var o,a;return Kt(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=V$e(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ng(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function eue(t,e){return e===void 0&&(e=0),Rc(function(r,n){r.subscribe(Cu(n,function(i){return ng(n,t,function(){return n.next(i)},e)},function(){return ng(n,t,function(){return n.complete()},e)},function(i){return ng(n,t,function(){return n.error(i)},e)}))})}function tue(t,e){return e===void 0&&(e=0),Rc(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function UWe(t,e){return zu(t).pipe(tue(e),eue(e))}function zWe(t,e){return zu(t).pipe(tue(e),eue(e))}function WWe(t,e){return new Sa(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function KWe(t,e){return new Sa(function(r){var n;return ng(r,e,function(){n=t[Yae](),ng(r,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return pi(n==null?void 0:n.return)&&n.return()}})}function rue(t,e){if(!t)throw new Error("Iterable cannot be null");return new Sa(function(r){ng(r,e,function(){var n=t[Symbol.asyncIterator]();ng(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function jWe(t,e){return rue(Xae(t),e)}function HWe(t,e){if(t!=null){if(qae(t))return UWe(t,e);if($7(t))return WWe(t,e);if(Hae(t))return zWe(t,e);if(Vae(t))return rue(t,e);if(Zae(t))return KWe(t,e);if(Qae(t))return jWe(t,e)}throw Gae(t)}function qWe(t,e){return e?HWe(t,e):zu(t)}function nue(t){return t instanceof Date&&!isNaN(t)}var VWe=B7(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function GWe(t,e){var r=nue(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,s=r.with,o=s===void 0?YWe:s,a=r.scheduler,u=a===void 0?j6:a,f=r.meta,d=f===void 0?null:f;if(n==null&&i==null)throw new TypeError("No timeout provided.");return Rc(function(g,y){var b,A,x=null,k=0,R=function(C){A=ng(y,u,function(){try{b.unsubscribe(),zu(o({meta:d,lastValue:x,seen:k})).subscribe(y)}catch(P){y.error(P)}},C)};b=g.subscribe(Cu(y,function(C){A==null||A.unsubscribe(),k++,y.next(x=C),i>0&&R(i)},void 0,void 0,function(){A!=null&&A.closed||A==null||A.unsubscribe(),x=null})),!k&&R(n!=null?typeof n=="number"?n:+n-u.now():i)})}function YWe(t){throw new VWe(t)}function _f(t,e){return Rc(function(r,n){var i=0;r.subscribe(Cu(n,function(s){n.next(t.call(e,s,i++))}))})}var ZWe=Array.isArray;function XWe(t,e){return ZWe(e)?t.apply(void 0,ms([],Pn(e))):t(e)}function QWe(t){return _f(function(e){return XWe(t,e)})}function JWe(t,e,r,n,i,s,o,a){var u=[],f=0,d=0,g=!1,y=function(){g&&!u.length&&!f&&e.complete()},b=function(x){return f<n?A(x):u.push(x)},A=function(x){f++;var k=!1;zu(r(x,d++)).subscribe(Cu(e,function(R){e.next(R)},function(){k=!0},void 0,function(){if(k)try{f--;for(var R=function(){var C=u.shift();o||A(C)};u.length&&f<n;)R();y()}catch(C){e.error(C)}}))};return t.subscribe(Cu(e,b,function(){g=!0,y()})),function(){}}function H6(t,e,r){return r===void 0&&(r=1/0),pi(e)?H6(function(n,i){return _f(function(s,o){return e(n,s,i,o)})(zu(t(n,i)))},r):(typeof e=="number"&&(r=e),Rc(function(n,i){return JWe(n,i,t,r)}))}function eKe(t){return t===void 0&&(t=1/0),H6(zae,t)}var tKe=["addListener","removeListener"],rKe=["addEventListener","removeEventListener"],nKe=["on","off"];function rA(t,e,r,n){if(pi(r)&&(n=r,r=void 0),n)return rA(t,e,r).pipe(QWe(n));var i=Pn(oKe(t)?rKe.map(function(a){return function(u){return t[a](e,u,r)}}):iKe(t)?tKe.map(uZ(t,e)):sKe(t)?nKe.map(uZ(t,e)):[],2),s=i[0],o=i[1];if(!s&&$7(t))return H6(function(a){return rA(a,e,r)})(zu(t));if(!s)throw new TypeError("Invalid event target");return new Sa(function(a){var u=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return a.next(1<f.length?f:f[0])};return s(u),function(){return o(u)}})}function uZ(t,e){return function(r){return function(n){return t[r](e,n)}}}function iKe(t){return pi(t.addListener)&&pi(t.removeListener)}function sKe(t){return pi(t.on)&&pi(t.off)}function oKe(t){return pi(t.addEventListener)&&pi(t.removeEventListener)}function aKe(t,e,r){r===void 0&&(r=MWe);var n=-1;return e!=null&&(jae(e)?r=e:n=e),new Sa(function(i){var s=nue(t)?0-r.now():t;s<0&&(s=0);var o=0;return r.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},s)})}function iue(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=CWe(t),n=PWe(t,1/0),i=t;return i.length?i.length===1?zu(i[0]):eKe(n)(qWe(i,r)):D7}function ig(t,e){return Rc(function(r,n){var i=0;r.subscribe(Cu(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function uKe(t){return Rc(function(e,r){var n=[];return e.subscribe(Cu(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),zu(t).subscribe(Cu(r,function(){var i=n;n=[],r.next(i)},HO)),function(){n=null}})}function cKe(t,e){return e===void 0&&(e=j6),Rc(function(r,n){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var f=s;s=null,n.next(f)}};function u(){var f=o+t,d=e.now();if(d<f){i=this.schedule(void 0,f-d),n.add(i);return}a()}r.subscribe(Cu(n,function(f){s=f,o=e.now(),i||(i=e.schedule(u,t),n.add(i))},function(){a(),n.complete()},void 0,function(){s=i=null}))})}function sue(t){return t<=0?function(){return D7}:Rc(function(e,r){var n=0;e.subscribe(Cu(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function lKe(t){return _f(function(){return t})}function fKe(t,e){return H6(function(r,n){return zu(t(r,n)).pipe(sue(1),lKe(r))})}function dKe(t,e){e===void 0&&(e=j6);var r=aKe(t,e);return fKe(function(){return r})}function hKe(){return Rc(function(t,e){var r,n=!1;t.subscribe(Cu(e,function(i){var s=r;r=i,n&&e.next([s,i]),n=!0}))})}function dk(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Wae}:e,n=t.resetOnError,i=n===void 0?!0:n,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,u=a===void 0?!0:a;return function(f){var d,g,y,b=0,A=!1,x=!1,k=function(){g==null||g.unsubscribe(),g=void 0},R=function(){k(),d=y=void 0,A=x=!1},C=function(){var P=d;R(),P==null||P.unsubscribe()};return Rc(function(P,O){b++,!x&&!A&&k();var q=y=y??r();O.add(function(){b--,b===0&&!x&&!A&&(g=WP(C,u))}),q.subscribe(O),!d&&b>0&&(d=new UA({next:function(Q){return q.next(Q)},error:function(Q){x=!0,k(),g=WP(R,i,Q),q.error(Q)},complete:function(){A=!0,k(),g=WP(R,o),q.complete()}}),zu(P).subscribe(d))})(f)}}function WP(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var i=new UA({next:function(){i.unsubscribe(),t()}});return zu(e.apply(void 0,ms([],Pn(r)))).subscribe(i)}}function pKe(t,e){return Rc(function(r,n){var i=null,s=0,o=!1,a=function(){return o&&!i&&n.complete()};r.subscribe(Cu(n,function(u){i==null||i.unsubscribe();var f=0,d=s++;zu(t(u,d)).subscribe(i=Cu(n,function(g){return n.next(e?e(u,g,d,f++):g)},function(){i=null,a()}))},function(){o=!0,a()}))})}var gKe=["input","select","textarea"],KP=function(t,e){return function(r,n){var i,s,o,a=t.pageUrlAllowlist,u=t.shouldTrackEventResolver,f=(s=(i=n==null?void 0:n.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i);if(!f)return!1;if(u)return u(r,n);if(!yKe(window.location.href,a))return!1;var d=String(n==null?void 0:n.getAttribute("type"))||"";if(typeof d=="string")switch(d.toLowerCase()){case"hidden":return!1;case"password":return!1}if(e){var g=e.some(function(b){var A;return!!(!((A=n==null?void 0:n.matches)===null||A===void 0)&&A.call(n,b))});if(!g)return!1}switch(f){case"input":case"select":case"textarea":return r==="change"||r==="click";default:{var y=(o=window==null?void 0:window.getComputedStyle)===null||o===void 0?void 0:o.call(window,n);return y&&y.getPropertyValue("cursor")==="pointer"&&r==="click"?!0:r==="click"}}}},oue=function(t){if(t==null)return!1;if(typeof t=="string"){var e=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(e.test((t||"").replace(/[- ]/g,"")))return!1;var r=/(^\d{3}-?\d{2}-?\d{4}$)/;if(r.test(t))return!1}return!0},mKe=function(t){return!!t&&t.nodeType===3},aue=function(t){var e,r,n,i=(r=(e=t==null?void 0:t.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||r===void 0?void 0:r.call(e),s=t instanceof HTMLElement?((n=t.getAttribute("contenteditable"))===null||n===void 0?void 0:n.toLowerCase())==="true":!1;return!gKe.includes(i)&&!s},U7=function(t){var e="";return aue(t)&&t.childNodes&&t.childNodes.length&&t.childNodes.forEach(function(r){var n="";mKe(r)?r.textContent&&(n=r.textContent):n=U7(r),e+=n.split(/(\s+)/).filter(oue).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),e},yKe=function(t,e){return!e||!e.length?!0:e.some(function(r){return typeof r=="string"?t===r:t.match(r)})},bKe=function(t,e){return t.getAttributeNames().reduce(function(r,n){if(n.startsWith(e)){var i=n.replace(e,""),s=t.getAttribute(n);i&&(r[i]=s||"")}return r},{})},vKe=function(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0},uue=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r];return vKe(n)||(e[r]=n),e},{})},cue=function(t){var e=t.parentElement;if(!e)return"";var r;try{r=e.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{r=null}if(r){var n=r.textContent||"";return oue(n)?n:""}return cue(e)},z7=function(t,e){return t?e.some(function(r){var n;return(n=t==null?void 0:t.matches)===null||n===void 0?void 0:n.call(t,r)})?t:z7(t==null?void 0:t.parentElement,e):null},wKe=function(t){var e,r,n;if(!t)return{};var i=(n=(r=t==null?void 0:t.tagName)===null||r===void 0?void 0:r.toLowerCase)===null||n===void 0?void 0:n.call(r),s=(e={},e[Oae]=i,e[Lae]=U7(t),e[Dae]=window.location.href.split("?")[0],e);return uue(s)},SKe=function(t){return new Promise(function(e,r){var n;try{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.addEventListener("load",function(){e({status:!0})},{once:!0}),i.addEventListener("error",function(){r({status:!1,message:"Failed to load the script ".concat(t)})}),(n=document.head)===null||n===void 0||n.appendChild(i)}catch(s){r(s)}})};function _Ke(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var W7=function(t){return!(t.event.target===null||!t.closestTrackedAncestor)},AKe=function(){function t(e){var r=e===void 0?{}:e,n=r.origin,i=n===void 0?h3:n,s=this;this.endpoint=h3,this.requestCallbacks={},this.onSelect=function(o){s.notify({action:"element-selected",data:o})},this.onTrack=function(o,a){o==="selector-mode-changed"?s.notify({action:"track-selector-mode-changed",data:a}):o==="selector-moved"&&s.notify({action:"track-selector-moved",data:a})},this.endpoint=i}return t.prototype.notify=function(e){var r,n,i,s;(n=(r=this.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,"Message sent: ",JSON.stringify(e)),(s=(i=window.opener)===null||i===void 0?void 0:i.postMessage)===null||s===void 0||s.call(i,e,this.endpoint)},t.prototype.sendRequest=function(e,r,n){var i=this;n===void 0&&(n={timeout:15e3});var s=_Ke(),o={id:s,action:e,args:r},a=new Promise(function(u,f){i.requestCallbacks[s]={resolve:u,reject:f},i.notify(o),(n==null?void 0:n.timeout)>0&&setTimeout(function(){f(new Error("".concat(e," timed out (id: ").concat(s,")"))),delete i.requestCallbacks[s]},n.timeout)});return a},t.prototype.handleResponse=function(e){var r;if(!this.requestCallbacks[e.id]){(r=this.logger)===null||r===void 0||r.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},t.prototype.setup=function(e){var r=this,n=e===void 0?{}:e,i=n.logger,s=n.endpoint,o=n.isElementSelectable,a=n.cssSelectorAllowlist,u=n.actionClickAllowlist;this.logger=i,s&&this.endpoint===h3&&(this.endpoint=s);var f=null;window.addEventListener("message",function(d){var g,y,b,A,x;if((y=(g=r.logger)===null||g===void 0?void 0:g.debug)===null||y===void 0||y.call(g,"Message received: ",JSON.stringify(d)),r.endpoint===d.origin){var k=d==null?void 0:d.data,R=k==null?void 0:k.action;if(R)if("id"in k)(A=(b=r.logger)===null||b===void 0?void 0:b.debug)===null||A===void 0||A.call(b,"Received Response to previous request: ",JSON.stringify(d)),r.handleResponse(k);else if(R==="ping")r.notify({action:"pong"});else if(R==="initialize-visual-tagging-selector"){var C=k==null?void 0:k.data;SKe(pWe).then(function(){var P;f=(P=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||P===void 0?void 0:P.call(window,{getEventTagProps:wKe,isElementSelectable:function(O){return o?o((C==null?void 0:C.actionType)||"click",O):!0},onTrack:r.onTrack,onSelect:r.onSelect,visualHighlightClass:gWe,messenger:r,cssSelectorAllowlist:a,actionClickAllowlist:u}),r.notify({action:"selector-loaded"})}).catch(function(){var P;(P=r.logger)===null||P===void 0||P.warn("Failed to initialize visual tagging selector")})}else R==="close-visual-tagging-selector"&&((x=f==null?void 0:f.close)===null||x===void 0||x.call(f))}}),this.notify({action:"page-loaded"})},t}(),xKe=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],EKe=["type"],kKe=["svg","path","g"],TKe=["password","hidden"],IKe=128,RKe=1024;function MKe(t){var e,r,n,i,s,o;if(t===null)return null;var a=String(t.tagName).toLowerCase(),u={tag:a},f=Array.from((i=(n=t.parentElement)===null||n===void 0?void 0:n.children)!==null&&i!==void 0?i:[]);f.length&&(u.index=f.indexOf(t),u.indexOfType=f.filter(function(O){return O.tagName===t.tagName}).indexOf(t));var d=(o=(s=t.previousElementSibling)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase();d&&(u.prevSib=String(d));var g=t.getAttribute("id");g&&(u.id=String(g));var y=Array.from(t.classList);y.length&&(u.classes=y);var b={},A=Array.from(t.attributes),x=A.filter(function(O){return!xKe.includes(O.name)}),k=!aue(t);if(!TKe.includes(String(t.getAttribute("type")))&&!kKe.includes(a))try{for(var R=Jo(x),C=R.next();!C.done;C=R.next()){var P=C.value;k&&!EKe.includes(P.name)||(b[P.name]=String(P.value).substring(0,IKe))}}catch(O){e={error:O}}finally{try{C&&!C.done&&(r=R.return)&&r.call(R)}finally{if(e)throw e.error}}return Object.keys(b).length&&(u.attrs=b),u}function CKe(t){var e=[];if(!t)return e;e.push(t);for(var r=t.parentElement;r&&r.tagName!=="HTML";)e.push(r),r=r.parentElement;return e}var PKe=function(t){var e=[];if(!t)return[];var r=CKe(t);return e=NKe(r.map(function(n){return MKe(n)}),RKe),e};function NKe(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i===null)r+=4;else{var s=g3(i);r+=s?Array.from(s).length:4}if(r>e)return t.slice(0,n)}return t}function g3(t,e){e===void 0&&(e=!1);try{if(t==null)return e?"None":null;if(typeof t=="string")return e?(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),t.includes('"')?"'".concat(t,"'"):t.includes("'")?'"'.concat(t.replace(/'/g,"\\'"),'"'):"'".concat(t,"'")):t;if(typeof t=="boolean")return t?"True":"False";if(Array.isArray(t)){var r=t.map(function(s){return g3(s,!0)});return"[".concat(r.join(", "),"]")}else if(typeof t=="object"){var n=Object.entries(t).filter(function(s){var o=Pn(s,1),a=o[0];return a!=null}).map(function(s){var o=Pn(s,2),a=o[0],u=o[1];return"".concat(String(g3(a,!0)),": ").concat(String(g3(u,!0)))}),i="{".concat(n.join(", "),"}");return i.includes("\\'")&&(i=i.replace(/'/g,"'").replace(/'/g,"\\'")),i}return t.toString()}catch{return null}}var BKe=5;function OKe(t){var e=t.amplitude,r=t.allObservables,n=t.options,i=t.shouldTrackEvent,s=r.clickObservable,o=s.pipe(hKe(),ig(function(d){var g=Pn(d,2),y=g[0],b=g[1],A=y.event.target!==b.event.target,x=Math.abs(b.event.screenX-y.event.screenX)<=20&&Math.abs(b.event.screenY-y.event.screenY)<=20;return A&&!x})),a=s.pipe(cKe(n.debounceTime),_f(function(){return"timeout"})),u=iue(o,a),f=s.pipe(dKe(0),ig(W7),ig(function(d){return i("click",d.closestTrackedAncestor)}),uKe(u));return f.subscribe(function(d){var g,y,b=(d.length>=BKe,jO);try{for(var A=Jo(d),x=A.next();!x.done;x=A.next()){var k=x.value;e==null||e.track(b,k.targetElementProperties)}}catch(R){g={error:R}}finally{try{x&&!x.done&&(y=A.return)&&y.call(A)}finally{if(g)throw g.error}}})}function LKe(t){var e=t.amplitude,r=t.allObservables,n=t.getEventProperties,i=t.shouldTrackEvent,s=r.changeObservable,o=s.pipe(ig(W7),ig(function(a){return i("change",a.closestTrackedAncestor)}));return o.subscribe(function(a){e==null||e.track(Qze,n("change",a.closestTrackedAncestor))})}function DKe(t){var e=t.amplitude,r=t.allObservables,n=t.options,i=t.getEventProperties,s=t.shouldTrackEvent,o=t.shouldTrackActionClick,a=r.clickObservable,u=r.mutationObservable,f=r.navigateObservable,d=a.pipe(ig(function(A){return!s("click",A.closestTrackedAncestor)}),_f(function(A){var x=z7(A.event.target,n.actionClickAllowlist);return A.closestTrackedAncestor=x,A.closestTrackedAncestor!==null&&(A.targetElementProperties=i(A.type,A.closestTrackedAncestor)),A}),ig(W7),ig(function(A){return o("click",A.closestTrackedAncestor)})),g=[u];f&&g.push(f);var y=iue.apply(void 0,ms([],Pn(g),!1)),b=d.pipe(pKe(function(A){return y.pipe(sue(1),GWe({first:500,with:function(){return D7}}),_f(function(){return A}))}));return b.subscribe(function(A){e==null||e.track(jO,i("click",A.closestTrackedAncestor))})}var eb;(function(t){t.ClickObservable="clickObservable",t.ChangeObservable="changeObservable",t.NavigateObservable="navigateObservable",t.MutationObservable="mutationObservable"})(eb||(eb={}));function FKe(t){return t.type==="click"||t.type==="change"}var $Ke=function(t){var e,r,n;t===void 0&&(t={});var i=t.dataAttributePrefix,s=i===void 0?PUe:i,o=t.visualTaggingOptions,a=o===void 0?{enabled:!0,messenger:new AKe}:o;t.cssSelectorAllowlist=(e=t.cssSelectorAllowlist)!==null&&e!==void 0?e:CUe,t.actionClickAllowlist=(r=t.actionClickAllowlist)!==null&&r!==void 0?r:NUe,t.debounceTime=(n=t.debounceTime)!==null&&n!==void 0?n:0;var u=Xze,f="enrichment",d=[],g=function(){var R,C=rA(document,"click",{capture:!0}).pipe(_f(function(Q){return b(Q,"click")}),dk()),P=rA(document,"change",{capture:!0}).pipe(_f(function(Q){return b(Q,"change")}),dk()),O;window.navigation&&(O=rA(window.navigation,"navigate").pipe(_f(function(Q){return b(Q,"navigate")}),dk()));var q=new Sa(function(Q){var Y=new MutationObserver(function(X){Q.next(X)});return Y.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return Y.disconnect()}}).pipe(_f(function(Q){return b(Q,"mutation")}),dk());return R={},R[eb.ClickObservable]=C,R[eb.ChangeObservable]=P,R[eb.NavigateObservable]=O,R[eb.MutationObservable]=q,R},y=function(R,C){var P,O,q,Q=(q=(O=C==null?void 0:C.tagName)===null||O===void 0?void 0:O.toLowerCase)===null||q===void 0?void 0:q.call(O),Y=typeof C.getBoundingClientRect=="function"?C.getBoundingClientRect():{left:null,top:null},X=C.getAttribute("aria-label"),Z=bKe(C,s),le=cue(C),I=(P={},P[Jze]=C.getAttribute("id")||"",P[eWe]=C.getAttribute("class"),P[tWe]=PKe(C),P[Oae]=Q,P[Lae]=U7(C),P[nWe]=Y.left==null?null:Math.round(Y.left),P[iWe]=Y.top==null?null:Math.round(Y.top),P[sWe]=X,P[oWe]=Z,P[aWe]=le,P[Dae]=window.location.href.split("?")[0],P[uWe]=typeof document<"u"&&document.title||"",P[cWe]=window.innerHeight,P[lWe]=window.innerWidth,P);return Q==="a"&&R==="click"&&C instanceof HTMLAnchorElement&&(I[rWe]=C.href),uue(I)},b=function(R,C){var P={event:R,timestamp:Date.now(),type:C};if(FKe(P)&&P.event.target!==null){var O=z7(P.event.target,t.cssSelectorAllowlist);return O&&(P.closestTrackedAncestor=O,P.targetElementProperties=y(P.type,O)),P}return P},A=function(R,C){return jt(void 0,void 0,void 0,function(){var P,O,q,Q,Y,X,Z,le,I,c;return Kt(this,function(h){return typeof document>"u"?[2]:(P=KP(t,t.cssSelectorAllowlist),O=KP(t,t.actionClickAllowlist),q=g(),Q=OKe({allObservables:q,options:t,amplitude:C,shouldTrackEvent:P}),d.push(Q),Y=LKe({allObservables:q,getEventProperties:y,amplitude:C,shouldTrackEvent:P}),d.push(Y),X=DKe({allObservables:q,options:t,getEventProperties:y,amplitude:C,shouldTrackEvent:P,shouldTrackActionClick:O}),d.push(X),(I=R==null?void 0:R.loggerProvider)===null||I===void 0||I.log("".concat(u," has been successfully added.")),window.opener&&a.enabled&&(Z=t.cssSelectorAllowlist,le=t.actionClickAllowlist,(c=a.messenger)===null||c===void 0||c.setup(Qt(Qt({logger:R==null?void 0:R.loggerProvider},(R==null?void 0:R.serverZone)&&{endpoint:hWe[R.serverZone]}),{isElementSelectable:KP(t,ms(ms([],Pn(Z),!1),Pn(le),!1)),cssSelectorAllowlist:Z,actionClickAllowlist:le}))),[2])})})},x=function(R){return jt(void 0,void 0,void 0,function(){return Kt(this,function(C){return[2,R]})})},k=function(){return jt(void 0,void 0,void 0,function(){var R,C,P,O,q;return Kt(this,function(Q){try{for(R=Jo(d),C=R.next();!C.done;C=R.next())P=C.value,P.unsubscribe()}catch(Y){O={error:Y}}finally{try{C&&!C.done&&(q=R.return)&&q.call(R)}finally{if(O)throw O.error}}return[2]})})};return{name:u,type:f,setup:A,execute:x,teardown:k}},UKe=function(t){Aa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,n,i){r===void 0&&(r="");var s,o;return arguments.length>2?(s=n,o=i):typeof n=="string"?(s=n,o=void 0):(s=n==null?void 0:n.userId,o=n),$a(this._init(Qt(Qt({},o),{userId:s,apiKey:r})))},e.prototype._init=function(r){return jt(this,void 0,void 0,function(){var n,i,s,o,a,u,f=this,d,g,y;return Kt(this,function(b){switch(b.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,kze(r.apiKey,r,this)]);case 1:return n=b.sent(),r.fetchRemoteConfig?[4,Zze(n)]:[3,4];case 2:return i=b.sent(),[4,i.generateJoinedConfig()];case 3:n=b.sent(),b.label=4;case 4:return[4,t.prototype._init.call(this,n)];case 5:return b.sent(),this.logBrowserOptions(n),Rae(this.config.defaultTracking)?(s=sze(this.config),this.webAttribution=new VUe(s,this.config),[4,this.webAttribution.init()]):[3,7];case 6:b.sent(),b.label=7;case 7:return o=MT(),a=Number.isNaN(Number(o.ampSessionId))?void 0:Number(o.ampSessionId),this.setSessionId((y=(g=(d=r.sessionId)!==null&&d!==void 0?d:a)!==null&&g!==void 0?g:this.config.sessionId)!==null&&y!==void 0?y:Date.now()),u=$A(r.instanceName),u.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===oze?[3,9]:[4,this.add(Fze()).promise];case 8:b.sent(),b.label=9;case 9:return[4,this.add(new wUe).promise];case 10:return b.sent(),[4,this.add(new fze).promise];case 11:return b.sent(),[4,this.add(new JUe).promise];case 12:return b.sent(),Dze(this.config),tze(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(Lze()).promise]):[3,14];case 13:b.sent(),b.label=14;case 14:return rze(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(Oze()).promise]):[3,16];case 15:b.sent(),b.label=16;case 16:return Mae(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(Cze(ize(this.config))).promise]):[3,18];case 17:b.sent(),b.label=18;case 18:return Cae(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add($Ke(nze(this.config))).promise]):[3,20];case 19:b.sent(),b.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return b.sent(),u.eventBridge.setEventReceiver(function(A){f.track(A.eventType,A.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId},e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}this.config.loggerProvider.debug("function setUserId: ",r),(r!==this.config.userId||r===void 0)&&(this.config.userId=r,XUe(r,this.config.instanceName))},e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId},e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.loggerProvider.debug("function setDeviceId: ",r),this.config.deviceId=r,QUe(r,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(Dw()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId},e.prototype.setSessionId=function(r){var n,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,r)),$a(Promise.resolve());if(r===this.config.sessionId)return $a(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",r);var s=this.getSessionId(),o=this.config.lastEventTime,a=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r,this.config.lastEventTime=void 0,this.config.pageCounter=0,VY(this.config.defaultTracking)&&(s&&o&&i.push(this.track(ZY,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:s,time:o+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var u=this.trackCampaignEventIfNeeded(++a,i);return VY(this.config.defaultTracking)&&i.push(this.track(YY,void 0,{event_id:u?++a:a,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,$a(Promise.all(i))},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Bae(r)},e.prototype.identify=function(r,n){if(LP(r)){var i=r._q;r._q=[],r=OP(new FA,i)}return n!=null&&n.user_id&&this.setUserId(n.user_id),n!=null&&n.device_id&&this.setDeviceId(n.device_id),t.prototype.identify.call(this,r,n)},e.prototype.groupIdentify=function(r,n,i,s){if(LP(i)){var o=i._q;i._q=[],i=OP(new FA,o)}return t.prototype.groupIdentify.call(this,r,n,i,s)},e.prototype.revenue=function(r,n){if(LP(r)){var i=r._q;r._q=[],r=OP(new gUe,i)}return t.prototype.revenue.call(this,r,n)},e.prototype.trackCampaignEventIfNeeded=function(r,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(r);return n?n.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},e.prototype.process=function(r){return jt(this,void 0,void 0,function(){var n,i,s;return Kt(this,function(o){return n=Date.now(),i=Iae(this.config.sessionTimeout,this.config.lastEventTime),s=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),r.event_type!==YY&&r.event_type!==ZY&&(!r.session_id||r.session_id===this.getSessionId())&&(i||s?(this.setSessionId(n),s&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),[2,t.prototype.process.call(this,r)]})})},e.prototype.logBrowserOptions=function(r){try{var n=Qt(Qt({},r),{apiKey:r.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},e}(pUe),zKe=function(){var t=new UKe;return{init:Ss(t.init.bind(t),"init",vs(t),ws(t,["config"])),add:Ss(t.add.bind(t),"add",vs(t),ws(t,["config.apiKey","timeline.plugins"])),remove:Ss(t.remove.bind(t),"remove",vs(t),ws(t,["config.apiKey","timeline.plugins"])),track:Ss(t.track.bind(t),"track",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),logEvent:Ss(t.logEvent.bind(t),"logEvent",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),identify:Ss(t.identify.bind(t),"identify",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),groupIdentify:Ss(t.groupIdentify.bind(t),"groupIdentify",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),setGroup:Ss(t.setGroup.bind(t),"setGroup",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),revenue:Ss(t.revenue.bind(t),"revenue",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),flush:Ss(t.flush.bind(t),"flush",vs(t),ws(t,["config.apiKey","timeline.queue.length"])),getUserId:Ss(t.getUserId.bind(t),"getUserId",vs(t),ws(t,["config","config.userId"])),setUserId:Ss(t.setUserId.bind(t),"setUserId",vs(t),ws(t,["config","config.userId"])),getDeviceId:Ss(t.getDeviceId.bind(t),"getDeviceId",vs(t),ws(t,["config","config.deviceId"])),setDeviceId:Ss(t.setDeviceId.bind(t),"setDeviceId",vs(t),ws(t,["config","config.deviceId"])),reset:Ss(t.reset.bind(t),"reset",vs(t),ws(t,["config","config.userId","config.deviceId"])),getSessionId:Ss(t.getSessionId.bind(t),"getSessionId",vs(t),ws(t,["config"])),setSessionId:Ss(t.setSessionId.bind(t),"setSessionId",vs(t),ws(t,["config"])),extendSession:Ss(t.extendSession.bind(t),"extendSession",vs(t),ws(t,["config"])),setOptOut:Ss(t.setOptOut.bind(t),"setOptOut",vs(t),ws(t,["config"])),setTransport:Ss(t.setTransport.bind(t),"setTransport",vs(t),ws(t,["config"]))}};const q6=zKe();var cZ=q6.identify,WKe=q6.init,KKe=q6.setUserId,jKe=q6.track;function Pi(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function ao(t){return function e(r){return arguments.length===0||Pi(r)?e:t.apply(this,arguments)}}function ns(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return Pi(r)?e:ao(function(i){return t(r,i)});default:return Pi(r)&&Pi(n)?e:Pi(r)?ao(function(i){return t(i,n)}):Pi(n)?ao(function(i){return t(r,i)}):t(r,n)}}}function HKe(t,e){t=t||[],e=e||[];var r,n=t.length,i=e.length,s=[];for(r=0;r<n;)s[s.length]=t[r],r+=1;for(r=0;r<i;)s[s.length]=e[r],r+=1;return s}function V6(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,i){return e.apply(this,arguments)};case 4:return function(r,n,i,s){return e.apply(this,arguments)};case 5:return function(r,n,i,s,o){return e.apply(this,arguments)};case 6:return function(r,n,i,s,o,a){return e.apply(this,arguments)};case 7:return function(r,n,i,s,o,a,u){return e.apply(this,arguments)};case 8:return function(r,n,i,s,o,a,u,f){return e.apply(this,arguments)};case 9:return function(r,n,i,s,o,a,u,f,d){return e.apply(this,arguments)};case 10:return function(r,n,i,s,o,a,u,f,d,g){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function lue(t,e,r){return function(){for(var n=[],i=0,s=t,o=0,a=!1;o<e.length||i<arguments.length;){var u;o<e.length&&(!Pi(e[o])||i>=arguments.length)?u=e[o]:(u=arguments[i],i+=1),n[o]=u,Pi(u)?a=!0:s-=1,o+=1}return!a&&s<=0?r.apply(this,n):V6(Math.max(0,s),lue(t,n,r))}}var qKe=ns(function(e,r){return e===1?ao(r):V6(e,lue(e,[],r))});function zh(t){return function e(r,n,i){switch(arguments.length){case 0:return e;case 1:return Pi(r)?e:ns(function(s,o){return t(r,s,o)});case 2:return Pi(r)&&Pi(n)?e:Pi(r)?ns(function(s,o){return t(s,n,o)}):Pi(n)?ns(function(s,o){return t(r,s,o)}):ao(function(s){return t(r,n,s)});default:return Pi(r)&&Pi(n)&&Pi(i)?e:Pi(r)&&Pi(n)?ns(function(s,o){return t(s,o,i)}):Pi(r)&&Pi(i)?ns(function(s,o){return t(s,n,o)}):Pi(n)&&Pi(i)?ns(function(s,o){return t(r,s,o)}):Pi(r)?ao(function(s){return t(s,n,i)}):Pi(n)?ao(function(s){return t(r,s,i)}):Pi(i)?ao(function(s){return t(r,n,s)}):t(r,n,i)}}}var VKe=zh(function(e,r,n){var i=n.length;if(e>=i||e<-i)return n;var s=(i+e)%i,o=HKe(n);return o[s]=r(n[s]),o});const K7=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function GKe(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function fue(t,e,r){return function(){if(arguments.length===0)return r();var n=arguments[arguments.length-1];if(!K7(n)){for(var i=0;i<t.length;){if(typeof n[t[i]]=="function")return n[t[i]].apply(n,Array.prototype.slice.call(arguments,0,-1));i+=1}if(GKe(n)){var s=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return s(n)}}return r.apply(this,arguments)}}const LT={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function lZ(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function fZ(t,e,r){for(var n=0,i=r.length;n<i;){if(t(e,r[n]))return!0;n+=1}return!1}function YKe(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function Zp(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function ZKe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}const jP=typeof Object.is=="function"?Object.is:ZKe;var dZ=Object.prototype.toString,XKe=function(){return dZ.call(arguments)==="[object Arguments]"?function(e){return dZ.call(e)==="[object Arguments]"}:function(e){return Zp("callee",e)}}(),QKe=!{toString:null}.propertyIsEnumerable("toString"),hZ=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],pZ=function(){return arguments.propertyIsEnumerable("length")}(),JKe=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},Vv=ao(typeof Object.keys=="function"&&!pZ?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,n,i=[],s=pZ&&XKe(e);for(r in e)Zp(r,e)&&(!s||r!=="length")&&(i[i.length]=r);if(QKe)for(n=hZ.length-1;n>=0;)r=hZ[n],Zp(r,e)&&!JKe(i,r)&&(i[i.length]=r),n-=1;return i}),gZ=ao(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function mZ(t,e,r,n){var i=lZ(t),s=lZ(e);function o(a,u){return j7(a,u,r.slice(),n.slice())}return!fZ(function(a,u){return!fZ(o,u,a)},s,i)}function j7(t,e,r,n){if(jP(t,e))return!0;var i=gZ(t);if(i!==gZ(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&YKe(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&jP(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!jP(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var s=r.length-1;s>=0;){if(r[s]===t)return n[s]===e;s-=1}switch(i){case"Map":return t.size!==e.size?!1:mZ(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:mZ(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=Vv(t);if(o.length!==Vv(e).length)return!1;var a=r.concat([t]),u=n.concat([e]);for(s=o.length-1;s>=0;){var f=o[s];if(!(Zp(f,e)&&j7(e[f],t[f],a,u)))return!1;s-=1}return!0}var eje=ns(function(e,r){return j7(e,r,[],[])});function tje(t,e,r){var n,i;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(i=t[r],i===0&&1/i===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(i=t[r],typeof i=="number"&&i!==i)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(eje(t[r],e))return r;r+=1}return-1}function rje(t,e){return tje(e,t,0)>=0}function m3(t,e){for(var r=0,n=e.length,i=Array(n);r<n;)i[r]=t(e[r]),r+=1;return i}function HP(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var KS=function(e){return(e<10?"0":"")+e},nje=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+KS(e.getUTCMonth()+1)+"-"+KS(e.getUTCDate())+"T"+KS(e.getUTCHours())+":"+KS(e.getUTCMinutes())+":"+KS(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function ije(t){return function(){return!t.apply(this,arguments)}}function due(t,e,r){for(var n=0,i=r.length;n<i;)e=t(e,r[n]),n+=1;return e}function sje(t,e){for(var r=0,n=e.length,i=[];r<n;)t(e[r])&&(i[i.length]=e[r]),r+=1;return i}function qO(t){return Object.prototype.toString.call(t)==="[object Object]"}var oje=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=LT.init,t.prototype["@@transducer/result"]=LT.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}();function aje(t){return function(e){return new oje(t,e)}}var uje=ns(fue(["fantasy-land/filter","filter"],aje,function(t,e){return qO(e)?due(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},Vv(e)):sje(t,e)})),cje=ns(function(e,r){return uje(ije(e),r)});function hue(t,e){var r=function(o){var a=e.concat([t]);return rje(o,a)?"<Circular>":hue(o,a)},n=function(s,o){return m3(function(a){return HP(a)+": "+r(s[a])},o.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+m3(r,t).join(", ")+"))";case"[object Array]":return"["+m3(r,t).concat(n(t,cje(function(s){return/^\d+$/.test(s)},Vv(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):HP(nje(t)))+")";case"[object Map]":return"new Map("+r(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+r(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":HP(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+n(t,Vv(t)).join(", ")+"}"}}var yZ=ao(function(e){return hue(e,[])}),lje=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=LT.init,t.prototype["@@transducer/result"]=LT.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),fje=function(e){return function(r){return new lje(e,r)}},dje=ns(fue(["fantasy-land/map","map"],fje,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return qKe(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return due(function(n,i){return n[i]=e(r[i]),n},{},Vv(r));default:return m3(e,r)}}));const pue=Number.isInteger||function(e){return e<<0===e};function H7(t){return Object.prototype.toString.call(t)==="[object String]"}var G6=ns(function(e,r){var n=e<0?r.length+e:e;return H7(r)?r.charAt(n):r[n]}),q7=ns(function(e,r){if(r!=null)return pue(e)?G6(e,r):r[e]}),hje=ao(function(e){return K7(e)?!0:!e||typeof e!="object"||H7(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),bZ=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function pje(t,e,r){return function(i,s,o){if(hje(o))return t(i,s,o);if(o==null)return s;if(typeof o["fantasy-land/reduce"]=="function")return e(i,s,o,"fantasy-land/reduce");if(o[bZ]!=null)return r(i,s,o[bZ]());if(typeof o.next=="function")return r(i,s,o);if(typeof o.reduce=="function")return e(i,s,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function gje(t,e,r){for(var n=0,i=r.length;n<i;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}var mje=ns(function(e,r){return V6(e.length,function(){return e.apply(r,arguments)})});function yje(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function bje(t,e,r,n){return t["@@transducer/result"](r[n](mje(t["@@transducer/step"],t),e))}var vje=pje(gje,bje,yje),wje=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function Sje(t){return new wje(t)}var _je=zh(function(t,e,r){return vje(typeof t=="function"?Sje(t):t,e,r)}),Aje=ao(function(e){return function(){return e}}),xje=ao(function(e){return e==null});function Eje(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function gue(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return K7(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var kje=zh(gue("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),Tje=ao(gue("tail",kje(1,1/0)));function Ije(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return V6(arguments[0].length,_je(Eje,arguments[0],Tje(arguments)))}var Rje=ao(function(e){return H7(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function mue(){if(arguments.length===0)throw new Error("compose requires at least one argument");return Ije.apply(this,Rje(arguments))}var yue=G6(0),bue=ns(function(e,r){return r==null||r!==r?e:r}),Mje=ns(function(e,r){return function(n){return function(i){return dje(function(s){return r(s,i)},n(e(i)))}}}),Cje=zh(function(e,r,n){return VKe(e,Aje(r),n)}),Pje=ao(function(e){return Mje(G6(e),Cje(e))}),Nje=ns(function(e,r){return e.map(function(n){for(var i=r,s=0,o;s<n.length;){if(i==null)return;o=n[s],i=pue(o)?G6(o,i):i[o],s+=1}return i})}),Td=ns(function(e,r){return Nje([e],r)[0]}),Bje=zh(function(e,r,n){var i={},s;r=r||{},n=n||{};for(s in r)Zp(s,r)&&(i[s]=Zp(s,n)?e(s,r[s],n[s]):r[s]);for(s in n)Zp(s,n)&&!Zp(s,i)&&(i[s]=n[s]);return i}),Oje=zh(function t(e,r,n){return Bje(function(i,s,o){return qO(s)&&qO(o)?t(e,s,o):e(i,s,o)},r,n)}),Lje=ns(function(e,r){return Oje(function(n,i,s){return s},e,r)}),Dje=ns(function(e,r){if(e===r)return e;function n(u,f){if(u<f!=f<u)return f<u?f:u}var i=n(e,r);if(i!==void 0)return i;var s=n(typeof e,typeof r);if(s!==void 0)return s===typeof e?e:r;var o=yZ(e),a=n(o,yZ(r));return a!==void 0?a===o?e:r:e}),V7=ns(function(e,r){for(var n={},i={},s=0,o=e.length;s<o;)i[e[s]]=1,s+=1;for(var a in r)i.hasOwnProperty(a)||(n[a]=r[a]);return n}),vue=function(t){return{value:t,map:function(e){return vue(e(t))}}},Fje=zh(function(e,r,n){return e(function(i){return vue(r(i))})(n).value}),VO=zh(function(e,r,n){return bue(e,Td(r,n))}),Zx=ns(function(e,r){for(var n={},i=0;i<e.length;)e[i]in r&&(n[e[i]]=r[e[i]]),i+=1;return n}),$je=zh(function(e,r,n){return bue(e,q7(r,n))});const Uje={},vZ=t=>{let e;const r=new Set,n=(d,g)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const b=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),r.forEach(A=>A(e,b))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>f,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Uje?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=e=t(n,i,u);return u},zje=t=>t?vZ(t):vZ;var wue={exports:{}},Sue={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6=B,Wje=v9;function Kje(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jje=typeof Object.is=="function"?Object.is:Kje,Hje=Wje.useSyncExternalStore,qje=Y6.useRef,Vje=Y6.useEffect,Gje=Y6.useMemo,Yje=Y6.useDebugValue;Sue.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=qje(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Gje(function(){function u(b){if(!f){if(f=!0,d=b,b=n(b),i!==void 0&&o.hasValue){var A=o.value;if(i(A,b))return g=A}return g=b}if(A=g,jje(d,b))return A;var x=n(b);return i!==void 0&&i(A,x)?(d=b,A):(d=b,g=x)}var f=!1,d,g,y=r===void 0?null:r;return[function(){return u(e())},y===null?void 0:function(){return u(y())}]},[e,r,n,i]);var a=Hje(t,s[0],s[1]);return Vje(function(){o.hasValue=!0,o.value=a},[a]),Yje(a),a};wue.exports=Sue;var Zje=wue.exports;const Xje=ea(Zje),_ue={},{useDebugValue:Qje}=Ct,{useSyncExternalStoreWithSelector:Jje}=Xje;let wZ=!1;const eHe=t=>t;function tHe(t,e=eHe,r){(_ue?"production":void 0)!=="production"&&r&&!wZ&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),wZ=!0);const n=Jje(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Qje(n),n}const SZ=t=>{(_ue?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?zje(t):t,r=(n,i)=>tHe(e,n,i);return Object.assign(r,e),r},ny=t=>t?SZ(t):SZ;var Aue=Symbol.for("immer-nothing"),_Z=Symbol.for("immer-draftable"),Pu=Symbol.for("immer-state");function il(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gv=Object.getPrototypeOf;function Yv(t){return!!t&&!!t[Pu]}function Tm(t){var e;return t?xue(t)||Array.isArray(t)||!!t[_Z]||!!((e=t.constructor)!=null&&e[_Z])||X6(t)||Q6(t):!1}var rHe=Object.prototype.constructor.toString();function xue(t){if(!t||typeof t!="object")return!1;const e=Gv(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===rHe}function DT(t,e){Z6(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Z6(t){const e=t[Pu];return e?e.type_:Array.isArray(t)?1:X6(t)?2:Q6(t)?3:0}function GO(t,e){return Z6(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Eue(t,e,r){const n=Z6(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function nHe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function X6(t){return t instanceof Map}function Q6(t){return t instanceof Set}function a0(t){return t.copy_||t.base_}function YO(t,e){if(X6(t))return new Map(t);if(Q6(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=xue(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Pu];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Gv(t),n)}else{const n=Gv(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function G7(t,e=!1){return J6(t)||Yv(t)||!Tm(t)||(Z6(t)>1&&(t.set=t.add=t.clear=t.delete=iHe),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>G7(n,!0))),t}function iHe(){il(2)}function J6(t){return Object.isFrozen(t)}var sHe={};function Im(t){const e=sHe[t];return e||il(0,t),e}var zA;function kue(){return zA}function oHe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AZ(t,e){e&&(Im("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ZO(t){XO(t),t.drafts_.forEach(aHe),t.drafts_=null}function XO(t){t===zA&&(zA=t.parent_)}function xZ(t){return zA=oHe(zA,t)}function aHe(t){const e=t[Pu];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function EZ(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Pu].modified_&&(ZO(e),il(4)),Tm(t)&&(t=FT(e,t),e.parent_||$T(e,t)),e.patches_&&Im("Patches").generateReplacementPatches_(r[Pu].base_,t,e.patches_,e.inversePatches_)):t=FT(e,r,[]),ZO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Aue?t:void 0}function FT(t,e,r){if(J6(e))return e;const n=e[Pu];if(!n)return DT(e,(i,s)=>kZ(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return $T(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),DT(s,(a,u)=>kZ(t,n,i,a,u,r,o)),$T(t,i,!1),r&&t.patches_&&Im("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function kZ(t,e,r,n,i,s,o){if(Yv(i)){const a=s&&e&&e.type_!==3&&!GO(e.assigned_,n)?s.concat(n):void 0,u=FT(t,i,a);if(Eue(r,n,u),Yv(u))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Tm(i)&&!J6(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;FT(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&$T(t,i)}}function $T(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&G7(e,r)}function uHe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:kue(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Y7;r&&(i=[n],s=WA);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var Y7={get(t,e){if(e===Pu)return t;const r=a0(t);if(!GO(r,e))return cHe(t,r,e);const n=r[e];return t.finalized_||!Tm(n)?n:n===qP(t.base_,e)?(VP(t),t.copy_[e]=JO(n,t)):n},has(t,e){return e in a0(t)},ownKeys(t){return Reflect.ownKeys(a0(t))},set(t,e,r){const n=Tue(a0(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=qP(a0(t),e),s=i==null?void 0:i[Pu];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(nHe(r,i)&&(r!==void 0||GO(t.base_,e)))return!0;VP(t),QO(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return qP(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,VP(t),QO(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=a0(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){il(11)},getPrototypeOf(t){return Gv(t.base_)},setPrototypeOf(){il(12)}},WA={};DT(Y7,(t,e)=>{WA[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});WA.deleteProperty=function(t,e){return WA.set.call(this,t,e,void 0)};WA.set=function(t,e,r){return Y7.set.call(this,t[0],e,r,t[0])};function qP(t,e){const r=t[Pu];return(r?a0(r):t)[e]}function cHe(t,e,r){var i;const n=Tue(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function Tue(t,e){if(!(e in t))return;let r=Gv(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Gv(r)}}function QO(t){t.modified_||(t.modified_=!0,t.parent_&&QO(t.parent_))}function VP(t){t.copy_||(t.copy_=YO(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lHe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(u=s,...f){return o.produce(u,d=>r.call(this,d,...f))}}typeof r!="function"&&il(6),n!==void 0&&typeof n!="function"&&il(7);let i;if(Tm(e)){const s=xZ(this),o=JO(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?ZO(s):XO(s)}return AZ(s,n),EZ(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Aue&&(i=void 0),this.autoFreeze_&&G7(i,!0),n){const s=[],o=[];Im("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else il(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Tm(t)||il(8),Yv(t)&&(t=fHe(t));const e=xZ(this),r=JO(t,void 0);return r[Pu].isManual_=!0,XO(e),r}finishDraft(t,e){const r=t&&t[Pu];(!r||!r.isManual_)&&il(9);const{scope_:n}=r;return AZ(n,e),EZ(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Im("Patches").applyPatches_;return Yv(t)?n(t,e):this.produce(t,i=>n(i,e))}};function JO(t,e){const r=X6(t)?Im("MapSet").proxyMap_(t,e):Q6(t)?Im("MapSet").proxySet_(t,e):uHe(t,e);return(e?e.scope_:kue()).drafts_.push(r),r}function fHe(t){return Yv(t)||il(10,t),Iue(t)}function Iue(t){if(!Tm(t)||J6(t))return t;const e=t[Pu];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=YO(t,e.scope_.immer_.useStrictShallowCopy_)}else r=YO(t,!0);return DT(r,(n,i)=>{Eue(r,n,Iue(i))}),e&&(e.finalized_=!1),r}var Nu=new lHe,la=Nu.produce;Nu.produceWithPatches.bind(Nu);Nu.setAutoFreeze.bind(Nu);Nu.setUseStrictShallowCopy.bind(Nu);Nu.applyPatches.bind(Nu);Nu.createDraft.bind(Nu);Nu.finishDraft.bind(Nu);const dHe=t=>(e,r,n)=>(n.setState=(i,s,...o)=>{const a=typeof i=="function"?la(i):i;return e(a,s,...o)},t(n.setState,r,n)),e4=dHe;var hHe=Object.defineProperty,Z7=(t,e)=>{for(var r in e)hHe(t,r,{get:e[r],enumerable:!0})};typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/perp"]="4.1.0");var ql={};Z7(ql,{MMR:()=>wHe,estOffsetForTP:()=>AHe,estPnLForSL:()=>EHe,estPnLForTP:()=>SHe,estPriceForTP:()=>_He,estPriceFromOffsetForTP:()=>xHe,liqPrice:()=>yHe,maintenanceMargin:()=>bHe,notional:()=>X7,totalNotional:()=>pHe,totalUnrealizedPnL:()=>mHe,totalUnsettlementPnL:()=>vHe,unrealizedPnL:()=>Mue,unrealizedPnLROI:()=>gHe,unsettlementPnL:()=>Cue});var Rue=4/5;function X7(t,e){return new Fe(t).mul(e).abs().toNumber()}function pHe(t){return t.reduce((e,r)=>e+X7(r.position_qty,r.mark_price),0)}function Mue(t){return new Fe(t.qty).mul(t.markPrice-t.openPrice).toNumber()}function gHe(t){const{openPrice:e,IMR:r}=t;return t.unrealizedPnL===0||t.positionQty===0||e===0||r===0?0:new Fe(t.unrealizedPnL).div(new Fe(Math.abs(t.positionQty)).mul(e).mul(r)).toNumber()}function mHe(t){return t.reduce((e,r)=>e+Mue({qty:r.position_qty,openPrice:r.average_open_price,markPrice:r.mark_price}),0)}function yHe(t){const{markPrice:e,totalCollateral:r,positions:n,positionQty:i,MMR:s}=t;if(i===0||r===0)return null;const o=n.reduce((a,u)=>a.add(new Fe(X7(u.position_qty,u.mark_price)).mul(u.mmr)),Ui);return Math.max(new Fe(e).add(new Fe(r).sub(o).div(new Fe(i).abs().mul(s).sub(i))).toNumber(),0)}function bHe(t){const{positionQty:e,markPrice:r,MMR:n}=t;return new Fe(e).mul(r).mul(n).abs().toNumber()}function Cue(t){const{positionQty:e,markPrice:r,costPosition:n,sumUnitaryFunding:i,lastSumUnitaryFunding:s}=t,o=new Fe(e);return o.mul(r).sub(n).sub(o.mul(new Fe(i).sub(s))).toNumber()}function vHe(t){return!Array.isArray(t)||t.length===0?0:t.reduce((e,r)=>e+Cue({positionQty:r.position_qty,markPrice:r.mark_price,costPosition:r.cost_position,sumUnitaryFunding:r.sum_unitary_funding,lastSumUnitaryFunding:r.last_sum_unitary_funding}),0)}function wHe(t){const{baseMMR:e,baseIMR:r,IMRFactor:n,positionNotional:i,IMR_factor_power:s=Rue}=t;return Math.max(e,new Fe(e).div(r).mul(n).mul(Math.pow(Math.abs(i),s)).toNumber())}function SHe(t){return new Fe(t.positionQty).mul(new Fe(t.price).sub(t.entryPrice)).toNumber()}function _He(t){return new Fe(t.pnl).add(t.entryPrice).div(t.positionQty).toNumber()}function AHe(t){return new Fe(t.price).div(t.entryPrice).toNumber()}function xHe(t){return new Fe(t.offset).add(t.entryPrice).toNumber()}function EHe(t){return 0}var no={};Z7(no,{IMR:()=>n4,MMR:()=>UHe,availableBalance:()=>$He,buyOrdersFilter_by_symbol:()=>Pue,currentLeverage:()=>FHe,extractSymbols:()=>Q7,freeCollateral:()=>THe,getPositonsAndOrdersNotionalBySymbol:()=>MHe,getQtyFromOrdersBySide:()=>Rm,getQtyFromPositions:()=>i4,groupOrdersBySymbol:()=>NHe,initialMarginWithOrder:()=>RHe,maxQty:()=>OHe,maxQtyByLong:()=>Bue,maxQtyByShort:()=>Oue,otherIMs:()=>BHe,positionNotionalWithOrder_by_symbol:()=>t4,positionQtyWithOrders_by_symbol:()=>r4,sellOrdersFilter_by_symbol:()=>Nue,totalCollateral:()=>IHe,totalInitialMarginWithOrders:()=>CHe,totalInitialMarginWithQty:()=>PHe,totalMarginRatio:()=>LHe,totalUnrealizedROI:()=>DHe,totalValue:()=>kHe});function kHe(t){const{totalUnsettlementPnL:e,USDCHolding:r,nonUSDCHolding:n}=t;return n.reduce((s,o)=>new Fe(o.holding).mul(o.markPrice).add(s),Ui).add(r).add(e)}function THe(t){const e=t.totalCollateral.sub(t.totalInitialMarginWithOrders);return e.isNegative()?Ui:e}function IHe(t){const{USDCHolding:e,nonUSDCHolding:r}=t,n=r.reduce((i,s)=>i+new Fe(s.holding).mul(s.markPrice).mul(s.discount).toNumber(),0);return new Fe(e).add(n).add(t.unsettlementPnL)}function RHe(){}function t4(t){return new Fe(t.markPrice).mul(t.positionQtyWithOrders)}function r4(t){const{positionQty:e,buyOrdersQty:r,sellOrdersQty:n}=t,i=new Fe(e);return Math.max(i.add(r).abs().toNumber(),i.sub(n).abs().toNumber())}function n4(t){const{maxLeverage:e,baseIMR:r,IMR_Factor:n,positionNotional:i,ordersNotional:s,IMR_factor_power:o=Rue}=t;return Math.max(1/e,r,new Fe(n).mul(new Fe(i).add(s).abs().toPower(o)).toNumber())}function Pue(t,e){return t.filter(r=>r.symbol===e&&r.side===or.BUY)}function Nue(t,e){return t.filter(r=>r.symbol===e&&r.side===or.SELL)}function i4(t,e){if(!t)return 0;const r=t.find(n=>n.symbol===e);return(r==null?void 0:r.position_qty)||0}function Rm(t,e,r){return(r===or.SELL?Nue(t,e):Pue(t,e)).reduce((i,s)=>i+s.quantity,0)}function MHe(t){const{positions:e,orders:r,symbol:n,markPrice:i}=t,s=i4(e,n),o=Rm(r,n,or.BUY),a=Rm(r,n,or.SELL),u=new Fe(i);return u.mul(s).add(u.mul(new Fe(o).add(a))).abs().toNumber()}function CHe(t){const{positions:e,orders:r,markPrices:n,IMR_Factors:i,maxLeverage:s,symbolInfo:o}=t;return Q7(e,r).reduce((f,d)=>{const g=d,y=i4(e,g),b=Rm(r,g,or.BUY),A=Rm(r,g,or.SELL),x=n[g]||0,k=r4({positionQty:y,buyOrdersQty:b,sellOrdersQty:A}),R=t4({markPrice:x,positionQtyWithOrders:k}),C=new Fe(x),P=n4({positionNotional:C.mul(y).toNumber(),ordersNotional:C.mul(new Fe(b).add(A)).toNumber(),maxLeverage:s,IMR_Factor:i[g],baseIMR:o[g]("base_imr",0)});return R.mul(P).add(f).toNumber()},0)}function PHe(t){const{positions:e,markPrices:r,IMR_Factors:n,symbolInfo:i,maxLeverage:s}=t;return e.map(u=>u.symbol).reduce((u,f)=>{const d=f,g=e.find(O=>O.symbol===d),y=(g==null?void 0:g.position_qty)||0,b=(g==null?void 0:g.pending_long_qty)||0,A=(g==null?void 0:g.pending_short_qty)||0,x=r[d]||0,k=r4({positionQty:y,buyOrdersQty:b,sellOrdersQty:A}),R=t4({markPrice:x,positionQtyWithOrders:k}),C=new Fe(x),P=n4({positionNotional:C.mul(y).toNumber(),ordersNotional:C.mul(new Fe(b).add(A)).toNumber(),maxLeverage:s,IMR_Factor:n[d],baseIMR:i[d]("base_imr",0)});return R.mul(P).add(u).toNumber()},0)}function NHe(t){const e={};return t.forEach(r=>{e[r.symbol]||(e[r.symbol]=[]),e[r.symbol].push(r)}),e}function Q7(t,e){const r=new Set;return t.forEach(n=>{r.add(n.symbol)}),e.forEach(n=>{r.add(n.symbol)}),Array.from(r)}function BHe(t){const{orders:e,positions:r,maxLeverage:n,IMR_Factors:i,symbolInfo:s,markPrices:o}=t;return Q7(r,e).reduce((u,f)=>{const d=f;if(typeof o[d]>"u")return console.warn("markPrices[%s] is undefined",d),u;const g=new Fe(o[d]||0),y=i4(r,d),b=g.mul(y).toNumber(),A=Rm(e,d,or.BUY),x=Rm(e,d,or.SELL),k=g.mul(new Fe(A).add(x)).toNumber(),R=i[d];if(!R)return console.warn("IMR_Factor is not found:",d),u;const C=n4({maxLeverage:n,IMR_Factor:R,baseIMR:s[d]("base_imr",0),positionNotional:b,ordersNotional:k}),P=r4({positionQty:y,buyOrdersQty:A,sellOrdersQty:x}),O=t4({markPrice:o[d]||0,positionQtyWithOrders:P});return u.add(O.mul(C))},Ui).toNumber()}function OHe(t,e,r){return t===or.BUY?Bue(e):Oue(e)}function Bue(t,e){try{const{baseMaxQty:r,totalCollateral:n,otherIMs:i,maxLeverage:s,baseIMR:o,markPrice:a,IMR_Factor:u,positionQty:f,buyOrdersQty:d,takerFeeRate:g}=t;if(n===0)return 0;const y=new Fe(n),b=y.sub(i).div(new Fe(g).mul(2).mul(1e-4).add(Math.max(1/s,o))).div(a).mul(.995).sub(new Fe(f).add(d)).toNumber();if(f===0&&d===0)return Math.min(r,b);const A=y.sub(i).div(u).toPower(1/1.8).div(a).sub(new Fe(f).add(d)).div(new Fe(g).mul(2).mul(1e-4).add(1)).mul(.995).toNumber();return Math.min(r,b,A)}catch{return 0}}function Oue(t,e){try{const{baseMaxQty:r,totalCollateral:n,otherIMs:i,maxLeverage:s,baseIMR:o,markPrice:a,IMR_Factor:u,positionQty:f,buyOrdersQty:d,sellOrdersQty:g,takerFeeRate:y}=t,b=new Fe(n),A=b.sub(i).div(new Fe(y).mul(2).mul(1e-4).add(Math.max(1/s,o))).div(a).mul(.995).add(f).sub(g).toNumber();if(f===0&&d===0)return Math.min(r,A);const x=b.sub(i).div(u).toPower(1/1.8).div(a).add(f).sub(g).div(new Fe(y).mul(2).mul(1e-4).add(1)).mul(.995).toNumber();return Math.min(r,A,x)}catch{return 0}}function LHe(t,e){const{totalCollateral:r,markPrices:n,positions:i}=t;if(r===0)return 0;const s=new Fe(r),o=i.reduce((a,u)=>{const f=n[u.symbol]||0;return a.add(new Fe(u.position_qty).mul(f).abs())},Ui);return o.eq(Ui)?0:s.div(o).toNumber()}function DHe(t){const{totalUnrealizedPnL:e,totalValue:r}=t;return new Fe(e).div(r-e).toNumber()}function FHe(t){return t===0?0:1/t}function $He(t){const{USDCHolding:e,unsettlementPnL:r}=t;return new Fe(e).add(r).toNumber()}function UHe(t){return t.positionsNotional===0||t.positionsMMR===0?null:new Fe(t.positionsMMR).div(t.positionsNotional).toNumber()}var wh={};Z7(wh,{estLeverage:()=>qHe,estLiqPrice:()=>HHe,maxPrice:()=>zHe,minPrice:()=>WHe,orderFee:()=>jHe,scopePrice:()=>KHe});function zHe(t,e){return t*(1+e)}function WHe(t,e){return t*(1-e)}function KHe(t,e,r){return r==="BUY"?t*(1-e):t*(1+e)}function jHe(t){return new Fe(t.qty).mul(t.price).mul(t.futuresTakeFeeRate).toNumber()}function HHe(t){var e;const{positions:r,newOrder:n,totalCollateral:i,markPrice:s,baseIMR:o,baseMMR:a,orderFee:u,IMR_Factor:f}=t;let d,g=Ui;const b=r.filter(C=>C.position_qty>0).length>0?s:n.price,A=new Fe(n.qty).mul(n.price);for(let C=0;C<r.length;C++){const P=r[C];let O=new Fe(P.position_qty).mul(P.mark_price);n.symbol===P.symbol&&(d=P,O=O.add(A)),g=g.add(O.abs().mul(P.mmr))}d||(g=g.add(A.mul(a)));const x=Math.max(a,new Fe(a).div(o).mul(f).mul(A.add(d?new Fe(d.position_qty).mul(d.mark_price):Ui).abs()).toPower(4/5).toNumber()),k=new Fe(n.qty).add((e=d==null?void 0:d.position_qty)!=null?e:0);if(k.eq(0))return 0;const R=new Fe(b).add(new Fe(i).sub(g).sub(u).div(k.abs().mul(x).sub(k))).toNumber();return Math.max(0,R)}function qHe(t){const{totalCollateral:e,positions:r,newOrder:n}=t;if(e<=0)return null;let i=!1,s=r.reduce((a,u)=>{let f=new Fe(u.position_qty).mul(u.mark_price);return u.symbol===n.symbol&&(i=!0,f=f.add(new Fe(n.qty).mul(n.price))),a.add(f.abs())},Ui);if(i||(s=s.add(new Fe(n.qty).mul(n.price).abs())),s.eq(Ui))return null;const o=new Fe(e).div(s);return new Fe(1).div(o).toDecimalPlaces(2,Fe.ROUND_HALF_EVEN).toNumber()}const GP=new WeakMap,VHe="$sub$",GHe=t=>(e,r,n)=>{const[i,s]=Eh(e),o=i?VHe+i:void 0,a=t(o,null,n),{cache:u}=n;GP.has(u)||GP.set(u,[new Map,new Map]);const[f,d]=GP.get(u);return im(()=>{if(!o)return;const[,g]=$d(u,o),y=f.get(o)||0,b=(A,x)=>{A!==null&&typeof A<"u"?g({error:A}):(g({error:void 0}),a.mutate(x,!1))};if(f.set(o,y+1),!y){const A=r(s,{next:b});if(typeof A!="function")throw new Error("The `subscribe` function must return a function to unsubscribe.");d.set(o,A)}return()=>{const A=f.get(o)-1;if(f.set(o,A),!A){var x;(x=d.get(o))==null||x()}}},[o]),{get data(){return a.data},get error(){return a.error}}},Fw=A9(_w,GHe);function Zv(t,e,r){var n=this,i=B.useRef(null),s=B.useRef(0),o=B.useRef(null),a=B.useRef([]),u=B.useRef(),f=B.useRef(),d=B.useRef(t),g=B.useRef(!0);B.useEffect(function(){d.current=t},[t]);var y=!e&&e!==0&&typeof window<"u";if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var b=!!(r=r||{}).leading,A=!("trailing"in r)||!!r.trailing,x="maxWait"in r,k=x?Math.max(+r.maxWait||0,e):null;B.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var R=B.useMemo(function(){var C=function(X){var Z=a.current,le=u.current;return a.current=u.current=null,s.current=X,f.current=d.current.apply(le,Z)},P=function(X,Z){y&&cancelAnimationFrame(o.current),o.current=y?requestAnimationFrame(X):setTimeout(X,Z)},O=function(X){if(!g.current)return!1;var Z=X-i.current;return!i.current||Z>=e||Z<0||x&&X-s.current>=k},q=function(X){return o.current=null,A&&a.current?C(X):(a.current=u.current=null,f.current)},Q=function X(){var Z=Date.now();if(O(Z))return q(Z);if(g.current){var le=e-(Z-i.current),I=x?Math.min(le,k-(Z-s.current)):le;P(X,I)}},Y=function(){var X=Date.now(),Z=O(X);if(a.current=[].slice.call(arguments),u.current=n,i.current=X,Z){if(!o.current&&g.current)return s.current=i.current,P(Q,e),b?C(i.current):f.current;if(x)return P(Q,e),C(i.current)}return o.current||P(Q,e),f.current};return Y.cancel=function(){o.current&&(y?cancelAnimationFrame(o.current):clearTimeout(o.current)),s.current=0,a.current=i.current=u.current=o.current=null},Y.isPending=function(){return!!o.current},Y.flush=function(){return o.current?q(Date.now()):f.current},Y},[b,x,e,k,A,y]);return R}function YHe(t,e,r){var n=r===void 0?{}:r,i=n.leading,s=n.trailing;return Zv(t,e,{maxWait:e,leading:i===void 0||i,trailing:s===void 0||s})}/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Go=2n**255n-19n,y3=2n**252n+27742317777372353535851937790883648493n,TZ=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,IZ=0x6666666666666666666666666666666666666666666666666666666666666658n,ZHe=37095705934669439343138083508754565189542113879843219016388785533085940283555n,hk={a:-1n,d:ZHe,h:8},_o=(t="")=>{throw new Error(t)},Lue=t=>typeof t=="string",XHe=t=>t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array",KA=(t,e)=>!XHe(t)||typeof e=="number"&&e>0&&t.length!==e?_o("Uint8Array of valid length expected"):t,Xv=t=>new Uint8Array(t),J7=(t,e)=>KA(Lue(t)?tF(t):Xv(KA(t)),e),pr=(t,e=Go)=>{let r=t%e;return r>=0n?r:e+r},RZ=t=>t instanceof Qv?t:_o("Point expected");let Qv=class m1{constructor(e,r,n,i){this.ex=e,this.ey=r,this.ez=n,this.et=i}static fromAffine(e){return new m1(e.x,e.y,1n,pr(e.x*e.y))}static fromHex(e,r=!1){const{d:n}=hk;e=J7(e,32);const i=e.slice(),s=e[31];i[31]=s&-129;const o=Fue(i);r&&!(0n<=o&&o<2n**256n)&&_o("bad y coord 1"),!r&&!(0n<=o&&o<Go)&&_o("bad y coord 2");const a=pr(o*o),u=pr(a-1n),f=pr(n*a+1n);let{isValid:d,value:g}=eqe(u,f);d||_o("bad y coordinate 3");const y=(g&1n)===1n,b=(s&128)!==0;return!r&&g===0n&&b&&_o("bad y coord 3"),b!==y&&(g=pr(-g)),new m1(g,o,1n,pr(g*o))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:r,ey:n,ez:i}=this,{ex:s,ey:o,ez:a}=RZ(e),u=pr(r*a),f=pr(s*i),d=pr(n*a),g=pr(o*i);return u===f&&d===g}is0(){return this.equals(k_)}negate(){return new m1(pr(-this.ex),this.ey,this.ez,pr(-this.et))}double(){const{ex:e,ey:r,ez:n}=this,{a:i}=hk,s=pr(e*e),o=pr(r*r),a=pr(2n*pr(n*n)),u=pr(i*s),f=e+r,d=pr(pr(f*f)-s-o),g=u+o,y=g-a,b=u-o,A=pr(d*y),x=pr(g*b),k=pr(d*b),R=pr(y*g);return new m1(A,x,R,k)}add(e){const{ex:r,ey:n,ez:i,et:s}=this,{ex:o,ey:a,ez:u,et:f}=RZ(e),{a:d,d:g}=hk,y=pr(r*o),b=pr(n*a),A=pr(s*g*f),x=pr(i*u),k=pr((r+n)*(o+a)-y-b),R=pr(x-A),C=pr(x+A),P=pr(b-d*y),O=pr(k*R),q=pr(C*P),Q=pr(k*P),Y=pr(R*C);return new m1(O,q,Y,Q)}mul(e,r=!0){if(e===0n)return r===!0?_o("cannot multiply by 0"):k_;if(typeof e=="bigint"&&0n<e&&e<y3||_o("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(Jv))return aqe(e).p;let n=k_,i=Jv;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?n=n.add(s):r&&(i=i.add(s));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(hk.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(y3/2n,!1).double();return y3%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:r,ez:n}=this;if(this.equals(k_))return{x:0n,y:1n};const i=$ue(n,Go);return pr(n*i)!==1n&&_o("invalid inverse"),{x:pr(e*i),y:pr(r*i)}}toRawBytes(){const{x:e,y:r}=this.toAffine(),n=QHe(r);return n[31]|=e&1n?128:0,n}toHex(){return eF(this.toRawBytes())}};Qv.BASE=new Qv(TZ,IZ,1n,pr(TZ*IZ));Qv.ZERO=new Qv(0n,1n,1n,0n);const{BASE:Jv,ZERO:k_}=Qv,Due=(t,e)=>t.toString(16).padStart(e,"0"),eF=t=>Array.from(KA(t)).map(e=>Due(e,2)).join(""),bd={_0:48,_9:57,A:65,F:70,a:97,f:102},MZ=t=>{if(t>=bd._0&&t<=bd._9)return t-bd._0;if(t>=bd.A&&t<=bd.F)return t-(bd.A-10);if(t>=bd.a&&t<=bd.f)return t-(bd.a-10)},tF=t=>{const e="hex invalid";if(!Lue(t))return _o(e);const r=t.length,n=r/2;if(r%2)return _o(e);const i=Xv(n);for(let s=0,o=0;s<n;s++,o+=2){const a=MZ(t.charCodeAt(o)),u=MZ(t.charCodeAt(o+1));if(a===void 0||u===void 0)return _o(e);i[s]=a*16+u}return i},QHe=t=>tF(Due(t,32*2)).reverse(),Fue=t=>BigInt("0x"+eF(Xv(KA(t)).reverse())),CZ=(...t)=>{const e=Xv(t.reduce((n,i)=>n+KA(i).length,0));let r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e},$ue=(t,e)=>{(t===0n||e<=0n)&&_o("no inverse n="+t+" mod="+e);let r=pr(t,e),n=e,i=0n,s=1n;for(;r!==0n;){const o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}return n===1n?pr(i,e):_o("no inverse")},jl=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=Go;return r},JHe=t=>{const r=t*t%Go*t%Go,n=jl(r,2n)*r%Go,i=jl(n,1n)*t%Go,s=jl(i,5n)*i%Go,o=jl(s,10n)*s%Go,a=jl(o,20n)*o%Go,u=jl(a,40n)*a%Go,f=jl(u,80n)*u%Go,d=jl(f,80n)*u%Go,g=jl(d,10n)*s%Go;return{pow_p_5_8:jl(g,2n)*t%Go,b2:r}},PZ=19681161376707505956807079304988542015446066515923890162744021073123829784752n,eqe=(t,e)=>{const r=pr(e*e*e),n=pr(r*r*e),i=JHe(t*n).pow_p_5_8;let s=pr(t*r*i);const o=pr(e*s*s),a=s,u=pr(s*PZ),f=o===t,d=o===pr(-t),g=o===pr(-t*PZ);return f&&(s=a),(d||g)&&(s=u),(pr(s)&1n)===1n&&(s=pr(-s)),{isValid:f||d,value:s}},tqe=t=>pr(Fue(t),y3);let nA;const rqe=(...t)=>rF.sha512Async(...t),nqe=(...t)=>typeof nA=="function"?nA(...t):_o("etc.sha512Sync not set"),Uue=t=>{const e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;const r=t.slice(32,64),n=tqe(e),i=Jv.mul(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}},iqe=t=>rqe(J7(t,32)).then(Uue),sqe=t=>Uue(nqe(J7(t,32))),NZ=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,rF={bytesToHex:eF,hexToBytes:tF,concatBytes:CZ,mod:pr,invert:$ue,randomBytes:(t=32)=>{const e=NZ();return(!e||!e.getRandomValues)&&_o("crypto.getRandomValues must be defined"),e.getRandomValues(Xv(t))},sha512Async:async(...t)=>{const e=NZ(),r=e&&e.subtle;r||_o("etc.sha512Async or crypto.subtle must be defined");const n=CZ(...t);return Xv(await r.digest("SHA-512",n.buffer))},sha512Sync:void 0};Object.defineProperties(rF,{sha512Sync:{configurable:!1,get(){return nA},set(t){nA||(nA=t)}}});const zue={getExtendedPublicKeyAsync:iqe,getExtendedPublicKey:sqe,randomPrivateKey:()=>rF.randomBytes(32),precompute:(t=8,e=Jv)=>(e.multiply(3n),e)},m0=8,oqe=()=>{const t=[],e=256/m0+1;let r=Jv,n=r;for(let i=0;i<e;i++){n=r,t.push(n);for(let s=1;s<2**(m0-1);s++)n=n.add(r),t.push(n);r=n.double()}return t};let BZ;const aqe=t=>{const e=BZ||(BZ=oqe()),r=(d,g)=>{let y=g.negate();return d?y:g};let n=k_,i=Jv;const s=1+256/m0,o=2**(m0-1),a=BigInt(2**m0-1),u=2**m0,f=BigInt(m0);for(let d=0;d<s;d++){const g=d*o;let y=Number(t&a);t>>=f,y>o&&(y-=u,t+=1n);const b=g,A=g+Math.abs(y)-1,x=d%2!==0,k=y<0;y===0?i=i.add(r(x,e[b])):n=n.add(r(k,e[A]))}return{p:n,f:i}};function uqe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var A=0,x=0,k=0,R=b.length;k!==R&&b[k]===0;)k++,A++;for(var C=(R-k)*f+1>>>0,P=new Uint8Array(C);k!==R;){for(var O=b[k],q=0,Q=C-1;(O!==0||q<x)&&Q!==-1;Q--,q++)O+=256*P[Q]>>>0,P[Q]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");x=q,k++}for(var Y=C-x;Y!==C&&P[Y]===0;)Y++;for(var X=a.repeat(A);Y<C;++Y)X+=t.charAt(P[Y]);return X}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var A=0,x=0,k=0;b[A]===a;)x++,A++;for(var R=(b.length-A)*u+1>>>0,C=new Uint8Array(R);b[A];){var P=e[b.charCodeAt(A)];if(P===255)return;for(var O=0,q=R-1;(P!==0||O<k)&&q!==-1;q--,O++)P+=o*C[q]>>>0,C[q]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=O,A++}for(var Q=R-k;Q!==R&&C[Q]===0;)Q++;for(var Y=new Uint8Array(x+(R-Q)),X=x;Q!==R;)Y[X++]=C[Q++];return Y}function y(b){var A=g(b);if(A)return A;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:y}}var cqe=uqe;const lqe=cqe,fqe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Xx=lqe(fqe);const Wue=ea(Xx);var dqe=Object.defineProperty,hqe=Object.defineProperties,pqe=Object.getOwnPropertyDescriptors,OZ=Object.getOwnPropertySymbols,gqe=Object.prototype.hasOwnProperty,mqe=Object.prototype.propertyIsEnumerable,eL=(t,e,r)=>e in t?dqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Id=(t,e)=>{for(var r in e||(e={}))gqe.call(e,r)&&eL(t,r,e[r]);if(OZ)for(var r of OZ(e))mqe.call(e,r)&&eL(t,r,e[r]);return t},hp=(t,e)=>hqe(t,pqe(e)),pk=(t,e,r)=>(eL(t,typeof e!="symbol"?e+"":e,r),r),sh=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/default-evm-adapter"]="2.1.0");function yqe(t){return sh(this,null,function*(){let{chainId:e,receiver:r,token:n,amount:i,nonce:s,brokerId:o,domain:a}=t,u="Withdraw",f=Date.now(),d={EIP712Domain:fg.EIP712Domain,[u]:fg[u]},g={brokerId:o,chainId:e,receiver:r,token:n,amount:i,timestamp:f,withdrawNonce:s};return[g,{domain:a,message:g,primaryType:u,types:d}]})}function bqe(t){return sh(this,null,function*(){let{publicKey:e,chainId:r,brokerId:n,expiration:i=365,timestamp:s=Date.now(),scope:o,tag:a,domain:u}=t,f="AddOrderlyKey",d=Id({brokerId:n,orderlyKey:e,scope:o||"read,trading",chainId:r,timestamp:s,expiration:s+1e3*60*60*24*i},typeof a<"u"?{tag:a}:{}),g={EIP712Domain:fg.EIP712Domain,[f]:fg[f]};return[d,{domain:u,message:d,primaryType:f,types:g}]})}function vqe(t){return sh(this,null,function*(){let{chainId:e,domain:r,registrationNonce:n,brokerId:i,timestamp:s}=t,o="Registration",a={brokerId:i,chainId:e,timestamp:s,registrationNonce:n},u={EIP712Domain:fg.EIP712Domain,[o]:fg[o]};return[a,{domain:r,message:a,primaryType:o,types:u}]})}function wqe(t){return sh(this,null,function*(){let{settlePnlNonce:e,brokerId:r,chainId:n,timestamp:i,domain:s}=t,o="SettlePnl",a={EIP712Domain:fg.EIP712Domain,[o]:fg[o]},u={brokerId:r,chainId:n,timestamp:i,settleNonce:e};return[u,{domain:s,message:u,primaryType:o,types:a}]})}var Sqe=class extends fae{constructor(e){super(),this.web3Provider=e,pk(this,"chainNamespace",gl.evm),pk(this,"_address"),pk(this,"_chainId"),pk(this,"contractManager")}get address(){return this._address}get chainId(){return this._chainId}set chainId(e){this._chainId=e}setConfig(e){if(this._address=e.address,this._chainId=e.chain.id,e.provider&&(this.web3Provider.provider=e.provider),e.contractManager)this.contractManager=e.contractManager;else throw new Error("Please provide contract manager class")}active(e){this.setConfig(e),this.lifecycleName("active",e)}deactivate(){this.lifecycleName("deactivate",{})}update(e){this.lifecycleName("update",e),this.setConfig(e)}generateSecretKey(){let e,r;do e=zue.randomPrivateKey(),r=Xx.encode(e);while(r.length!==44);return r}lifecycleName(e,r){console.log("lifecycle",e,r)}signTypedData(e){return sh(this,null,function*(){return console.log("toSignatureMessage",this.address),yield this.web3Provider.signTypedData(this.address,JSON.stringify(e))})}generateRegisterAccountMessage(e){return sh(this,null,function*(){let[r,n]=yield vqe(hp(Id({},e),{chainId:this.chainId,domain:this.getDomain()})),i=yield this.signTypedData(n);return{message:hp(Id({},r),{chainType:"EVM"}),signatured:i}})}generateAddOrderlyKeyMessage(e){return sh(this,null,function*(){let[r,n]=yield bqe(hp(Id({},e),{chainId:this.chainId,domain:this.getDomain()})),i=yield this.signTypedData(n);return{message:hp(Id({},r),{chainType:"EVM"}),signatured:i}})}generateWithdrawMessage(e){return sh(this,null,function*(){let r=this.getDomain(!0),[n,i]=yield yqe(hp(Id({},e),{chainId:this.chainId,domain:r})),s=yield this.signTypedData(i);return{message:hp(Id({},n),{chainType:"EVM"}),signatured:s,domain:r}})}generateSettleMessage(e){return sh(this,null,function*(){let r=this.getDomain(!0),[n,i]=yield wqe(hp(Id({},e),{chainId:this.chainId,domain:r})),s=yield this.signTypedData(i);return{message:hp(Id({},n),{chainType:"EVM"}),signatured:s,domain:r}})}getBalance(){return this.web3Provider.getBalance(this.address)}call(e,r,n,i){return this.web3Provider.call(e,r,n,i)}sendTransaction(e,r,n,i){return this.web3Provider.sendTransaction(e,r,n,i)}callOnChain(e,r,n,i,s){return this.web3Provider.callOnChain(e,r,n,i,s)}getDomain(e){if(!this.web3Provider)throw new Error("web3Provider is undefined");return{name:"Orderly",version:"1",chainId:this.chainId,verifyingContract:e?this.contractManager.getContractInfoByEnv().verifyContractAddress:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"}}pollTransactionReceiptWithBackoff(e,r,n,i){return this.web3Provider.pollTransactionReceiptWithBackoff(e,r,n,i)}};function jA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function _qe(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Aqe(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Qx(t,...e){if(!Aqe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function xqe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jA(t.outputLen),jA(t.blockLen)}function tL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kue(t,e){Qx(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Eqe={number:jA,bool:_qe,bytes:Qx,hash:xqe,exists:tL,output:Kue};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kqe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),LZ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Tqe=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function DZ(t){for(let e=0;e<t.length;e++)t[e]=Tqe(t[e])}const Iqe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jx(t){Qx(t);let e="";for(let r=0;r<t.length;r++)e+=Iqe[t[r]];return e}const vd={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function FZ(t){if(t>=vd._0&&t<=vd._9)return t-vd._0;if(t>=vd._A&&t<=vd._F)return t-(vd._A-10);if(t>=vd._a&&t<=vd._f)return t-(vd._a-10)}function Rqe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=FZ(t.charCodeAt(s)),a=FZ(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}n[i]=o*16+a}return n}function Mqe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function jue(t){return typeof t=="string"&&(t=Mqe(t)),Qx(t),t}let Cqe=class{clone(){return this._cloneInto()}};function Pqe(t){const e=n=>t().update(jue(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function s4(t){const e=t.startsWith("0x")?t.substring(2):t;return Rqe(e)}function Nqe(t){return e=>(Eqe.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const gk=BigInt(2**32-1),$Z=BigInt(32);function Bqe(t,e=!1){return e?{h:Number(t&gk),l:Number(t>>$Z&gk)}:{h:Number(t>>$Z&gk)|0,l:Number(t&gk)|0}}function Oqe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Bqe(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const Lqe=(t,e,r)=>t<<r|e>>>32-r,Dqe=(t,e,r)=>e<<r|t>>>32-r,Fqe=(t,e,r)=>e<<r-32|t>>>64-r,$qe=(t,e,r)=>t<<r-32|e>>>64-r,Hue=[],que=[],Vue=[],Uqe=BigInt(0),jS=BigInt(1),zqe=BigInt(2),Wqe=BigInt(7),Kqe=BigInt(256),jqe=BigInt(113);for(let t=0,e=jS,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Hue.push(2*(5*n+r)),que.push((t+1)*(t+2)/2%64);let i=Uqe;for(let s=0;s<7;s++)e=(e<<jS^(e>>Wqe)*jqe)%Kqe,e&zqe&&(i^=jS<<(jS<<BigInt(s))-jS);Vue.push(i)}const[Hqe,qqe]=Oqe(Vue,!0),UZ=(t,e,r)=>r>32?Fqe(t,e,r):Lqe(t,e,r),zZ=(t,e,r)=>r>32?$qe(t,e,r):Dqe(t,e,r);function Vqe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,f=r[u],d=r[u+1],g=UZ(f,d,1)^r[a],y=zZ(f,d,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=g,t[o+b+1]^=y}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=que[o],u=UZ(i,s,a),f=zZ(i,s,a),d=Hue[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Hqe[n],t[1]^=qqe[n]}r.fill(0)}class nF extends Cqe{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,jA(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=kqe(this.state)}keccak(){LZ||DZ(this.state32),Vqe(this.state32,this.rounds),LZ||DZ(this.state32),this.posOut=0,this.pos=0}update(e){tL(this);const{blockLen:r,state:n}=this;e=jue(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){tL(this,!1),Qx(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return jA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kue(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new nF(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Gqe=(t,e,r)=>Pqe(()=>new nF(e,t,r)),WZ=Gqe(1,136,256/8),HA=(()=>{const t=Nqe(WZ);return t.create=WZ.create,t})();var Yqe=kw,Zqe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Xqe=Yqe(Zqe);const is=ea(Xqe);let Qqe=class extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function Jqe(t){return e2(t)&&typeof t[Symbol.iterator]=="function"}function e2(t){return typeof t=="object"&&t!=null}function UT(t){return e2(t)&&!Array.isArray(t)}function vl(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function eVe(t){const{done:e,value:r}=t.next();return e?void 0:r}function tVe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${vl(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*KZ(t,e,r,n){Jqe(t)||(t=[t]);for(const i of t){const s=tVe(i,e,r,n);s&&(yield s)}}function*iF(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const f of e.validator(t,a))f.explanation=r.message,u="not_valid",yield[f,void 0];for(let[f,d,g]of e.entries(t,a)){const y=iF(d,g,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,d],coerce:s,mask:o,message:r.message});for(const b of y)b[0]?(u=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(d=b[1],f===void 0?t=d:t instanceof Map?t.set(f,d):t instanceof Set?t.add(d):e2(t)&&(d!==void 0||f in t)&&(t[f]=d))}if(u!=="not_valid")for(const f of e.refiner(t,a))f.explanation=r.message,u="not_refined",yield[f,void 0];u==="valid"&&(yield[void 0,t])}let Jf=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{const d=i(u,f);return KZ(d,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{const d=s(u,f);return KZ(d,f,this,u)}:this.refiner=()=>[]}assert(e,r){return Gue(e,this,r)}create(e,r){return Ft(e,this,r)}is(e){return Yue(e,this)}mask(e,r){return rVe(e,this,r)}validate(e,r={}){return t2(e,this,r)}};function Gue(t,e,r){const n=t2(t,e,{message:r});if(n[0])throw n[0]}function Ft(t,e,r){const n=t2(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function rVe(t,e,r){const n=t2(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Yue(t,e){return!t2(t,e)[0]}function t2(t,e,r={}){const n=iF(t,e,r),i=eVe(n);return i[0]?[new Qqe(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function iy(t,e){return new Jf({type:t,schema:null,validator:e})}function nVe(){return iy("any",()=>!0)}function zt(t){return new Jf({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${vl(e)}`}})}function Uf(){return iy("boolean",t=>typeof t=="boolean")}function sF(t){return iy("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${vl(e)}`)}function ji(t){const e=vl(t),r=typeof t;return new Jf({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${vl(n)}`}})}function iVe(){return iy("never",()=>!1)}function Wt(t){return new Jf({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Ze(){return iy("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${vl(t)}`)}function mr(t){return new Jf({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Zue(t,e){return new Jf({type:"record",schema:null,*entries(r){if(e2(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return UT(r)||`Expected an object, but received: ${vl(r)}`},coercer(r){return UT(r)?{...r}:r}})}function Pt(){return iy("string",t=>typeof t=="string"||`Expected a string, but received: ${vl(t)}`)}function oF(t){const e=iVe();return new Jf({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${vl(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function Et(t){const e=Object.keys(t);return new Jf({type:"type",schema:t,*entries(r){if(e2(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return UT(r)||`Expected an object, but received: ${vl(r)}`},coercer(r){return UT(r)?{...r}:r}})}function _a(t){const e=t.map(r=>r.type).join(" | ");return new Jf({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=iF(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${vl(r)}`,...i]}})}function $w(){return iy("unknown",()=>!0)}function r2(t,e,r){return new Jf({...t,coercer:(n,i)=>Yue(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}const sVe=zs.utils.randomPrivateKey,jZ=()=>{const t=zs.utils.randomPrivateKey(),e=zT(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},zT=zs.getPublicKey;function HZ(t){try{return zs.ExtendedPoint.fromHex(t),!0}catch{return!1}}const aF=(t,e)=>zs.sign(t,e.slice(0,32)),oVe=zs.verify,Zr=t=>Pe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Pe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Pe.Buffer.from(t);let uF=class{constructor(e){Object.assign(this,e)}encode(){return Pe.Buffer.from(Iw(iA,this))}static decode(e){return Rw(iA,this,e)}static decodeUnchecked(e){return Tw(iA,this,e)}},aVe=class extends uF{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}};const iA=new Map;var Xue;const Que=32,Cf=32;function uVe(t){return t._bn!==void 0}let qZ=1,Mt=class y1 extends uF{constructor(e){if(super({}),this._bn=void 0,uVe(e))this._bn=e._bn;else{if(typeof e=="string"){const r=is.decode(e);if(r.length!=Cf)throw new Error("Invalid public key input");this._bn=new an(r)}else this._bn=new an(e);if(this._bn.byteLength()>Cf)throw new Error("Invalid public key input")}}static unique(){const e=new y1(qZ);return qZ+=1,new y1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return is.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Pe.Buffer);if(e.length===Cf)return e;const r=Pe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Pe.Buffer.concat([e.toBuffer(),Pe.Buffer.from(r),n.toBuffer()]),s=ru(i);return new y1(s)}static createProgramAddressSync(e,r){let n=Pe.Buffer.alloc(0);e.forEach(function(s){if(s.length>Que)throw new TypeError("Max seed length exceeded");n=Pe.Buffer.concat([n,Zr(s)])}),n=Pe.Buffer.concat([n,r.toBuffer(),Pe.Buffer.from("ProgramDerivedAddress")]);const i=ru(n);if(HZ(i))throw new Error("Invalid seeds, address must fall off the curve");return new y1(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Pe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new y1(e);return HZ(r.toBytes())}};Xue=Mt;Mt.default=new Xue("11111111111111111111111111111111");iA.set(Mt,{kind:"struct",fields:[["_bn","u256"]]});let cVe=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=Zr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Zr(sVe()),this._publicKey=Zr(zT(this._secretKey))}get publicKey(){return new Mt(this._publicKey)}get secretKey(){return Pe.Buffer.concat([this._secretKey,this._publicKey],64)}};const lVe=new Mt("BPFLoader1111111111111111111111111111111111"),sg=1232,o4=127,qA=64;let cF=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(cF.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let lF=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(lF.prototype,"name",{value:"TransactionExpiredTimeoutError"});let tb=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(tb.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let VA=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const sn=(t="publicKey")=>At(32,t),fVe=(t="signature")=>At(64,t),I0=(t="string")=>{const e=Se([xe("length"),xe("lengthPadding"),At(En(xe(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:Pe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>xe().span+xe().span+Pe.Buffer.from(s,"utf8").length,i},dVe=(t="authorized")=>Se([sn("staker"),sn("withdrawer")],t),hVe=(t="lockup")=>Se([er("unixTimestamp"),er("epoch"),sn("custodian")],t),pVe=(t="voteInit")=>Se([sn("nodePubkey"),sn("authorizedVoter"),sn("authorizedWithdrawer"),st("commission")],t),gVe=(t="voteAuthorizeWithSeedArgs")=>Se([xe("voteAuthorizationType"),sn("currentAuthorityDerivedKeyOwnerPubkey"),I0("currentAuthorityDerivedKeySeed"),sn("newAuthorized")],t);function Jue(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Jue({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function ja(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Au(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Mn(t,e){if(!t)throw new Error(e||"Assertion failed")}let ece=class tce{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new tce(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Mn(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Mn(r.length>0,"Expected at least one writable signer key");const[u]=r[0];Mn(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new Mt(u)),...n.map(([u])=>new Mt(u)),...i.map(([u])=>new Mt(u)),...s.map(([u])=>new Mt(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new Mt(s),u=e.findIndex(f=>f.equals(a));u>=0&&(Mn(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}};const rce="Reached end of buffer unexpectedly";function hf(t){if(t.length===0)throw new Error(rce);return t.shift()}function Ha(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(rce);return t.splice(...e)}let hg=class rL{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Mt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:is.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new VA(this.staticAccountKeys)}static compile(e){const r=ece.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new VA(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:is.encode(a.data)}));return new rL({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Au(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(is.decode(g.data));let x=[];Au(x,y.length);let k=[];return Au(k,A.length),{programIdIndex:b,keyIndicesCount:Pe.Buffer.from(x),keyIndices:y,dataLength:Pe.Buffer.from(k),data:A}});let i=[];Au(i,n.length);let s=Pe.Buffer.alloc(sg);Pe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=Se([st("programIdIndex"),At(g.keyIndicesCount.length,"keyIndicesCount"),Vt(st("keyIndex"),g.keyIndices.length,"keyIndices"),At(g.dataLength.length,"dataLength"),Vt(st("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=Se([At(1,"numRequiredSignatures"),At(1,"numReadonlySignedAccounts"),At(1,"numReadonlyUnsignedAccounts"),At(r.length,"keyCount"),Vt(sn("key"),e,"keys"),sn("recentBlockhash")]),u={numRequiredSignatures:Pe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Pe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Pe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Pe.Buffer.from(r),keys:this.accountKeys.map(g=>Zr(g.toBytes())),recentBlockhash:is.decode(this.recentBlockhash)};let f=Pe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=hf(r);if(n!==(n&o4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=hf(r),s=hf(r),o=ja(r);let a=[];for(let y=0;y<o;y++){const b=Ha(r,0,Cf);a.push(new Mt(Pe.Buffer.from(b)))}const u=Ha(r,0,Cf),f=ja(r);let d=[];for(let y=0;y<f;y++){const b=hf(r),A=ja(r),x=Ha(r,0,A),k=ja(r),R=Ha(r,0,k),C=is.encode(Pe.Buffer.from(R));d.push({programIdIndex:b,accounts:x,data:C})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:is.encode(Pe.Buffer.from(u)),accountKeys:a,instructions:d};return new rL(g)}},a4=class nL{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new VA(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=ece.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new VA(a,i).compileInstructions(e.instructions);return new nL({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();Au(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Au(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Au(s,this.addressTableLookups.length);const o=Se([st("prefix"),Se([st("numRequiredSignatures"),st("numReadonlySignedAccounts"),st("numReadonlyUnsignedAccounts")],"header"),At(e.length,"staticAccountKeysLength"),Vt(sn(),this.staticAccountKeys.length,"staticAccountKeys"),sn("recentBlockhash"),At(n.length,"instructionsLength"),At(r.length,"serializedInstructions"),At(s.length,"addressTableLookupsLength"),At(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(sg),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:is.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(sg);for(const n of this.compiledInstructions){const i=Array();Au(i,n.accountKeyIndexes.length);const s=Array();Au(s,n.data.length);const o=Se([st("programIdIndex"),At(i.length,"encodedAccountKeyIndexesLength"),Vt(st(),n.accountKeyIndexes.length,"accountKeyIndexes"),At(s.length,"encodedDataLength"),At(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(sg);for(const n of this.addressTableLookups){const i=Array();Au(i,n.writableIndexes.length);const s=Array();Au(s,n.readonlyIndexes.length);const o=Se([sn("accountKey"),At(i.length,"encodedWritableIndexesLength"),Vt(st(),n.writableIndexes.length,"writableIndexes"),At(s.length,"encodedReadonlyIndexesLength"),Vt(st(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=hf(r),i=n&o4;Mn(n!==i,"Expected versioned message but received legacy message");const s=i;Mn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:hf(r),numReadonlySignedAccounts:hf(r),numReadonlyUnsignedAccounts:hf(r)},a=[],u=ja(r);for(let A=0;A<u;A++)a.push(new Mt(Ha(r,0,Cf)));const f=is.encode(Ha(r,0,Cf)),d=ja(r),g=[];for(let A=0;A<d;A++){const x=hf(r),k=ja(r),R=Ha(r,0,k),C=ja(r),P=new Uint8Array(Ha(r,0,C));g.push({programIdIndex:x,accountKeyIndexes:R,data:P})}const y=ja(r),b=[];for(let A=0;A<y;A++){const x=new Mt(Ha(r,0,Cf)),k=ja(r),R=Ha(r,0,k),C=ja(r),P=Ha(r,0,C);b.push({accountKey:x,writableIndexes:R,readonlyIndexes:P})}return new nL({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}};const fF={deserializeMessageVersion(t){const e=t[0],r=e&o4;return r===e?"legacy":r},deserialize:t=>{const e=fF.deserializeMessageVersion(t);if(e==="legacy")return hg.from(t);if(e===0)return a4.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Rd=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const mVe=Pe.Buffer.alloc(qA).fill(0);let ai=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Pe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},ri=class iL{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new ai(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(R=>{s.push({...R})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new Mt(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),R=o.findIndex(C=>C.pubkey.toString()===k);R>-1?(o[R].isWritable=o[R].isWritable||x.isWritable,o[R].isSigner=o[R].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",R)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(R=>R.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:R})=>{k?(g.push(x.toString()),u+=1,R||(f+=1)):(y.push(x.toString()),R||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:R}=x;return{programIdIndex:b.indexOf(R.toString()),accounts:x.keys.map(C=>b.indexOf(C.pubkey.toString())),data:is.encode(k)}});return A.forEach(x=>{Mn(x.programIdIndex>=0),x.accounts.forEach(k=>Mn(k>=0))}),new hg({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=aF(n,i.secretKey);this._addSignature(i.publicKey,Zr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Mn(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Pe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):oVe(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];Au(n,r.length);const i=n.length+r.length*64+e.length,s=Pe.Buffer.alloc(i);return Mn(r.length<256),Pe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(Mn(o.length===64,"signature has invalid length"),Pe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),Mn(s.length<=sg,`Transaction too large: ${s.length} > ${sg}`),s}get keys(){return Mn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Mn(this.instructions.length===1),this.instructions[0].programId}get data(){return Mn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=ja(r);let i=[];for(let s=0;s<n;s++){const o=Ha(r,0,qA);i.push(is.encode(Pe.Buffer.from(o)))}return iL.populate(hg.from(r),i)}static populate(e,r=[]){const n=new iL;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==is.encode(mVe)?null:is.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new ai({keys:s,programId:e.accountKeys[i.programIdIndex],data:is.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},yVe=class nce{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;Mn(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;Mn(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const R of A.accountKeyIndexes){const C=g.get(R);if(C===void 0)throw new Error(`Failed to find key for account key index ${R}`);const P=R<o;let O;P?O=R<f:R<g.staticAccountKeys.length?O=R-o<d:O=R-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:C,isSigner:R<n.numRequiredSignatures,isWritable:O})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new ai({programId:k,data:Zr(A.data),keys:x}))}return new nce({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return hg.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return a4.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},bVe=class ice{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Mn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(qA));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();Au(r,this.signatures.length);const n=Se([At(r.length,"encodedSignaturesLength"),Vt(fVe(),this.signatures.length,"signatures"),At(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=ja(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Ha(r,0,qA)));const s=fF.deserialize(new Uint8Array(r));return new ice(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Mn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=aF(r,i.secretKey)}}addSignature(e,r){Mn(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Mn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}};const vVe=160,wVe=64,SVe=vVe/wVe,sce=1e3/SVe,tl=new Mt("SysvarC1ock11111111111111111111111111111111"),_Ve=new Mt("SysvarEpochSchedu1e111111111111111111111111"),AVe=new Mt("Sysvar1nstructions1111111111111111111111111"),b3=new Mt("SysvarRecentB1ockHashes11111111111111111111"),Mm=new Mt("SysvarRent111111111111111111111111111111111"),xVe=new Mt("SysvarRewards111111111111111111111111111111"),EVe=new Mt("SysvarS1otHashes111111111111111111111111111"),kVe=new Mt("SysvarS1otHistory11111111111111111111111111"),v3=new Mt("SysvarStakeHistory1111111111111111111111111");let pg=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};const TVe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let ir=class extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}};async function sL(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,u=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new pg({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function y0(t){return new Promise(e=>setTimeout(e,t))}function wn(t,e){const r=t.layout.span>=0?t.layout.span:Jue(t,e),n=Pe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Kn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const oce=Bt("lamportsPerSignature"),ace=Se([xe("version"),xe("state"),sn("authorizedPubkey"),sn("nonce"),Se([oce],"feeCalculator")]),oL=ace.span;let uce=class cce{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=ace.decode(Zr(e),0);return new cce({authorizedPubkey:new Mt(r.authorizedPubkey),nonce:new Mt(r.nonce).toString(),feeCalculator:r.feeCalculator})}};const IVe=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},RVe=t=>e=>{const r=At(t,e),{encode:n,decode:i}=IVe(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return Pw(Pe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Mg(o,t);return n(f,a,u)},s},ew=RVe(8);let MVe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(wi))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=Kn(wi.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new Mt(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=Kn(wi.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=Kn(wi.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new Mt(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=Kn(wi.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=Kn(wi.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Mt(r),seed:n,space:i,programId:new Mt(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=Kn(wi.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Mt(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=Kn(wi.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Mt(r),seed:n,programId:new Mt(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=Kn(wi.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Mt(r),seed:n,lamports:i,space:s,programId:new Mt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=Kn(wi.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Mt(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(wi.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Kn(wi.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=Kn(wi.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Mt(r)}}static checkProgramId(e){if(!e.equals(To.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}};const wi=Object.freeze({Create:{index:0,layout:Se([xe("instruction"),er("lamports"),er("space"),sn("programId")])},Assign:{index:1,layout:Se([xe("instruction"),sn("programId")])},Transfer:{index:2,layout:Se([xe("instruction"),ew("lamports")])},CreateWithSeed:{index:3,layout:Se([xe("instruction"),sn("base"),I0("seed"),er("lamports"),er("space"),sn("programId")])},AdvanceNonceAccount:{index:4,layout:Se([xe("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([xe("instruction"),er("lamports")])},InitializeNonceAccount:{index:6,layout:Se([xe("instruction"),sn("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([xe("instruction"),sn("authorized")])},Allocate:{index:8,layout:Se([xe("instruction"),er("space")])},AllocateWithSeed:{index:9,layout:Se([xe("instruction"),sn("base"),I0("seed"),er("space"),sn("programId")])},AssignWithSeed:{index:10,layout:Se([xe("instruction"),sn("base"),I0("seed"),sn("programId")])},TransferWithSeed:{index:11,layout:Se([xe("instruction"),ew("lamports"),I0("seed"),sn("programId")])},UpgradeNonceAccount:{index:12,layout:Se([xe("instruction")])}});let To=class aL{constructor(){}static createAccount(e){const r=wi.Create,n=wn(r,{lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});return new ai({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=wi.TransferWithSeed;r=wn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Zr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=wi.Transfer;r=wn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ai({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=wi.AssignWithSeed;r=wn(i,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,programId:Zr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=wi.Assign;r=wn(i,{programId:Zr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ai({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=wi.CreateWithSeed,n=wn(r,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ai({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new ri;"basePubkey"in e&&"seed"in e?r.add(aL.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:oL,programId:this.programId})):r.add(aL.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:oL,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=wi.InitializeNonceAccount,n=wn(r,{authorized:Zr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:b3,isSigner:!1,isWritable:!1},{pubkey:Mm,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new ai(i)}static nonceAdvance(e){const r=wi.AdvanceNonceAccount,n=wn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:b3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new ai(i)}static nonceWithdraw(e){const r=wi.WithdrawNonceAccount,n=wn(r,{lamports:e.lamports});return new ai({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:b3,isSigner:!1,isWritable:!1},{pubkey:Mm,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=wi.AuthorizeNonceAccount,n=wn(r,{authorized:Zr(e.newAuthorizedPubkey.toBuffer())});return new ai({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=wi.AllocateWithSeed;r=wn(i,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Zr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=wi.Allocate;r=wn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ai({keys:n,programId:this.programId,data:r})}};To.programId=new Mt("11111111111111111111111111111111");const CVe=sg-300;let WT=class uL{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/uL.chunkSize)+1+1)}static async load(e,r,n,i,s){{const g=await e.getMinimumBalanceForRentExemption(s.length),y=await e.getAccountInfo(n.publicKey,"confirmed");let b=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==s.length&&(b=b||new ri,b.add(To.allocate({accountPubkey:n.publicKey,space:s.length}))),y.owner.equals(i)||(b=b||new ri,b.add(To.assign({accountPubkey:n.publicKey,programId:i}))),y.lamports<g&&(b=b||new ri,b.add(To.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:g-y.lamports})))}else b=new ri().add(To.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:g>0?g:1,space:s.length,programId:i}));b!==null&&await sL(e,b,[r,n],{commitment:"confirmed"})}const o=Se([xe("instruction"),xe("offset"),xe("bytesLength"),xe("bytesLengthPadding"),Vt(st("byte"),En(xe(),-8),"bytes")]),a=uL.chunkSize;let u=0,f=s,d=[];for(;f.length>0;){const g=f.slice(0,a),y=Pe.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:g,bytesLength:0,bytesLengthPadding:0},y);const b=new ri().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:y});d.push(sL(e,b,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await y0(1e3/4),u+=a,f=f.slice(a)}await Promise.all(d);{const g=Se([xe("instruction")]),y=Pe.Buffer.alloc(g.span);g.encode({instruction:1},y);const b=new ri().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Mm,isSigner:!1,isWritable:!1}],programId:i,data:y}),A="processed",x=await e.sendTransaction(b,[r,n],{preflightCommitment:A}),{context:k,value:R}=await e.confirmTransaction({signature:x,lastValidBlockHeight:b.lastValidBlockHeight,blockhash:b.recentBlockhash},A);if(R.err)throw new Error(`Transaction ${x} failed (${JSON.stringify(R)})`);for(;;){try{if(await e.getSlot({commitment:A})>k.slot)break}catch{}await new Promise(C=>setTimeout(C,Math.round(sce/2)))}}return!0}};WT.chunkSize=CVe;const PVe=new Mt("BPFLoader2111111111111111111111111111111111");let NVe=class{static getMinNumSignatures(e){return WT.getMinNumSignatures(e)}static load(e,r,n,i,s){return WT.load(e,r,n,s,i)}};function BVe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YP,VZ;function OVe(){if(VZ)return YP;VZ=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,u,f,d,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(g=t.call(n),g==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(g==="[object Object]"){for(u=e(n).sort(),o=u.length,a="",s=0;s<o;)f=u[s],d=r(n[f],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(f)+":"+d),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return YP=function(n){var i=r(n,!1);if(i!==void 0)return""+i},YP}var LVe=OVe(),GZ=BVe(LVe);const HS=32;function ZP(t){let e=0;for(;t>1;)t/=2,e++;return e}function DVe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}let lce=class{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=ZP(DVe(e+HS+1))-ZP(HS)-1,n=this.getSlotsInEpoch(r),i=e-(n-HS);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*HS:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ZP(HS)):this.slotsPerEpoch}};var FVe=globalThis.fetch;let $Ve=class extends m7{constructor(e,r,n){const i=s=>{const o=g7(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}};function UVe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const YZ=56;let cL=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=UVe(zVe,e),n=e.length-YZ;Mn(n>=0,"lookup table is invalid"),Mn(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=Se([Vt(sn(),i,"addresses")]).decode(e.slice(YZ));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Mt(r.authority[0]):void 0,addresses:s.map(o=>new Mt(o))}}};const zVe={index:1,layout:Se([xe("typeIndex"),ew("deactivationSlot"),Bt("lastExtendedSlot"),st("lastExtendedStartIndex"),st(),Vt(sn(),En(st(),-1),"authority")])},WVe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function KVe(t){const e=t.match(WVe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${n}${u}${s}`}const Zi=r2(sF(Mt),Pt(),t=>new Mt(t)),fce=oF([Pt(),ji("base64")]),dF=r2(sF(Pe.Buffer),fce,t=>Pe.Buffer.from(t[0],"base64")),dce=30*1e3;function jVe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function yi(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function ZZ(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function hce(t){return _a([Et({jsonrpc:ji("2.0"),id:Pt(),result:t}),Et({jsonrpc:ji("2.0"),id:Pt(),error:Et({code:$w(),message:Pt(),data:mr(nVe())})})])}const HVe=hce($w());function Gr(t){return r2(hce(t),HVe,e=>"error"in e?e:{...e,result:Ft(e.result,t)})}function ls(t){return Gr(Et({context:Et({slot:Ze()}),value:t}))}function u4(t){return Et({context:Et({slot:Ze()}),value:t})}function XP(t,e){return t===0?new a4({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Mt(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:is.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new hg(e)}const qVe=Et({foundation:Ze(),foundationTerm:Ze(),initial:Ze(),taper:Ze(),terminal:Ze()}),VVe=Gr(zt(Wt(Et({epoch:Ze(),effectiveSlot:Ze(),amount:Ze(),postBalance:Ze(),commission:mr(Wt(Ze()))})))),GVe=zt(Et({slot:Ze(),prioritizationFee:Ze()})),YVe=Et({total:Ze(),validator:Ze(),foundation:Ze(),epoch:Ze()}),ZVe=Et({epoch:Ze(),slotIndex:Ze(),slotsInEpoch:Ze(),absoluteSlot:Ze(),blockHeight:mr(Ze()),transactionCount:mr(Ze())}),XVe=Et({slotsPerEpoch:Ze(),leaderScheduleSlotOffset:Ze(),warmup:Uf(),firstNormalEpoch:Ze(),firstNormalSlot:Ze()}),QVe=Zue(Pt(),zt(Ze())),sy=Wt(_a([Et({}),Pt()])),JVe=Et({err:sy}),eGe=ji("receivedSignature"),tGe=Et({"solana-core":Pt(),"feature-set":mr(Ze())}),rGe=Et({program:Pt(),programId:Zi,parsed:$w()}),nGe=Et({programId:Zi,accounts:zt(Zi),data:Pt()}),XZ=ls(Et({err:Wt(_a([Et({}),Pt()])),logs:Wt(zt(Pt())),accounts:mr(Wt(zt(Wt(Et({executable:Uf(),owner:Pt(),lamports:Ze(),data:zt(Pt()),rentEpoch:mr(Ze())}))))),unitsConsumed:mr(Ze()),returnData:mr(Wt(Et({programId:Pt(),data:oF([Pt(),ji("base64")])}))),innerInstructions:mr(Wt(zt(Et({index:Ze(),instructions:zt(_a([rGe,nGe]))}))))})),iGe=ls(Et({byIdentity:Zue(Pt(),zt(Ze())),range:Et({firstSlot:Ze(),lastSlot:Ze()})}));function sGe(t,e,r,n,i,s){const o=r||FVe;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(d,g)=>{const y=await new Promise((b,A)=>{try{n(d,g,(x,k)=>b([x,k]))}catch(x){A(x)}});return await o(...y)}),new p7(async(d,g)=>{const y={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},sYe)};try{let b=5,A,x=500;for(;u?A=await u(t,y):A=await o(t,y),!(A.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${x}ms delay...`),await y0(x),x*=2;const k=await A.text();A.ok?g(null,k):g(new Error(`${A.status} ${A.statusText}: ${k}`))}catch(b){b instanceof Error&&g(b)}},{})}function oGe(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function aGe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const uGe=Gr(qVe),cGe=Gr(YVe),lGe=Gr(GVe),fGe=Gr(ZVe),dGe=Gr(XVe),hGe=Gr(QVe),pGe=Gr(Ze()),gGe=ls(Et({total:Ze(),circulating:Ze(),nonCirculating:Ze(),nonCirculatingAccounts:zt(Zi)})),lL=Et({amount:Pt(),uiAmount:Wt(Ze()),decimals:Ze(),uiAmountString:mr(Pt())}),mGe=ls(zt(Et({address:Zi,amount:Pt(),uiAmount:Wt(Ze()),decimals:Ze(),uiAmountString:mr(Pt())}))),yGe=ls(zt(Et({pubkey:Zi,account:Et({executable:Uf(),owner:Zi,lamports:Ze(),data:dF,rentEpoch:Ze()})}))),fL=Et({program:Pt(),parsed:$w(),space:Ze()}),bGe=ls(zt(Et({pubkey:Zi,account:Et({executable:Uf(),owner:Zi,lamports:Ze(),data:fL,rentEpoch:Ze()})}))),vGe=ls(zt(Et({lamports:Ze(),address:Zi}))),GA=Et({executable:Uf(),owner:Zi,lamports:Ze(),data:dF,rentEpoch:Ze()}),wGe=Et({pubkey:Zi,account:GA}),SGe=r2(_a([sF(Pe.Buffer),fL]),_a([fce,fL]),t=>Array.isArray(t)?Ft(t,dF):t),dL=Et({executable:Uf(),owner:Zi,lamports:Ze(),data:SGe,rentEpoch:Ze()}),_Ge=Et({pubkey:Zi,account:dL}),AGe=Et({state:_a([ji("active"),ji("inactive"),ji("activating"),ji("deactivating")]),active:Ze(),inactive:Ze()}),xGe=Gr(zt(Et({signature:Pt(),slot:Ze(),err:sy,memo:Wt(Pt()),blockTime:mr(Wt(Ze()))}))),EGe=Gr(zt(Et({signature:Pt(),slot:Ze(),err:sy,memo:Wt(Pt()),blockTime:mr(Wt(Ze()))}))),kGe=Et({subscription:Ze(),result:u4(GA)}),TGe=Et({pubkey:Zi,account:GA}),IGe=Et({subscription:Ze(),result:u4(TGe)}),RGe=Et({parent:Ze(),slot:Ze(),root:Ze()}),MGe=Et({subscription:Ze(),result:RGe}),CGe=_a([Et({type:_a([ji("firstShredReceived"),ji("completed"),ji("optimisticConfirmation"),ji("root")]),slot:Ze(),timestamp:Ze()}),Et({type:ji("createdBank"),parent:Ze(),slot:Ze(),timestamp:Ze()}),Et({type:ji("frozen"),slot:Ze(),timestamp:Ze(),stats:Et({numTransactionEntries:Ze(),numSuccessfulTransactions:Ze(),numFailedTransactions:Ze(),maxTransactionsPerEntry:Ze()})}),Et({type:ji("dead"),slot:Ze(),timestamp:Ze(),err:Pt()})]),PGe=Et({subscription:Ze(),result:CGe}),NGe=Et({subscription:Ze(),result:u4(_a([JVe,eGe]))}),BGe=Et({subscription:Ze(),result:Ze()}),OGe=Et({pubkey:Pt(),gossip:Wt(Pt()),tpu:Wt(Pt()),rpc:Wt(Pt()),version:Wt(Pt())}),QZ=Et({votePubkey:Pt(),nodePubkey:Pt(),activatedStake:Ze(),epochVoteAccount:Uf(),epochCredits:zt(oF([Ze(),Ze(),Ze()])),commission:Ze(),lastVote:Ze(),rootSlot:Wt(Ze())}),LGe=Gr(Et({current:zt(QZ),delinquent:zt(QZ)})),DGe=_a([ji("processed"),ji("confirmed"),ji("finalized")]),FGe=Et({slot:Ze(),confirmations:Wt(Ze()),err:sy,confirmationStatus:mr(DGe)}),$Ge=ls(zt(Wt(FGe))),UGe=Gr(Ze()),pce=Et({accountKey:Zi,writableIndexes:zt(Ze()),readonlyIndexes:zt(Ze())}),hF=Et({signatures:zt(Pt()),message:Et({accountKeys:zt(Pt()),header:Et({numRequiredSignatures:Ze(),numReadonlySignedAccounts:Ze(),numReadonlyUnsignedAccounts:Ze()}),instructions:zt(Et({accounts:zt(Ze()),data:Pt(),programIdIndex:Ze()})),recentBlockhash:Pt(),addressTableLookups:mr(zt(pce))})}),gce=Et({pubkey:Zi,signer:Uf(),writable:Uf(),source:mr(_a([ji("transaction"),ji("lookupTable")]))}),mce=Et({accountKeys:zt(gce),signatures:zt(Pt())}),yce=Et({parsed:$w(),program:Pt(),programId:Zi}),bce=Et({accounts:zt(Zi),data:Pt(),programId:Zi}),zGe=_a([bce,yce]),WGe=_a([Et({parsed:$w(),program:Pt(),programId:Pt()}),Et({accounts:zt(Pt()),data:Pt(),programId:Pt()})]),vce=r2(zGe,WGe,t=>"accounts"in t?Ft(t,bce):Ft(t,yce)),wce=Et({signatures:zt(Pt()),message:Et({accountKeys:zt(gce),instructions:zt(vce),recentBlockhash:Pt(),addressTableLookups:mr(Wt(zt(pce)))})}),KT=Et({accountIndex:Ze(),mint:Pt(),owner:mr(Pt()),programId:mr(Pt()),uiTokenAmount:lL}),Sce=Et({writable:zt(Zi),readonly:zt(Zi)}),c4=Et({err:sy,fee:Ze(),innerInstructions:mr(Wt(zt(Et({index:Ze(),instructions:zt(Et({accounts:zt(Ze()),data:Pt(),programIdIndex:Ze()}))})))),preBalances:zt(Ze()),postBalances:zt(Ze()),logMessages:mr(Wt(zt(Pt()))),preTokenBalances:mr(Wt(zt(KT))),postTokenBalances:mr(Wt(zt(KT))),loadedAddresses:mr(Sce),computeUnitsConsumed:mr(Ze())}),pF=Et({err:sy,fee:Ze(),innerInstructions:mr(Wt(zt(Et({index:Ze(),instructions:zt(vce)})))),preBalances:zt(Ze()),postBalances:zt(Ze()),logMessages:mr(Wt(zt(Pt()))),preTokenBalances:mr(Wt(zt(KT))),postTokenBalances:mr(Wt(zt(KT))),loadedAddresses:mr(Sce),computeUnitsConsumed:mr(Ze())}),Uw=_a([ji(0),ji("legacy")]),oy=Et({pubkey:Pt(),lamports:Ze(),postBalance:Wt(Ze()),rewardType:Wt(Pt()),commission:mr(Wt(Ze()))}),KGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),transactions:zt(Et({transaction:hF,meta:Wt(c4),version:mr(Uw)})),rewards:mr(zt(oy)),blockTime:Wt(Ze()),blockHeight:Wt(Ze())}))),jGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),rewards:mr(zt(oy)),blockTime:Wt(Ze()),blockHeight:Wt(Ze())}))),HGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),transactions:zt(Et({transaction:mce,meta:Wt(c4),version:mr(Uw)})),rewards:mr(zt(oy)),blockTime:Wt(Ze()),blockHeight:Wt(Ze())}))),qGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),transactions:zt(Et({transaction:wce,meta:Wt(pF),version:mr(Uw)})),rewards:mr(zt(oy)),blockTime:Wt(Ze()),blockHeight:Wt(Ze())}))),VGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),transactions:zt(Et({transaction:mce,meta:Wt(pF),version:mr(Uw)})),rewards:mr(zt(oy)),blockTime:Wt(Ze()),blockHeight:Wt(Ze())}))),GGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),rewards:mr(zt(oy)),blockTime:Wt(Ze()),blockHeight:Wt(Ze())}))),YGe=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),transactions:zt(Et({transaction:hF,meta:Wt(c4)})),rewards:mr(zt(oy)),blockTime:Wt(Ze())}))),JZ=Gr(Wt(Et({blockhash:Pt(),previousBlockhash:Pt(),parentSlot:Ze(),signatures:zt(Pt()),blockTime:Wt(Ze())}))),QP=Gr(Wt(Et({slot:Ze(),meta:Wt(c4),blockTime:mr(Wt(Ze())),transaction:hF,version:mr(Uw)}))),mk=Gr(Wt(Et({slot:Ze(),transaction:wce,meta:Wt(pF),blockTime:mr(Wt(Ze())),version:mr(Uw)}))),ZGe=ls(Et({blockhash:Pt(),lastValidBlockHeight:Ze()})),XGe=ls(Uf()),QGe=Et({slot:Ze(),numTransactions:Ze(),numSlots:Ze(),samplePeriodSecs:Ze()}),JGe=Gr(zt(QGe)),eYe=ls(Wt(Et({feeCalculator:Et({lamportsPerSignature:Ze()})}))),tYe=Gr(Pt()),rYe=Gr(Pt()),nYe=Et({err:sy,logs:zt(Pt()),signature:Pt()}),iYe=Et({result:u4(nYe),subscription:Ze()}),sYe={"solana-client":"js/1.0.0-maintenance"};let oYe=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async d=>{const{commitment:g,config:y}=yi(d),b=this._buildArgs([],g,void 0,y),A=GZ(b);return f[A]=f[A]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",b),k=Ft(x,Gr(Ze()));if("error"in k)throw new ir(k.error,"failed to get block height information");return k.result}finally{delete f[A]}})(),await f[A]}})();let n,i,s,o,a,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=jVe(e),this._rpcWsEndpoint=n||KVe(e),this._rpcClient=sGe(e,i,s,o,a,u),this._rpcRequest=oGe(this._rpcClient),this._rpcBatchRequest=aGe(this._rpcClient),this._rpcWebSocket=new $Ve(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Ft(o,ls(Ze()));if("error"in a)throw new ir(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Ft(r,Gr(Wt(Ze())));if("error"in n)throw new ir(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Ft(e,Gr(Ze()));if("error"in r)throw new ir(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Ft(e,pGe);if("error"in r)throw new ir(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Ft(n,gGe);if("error"in i)throw new ir(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Ft(i,ls(lL));if("error"in s)throw new ir(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Ft(i,ls(lL));if("error"in s)throw new ir(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=yi(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),f=Ft(u,yGe);if("error"in f)throw new ir(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Ft(o,bGe);if("error"in a)throw new ir(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Ft(i,vGe);if("error"in s)throw new ir(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Ft(i,mGe);if("error"in s)throw new ir(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Ft(o,ls(Wt(GA)));if("error"in a)throw new ir(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Ft(o,ls(Wt(dL)));if("error"in a)throw new ir(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=yi(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Ft(a,ls(zt(Wt(dL))));if("error"in u)throw new ir(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=yi(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Ft(a,ls(zt(Wt(GA))));if("error"in u)throw new ir(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=yi(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=Ft(a,Gr(AGe));if("error"in u)throw new ir(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=yi(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:ZZ(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),f=zt(wGe),d=o.withContext===!0?Ft(u,ls(f)):Ft(u,Gr(f));if("error"in d)throw new ir(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Ft(o,Gr(zt(_Ge)));if("error"in a)throw new ir(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=is.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Mn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((u,f)=>{try{n=this.onSignature(r,(g,y)=>{n=void 0;const b={context:y,value:g};u({__type:Rd.PROCESSED,response:b})},e);const d=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,y=>{y==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(r);if(s||g==null)return;const{context:y,value:b}=g;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:Rd.PROCESSED,response:{context:y,value:b}})}})()}catch(d){f(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await y();if(!s){for(;b<=n;)if(await y0(1e3),s||(b=await y(),s))return;g({__type:Rd.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(r);let d;try{const g=await Promise.race([f,u,o]);if(g.__type===Rd.PROCESSED)d=g.response;else throw new cF(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(b=>{let A=s,x=null;const k=async()=>{try{const{context:R,value:C}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return x=R.slot,C==null?void 0:C.nonce}catch{return A}};(async()=>{if(A=await k(),!a)for(;;){if(s!==A){b({__type:Rd.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await y0(2e3),a||(A=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(r);let y;try{const b=await Promise.race([g,d,u]);if(b.__type===Rd.PROCESSED)y=b.response;else{let A;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(b.slotInWhichNonceDidAdvance??n)){await y0(400);continue}A=x;break}if(A!=null&&A.value){const x=e||"finalized",{confirmationStatus:k}=A.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new tb(o);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new tb(o);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new tb(o);break;default:}y={context:A.context,value:{err:A.value.err}}}else throw new tb(o)}}finally{a=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:Rd.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const u=await Promise.race([o,i]);if(u.__type===Rd.PROCESSED)a=u.response;else throw new lF(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Ft(e,Gr(zt(OGe)));if("error"in r)throw new ir(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Ft(n,LGe);if("error"in i)throw new ir(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=yi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Ft(s,Gr(Ze()));if("error"in o)throw new ir(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=yi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Ft(s,Gr(Pt()));if("error"in o)throw new ir(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Ft(i,Gr(zt(Zi)));if("error"in s)throw new ir(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Mn(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Ft(i,$Ge);if("error"in s)throw new ir(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=yi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Ft(s,Gr(Ze()));if("error"in o)throw new ir(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Ft(n,uGe);if("error"in i)throw new ir(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=yi(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=Ft(a,VVe);if("error"in u)throw new ir(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Ft(e,cGe);if("error"in r)throw new ir(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=yi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Ft(s,fGe);if("error"in o)throw new ir(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Ft(e,dGe);if("error"in r)throw new ir(r.error,"failed to get epoch schedule");const n=r.result;return new lce(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Ft(e,hGe);if("error"in r)throw new ir(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Ft(i,UGe);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Ft(r,JGe);if("error"in n)throw new ir(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Ft(i,eYe);if("error"in s)throw new ir(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=Zr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Ft(s,ls(Wt(Ze())));if("error"in o)throw new ir(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Ft(i,lGe);if("error"in s)throw new ir(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=yi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Ft(s,ZGe);if("error"in o)throw new ir(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Ft(o,XGe);if("error"in a)throw new ir(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Ft(e,Gr(tGe));if("error"in r)throw new ir(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Ft(e,Gr(Pt()));if("error"in r)throw new ir(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ft(o,HGe);if("error"in a)throw a.error;return a.result}case"none":{const a=Ft(o,jGe);if("error"in a)throw a.error;return a.result}default:{const a=Ft(o,KGe);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:d,version:g})=>({meta:d,transaction:{...f,message:XP(g,f.message)},version:g}))}:null}}}catch(a){throw new ir(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ft(o,VGe);if("error"in a)throw a.error;return a.result}case"none":{const a=Ft(o,GGe);if("error"in a)throw a.error;return a.result}default:{const a=Ft(o,qGe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ir(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...u}=e;n=a,r=u}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Ft(s,iGe);if("error"in o)throw new ir(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Ft(o,QP);if("error"in a)throw new ir(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:XP(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=yi(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Ft(o,mk);if("error"in a)throw new ir(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=yi(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Ft(u,mk);if("error"in f)throw new ir(f.error,"failed to get transactions");return f.result})}async getTransactions(e,r){const{commitment:n,config:i}=yi(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Ft(u,QP);if("error"in f)throw new ir(f.error,"failed to get transactions");const d=f.result;return d&&{...d,transaction:{...d.transaction,message:XP(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=Ft(i,YGe);if("error"in s)throw new ir(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:f})=>{const d=new hg(u.message);return{meta:f,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:ri.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Ft(s,Gr(zt(Ze())));if("error"in o)throw new ir(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ft(i,JZ);if("error"in s)throw new ir(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ft(i,JZ);if("error"in s)throw new ir(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=Ft(i,QP);if("error"in s)throw new ir(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new hg(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:ri.populate(a,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=Ft(i,mk);if("error"in s)throw new ir(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Ft(o,mk);if("error"in a)throw new ir(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ft(s,xGe);if("error"in o)throw new ir(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ft(s,EGe);if("error"in o)throw new ir(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new cL({key:e,state:cL.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=uce.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Ft(n,tYe);if("error"in i)throw new ir(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await y0(100);const n=Date.now()-this._blockhashInfo.lastFetch>=dce;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await y0(sce/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=yi(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ft(s,ls(Ze()));if("error"in o)throw new ir(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const x=e.serialize(),k=Pe.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const R=r||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(R.innerInstructions=r.innerInstructions);const C=[k,R],P=await this._rpcRequest("simulateTransaction",C),O=Ft(P,XZ);if("error"in O)throw new Error("failed to simulate transaction: "+O.error.message);return O.result}let i;if(e instanceof ri){let A=e;i=new ri,i.feePayer=A.feePayer,i.instructions=e.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=ri.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else A=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}s&&(d.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(d.innerInstructions=r.innerInstructions);const g=[f,d],y=await this._rpcRequest("simulateTransaction",g),b=Ft(y,XZ);if("error"in b){let A;if("data"in b.error&&(A=b.error.data.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new pg({action:"simulate",signature:"",transactionMessage:b.error.message,logs:A})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=Zr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),u=Ft(a,rYe);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new pg({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Ft(e,kGe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=GZ([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Mn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=yi(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Ft(e,IGe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=yi(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:ZZ(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Ft(e,iYe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Ft(e,MGe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Ft(e,PGe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Ft(e,NGe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,f)=>{r(u,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Ft(e,BGe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},_ce=class w3{constructor(e){this._keypair=void 0,this._keypair=e??jZ()}static generate(){return new w3(jZ())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=zT(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new w3({publicKey:n,secretKey:e})}static fromSeed(e){const r=zT(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new w3({publicKey:r,secretKey:n})}get publicKey(){return new Mt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const oh=Object.freeze({CreateLookupTable:{index:0,layout:Se([xe("instruction"),ew("recentSlot"),st("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([xe("instruction")])},ExtendLookupTable:{index:2,layout:Se([xe("instruction"),ew(),Vt(sn(),En(xe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([xe("instruction")])},CloseLookupTable:{index:4,layout:Se([xe("instruction")])}});let aYe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(oh))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=Kn(oh.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=Kn(oh.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new Mt(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gF.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},gF=class{constructor(){}static createLookupTable(e){const[r,n]=Mt.findProgramAddressSync([e.authority.toBuffer(),Mg(BigInt(e.recentSlot),8)],this.programId),i=oh.CreateLookupTable,s=wn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:To.programId,isSigner:!1,isWritable:!1}];return[new ai({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=oh.FreezeLookupTable,n=wn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ai({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=oh.ExtendLookupTable,n=wn(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:To.programId,isSigner:!1,isWritable:!1}),new ai({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=oh.DeactivateLookupTable,n=wn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ai({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=oh.CloseLookupTable,n=wn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ai({programId:this.programId,keys:i,data:n})}};gF.programId=new Mt("AddressLookupTab1e1111111111111111111111111");let uYe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=st("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(pf))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=Kn(pf.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=Kn(pf.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=Kn(pf.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=Kn(pf.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(mF.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const pf=Object.freeze({RequestUnits:{index:0,layout:Se([st("instruction"),xe("units"),xe("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([st("instruction"),xe("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([st("instruction"),xe("units")])},SetComputeUnitPrice:{index:3,layout:Se([st("instruction"),ew("microLamports")])}});let mF=class{constructor(){}static requestUnits(e){const r=pf.RequestUnits,n=wn(r,e);return new ai({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=pf.RequestHeapFrame,n=wn(r,e);return new ai({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=pf.SetComputeUnitLimit,n=wn(r,e);return new ai({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=pf.SetComputeUnitPrice,n=wn(r,{microLamports:BigInt(e.microLamports)});return new ai({keys:[],programId:this.programId,data:n})}};mF.programId=new Mt("ComputeBudget111111111111111111111111111111");const eX=64,tX=32,rX=64,nX=Se([st("numSignatures"),st("padding"),cr("signatureOffset"),cr("signatureInstructionIndex"),cr("publicKeyOffset"),cr("publicKeyInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),cr("messageInstructionIndex")]);let Ace=class xce{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Mn(r.length===tX,`Public Key must be ${tX} bytes but received ${r.length} bytes`),Mn(i.length===rX,`Signature must be ${rX} bytes but received ${i.length} bytes`);const o=nX.span,a=o+r.length,u=a+i.length,f=1,d=Pe.Buffer.alloc(u+n.length),g=s??65535;return nX.encode({numSignatures:f,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:o,publicKeyInstructionIndex:g,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:g},d),d.fill(r,o),d.fill(i,a),d.fill(n,u),new ai({keys:[],programId:xce.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Mn(r.length===eX,`Private key must be ${eX} bytes but received ${r.length} bytes`);try{const s=_ce.fromSecretKey(r),o=s.publicKey.toBytes(),a=aF(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Ace.programId=new Mt("Ed25519SigVerify111111111111111111111111111");const cYe=(t,e)=>{const r=Uu.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};Uu.utils.isValidPrivateKey;const lYe=Uu.getPublicKey,iX=32,JP=20,sX=64,fYe=11,eN=Se([st("numSignatures"),cr("signatureOffset"),st("signatureInstructionIndex"),cr("ethAddressOffset"),st("ethAddressInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),st("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),st("recoveryId")]);let Ece=class S3{constructor(){}static publicKeyToEthAddress(e){Mn(e.length===sX,`Public key must be ${sX} bytes but received ${e.length} bytes`);try{return Pe.Buffer.from(ST(Zr(e))).slice(-JP)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return S3.createInstructionWithEthAddress({ethAddress:S3.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=Pe.Buffer.from(r.substr(2),"hex"):a=Pe.Buffer.from(r,"hex"):a=r,Mn(a.length===JP,`Address must be ${JP} bytes but received ${a.length} bytes`);const u=1+fYe,f=u,d=u+a.length,g=d+i.length+1,y=1,b=Pe.Buffer.alloc(eN.span+n.length);return eN.encode({numSignatures:y,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:f,ethAddressInstructionIndex:o,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:o,signature:Zr(i),ethAddress:Zr(a),recoveryId:s},b),b.fill(Zr(n),eN.span),new ai({keys:[],programId:S3.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Mn(r.length===iX,`Private key must be ${iX} bytes but received ${r.length} bytes`);try{const s=Zr(r),o=lYe(s,!1).slice(1),a=Pe.Buffer.from(ST(Zr(n))),[u,f]=cYe(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Ece.programId=new Mt("KeccakSecp256k11111111111111111111111111111");var kce;const Tce=new Mt("StakeConfig11111111111111111111111111111111");let Ice=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},n2=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};kce=n2;n2.default=new kce(0,0,Mt.default);let dYe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Js))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=Kn(Js.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ice(new Mt(r.staker),new Mt(r.withdrawer)),lockup:new n2(n.unixTimestamp,n.epoch,new Mt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Kn(Js.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=Kn(Js.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Mt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=Kn(Js.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Mt(s),newAuthorizedPubkey:new Mt(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Kn(Js.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(Js.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=Kn(Js.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(Js.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(l4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}};const Js=Object.freeze({Initialize:{index:0,layout:Se([xe("instruction"),dVe(),hVe()])},Authorize:{index:1,layout:Se([xe("instruction"),sn("newAuthorized"),xe("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([xe("instruction")])},Split:{index:3,layout:Se([xe("instruction"),er("lamports")])},Withdraw:{index:4,layout:Se([xe("instruction"),er("lamports")])},Deactivate:{index:5,layout:Se([xe("instruction")])},Merge:{index:7,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([xe("instruction"),sn("newAuthorized"),xe("stakeAuthorizationType"),I0("authoritySeed"),sn("authorityOwner")])}}),hYe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let l4=class{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||n2.default,o=Js.Initialize,a=wn(o,{authorized:{staker:Zr(n.staker.toBuffer()),withdrawer:Zr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Zr(s.custodian.toBuffer())}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Mm,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ai(u)}static createAccountWithSeed(e){const r=new ri;r.add(To.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new ri;r.add(To.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=Js.Delegate,o=wn(s);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:v3,isSigner:!1,isWritable:!1},{pubkey:Tce,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Js.Authorize,u=wn(a,{newAuthorized:Zr(i.toBuffer()),stakeAuthorizationType:s.index}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:tl,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new ri().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:u}=e,f=Js.AuthorizeWithSeed,d=wn(f,{newAuthorized:Zr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Zr(s.toBuffer())}),g=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:tl,isSigner:!1,isWritable:!1}];return u&&g.push({pubkey:u,isSigner:!0,isWritable:!1}),new ri().add({keys:g,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=Js.Split,a=wn(o,{lamports:s});return new ai({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new ri;return n.add(To.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:u}=e,f=new ri;return f.add(To.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&f.add(To.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),f.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Js.Merge,o=wn(s);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:v3,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Js.Withdraw,u=wn(a,{lamports:s}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:v3,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new ri().add({keys:f,programId:this.programId,data:u})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=Js.Deactivate,s=wn(i);return new ri().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};l4.programId=new Mt("Stake11111111111111111111111111111111111111");l4.space=200;let Rce=class{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}},pYe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(gf))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=Kn(gf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Rce(new Mt(r.nodePubkey),new Mt(r.authorizedVoter),new Mt(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=Kn(gf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Mt(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=Kn(gf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Mt(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Mt(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=Kn(gf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(f4.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}};const gf=Object.freeze({InitializeAccount:{index:0,layout:Se([xe("instruction"),pVe()])},Authorize:{index:1,layout:Se([xe("instruction"),sn("newAuthorized"),xe("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([xe("instruction"),er("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([xe("instruction"),gVe()])}}),gYe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let f4=class Mce{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=gf.InitializeAccount,o=wn(s,{voteInit:{nodePubkey:Zr(i.nodePubkey.toBuffer()),authorizedVoter:Zr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Zr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Mm,isSigner:!1,isWritable:!1},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ai(a)}static createAccount(e){const r=new ri;return r.add(To.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=gf.Authorize,a=wn(o,{newAuthorized:Zr(i.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:u,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,u=gf.AuthorizeWithSeed,f=wn(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Zr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Zr(s.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:tl,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ri().add({keys:d,programId:this.programId,data:f})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=gf.Withdraw,a=wn(o,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:u,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Mce.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=gf.UpdateValidatorIdentity,o=wn(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new ri().add({keys:a,programId:this.programId,data:o})}};f4.programId=new Mt("Vote111111111111111111111111111111111111111");f4.space=3762;const Cce=new Mt("Va1idator1nfo111111111111111111111111111111"),mYe=Et({name:Pt(),website:mr(Pt()),details:mr(Pt()),iconUrl:mr(Pt()),keybaseUsername:mr(Pt())});let yYe=class Pce{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(ja(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Mt(Ha(r,0,Cf)),a=hf(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(Cce)&&i[1].isSigner){const s=I0().decode(Pe.Buffer.from(r)),o=JSON.parse(s);return Gue(o,mYe),new Pce(i[1].publicKey,o)}return null}};const bYe=new Mt("Vote111111111111111111111111111111111111111"),vYe=Se([sn("nodePubkey"),sn("authorizedWithdrawer"),st("commission"),Bt(),Vt(Se([Bt("slot"),xe("confirmationCount")]),En(xe(),-8),"votes"),st("rootSlotValid"),Bt("rootSlot"),Bt(),Vt(Se([Bt("epoch"),sn("authorizedVoter")]),En(xe(),-8),"authorizedVoters"),Se([Vt(Se([sn("authorizedPubkey"),Bt("epochOfLastAuthorizedSwitch"),Bt("targetEpoch")]),32,"buf"),Bt("idx"),st("isEmpty")],"priorVoters"),Bt(),Vt(Se([Bt("epoch"),Bt("credits"),Bt("prevCredits")]),En(xe(),-8),"epochCredits"),Se([Bt("slot"),Bt("timestamp")],"lastTimestamp")]);let wYe=class Nce{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=vYe.decode(Zr(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new Nce({nodePubkey:new Mt(n.nodePubkey),authorizedWithdrawer:new Mt(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(SYe),priorVoters:_Ye(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function SYe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Mt(t)}}function oX({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new Mt(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function _Ye({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(oX),...t.slice(0,e).map(oX)]}const aX={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function AYe(t,e){const r=e===!1?"http":"https";if(!t)return aX[r].devnet;const n=aX[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function xYe(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),u=s&&s.commitment,d=(await(i?t.confirmTransaction(i,u):t.confirmTransaction(a,u))).value;if(d.err)throw a!=null?new pg({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const EYe=1e9,kYe=Object.freeze(Object.defineProperty({__proto__:null,Account:cVe,AddressLookupTableAccount:cL,AddressLookupTableInstruction:aYe,AddressLookupTableProgram:gF,Authorized:Ice,BLOCKHASH_CACHE_TIMEOUT_MS:dce,BPF_LOADER_DEPRECATED_PROGRAM_ID:lVe,BPF_LOADER_PROGRAM_ID:PVe,BpfLoader:NVe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:pf,ComputeBudgetInstruction:uYe,ComputeBudgetProgram:mF,Connection:oYe,Ed25519Program:Ace,Enum:aVe,EpochSchedule:lce,FeeCalculatorLayout:oce,Keypair:_ce,LAMPORTS_PER_SOL:EYe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:oh,Loader:WT,Lockup:n2,MAX_SEED_LENGTH:Que,Message:hg,MessageAccountKeys:VA,MessageV0:a4,NONCE_ACCOUNT_LENGTH:oL,NonceAccount:uce,PACKET_DATA_SIZE:sg,PUBLIC_KEY_LENGTH:Cf,PublicKey:Mt,SIGNATURE_LENGTH_IN_BYTES:qA,SOLANA_SCHEMA:iA,STAKE_CONFIG_ID:Tce,STAKE_INSTRUCTION_LAYOUTS:Js,SYSTEM_INSTRUCTION_LAYOUTS:wi,SYSVAR_CLOCK_PUBKEY:tl,SYSVAR_EPOCH_SCHEDULE_PUBKEY:_Ve,SYSVAR_INSTRUCTIONS_PUBKEY:AVe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:b3,SYSVAR_RENT_PUBKEY:Mm,SYSVAR_REWARDS_PUBKEY:xVe,SYSVAR_SLOT_HASHES_PUBKEY:EVe,SYSVAR_SLOT_HISTORY_PUBKEY:kVe,SYSVAR_STAKE_HISTORY_PUBKEY:v3,Secp256k1Program:Ece,SendTransactionError:pg,SolanaJSONRPCError:ir,SolanaJSONRPCErrorCode:TVe,StakeAuthorizationLayout:hYe,StakeInstruction:dYe,StakeProgram:l4,Struct:uF,SystemInstruction:MVe,SystemProgram:To,Transaction:ri,TransactionExpiredBlockheightExceededError:cF,TransactionExpiredNonceInvalidError:tb,TransactionExpiredTimeoutError:lF,TransactionInstruction:ai,TransactionMessage:yVe,TransactionStatus:Rd,VALIDATOR_INFO_KEY:Cce,VERSION_PREFIX_MASK:o4,VOTE_PROGRAM_ID:bYe,ValidatorInfo:yYe,VersionedMessage:fF,VersionedTransaction:bVe,VoteAccount:wYe,VoteAuthorizationLayout:gYe,VoteInit:Rce,VoteInstruction:pYe,VoteProgram:f4,clusterApiUrl:AYe,sendAndConfirmRawTransaction:xYe,sendAndConfirmTransaction:sL},Symbol.toStringTag,{value:"Module"}));var yF={exports:{}};const TYe=/[\p{Lu}]/u,IYe=/[\p{Ll}]/u,uX=/^[\p{Lu}](?![\p{Lu}])/gu,Bce=/([\p{Alpha}\p{N}_]|$)/u,Oce=/[_.\- ]+/,RYe=new RegExp("^"+Oce.source),cX=new RegExp(Oce.source+Bce.source,"gu"),lX=new RegExp("\\d+"+Bce.source,"gu"),MYe=(t,e,r)=>{let n=!1,i=!1,s=!1;for(let o=0;o<t.length;o++){const a=t[o];n&&TYe.test(a)?(t=t.slice(0,o)+"-"+t.slice(o),n=!1,s=i,i=!0,o++):i&&s&&IYe.test(a)?(t=t.slice(0,o-1)+"-"+t.slice(o-1),s=i,i=!1,n=!0):(n=e(a)===a&&r(a)!==a,s=i,i=r(a)===a&&e(a)!==a)}return t},CYe=(t,e)=>(uX.lastIndex=0,t.replace(uX,r=>e(r))),PYe=(t,e)=>(cX.lastIndex=0,lX.lastIndex=0,t.replace(cX,(r,n)=>e(n)).replace(lX,r=>e(r))),Lce=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(s=>s.trim()).filter(s=>s.length).join("-"):t=t.trim(),t.length===0)return"";const r=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),n=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=MYe(t,r,n)),t=t.replace(RYe,""),e.preserveConsecutiveUppercase?t=CYe(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),PYe(t,n))};yF.exports=Lce;yF.exports.default=Lce;var NYe=yF.exports;const Fi=ea(NYe);var Dr={},qt={};let si=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};qt.Layout=si;function bF(t,e){return e.property?t+"["+e.property+"]":t}qt.nameWithProperty=bF;function BYe(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof si))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}qt.bindConstructorLayout=BYe;let Za=class extends si{isCount(){throw new Error("ExternalLayout is abstract")}};class Dce extends Za{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}let vF=class extends Za{constructor(e,r,n){if(!(e instanceof si))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof ed||this.layout instanceof Wh}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}},ed=class extends si{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}},Wh=class extends si{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}};class ay extends si{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}}class zw extends si{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}}const hL=Math.pow(2,32);function d4(t){const e=Math.floor(t/hL),r=t-e*hL;return{hi32:e,lo32:r}}function h4(t,e){return t*hL+e}let OYe=class extends si{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return h4(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=d4(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}};class LYe extends si{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32BE(r),i=e.readUInt32BE(r+4);return h4(n,i)}encode(e,r,n){n===void 0&&(n=0);const i=d4(e);return r.writeUInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}let DYe=class extends si{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return h4(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=d4(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}};class FYe extends si{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readInt32BE(r),i=e.readUInt32BE(r+4);return h4(n,i)}encode(e,r,n){n===void 0&&(n=0);const i=d4(e);return r.writeInt32BE(i.hi32,n),r.writeUInt32BE(i.lo32,n+4),8}}class Fce extends si{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}}class $ce extends si{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}}class Uce extends si{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}}class zce extends si{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}}class Wce extends si{constructor(e,r,n){if(!(e instanceof si))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Za&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Za)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,i=this.count;if(i instanceof Za&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r){r===void 0&&(r=0);const n=[];let i=0,s=this.count;for(s instanceof Za&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n){n===void 0&&(n=0);const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof Za&&this.count.encode(e.length,r,n),s}}let Kce=class extends si{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof si,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const i=n;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,r,n),0>u&&(u=a.getSpan(r,n)))}s=n,n+=u}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}},wF=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},jT=class extends wF{constructor(e,r){if(!(e instanceof Za&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}},SF=class extends si{constructor(e,r,n){const i=e instanceof ed||e instanceof Wh;if(i)e=new jT(new vF(e));else if(e instanceof Za&&e.isCount())e=new jT(e);else if(!(e instanceof wF))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof si))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const i=this.discriminator,s=i.decode(e,r);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[o.property]=this.defaultLayout.decode(e,r+a)}else n=o.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new jce(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Ie.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}},jce=class extends si{constructor(e,r,n,i){if(!(e instanceof SF))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof si))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function b1(t){return 0>t&&(t+=4294967296),t}class _F extends si{constructor(e,r,n){if(!(e instanceof ed||e instanceof Wh))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=b1(s),this},this._packedGetValue=function(){return i}}decode(e,r){const n=this.makeDestinationObject();r===void 0&&(r=0);const i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(i));return n}encode(e,r,n){n===void 0&&(n=0);const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new sA(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Hce(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}class sA{constructor(e,r,n){if(!(e instanceof _F))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=b1(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return b1(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==b1(e&this.valueMask))throw new TypeError(bF("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=b1(e<<this.start);this.container._packedSetValue(b1(r&~this.wordMask)|n)}}let Hce=class extends sA{constructor(e,r){super(e,1,r)}decode(e,r){return!!sA.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),sA.prototype.encode.call(this,e)}},qce=class extends si{constructor(e,r){if(!(e instanceof Za&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Za||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Za&&(i=e.length),!(Ie.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(bF("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Za&&this.length.encode(i,r,n),i}};class Vce extends si{constructor(e){super(-1,e)}getSpan(e,r){if(!Ie.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);return e.slice(r,r+i-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new Ie.Buffer(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),r[n+s]=0,s+1}}class Gce extends si{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!Ie.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let i=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+i).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new Ie.Buffer(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(r,n),s}}class Yce extends si{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}}qt.ExternalLayout=Za;qt.GreedyCount=Dce;qt.OffsetLayout=vF;qt.UInt=ed;qt.UIntBE=Wh;qt.Int=ay;qt.IntBE=zw;qt.Float=Fce;qt.FloatBE=$ce;qt.Double=Uce;qt.DoubleBE=zce;qt.Sequence=Wce;qt.Structure=Kce;qt.UnionDiscriminator=wF;qt.UnionLayoutDiscriminator=jT;qt.Union=SF;qt.VariantLayout=jce;qt.BitStructure=_F;qt.BitField=sA;qt.Boolean=Hce;qt.Blob=qce;qt.CString=Vce;qt.UTF8=Gce;qt.Constant=Yce;qt.greedy=(t,e)=>new Dce(t,e);qt.offset=(t,e,r)=>new vF(t,e,r);qt.u8=t=>new ed(1,t);qt.u16=t=>new ed(2,t);qt.u24=t=>new ed(3,t);qt.u32=t=>new ed(4,t);qt.u40=t=>new ed(5,t);qt.u48=t=>new ed(6,t);qt.nu64=t=>new OYe(t);qt.u16be=t=>new Wh(2,t);qt.u24be=t=>new Wh(3,t);qt.u32be=t=>new Wh(4,t);qt.u40be=t=>new Wh(5,t);qt.u48be=t=>new Wh(6,t);qt.nu64be=t=>new LYe(t);qt.s8=t=>new ay(1,t);qt.s16=t=>new ay(2,t);qt.s24=t=>new ay(3,t);qt.s32=t=>new ay(4,t);qt.s40=t=>new ay(5,t);qt.s48=t=>new ay(6,t);qt.ns64=t=>new DYe(t);qt.s16be=t=>new zw(2,t);qt.s24be=t=>new zw(3,t);qt.s32be=t=>new zw(4,t);qt.s40be=t=>new zw(5,t);qt.s48be=t=>new zw(6,t);qt.ns64be=t=>new FYe(t);qt.f32=t=>new Fce(t);qt.f32be=t=>new $ce(t);qt.f64=t=>new Uce(t);qt.f64be=t=>new zce(t);qt.struct=(t,e,r)=>new Kce(t,e,r);qt.bits=(t,e,r)=>new _F(t,e,r);qt.seq=(t,e,r)=>new Wce(t,e,r);qt.union=(t,e,r)=>new SF(t,e,r);qt.unionLayoutDiscriminator=(t,e)=>new jT(t,e);qt.blob=(t,e)=>new qce(t,e);qt.cstr=t=>new Vce(t);qt.utf8=(t,e)=>new Gce(t,e);qt.const=(t,e)=>new Yce(t,e);const $Ye=Ox(kYe);(function(t){var e=Lt&&Lt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const r=qt,n=$Ye,i=e(Jm);var s=qt;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends r.Layout{constructor(h,p,m){super(h,m),this.blob=(0,r.blob)(h),this.signed=p}decode(h,p=0){const m=new i.default(this.blob.decode(h,p),10,"le");return this.signed?m.fromTwos(this.span*8).clone():m}encode(h,p,m=0){return this.signed&&(h=h.toTwos(this.span*8)),this.blob.encode(h.toArrayLike(Ie.Buffer,"le",this.span),p,m)}}function a(c){return new o(8,!1,c)}t.u64=a;function u(c){return new o(8,!0,c)}t.i64=u;function f(c){return new o(16,!1,c)}t.u128=f;function d(c){return new o(16,!0,c)}t.i128=d;function g(c){return new o(32,!1,c)}t.u256=g;function y(c){return new o(32,!0,c)}t.i256=y;class b extends r.Layout{constructor(h,p,m,v){super(h.span,v),this.layout=h,this.decoder=p,this.encoder=m}decode(h,p){return this.decoder(this.layout.decode(h,p))}encode(h,p,m){return this.layout.encode(this.encoder(h),p,m)}getSpan(h,p){return this.layout.getSpan(h,p)}}function A(c){return new b((0,r.blob)(32),h=>new n.PublicKey(h),h=>h.toBuffer(),c)}t.publicKey=A;class x extends r.Layout{constructor(h,p){super(-1,p),this.layout=h,this.discriminator=(0,r.u8)()}encode(h,p,m=0){return h==null?this.discriminator.encode(0,p,m):(this.discriminator.encode(1,p,m),this.layout.encode(h,p,m+1)+1)}decode(h,p=0){const m=this.discriminator.decode(h,p);if(m===0)return null;if(m===1)return this.layout.decode(h,p+1);throw new Error("Invalid option "+this.property)}getSpan(h,p=0){const m=this.discriminator.decode(h,p);if(m===0)return 1;if(m===1)return this.layout.getSpan(h,p+1)+1;throw new Error("Invalid option "+this.property)}}function k(c,h){return new x(c,h)}t.option=k;function R(c){return new b((0,r.u8)(),C,P,c)}t.bool=R;function C(c){if(c===0)return!1;if(c===1)return!0;throw new Error("Invalid bool: "+c)}function P(c){return c?1:0}function O(c,h){const p=(0,r.u32)("length"),m=(0,r.struct)([p,(0,r.seq)(c,(0,r.offset)(p,-p.span),"values")]);return new b(m,({values:v})=>v,v=>({values:v}),h)}t.vec=O;function q(c,h,p){const m=(0,r.struct)([a("tag"),h.replicate("data")]);function v({tag:_,data:T}){if(!_.eq(c))throw new Error("Invalid tag, expected: "+c.toString("hex")+", got: "+_.toString("hex"));return T}return new b(m,v,_=>({tag:c,data:_}),p)}t.tagged=q;function Q(c){const h=(0,r.u32)("length"),p=(0,r.struct)([h,(0,r.blob)((0,r.offset)(h,-h.span),"data")]);return new b(p,({data:m})=>m,m=>({data:m}),c)}t.vecU8=Q;function Y(c){return new b(Q(),h=>h.toString("utf-8"),h=>Ie.Buffer.from(h,"utf-8"),c)}t.str=Y;function X(c,h,p){const m=(0,r.union)(p??(0,r.u8)(),h);return c.forEach((v,_)=>m.addVariant(_,v,v.property)),m}t.rustEnum=X;function Z(c,h,p){const m=(0,r.struct)([(0,r.seq)(c,h,"values")]);return new b(m,({values:v})=>v,v=>({values:v}),p)}t.array=Z;class le extends r.Layout{constructor(h,p,m){super(h.span+p.span,m),this.keyLayout=h,this.valueLayout=p}decode(h,p){p=p||0;const m=this.keyLayout.decode(h,p),v=this.valueLayout.decode(h,p+this.keyLayout.getSpan(h,p));return[m,v]}encode(h,p,m){m=m||0;const v=this.keyLayout.encode(h[0],p,m),_=this.valueLayout.encode(h[1],p,m+v);return v+_}getSpan(h,p){return this.keyLayout.getSpan(h,p)+this.valueLayout.getSpan(h,p)}}function I(c,h,p){const m=(0,r.u32)("length"),v=(0,r.struct)([m,(0,r.seq)(new le(c,h),(0,r.offset)(m,-m.span),"values")]);return new b(v,({values:_})=>new Map(_),_=>({values:Array.from(_.entries())}),p)}t.map=I})(Dr);function Ww(t){let e=t.length;for(;--e>=0;)t[e]=0}const UYe=3,zYe=258,Zce=29,WYe=256,KYe=WYe+1+Zce,Xce=30,jYe=512,HYe=new Array((KYe+2)*2);Ww(HYe);const qYe=new Array(Xce*2);Ww(qYe);const VYe=new Array(jYe);Ww(VYe);const GYe=new Array(zYe-UYe+1);Ww(GYe);const YYe=new Array(Zce);Ww(YYe);const ZYe=new Array(Xce);Ww(ZYe);const XYe=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var pL=XYe;const QYe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},JYe=new Uint32Array(QYe()),eZe=(t,e,r,n)=>{const i=JYe,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Hl=eZe,gL={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qce={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const tZe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var rZe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)tZe(r,n)&&(t[n]=r[n])}}return t},nZe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},Jce={assign:rZe,flattenChunks:nZe};let ele=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ele=!1}const YA=new Uint8Array(256);for(let t=0;t<256;t++)YA[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;YA[254]=YA[254]=1;var iZe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const sZe=(t,e)=>{if(e<65534&&t.subarray&&ele)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var oZe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=YA[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return sZe(s,i)},aZe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+YA[t[r]]>e?r:e},mL={string2buf:iZe,buf2string:oZe,utf8border:aZe};function uZe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cZe=uZe;const yk=16209,lZe=16191;var fZe=function(e,r){let n,i,s,o,a,u,f,d,g,y,b,A,x,k,R,C,P,O,q,Q,Y,X,Z,le;const I=e.state;n=e.next_in,Z=e.input,i=n+(e.avail_in-5),s=e.next_out,le=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),u=I.dmax,f=I.wsize,d=I.whave,g=I.wnext,y=I.window,b=I.hold,A=I.bits,x=I.lencode,k=I.distcode,R=(1<<I.lenbits)-1,C=(1<<I.distbits)-1;e:do{A<15&&(b+=Z[n++]<<A,A+=8,b+=Z[n++]<<A,A+=8),P=x[b&R];t:for(;;){if(O=P>>>24,b>>>=O,A-=O,O=P>>>16&255,O===0)le[s++]=P&65535;else if(O&16){q=P&65535,O&=15,O&&(A<O&&(b+=Z[n++]<<A,A+=8),q+=b&(1<<O)-1,b>>>=O,A-=O),A<15&&(b+=Z[n++]<<A,A+=8,b+=Z[n++]<<A,A+=8),P=k[b&C];r:for(;;){if(O=P>>>24,b>>>=O,A-=O,O=P>>>16&255,O&16){if(Q=P&65535,O&=15,A<O&&(b+=Z[n++]<<A,A+=8,A<O&&(b+=Z[n++]<<A,A+=8)),Q+=b&(1<<O)-1,Q>u){e.msg="invalid distance too far back",I.mode=yk;break e}if(b>>>=O,A-=O,O=s-o,Q>O){if(O=Q-O,O>d&&I.sane){e.msg="invalid distance too far back",I.mode=yk;break e}if(Y=0,X=y,g===0){if(Y+=f-O,O<q){q-=O;do le[s++]=y[Y++];while(--O);Y=s-Q,X=le}}else if(g<O){if(Y+=f+g-O,O-=g,O<q){q-=O;do le[s++]=y[Y++];while(--O);if(Y=0,g<q){O=g,q-=O;do le[s++]=y[Y++];while(--O);Y=s-Q,X=le}}}else if(Y+=g-O,O<q){q-=O;do le[s++]=y[Y++];while(--O);Y=s-Q,X=le}for(;q>2;)le[s++]=X[Y++],le[s++]=X[Y++],le[s++]=X[Y++],q-=3;q&&(le[s++]=X[Y++],q>1&&(le[s++]=X[Y++]))}else{Y=s-Q;do le[s++]=le[Y++],le[s++]=le[Y++],le[s++]=le[Y++],q-=3;while(q>2);q&&(le[s++]=le[Y++],q>1&&(le[s++]=le[Y++]))}}else if(O&64){e.msg="invalid distance code",I.mode=yk;break e}else{P=k[(P&65535)+(b&(1<<O)-1)];continue r}break}}else if(O&64)if(O&32){I.mode=lZe;break e}else{e.msg="invalid literal/length code",I.mode=yk;break e}else{P=x[(P&65535)+(b&(1<<O)-1)];continue t}break}}while(n<i&&s<a);q=A>>3,n-=q,A-=q<<3,b&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),I.hold=b,I.bits=A};const Gy=15,fX=852,dX=592,hX=0,tN=1,pX=2,dZe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hZe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pZe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gZe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mZe=(t,e,r,n,i,s,o,a)=>{const u=a.bits;let f=0,d=0,g=0,y=0,b=0,A=0,x=0,k=0,R=0,C=0,P,O,q,Q,Y,X=null,Z;const le=new Uint16Array(Gy+1),I=new Uint16Array(Gy+1);let c=null,h,p,m;for(f=0;f<=Gy;f++)le[f]=0;for(d=0;d<n;d++)le[e[r+d]]++;for(b=u,y=Gy;y>=1&&le[y]===0;y--);if(b>y&&(b=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<y&&le[g]===0;g++);for(b<g&&(b=g),k=1,f=1;f<=Gy;f++)if(k<<=1,k-=le[f],k<0)return-1;if(k>0&&(t===hX||y!==1))return-1;for(I[1]=0,f=1;f<Gy;f++)I[f+1]=I[f]+le[f];for(d=0;d<n;d++)e[r+d]!==0&&(o[I[e[r+d]]++]=d);if(t===hX?(X=c=o,Z=20):t===tN?(X=dZe,c=hZe,Z=257):(X=pZe,c=gZe,Z=0),C=0,d=0,f=g,Y=s,A=b,x=0,q=-1,R=1<<b,Q=R-1,t===tN&&R>fX||t===pX&&R>dX)return 1;for(;;){h=f-x,o[d]+1<Z?(p=0,m=o[d]):o[d]>=Z?(p=c[o[d]-Z],m=X[o[d]-Z]):(p=96,m=0),P=1<<f-x,O=1<<A,g=O;do O-=P,i[Y+(C>>x)+O]=h<<24|p<<16|m|0;while(O!==0);for(P=1<<f-1;C&P;)P>>=1;if(P!==0?(C&=P-1,C+=P):C=0,d++,--le[f]===0){if(f===y)break;f=e[r+o[d]]}if(f>b&&(C&Q)!==q){for(x===0&&(x=b),Y+=g,A=f-x,k=1<<A;A+x<y&&(k-=le[A+x],!(k<=0));)A++,k<<=1;if(R+=1<<A,t===tN&&R>fX||t===pX&&R>dX)return 1;q=C&Q,i[q]=b<<24|A<<16|Y-s|0}}return C!==0&&(i[Y+C]=f-x<<24|64<<16|0),a.bits=b,0};var oA=mZe;const yZe=0,tle=1,rle=2,{Z_FINISH:gX,Z_BLOCK:bZe,Z_TREES:bk,Z_OK:Cm,Z_STREAM_END:vZe,Z_NEED_DICT:wZe,Z_STREAM_ERROR:Ac,Z_DATA_ERROR:nle,Z_MEM_ERROR:ile,Z_BUF_ERROR:SZe,Z_DEFLATED:mX}=Qce,p4=16180,yX=16181,bX=16182,vX=16183,wX=16184,SX=16185,_X=16186,AX=16187,xX=16188,EX=16189,HT=16190,wd=16191,rN=16192,kX=16193,nN=16194,TX=16195,IX=16196,RX=16197,MX=16198,vk=16199,wk=16200,CX=16201,PX=16202,NX=16203,BX=16204,OX=16205,iN=16206,LX=16207,DX=16208,Di=16209,sle=16210,ole=16211,_Ze=852,AZe=592,xZe=15,EZe=xZe,FX=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function kZe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uy=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<p4||e.mode>ole?1:0},ale=t=>{if(uy(t))return Ac;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=p4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_Ze),e.distcode=e.distdyn=new Int32Array(AZe),e.sane=1,e.back=-1,Cm},ule=t=>{if(uy(t))return Ac;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ale(t)},cle=(t,e)=>{let r;if(uy(t))return Ac;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ac:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ule(t))},lle=(t,e)=>{if(!t)return Ac;const r=new kZe;t.state=r,r.strm=t,r.window=null,r.mode=p4;const n=cle(t,e);return n!==Cm&&(t.state=null),n},TZe=t=>lle(t,EZe);let $X=!0,sN,oN;const IZe=t=>{if($X){sN=new Int32Array(512),oN=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(oA(tle,t.lens,0,288,sN,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;oA(rle,t.lens,0,32,oN,0,t.work,{bits:5}),$X=!1}t.lencode=sN,t.lenbits=9,t.distcode=oN,t.distbits=5},fle=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},RZe=(t,e)=>{let r,n,i,s,o,a,u,f,d,g,y,b,A,x,k=0,R,C,P,O,q,Q,Y,X;const Z=new Uint8Array(4);let le,I;const c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uy(t)||!t.output||!t.input&&t.avail_in!==0)return Ac;r=t.state,r.mode===wd&&(r.mode=rN),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,f=r.hold,d=r.bits,g=a,y=u,X=Cm;e:for(;;)switch(r.mode){case p4:if(r.wrap===0){r.mode=rN;break}for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,Z[0]=f&255,Z[1]=f>>>8&255,r.check=Hl(r.check,Z,2,0),f=0,d=0,r.mode=yX;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Di;break}if((f&15)!==mX){t.msg="unknown compression method",r.mode=Di;break}if(f>>>=4,d-=4,Y=(f&15)+8,r.wbits===0&&(r.wbits=Y),Y>15||Y>r.wbits){t.msg="invalid window size",r.mode=Di;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?EX:wd,f=0,d=0;break;case yX:for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.flags=f,(r.flags&255)!==mX){t.msg="unknown compression method",r.mode=Di;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Di;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(Z[0]=f&255,Z[1]=f>>>8&255,r.check=Hl(r.check,Z,2,0)),f=0,d=0,r.mode=bX;case bX:for(;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(Z[0]=f&255,Z[1]=f>>>8&255,Z[2]=f>>>16&255,Z[3]=f>>>24&255,r.check=Hl(r.check,Z,4,0)),f=0,d=0,r.mode=vX;case vX:for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(Z[0]=f&255,Z[1]=f>>>8&255,r.check=Hl(r.check,Z,2,0)),f=0,d=0,r.mode=wX;case wX:if(r.flags&1024){for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(Z[0]=f&255,Z[1]=f>>>8&255,r.check=Hl(r.check,Z,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=SX;case SX:if(r.flags&1024&&(b=r.length,b>a&&(b=a),b&&(r.head&&(Y=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+b),Y)),r.flags&512&&r.wrap&4&&(r.check=Hl(r.check,n,b,s)),a-=b,s+=b,r.length-=b),r.length))break e;r.length=0,r.mode=_X;case _X:if(r.flags&2048){if(a===0)break e;b=0;do Y=n[s+b++],r.head&&Y&&r.length<65536&&(r.head.name+=String.fromCharCode(Y));while(Y&&b<a);if(r.flags&512&&r.wrap&4&&(r.check=Hl(r.check,n,b,s)),a-=b,s+=b,Y)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=AX;case AX:if(r.flags&4096){if(a===0)break e;b=0;do Y=n[s+b++],r.head&&Y&&r.length<65536&&(r.head.comment+=String.fromCharCode(Y));while(Y&&b<a);if(r.flags&512&&r.wrap&4&&(r.check=Hl(r.check,n,b,s)),a-=b,s+=b,Y)break e}else r.head&&(r.head.comment=null);r.mode=xX;case xX:if(r.flags&512){for(;d<16;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Di;break}f=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=wd;break;case EX:for(;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}t.adler=r.check=FX(f),f=0,d=0,r.mode=HT;case HT:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=f,r.bits=d,wZe;t.adler=r.check=1,r.mode=wd;case wd:if(e===bZe||e===bk)break e;case rN:if(r.last){f>>>=d&7,d-=d&7,r.mode=iN;break}for(;d<3;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}switch(r.last=f&1,f>>>=1,d-=1,f&3){case 0:r.mode=kX;break;case 1:if(IZe(r),r.mode=vk,e===bk){f>>>=2,d-=2;break e}break;case 2:r.mode=IX;break;case 3:t.msg="invalid block type",r.mode=Di}f>>>=2,d-=2;break;case kX:for(f>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Di;break}if(r.length=f&65535,f=0,d=0,r.mode=nN,e===bk)break e;case nN:r.mode=TX;case TX:if(b=r.length,b){if(b>a&&(b=a),b>u&&(b=u),b===0)break e;i.set(n.subarray(s,s+b),o),a-=b,s+=b,u-=b,o+=b,r.length-=b;break}r.mode=wd;break;case IX:for(;d<14;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.nlen=(f&31)+257,f>>>=5,d-=5,r.ndist=(f&31)+1,f>>>=5,d-=5,r.ncode=(f&15)+4,f>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Di;break}r.have=0,r.mode=RX;case RX:for(;r.have<r.ncode;){for(;d<3;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.lens[c[r.have++]]=f&7,f>>>=3,d-=3}for(;r.have<19;)r.lens[c[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,le={bits:r.lenbits},X=oA(yZe,r.lens,0,19,r.lencode,0,r.work,le),r.lenbits=le.bits,X){t.msg="invalid code lengths set",r.mode=Di;break}r.have=0,r.mode=MX;case MX:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[f&(1<<r.lenbits)-1],R=k>>>24,C=k>>>16&255,P=k&65535,!(R<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(P<16)f>>>=R,d-=R,r.lens[r.have++]=P;else{if(P===16){for(I=R+2;d<I;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(f>>>=R,d-=R,r.have===0){t.msg="invalid bit length repeat",r.mode=Di;break}Y=r.lens[r.have-1],b=3+(f&3),f>>>=2,d-=2}else if(P===17){for(I=R+3;d<I;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=R,d-=R,Y=0,b=3+(f&7),f>>>=3,d-=3}else{for(I=R+7;d<I;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=R,d-=R,Y=0,b=11+(f&127),f>>>=7,d-=7}if(r.have+b>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Di;break}for(;b--;)r.lens[r.have++]=Y}}if(r.mode===Di)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Di;break}if(r.lenbits=9,le={bits:r.lenbits},X=oA(tle,r.lens,0,r.nlen,r.lencode,0,r.work,le),r.lenbits=le.bits,X){t.msg="invalid literal/lengths set",r.mode=Di;break}if(r.distbits=6,r.distcode=r.distdyn,le={bits:r.distbits},X=oA(rle,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,le),r.distbits=le.bits,X){t.msg="invalid distances set",r.mode=Di;break}if(r.mode=vk,e===bk)break e;case vk:r.mode=wk;case wk:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=f,r.bits=d,fZe(t,y),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,f=r.hold,d=r.bits,r.mode===wd&&(r.back=-1);break}for(r.back=0;k=r.lencode[f&(1<<r.lenbits)-1],R=k>>>24,C=k>>>16&255,P=k&65535,!(R<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(C&&!(C&240)){for(O=R,q=C,Q=P;k=r.lencode[Q+((f&(1<<O+q)-1)>>O)],R=k>>>24,C=k>>>16&255,P=k&65535,!(O+R<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=O,d-=O,r.back+=O}if(f>>>=R,d-=R,r.back+=R,r.length=P,C===0){r.mode=OX;break}if(C&32){r.back=-1,r.mode=wd;break}if(C&64){t.msg="invalid literal/length code",r.mode=Di;break}r.extra=C&15,r.mode=CX;case CX:if(r.extra){for(I=r.extra;d<I;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=PX;case PX:for(;k=r.distcode[f&(1<<r.distbits)-1],R=k>>>24,C=k>>>16&255,P=k&65535,!(R<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(!(C&240)){for(O=R,q=C,Q=P;k=r.distcode[Q+((f&(1<<O+q)-1)>>O)],R=k>>>24,C=k>>>16&255,P=k&65535,!(O+R<=d);){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}f>>>=O,d-=O,r.back+=O}if(f>>>=R,d-=R,r.back+=R,C&64){t.msg="invalid distance code",r.mode=Di;break}r.offset=P,r.extra=C&15,r.mode=NX;case NX:if(r.extra){for(I=r.extra;d<I;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Di;break}r.mode=BX;case BX:if(u===0)break e;if(b=y-u,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Di;break}b>r.wnext?(b-=r.wnext,A=r.wsize-b):A=r.wnext-b,b>r.length&&(b=r.length),x=r.window}else x=i,A=o-r.offset,b=r.length;b>u&&(b=u),u-=b,r.length-=b;do i[o++]=x[A++];while(--b);r.length===0&&(r.mode=wk);break;case OX:if(u===0)break e;i[o++]=r.length,u--,r.mode=wk;break;case iN:if(r.wrap){for(;d<32;){if(a===0)break e;a--,f|=n[s++]<<d,d+=8}if(y-=u,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Hl(r.check,i,y,o-y):pL(r.check,i,y,o-y)),y=u,r.wrap&4&&(r.flags?f:FX(f))!==r.check){t.msg="incorrect data check",r.mode=Di;break}f=0,d=0}r.mode=LX;case LX:if(r.wrap&&r.flags){for(;d<32;){if(a===0)break e;a--,f+=n[s++]<<d,d+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Di;break}f=0,d=0}r.mode=DX;case DX:X=vZe;break e;case Di:X=nle;break e;case sle:return ile;case ole:default:return Ac}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=f,r.bits=d,(r.wsize||y!==t.avail_out&&r.mode<Di&&(r.mode<iN||e!==gX))&&fle(t,t.output,t.next_out,y-t.avail_out),g-=t.avail_in,y-=t.avail_out,t.total_in+=g,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Hl(r.check,i,y,t.next_out-y):pL(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===wd?128:0)+(r.mode===vk||r.mode===nN?256:0),(g===0&&y===0||e===gX)&&X===Cm&&(X=SZe),X},MZe=t=>{if(uy(t))return Ac;let e=t.state;return e.window&&(e.window=null),t.state=null,Cm},CZe=(t,e)=>{if(uy(t))return Ac;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Cm):Ac},PZe=(t,e)=>{const r=e.length;let n,i,s;return uy(t)||(n=t.state,n.wrap!==0&&n.mode!==HT)?Ac:n.mode===HT&&(i=1,i=pL(i,e,r,0),i!==n.check)?nle:(s=fle(t,e,r,r),s?(n.mode=sle,ile):(n.havedict=1,Cm))};var NZe=ule,BZe=cle,OZe=ale,LZe=TZe,DZe=lle,FZe=RZe,$Ze=MZe,UZe=CZe,zZe=PZe,WZe="pako inflate (from Nodeca project)",Wd={inflateReset:NZe,inflateReset2:BZe,inflateResetKeep:OZe,inflateInit:LZe,inflateInit2:DZe,inflate:FZe,inflateEnd:$Ze,inflateGetHeader:UZe,inflateSetDictionary:zZe,inflateInfo:WZe};function KZe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var jZe=KZe;const dle=Object.prototype.toString,{Z_NO_FLUSH:HZe,Z_FINISH:qZe,Z_OK:ZA,Z_STREAM_END:aN,Z_NEED_DICT:uN,Z_STREAM_ERROR:VZe,Z_DATA_ERROR:UX,Z_MEM_ERROR:GZe}=Qce;function g4(t){this.options=Jce.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cZe,this.strm.avail_out=0;let r=Wd.inflateInit2(this.strm,e.windowBits);if(r!==ZA)throw new Error(gL[r]);if(this.header=new jZe,Wd.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=mL.string2buf(e.dictionary):dle.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Wd.inflateSetDictionary(this.strm,e.dictionary),r!==ZA)))throw new Error(gL[r])}g4.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?qZe:HZe,dle.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Wd.inflate(r,o),s===uN&&i&&(s=Wd.inflateSetDictionary(r,i),s===ZA?s=Wd.inflate(r,o):s===UX&&(s=uN));r.avail_in>0&&s===aN&&r.state.wrap>0&&t[r.next_in]!==0;)Wd.inflateReset(r),s=Wd.inflate(r,o);switch(s){case VZe:case UX:case uN:case GZe:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===aN))if(this.options.to==="string"){let u=mL.utf8border(r.output,r.next_out),f=r.next_out-u,d=mL.buf2string(r.output,u);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(u,u+f),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===ZA&&a===0)){if(s===aN)return s=Wd.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};g4.prototype.onData=function(t){this.chunks.push(t)};g4.prototype.onEnd=function(t){t===ZA&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jce.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function YZe(t,e){const r=new g4(e);if(r.push(t),r.err)throw r.msg||gL[r.err];return r.result}var ZZe=YZe,XZe={inflate:ZZe};const{inflate:QZe}=XZe;var JZe=QZe,hle={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,g,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var b=new i(d,g||u,y),A=r?r+f:f;return u._events[A]?u._events[A].fn?u._events[A]=[u._events[A],b]:u._events[A].push(b):(u._events[A]=b,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],d,g;if(this._eventsCount===0)return f;for(g in d=this._events)e.call(d,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},a.prototype.listeners=function(f){var d=r?r+f:f,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,A=new Array(b);y<b;y++)A[y]=g[y].fn;return A},a.prototype.listenerCount=function(f){var d=r?r+f:f,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(f,d,g,y,b,A){var x=r?r+f:f;if(!this._events[x])return!1;var k=this._events[x],R=arguments.length,C,P;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),R){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,g),!0;case 4:return k.fn.call(k.context,d,g,y),!0;case 5:return k.fn.call(k.context,d,g,y,b),!0;case 6:return k.fn.call(k.context,d,g,y,b,A),!0}for(P=1,C=new Array(R-1);P<R;P++)C[P-1]=arguments[P];k.fn.apply(k.context,C)}else{var O=k.length,q;for(P=0;P<O;P++)switch(k[P].once&&this.removeListener(f,k[P].fn,void 0,!0),R){case 1:k[P].fn.call(k[P].context);break;case 2:k[P].fn.call(k[P].context,d);break;case 3:k[P].fn.call(k[P].context,d,g);break;case 4:k[P].fn.call(k[P].context,d,g,y);break;default:if(!C)for(q=1,C=new Array(R-1);q<R;q++)C[q-1]=arguments[q];k[P].fn.apply(k[P].context,C)}}return!0},a.prototype.on=function(f,d,g){return s(this,f,d,g,!1)},a.prototype.once=function(f,d,g){return s(this,f,d,g,!0)},a.prototype.removeListener=function(f,d,g,y){var b=r?r+f:f;if(!this._events[b])return this;if(!d)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===d&&(!y||A.once)&&(!g||A.context===g)&&o(this,b);else{for(var x=0,k=[],R=A.length;x<R;x++)(A[x].fn!==d||y&&!A[x].once||g&&A[x].context!==g)&&k.push(A[x]);k.length?this._events[b]=k.length===1?k[0]:k:o(this,b)}return this},a.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(hle);var eXe=hle.exports;const tXe=ea(eXe);function rXe(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((r,n)=>t.slice(n*e,(n+1)*e))}const qS=t=>"version"in t;function nXe(t){return new TextDecoder("utf-8").decode(t)}function iXe(t){return new TextEncoder().encode(t)}function zX(t){return is.encode(t)}function WX(t){return t.toString("base64")}function ple(t){return Pe.Buffer.from(t,"base64")}function sXe(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let i=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,i)}),e}function oXe(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(i=>{r[i.name]=e[n],n+=1}),r}function gle(t,e={}){t.forEach(r=>{if("accounts"in r)gle(r.accounts,e[r.name]);else if(e[r.name]===void 0)throw new Error(`Invalid arguments: ${r.name} not provided.`)})}function yc(t){return t instanceof Mt?t:new Mt(t)}class aXe extends TypeError{constructor(e,r){let n;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var u;return(u=n)!=null?u:n=[e,...r()]}}}function uXe(t){return Pb(t)&&typeof t[Symbol.iterator]=="function"}function Pb(t){return typeof t=="object"&&t!=null}function gg(t){return typeof t=="string"?JSON.stringify(t):""+t}function cXe(t){const{done:e,value:r}=t.next();return e?void 0:r}function lXe(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+gg(n)+"`"}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*KX(t,e,r,n){uXe(t)||(t=[t]);for(const i of t){const s=lXe(i,e,r,n);s&&(yield s)}}function*AF(t,e,r){r===void 0&&(r={});const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Pb(e.schema)&&Pb(t)&&!Array.isArray(t)))for(const f in t)e.schema[f]===void 0&&delete t[f];let u=!0;for(const f of e.validator(t,a))u=!1,yield[f,void 0];for(let[f,d,g]of e.entries(t,a)){const y=AF(d,g,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,d],coerce:s,mask:o});for(const b of y)b[0]?(u=!1,yield[b[0],void 0]):s&&(d=b[1],f===void 0?t=d:t instanceof Map?t.set(f,d):t instanceof Set?t.add(d):Pb(t)&&(t[f]=d))}if(u)for(const f of e.refiner(t,a))u=!1,yield[f,void 0];u&&(yield[void 0,t])}let Cg=class{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,f)=>{const d=i(u,f);return KX(d,f,this,u)}:this.validator=()=>[],s?this.refiner=(u,f)=>{const d=s(u,f);return KX(d,f,this,u)}:this.refiner=()=>[]}assert(e){return fXe(e,this)}create(e){return xF(e,this)}is(e){return mle(e,this)}mask(e){return dXe(e,this)}validate(e,r){return r===void 0&&(r={}),i2(e,this,r)}};function fXe(t,e){const r=i2(t,e);if(r[0])throw r[0]}function xF(t,e){const r=i2(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function dXe(t,e){const r=i2(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function mle(t,e){return!i2(t,e)[0]}function i2(t,e,r){r===void 0&&(r={});const n=AF(t,e,r),i=cXe(n);return i[0]?[new aXe(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function s2(t,e){return new Cg({type:t,schema:null,validator:e})}function hXe(){return s2("any",()=>!0)}function cN(t){return new Cg({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+gg(e)}})}function pXe(){return s2("boolean",t=>typeof t=="boolean")}function jX(t){const e=gg(t);return new Cg({type:"literal",schema:t,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+gg(r)}})}function Sk(t){return new Cg({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function _3(){return s2("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+gg(t))}function A3(t){return new Cg({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function R0(){return s2("string",t=>typeof t=="string"||"Expected a string, but received: "+gg(t))}function og(t){const e=Object.keys(t);return new Cg({type:"type",schema:t,*entries(r){if(Pb(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Pb(r)||"Expected an object, but received: "+gg(r)}})}function yle(t){const e=t.map(r=>r.type).join(" | ");return new Cg({type:"union",schema:null,coercer(r,n){return(t.find(s=>{const[o]=s.validate(r,{coerce:!0});return!o})||EF()).coercer(r,n)},validator(r,n){const i=[];for(const s of t){const[...o]=AF(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+gg(r),...i]}})}function EF(){return s2("unknown",()=>!0)}function gXe(t,e,r){return new Cg({...t,coercer:(n,i)=>mle(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}const HX=99;async function mXe(t,e,r){if(e.length<=HX)return await qX(t,e,r);{const n=rXe(e,HX);return(await Promise.all(n.map(s=>qX(t,s,r)))).flat()}}async function qX(t,e,r){const n=r??t.commitment,{value:i,context:s}=await t.getMultipleAccountsInfoAndContext(e,n);return i.map((a,u)=>a===null?null:{publicKey:e[u],account:a,context:s})}async function yXe(t,e,r,n,i){var s;r&&r.length>0&&e.sign(...r);const o=e._compile(),a=o.serialize(),f=e._serialize(a).toString("base64"),d={encoding:"base64",commitment:n??t.commitment};if(i){const A=(Array.isArray(i)?i:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}r&&(d.sigVerify=!0);const g=[f,d],y=await t._rpcRequest("simulateTransaction",g),b=xF(y,SXe);if("error"in b){let A;if("data"in b.error&&(A=(s=b.error.data)===null||s===void 0?void 0:s.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new pg("failed to simulate transaction: "+b.error.message,A)}return b.result}function bXe(t){return gXe(ble(t),vXe,e=>"error"in e?e:{...e,result:xF(e.result,t)})}const vXe=ble(EF());function ble(t){return yle([og({jsonrpc:jX("2.0"),id:R0(),result:t}),og({jsonrpc:jX("2.0"),id:R0(),error:og({code:EF(),message:R0(),data:A3(hXe())})})])}function wXe(t){return bXe(og({context:og({slot:_3()}),value:t}))}const SXe=wXe(og({err:Sk(yle([og({}),R0()])),logs:Sk(cN(R0())),accounts:A3(Sk(cN(Sk(og({executable:pXe(),owner:R0(),lamports:_3(),data:cN(R0()),rentEpoch:A3(_3())}))))),unitsConsumed:A3(_3())}));class _Xe{constructor(e,r,n){this.connection=e,this.wallet=r,this.opts=n,this.publicKey=r==null?void 0:r.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var i,s,o,a;if(n===void 0&&(n=this.opts),qS(e))r&&e.sign(r);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,r)for(const f of r)e.partialSign(f);e=await this.wallet.signTransaction(e);const u=e.serialize();try{return await VX(this.connection,u,n)}catch(f){if(f instanceof yL){const d=zX(qS(e)?((s=e.signatures)===null||s===void 0?void 0:s[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),g=await this.connection.getTransaction(d,{commitment:"confirmed"});if(g){const y=(a=g.meta)===null||a===void 0?void 0:a.logMessages;throw y?new pg(f.message,y):f}else throw f}else throw f}}async sendAll(e,r){var n,i,s;r===void 0&&(r=this.opts);const o=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash;let a=e.map(d=>{var g,y;if(qS(d.tx)){let b=d.tx;return d.signers&&b.sign(d.signers),b}else{let b=d.tx,A=(g=d.signers)!==null&&g!==void 0?g:[];return b.feePayer=(y=b.feePayer)!==null&&y!==void 0?y:this.wallet.publicKey,b.recentBlockhash=o,A.forEach(x=>{b.partialSign(x)}),b}});const u=await this.wallet.signAllTransactions(a),f=[];for(let d=0;d<a.length;d+=1){const g=u[d],y=g.serialize();try{f.push(await VX(this.connection,y,r))}catch(b){if(b instanceof yL){const A=zX(qS(g)?((n=g.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(i=g.signature)!==null&&i!==void 0?i:new Uint8Array),x=await this.connection.getTransaction(A,{commitment:"confirmed"});if(x){const k=(s=x.meta)===null||s===void 0?void 0:s.logMessages;throw k?new pg(b.message,k):b}else throw b}else throw b}}return f}async simulate(e,r,n,i){let s=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,o;if(qS(e)?(r&&(e.sign(r),e=await this.wallet.signTransaction(e)),o=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,r&&(e=await this.wallet.signTransaction(e)),o=await yXe(this.connection,e,r,n,i)),o.value.err)throw new AXe(o.value);return o.value}}class AXe extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function VX(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),s=(await t.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new yL(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class yL extends Error{constructor(e){super(e)}}function bL(){return _Xe.local()}const xXe=new Map;function vle(t){return xXe.get(t)!==void 0}class qT extends Error{constructor(e){super(e),this.name="IdlError"}}class o2{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,s=[];for(let o=0;o<e.length;o++){if(i.exec(e[o])){s.pop();continue}const a=(r=n.exec(e[o]))===null||r===void 0?void 0:r[1];a&&s.push(new Mt(a))}return new o2(s)}}class aA extends Error{constructor(e,r,n,i,s,o){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:e,errorMessage:r,comparedValues:o,origin:s},this._programErrorStack=o2.parse(i)}static parse(e){if(!e)return null;const r=e.findIndex(y=>y.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],i=[n];let s;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const y=/^Program log: (.*)$/,b=y.exec(e[r+2])[1],A=y.exec(e[r+4])[1];s=[new Mt(b),new Mt(A)],i.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const y=/^Program log: (Left|Right): (.*)$/,b=y.exec(e[r+1])[2],A=y.exec(e[r+2])[2];i.push(...e.slice(r+1,r+3)),s=[b,A]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),f=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),g=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[y,b,A]=a.slice(1,4),x={code:y,number:parseInt(b)};return new aA(x,A,i,e,void 0,s)}else if(f){const[y,b,A,x,k]=f.slice(1,6),R={code:A,number:parseInt(x)},C={file:y,line:parseInt(b)};return new aA(R,k,i,e,C,s)}else if(g){const[y,b,A,x]=g.slice(1,5),k=y,R={code:b,number:parseInt(A)};return new aA(R,x,i,e,k,s)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class VT extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=o2.parse(n))}static parse(e,r){const n=e.toString();let i;if(n.includes("custom program error:")){let a=n.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=n.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let s;try{s=parseInt(i)}catch{return null}let o=r.get(s);return o!==void 0?new VT(s,o,e.logs):(o=EXe.get(s),o!==void 0?new VT(s,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function wle(t,e){vle("debug-logs")&&console.log("Translating error:",t);const r=aA.parse(t.logs);if(r)return r;const n=VT.parse(t,e);if(n)return n;if(t.logs){const i={get:function(s,o){return o==="programErrorStack"?s.programErrorStack.stack:o==="program"?s.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=o2.parse(t.logs),new Proxy(t,i)}return t}const fr={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,DeclaredProgramIdMismatch:4100,Deprecated:5e3},EXe=new Map([[fr.InstructionMissing,"8 byte instruction identifier not provided"],[fr.InstructionFallbackNotFound,"Fallback functions are not supported"],[fr.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[fr.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[fr.IdlInstructionStub,"The program was compiled without idl instructions"],[fr.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[fr.ConstraintMut,"A mut constraint was violated"],[fr.ConstraintHasOne,"A has one constraint was violated"],[fr.ConstraintSigner,"A signer constraint was violated"],[fr.ConstraintRaw,"A raw constraint was violated"],[fr.ConstraintOwner,"An owner constraint was violated"],[fr.ConstraintRentExempt,"A rent exemption constraint was violated"],[fr.ConstraintSeeds,"A seeds constraint was violated"],[fr.ConstraintExecutable,"An executable constraint was violated"],[fr.ConstraintState,"Deprecated Error, feel free to replace with something else"],[fr.ConstraintAssociated,"An associated constraint was violated"],[fr.ConstraintAssociatedInit,"An associated init constraint was violated"],[fr.ConstraintClose,"A close constraint was violated"],[fr.ConstraintAddress,"An address constraint was violated"],[fr.ConstraintZero,"Expected zero account discriminant"],[fr.ConstraintTokenMint,"A token mint constraint was violated"],[fr.ConstraintTokenOwner,"A token owner constraint was violated"],[fr.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[fr.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[fr.ConstraintMintDecimals,"A mint decimals constraint was violated"],[fr.ConstraintSpace,"A space constraint was violated"],[fr.ConstraintAccountIsNone,"A required account for the constraint is None"],[fr.RequireViolated,"A require expression was violated"],[fr.RequireEqViolated,"A require_eq expression was violated"],[fr.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[fr.RequireNeqViolated,"A require_neq expression was violated"],[fr.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[fr.RequireGtViolated,"A require_gt expression was violated"],[fr.RequireGteViolated,"A require_gte expression was violated"],[fr.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[fr.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[fr.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[fr.AccountDidNotDeserialize,"Failed to deserialize the account"],[fr.AccountDidNotSerialize,"Failed to serialize the account"],[fr.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[fr.AccountNotMutable,"The given account is not mutable"],[fr.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[fr.InvalidProgramId,"Program ID was not as expected"],[fr.InvalidProgramExecutable,"Program account is not executable"],[fr.AccountNotSigner,"The given account did not sign"],[fr.AccountNotSystemOwned,"The given account is not owned by the system program"],[fr.AccountNotInitialized,"The program expected this account to be already initialized"],[fr.AccountNotProgramData,"The given account is not a program data account"],[fr.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[fr.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[fr.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[fr.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[fr.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[fr.Deprecated,"The API being used is deprecated and should no longer be used"]]);var vL=function(){return vL=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vL.apply(this,arguments)},wL=function(){return wL=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wL.apply(this,arguments)};function kXe(t){return t.toLowerCase()}var TXe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],IXe=/[^A-Z0-9]+/gi;function RXe(t,e){e===void 0&&(e={});for(var r=e.splitRegexp,n=r===void 0?TXe:r,i=e.stripRegexp,s=i===void 0?IXe:i,o=e.transform,a=o===void 0?kXe:o,u=e.delimiter,f=u===void 0?" ":u,d=GX(GX(t,n,"$1\0$2"),s,"\0"),g=0,y=d.length;d.charAt(g)==="\0";)g++;for(;d.charAt(y-1)==="\0";)y--;return d.slice(g,y).split("\0").map(a).join(f)}function GX(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,i){return n.replace(i,r)},t)}function MXe(t,e){return e===void 0&&(e={}),RXe(t,wL({delimiter:"."},e))}function CXe(t,e){return e===void 0&&(e={}),MXe(t,vL({delimiter:"_"},e))}class za{static fieldLayout(e,r){const n=e.name!==void 0?Fi(e.name):void 0;switch(e.type){case"bool":return Dr.bool(n);case"u8":return Dr.u8(n);case"i8":return Dr.i8(n);case"u16":return Dr.u16(n);case"i16":return Dr.i16(n);case"u32":return Dr.u32(n);case"i32":return Dr.i32(n);case"f32":return Dr.f32(n);case"u64":return Dr.u64(n);case"i64":return Dr.i64(n);case"f64":return Dr.f64(n);case"u128":return Dr.u128(n);case"i128":return Dr.i128(n);case"u256":return Dr.u256(n);case"i256":return Dr.i256(n);case"bytes":return Dr.vecU8(n);case"string":return Dr.str(n);case"publicKey":return Dr.publicKey(n);default:{if("vec"in e.type)return Dr.vec(za.fieldLayout({name:void 0,type:e.type.vec},r),n);if("option"in e.type)return Dr.option(za.fieldLayout({name:void 0,type:e.type.option},r),n);if("defined"in e.type){if(!r)throw new qT("User defined types not provided");const i=e.type.defined,s=r.filter(o=>o.name===i);if(s.length!==1)throw new qT(`Type not found: ${JSON.stringify(e)}`);return za.typeDefLayout(s[0],r,n)}else if("array"in e.type){let i=e.type.array[0],s=e.type.array[1],o=za.fieldLayout({name:void 0,type:i},r);return Dr.array(o,s,n)}else throw new Error(`Not yet implemented: ${e}`)}}}static typeDefLayout(e,r=[],n){switch(e.type.kind){case"struct":{const i=e.type.fields.map(s=>za.fieldLayout(s,r));return Dr.struct(i,n)}case"enum":{let i=e.type.variants.map(s=>{const o=Fi(s.name);if(!s.fields)return Dr.struct([],o);const a=s.fields.map((u,f)=>u!=null&&u.name?za.fieldLayout(u,r):za.fieldLayout({type:u,name:f.toString()},r));return Dr.struct(a,o)});return n!==void 0?Dr.rustEnum(i).replicate(n):Dr.rustEnum(i,n)}case"alias":return za.fieldLayout({type:e.type.value,name:e.name},r)}}}const YX="global";class kF{constructor(e){this.idl=e,this.ixLayout=kF.parseIxLayout(e);const r=new Map;e.instructions.forEach(n=>{const i=ZX(YX,n.name);r.set(is.encode(i),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=r}encode(e,r){return this._encode(YX,e,r)}_encode(e,r,n){const i=Pe.Buffer.alloc(1e3),s=Fi(r),o=this.ixLayout.get(s);if(!o)throw new Error(`Unknown method: ${s}`);const a=o.encode(n,i),u=i.slice(0,a);return Pe.Buffer.concat([ZX(e,r),u])}static parseIxLayout(e){const r=e.instructions.map(n=>{let i=n.args.map(o=>{var a,u;return za.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(u=e.types)!==null&&u!==void 0?u:[]]))});const s=Fi(n.name);return[s,Dr.struct(i,s)]});return new Map(r)}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?Pe.Buffer.from(e,"hex"):is.decode(e));let n=is.encode(e.slice(0,8)),i=e.slice(8);const s=this.sighashLayouts.get(n);return s?{data:s.layout.decode(i),name:s.name}:null}format(e,r){return Gl.format(e,r,this.idl)}}class Gl{static format(e,r,n){const i=n.instructions.filter(u=>e.name===u.name)[0];if(i===void 0)return console.error("Invalid instruction given"),null;const s=i.args.map(u=>({name:u.name,type:Gl.formatIdlType(u.type),data:Gl.formatIdlData(u,e.data[u.name],n.types)})),o=Gl.flattenIdlAccounts(i.accounts),a=r.map((u,f)=>f<o.length?{name:o[f].name,...u}:{name:void 0,...u});return{args:s,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if(e.type.hasOwnProperty("vec"))return"["+r.map(i=>this.formatIdlData({name:"",type:e.type.vec},i)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if(e.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const i=n.filter(s=>s.name===e.type.defined);if(i.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Gl.formatIdlDataDefined(i[0],r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){switch(e.type.kind){case"struct":{const i=e.type;return"{ "+Object.keys(r).map(o=>{const a=i.fields.find(u=>u.name===o);if(!a)throw new Error("Unable to find type");return o+": "+Gl.formatIdlData(a,r[o],n)}).join(", ")+" }"}case"enum":{if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const i=e.type.variants,s=Object.keys(r)[0],o=r[s],a=Object.keys(o).map(f=>{var d;const g=o[f],y=(d=i[s])===null||d===void 0?void 0:d.find(b=>b.name===f);if(!y)throw new Error("Unable to find variant");return f+": "+Gl.formatIdlData(y,g,n)}).join(", "),u=Fi(s,{pascalCase:!0});return a.length===0?u:`${u} { ${a} }`}else return"Tuple formatting not yet implemented"}case"alias":return Gl.formatIdlType(e.type.value)}}static flattenIdlAccounts(e,r){return e.map(n=>{const i=PXe(n.name);if(n.hasOwnProperty("accounts")){const s=r?`${r} > ${i}`:i;return Gl.flattenIdlAccounts(n.accounts,s)}else return{...n,name:r?`${r} > ${i}`:i}}).flat()}}function PXe(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}function ZX(t,e){let r=CXe(e),n=`${t}:${r}`;return Pe.Buffer.from(ru(n).slice(0,8))}function Sle(t,e){switch(e.type.kind){case"struct":return e.type.fields.map(r=>M0(t,r.type)).reduce((r,n)=>r+n,0);case"enum":{const r=e.type.variants.map(n=>n.fields?n.fields.map(i=>typeof i=="object"&&"name"in i?M0(t,i.type):M0(t,i)).reduce((i,s)=>i+s,0):0);return Math.max(...r)+1}case"alias":return M0(t,e.type.value)}}function M0(t,e){var r,n;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+M0(t,e.option);if("coption"in e)return 4+M0(t,e.coption);if("defined"in e){const i=(n=(r=t.types)===null||r===void 0?void 0:r.filter(o=>o.name===e.defined))!==null&&n!==void 0?n:[];if(i.length!==1)throw new qT(`Type not found: ${JSON.stringify(e)}`);let s=i[0];return Sle(t,s)}if("array"in e){let i=e.array[0],s=e.array[1];return M0(t,i)*s}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const SL=8;function _le(t){return Ie.Buffer.from(ru(t).slice(0,SL))}class rb{constructor(e){if(e.accounts===void 0){this.accountLayouts=new Map;return}const r=e.accounts.map(n=>[n.name,za.typeDefLayout(n,e.types)]);this.accountLayouts=new Map(r),this.idl=e}async encode(e,r){const n=Pe.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const s=i.encode(r,n);let o=n.slice(0,s),a=rb.accountDiscriminator(e);return Pe.Buffer.concat([a,o])}decode(e,r){if(rb.accountDiscriminator(e).compare(r.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeAny(e){const r=e.slice(0,8),n=Array.from(this.accountLayouts.keys()).find(i=>rb.accountDiscriminator(i).equals(r));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,r){const n=r.subarray(SL),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.decode(n)}memcmp(e,r){const n=rb.accountDiscriminator(e);return{offset:0,bytes:is.encode(r?Pe.Buffer.concat([n,r]):n)}}size(e){var r;return SL+((r=Sle(this.idl,e))!==null&&r!==void 0?r:0)}static accountDiscriminator(e){const r=`account:${Fi(e,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`;return _le(r)}}class NXe{constructor(e){if(e.events===void 0){this.layouts=new Map;return}const r=e.events.map(n=>{let i={name:n.name,type:{kind:"struct",fields:n.fields.map(s=>({name:s.name,type:s.type}))}};return[n.name,za.typeDefLayout(i,e.types)]});this.layouts=new Map(r),this.discriminators=new Map(e.events===void 0?[]:e.events.map(n=>[WX(BXe(n.name)),n.name]))}decode(e){let r;try{r=ple(e)}catch{return null}const n=WX(r.slice(0,8)),i=this.discriminators.get(n);if(i===void 0)return null;const s=this.layouts.get(i);if(!s)throw new Error(`Unknown event: ${i}`);return{data:s.decode(r.slice(8)),name:i}}}function BXe(t){return _le(`event:${t}`)}class OXe{constructor(e){if(e.types===void 0){this.typeLayouts=new Map;return}const r=e.types.map(n=>[n.name,za.typeDefLayout(n,e.types)]);this.typeLayouts=new Map(r),this.idl=e}encode(e,r){const n=Pe.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const s=i.encode(r,n);return n.slice(0,s)}decode(e,r){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(r)}}class Ale{constructor(e){this.instruction=new kF(e),this.accounts=new rb(e),this.events=new NXe(e),this.types=new OXe(e)}}var LXe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ie.global<"u"?Ie.global:typeof self<"u"?self:{};class nu{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var m4=nu;function DXe(t,e){return e.property?t+"["+e.property+"]":t}class C0 extends nu{isCount(){throw new Error("ExternalLayout is abstract")}}class xle extends C0{constructor(e,r,n){if(!(e instanceof nu))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof y4||this.layout instanceof Ele}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class y4 extends nu{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Ele extends nu{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const _L=Math.pow(2,32);function kle(t){const e=Math.floor(t/_L),r=t-e*_L;return{hi32:e,lo32:r}}function Tle(t,e){return t*_L+e}class FXe extends nu{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readUInt32LE(r+4);return Tle(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=kle(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}}class $Xe extends nu{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),i=e.readInt32LE(r+4);return Tle(i,n)}encode(e,r,n){n===void 0&&(n=0);const i=kle(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}}class UXe extends nu{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof nu,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const i=n;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const f=e[a.property];f!==void 0&&(o=a.encode(f,r,n),0>u&&(u=a.getSpan(r,n)))}s=n,n+=u}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Ile{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class XX extends Ile{constructor(e,r){if(!(e instanceof C0&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class Rle extends nu{constructor(e,r,n){const i=e instanceof y4||e instanceof Ele;if(i)e=new XX(new xle(e));else if(e instanceof C0&&e.isCount())e=new XX(e);else if(!(e instanceof Ile))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof nu))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const i=this.discriminator,s=i.decode(e,r);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[o.property]=this.defaultLayout.decode(e,r+a)}else n=o.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new zXe(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Ie.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class zXe extends nu{constructor(e,r,n,i){if(!(e instanceof Rle))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof nu))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class WXe extends nu{constructor(e,r){if(!(e instanceof C0&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof C0||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof C0&&(i=e.length),!(Ie.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(DXe("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof C0&&this.length.encode(i,r,n),i}}var KXe=(t,e,r)=>new xle(t,e,r),jXe=t=>new y4(1,t),ah=t=>new y4(4,t),HXe=t=>new FXe(t),Mh=t=>new $Xe(t),$s=(t,e,r)=>new UXe(t,e,r),Mle=(t,e,r)=>new Rle(t,e,r),a2=(t,e)=>new WXe(t,e);class qXe extends m4{constructor(e){super(-1,e),this.property=e,this.layout=$s([ah("length"),ah("lengthPadding"),a2(KXe(ah(),-8),"chars")],this.property)}encode(e,r,n=0){if(e==null)return this.layout.span;const i={chars:Ie.Buffer.from(e,"utf8")};return this.layout.encode(i,r,n)}decode(e,r=0){return this.layout.decode(e,r).chars.toString()}getSpan(e,r=0){return ah().span+ah().span+new an(new Uint8Array(e).slice(r,r+4),10,"le").toNumber()}}function b4(t){return new qXe(t)}function xc(t){return a2(32,t)}const Wu=Mle(ah("instruction"));Wu.addVariant(0,$s([Mh("lamports"),Mh("space"),xc("owner")]),"createAccount");Wu.addVariant(1,$s([xc("owner")]),"assign");Wu.addVariant(2,$s([Mh("lamports")]),"transfer");Wu.addVariant(3,$s([xc("base"),b4("seed"),Mh("lamports"),Mh("space"),xc("owner")]),"createAccountWithSeed");Wu.addVariant(4,$s([xc("authorized")]),"advanceNonceAccount");Wu.addVariant(5,$s([Mh("lamports")]),"withdrawNonceAccount");Wu.addVariant(6,$s([xc("authorized")]),"initializeNonceAccount");Wu.addVariant(7,$s([xc("authorized")]),"authorizeNonceAccount");Wu.addVariant(8,$s([Mh("space")]),"allocate");Wu.addVariant(9,$s([xc("base"),b4("seed"),Mh("space"),xc("owner")]),"allocateWithSeed");Wu.addVariant(10,$s([xc("base"),b4("seed"),xc("owner")]),"assignWithSeed");Wu.addVariant(11,$s([Mh("lamports"),b4("seed"),xc("owner")]),"transferWithSeed");Math.max(...Object.values(Wu.registry).map(t=>t.span));class VXe extends m4{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}function QX(t){return new VXe(a2(32),e=>new Mt(e),e=>e.toBuffer(),t)}$s([ah("version"),ah("state"),QX("authorizedPubkey"),QX("nonce"),$s([HXe("lamportsPerSignature")],"feeCalculator")]);function GXe(t,...e){let r=[Pe.Buffer.from([97,110,99,104,111,114])];e.forEach(i=>{r.push(i instanceof Pe.Buffer?i:yc(i).toBuffer())});const[n]=Mt.findProgramAddressSync(r,yc(t));return n}const YXe=new Mt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ZXe=new Mt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var JX={exports:{}};(function(t,e){var r=typeof self<"u"?self:LXe,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(p){return p&&DataView.prototype.isPrototypeOf(p)}if(a.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(p){return p&&f.indexOf(Object.prototype.toString.call(p))>-1};function g(p){if(typeof p!="string"&&(p=String(p)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(p))throw new TypeError("Invalid character in header field name");return p.toLowerCase()}function y(p){return typeof p!="string"&&(p=String(p)),p}function b(p){var m={next:function(){var v=p.shift();return{done:v===void 0,value:v}}};return a.iterable&&(m[Symbol.iterator]=function(){return m}),m}function A(p){this.map={},p instanceof A?p.forEach(function(m,v){this.append(v,m)},this):Array.isArray(p)?p.forEach(function(m){this.append(m[0],m[1])},this):p&&Object.getOwnPropertyNames(p).forEach(function(m){this.append(m,p[m])},this)}A.prototype.append=function(p,m){p=g(p),m=y(m);var v=this.map[p];this.map[p]=v?v+", "+m:m},A.prototype.delete=function(p){delete this.map[g(p)]},A.prototype.get=function(p){return p=g(p),this.has(p)?this.map[p]:null},A.prototype.has=function(p){return this.map.hasOwnProperty(g(p))},A.prototype.set=function(p,m){this.map[g(p)]=y(m)},A.prototype.forEach=function(p,m){for(var v in this.map)this.map.hasOwnProperty(v)&&p.call(m,this.map[v],v,this)},A.prototype.keys=function(){var p=[];return this.forEach(function(m,v){p.push(v)}),b(p)},A.prototype.values=function(){var p=[];return this.forEach(function(m){p.push(m)}),b(p)},A.prototype.entries=function(){var p=[];return this.forEach(function(m,v){p.push([v,m])}),b(p)},a.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function x(p){if(p.bodyUsed)return Promise.reject(new TypeError("Already read"));p.bodyUsed=!0}function k(p){return new Promise(function(m,v){p.onload=function(){m(p.result)},p.onerror=function(){v(p.error)}})}function R(p){var m=new FileReader,v=k(m);return m.readAsArrayBuffer(p),v}function C(p){var m=new FileReader,v=k(m);return m.readAsText(p),v}function P(p){for(var m=new Uint8Array(p),v=new Array(m.length),_=0;_<m.length;_++)v[_]=String.fromCharCode(m[_]);return v.join("")}function O(p){if(p.slice)return p.slice(0);var m=new Uint8Array(p.byteLength);return m.set(new Uint8Array(p)),m.buffer}function q(){return this.bodyUsed=!1,this._initBody=function(p){this._bodyInit=p,p?typeof p=="string"?this._bodyText=p:a.blob&&Blob.prototype.isPrototypeOf(p)?this._bodyBlob=p:a.formData&&FormData.prototype.isPrototypeOf(p)?this._bodyFormData=p:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)?this._bodyText=p.toString():a.arrayBuffer&&a.blob&&u(p)?(this._bodyArrayBuffer=O(p.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(p)||d(p))?this._bodyArrayBuffer=O(p):this._bodyText=p=Object.prototype.toString.call(p):this._bodyText="",this.headers.get("content-type")||(typeof p=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(p)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var p=x(this);if(p)return p;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var p=x(this);if(p)return p;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Y(p){var m=p.toUpperCase();return Q.indexOf(m)>-1?m:p}function X(p,m){m=m||{};var v=m.body;if(p instanceof X){if(p.bodyUsed)throw new TypeError("Already read");this.url=p.url,this.credentials=p.credentials,m.headers||(this.headers=new A(p.headers)),this.method=p.method,this.mode=p.mode,this.signal=p.signal,!v&&p._bodyInit!=null&&(v=p._bodyInit,p.bodyUsed=!0)}else this.url=String(p);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new A(m.headers)),this.method=Y(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}X.prototype.clone=function(){return new X(this,{body:this._bodyInit})};function Z(p){var m=new FormData;return p.trim().split("&").forEach(function(v){if(v){var _=v.split("="),T=_.shift().replace(/\+/g," "),w=_.join("=").replace(/\+/g," ");m.append(decodeURIComponent(T),decodeURIComponent(w))}}),m}function le(p){var m=new A,v=p.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(_){var T=_.split(":"),w=T.shift().trim();if(w){var l=T.join(":").trim();m.append(w,l)}}),m}q.call(X.prototype);function I(p,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new A(m.headers),this.url=m.url||"",this._initBody(p)}q.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},I.error=function(){var p=new I(null,{status:0,statusText:""});return p.type="error",p};var c=[301,302,303,307,308];I.redirect=function(p,m){if(c.indexOf(m)===-1)throw new RangeError("Invalid status code");return new I(null,{status:m,headers:{location:p}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(m,v){this.message=m,this.name=v;var _=Error(m);this.stack=_.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function h(p,m){return new Promise(function(v,_){var T=new X(p,m);if(T.signal&&T.signal.aborted)return _(new o.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function l(){w.abort()}w.onload=function(){var S={status:w.status,statusText:w.statusText,headers:le(w.getAllResponseHeaders()||"")};S.url="responseURL"in w?w.responseURL:S.headers.get("X-Request-URL");var N="response"in w?w.response:w.responseText;v(new I(N,S))},w.onerror=function(){_(new TypeError("Network request failed"))},w.ontimeout=function(){_(new TypeError("Network request failed"))},w.onabort=function(){_(new o.DOMException("Aborted","AbortError"))},w.open(T.method,T.url,!0),T.credentials==="include"?w.withCredentials=!0:T.credentials==="omit"&&(w.withCredentials=!1),"responseType"in w&&a.blob&&(w.responseType="blob"),T.headers.forEach(function(S,N){w.setRequestHeader(N,S)}),T.signal&&(T.signal.addEventListener("abort",l),w.onreadystatechange=function(){w.readyState===4&&T.signal.removeEventListener("abort",l)}),w.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}return h.polyfill=!0,s.fetch||(s.fetch=h,s.Headers=A,s.Request=X,s.Response=I),o.Headers=A,o.Request=X,o.Response=I,o.fetch=h,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(JX,JX.exports);Dr.rustEnum([Dr.struct([],"uninitialized"),Dr.struct([Dr.option(Dr.publicKey(),"authorityAddress")],"buffer"),Dr.struct([Dr.publicKey("programdataAddress")],"program"),Dr.struct([Dr.u64("slot"),Dr.option(Dr.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Dr.u32());function XXe(t){return"accounts"in t}async function QXe(t){const e=(await Mt.findProgramAddress([],t))[0];return await Mt.createWithSeed(e,JXe(),t)}function JXe(){return"anchor:idl"}const eQe=Dr.struct([Dr.publicKey("authority"),Dr.vecU8("data")]);function tQe(t){return eQe.decode(t)}function v4(t,e){var r,n;let i={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(o=>o.name))!==null&&n!==void 0?n:[]}`);i=e.pop()}return[e,i]}class GT{static build(e,r,n){if(e.name==="_inner")throw new qT("the _inner name is reserved");const i=(...s)=>{const[o,a]=v4(e,[...s]);gle(e.accounts,a.accounts),rQe(e,...s);const u=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&u.push(...a.remainingAccounts),vle("debug-logs")&&console.log("Outgoing account metas:",u),new ai({keys:u,programId:n,data:r(e.name,oXe(e,...o))})};return i.accounts=s=>GT.accountsArray(s,e.accounts,n,e.name),i}static accountsArray(e,r,n,i){return e?r.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const a=e[s.name];return GT.accountsArray(a,s.accounts,n,i).flat()}else{const a=s;let u;try{u=yc(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const f=a.isOptional&&u.equals(n),d=a.isMut&&!f,g=a.isSigner&&!f;return{pubkey:u,isWritable:d,isSigner:g}}}).flat():[]}}function rQe(t,...e){}class nQe{static build(e,r){return(...i)=>{var s,o,a;const[,u]=v4(e,[...i]),f=new ri;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=u.preInstructions)===null||s===void 0||s.forEach(d=>f.add(d)),(o=u.instructions)===null||o===void 0||o.forEach(d=>f.add(d)),f.add(r(...i)),(a=u.postInstructions)===null||a===void 0||a.forEach(d=>f.add(d)),f}}}class iQe{static build(e,r,n,i){return async(...o)=>{var a;const u=r(...o),[,f]=v4(e,[...o]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(u,(a=f.signers)!==null&&a!==void 0?a:[],f.options)}catch(d){throw wle(d,n)}}}}class sQe{static build(e,r,n,i){var s;const o={};return(s=e.accounts)===null||s===void 0||s.forEach(a=>{const u=Fi(a.name);o[u]=new oQe(e,a,n,i,r)}),o}}class oQe{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(e,r,n,i,s){this._idlAccount=r,this._programId=n,this._provider=i??bL(),this._coder=s??new Ale(e),this._size=this._coder.accounts.size(r)}async fetchNullable(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);return n}async fetchNullableAndContext(e,r){const n=await this.getAccountInfoAndContext(e,r),{value:i,context:s}=n;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:s}}async fetch(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,r){const{data:n,context:i}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:i}}async fetchMultiple(e,r){return(await this.fetchMultipleAndContext(e,r)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,r){return(await mXe(this._provider.connection,e.map(i=>yc(i)),r)).map(i=>{if(i==null)return null;const{account:s,context:o}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,s.data),context:o}})}async all(e){const r=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Ie.Buffer?e:void 0),n=[];return(r==null?void 0:r.offset)!=null&&(r==null?void 0:r.bytes)!=null&&n.push({memcmp:{offset:r.offset,bytes:r.bytes}}),(r==null?void 0:r.dataSize)!=null&&n.push({dataSize:r.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:s,account:o})=>({publicKey:s,account:this._coder.accounts.decode(this._idlAccount.name,o.data)}))}subscribe(e,r){const n=VS.get(e.toString());if(n)return n.ee;const i=new tXe;e=yc(e);const s=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);i.emit("change",a)},r);return VS.set(e.toString(),{ee:i,listener:s}),i}async unsubscribe(e){let r=VS.get(e.toString());if(!r){console.warn("Address is not subscribed");return}VS&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{VS.delete(e.toString())}).catch(console.error)}async createInstruction(e,r){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return To.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async associated(...e){const r=await this.associatedAddress(...e);return await this.fetch(r)}async associatedAddress(...e){return await GXe(this._programId,...e)}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(yc(e),r)}async getAccountInfoAndContext(e,r){return await this._provider.connection.getAccountInfoAndContext(yc(e),r)}}const VS=new Map,AL="Program log: ",Cle="Program data: ",aQe=AL.length,uQe=Cle.length;class cQe{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new Ple(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((n=this._eventListeners.get(e))!==null&&n!==void 0?n:[]).concat(i)),this._eventCallbacks.set(i,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,o)=>{if(!s.err)for(const a of this._eventParser.parseLogs(s.logs)){const u=this._eventListeners.get(a.name);u&&u.forEach(f=>{const d=this._eventCallbacks.get(f);if(d){const[,g]=d;g(a.data,o.slot,s.signature)}})}})),i}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),i=i.filter(s=>s!==e),this._eventListeners.set(n,i),i.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Ple{constructor(e,r){this.coder=r,this.programId=e}*parseLogs(e,r=!1){const n=new fQe(e),i=new lQe;let s=n.next();for(;s!==null;){let[o,a,u]=this.handleLog(i,s,r);o&&(yield o),a&&i.push(a),u&&i.pop(),s=n.next()}}handleLog(e,r,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r,n):[null,...this.handleSystemLog(r)]}handleProgramLog(e,r){if(e.startsWith(AL)||e.startsWith(Cle)){const n=e.startsWith(AL)?e.slice(aQe):e.slice(uQe),i=this.coder.events.decode(n);if(r&&i===null)throw new Error(`Unable to decode event ${n}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class lQe{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class fQe{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class dQe{static build(e,r,n,i,s,o,a){return async(...f)=>{var d;const g=r(...f),[,y]=v4(e,[...f]);let b;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{b=await i.simulate(g,y.signers,(d=y.options)===null||d===void 0?void 0:d.commitment)}catch(k){throw wle(k,n)}if(b===void 0)throw new Error("Unable to simulate transaction");const A=b.logs;if(!A)throw new Error("Simulated logs not found");const x=[];if(a.events){let k=new Ple(o,s);for(const R of k.parseLogs(A))x.push(R)}return{events:x,raw:A}}}}function lN(t){return new Nle(a2(8),e=>pQe.fromBuffer(e),e=>e.toBuffer(),t)}function _k(t){return new Nle(a2(32),e=>new Mt(e),e=>e.toBuffer(),t)}function fN(t,e){return new hQe(t,e)}class Nle extends m4{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class hQe extends m4{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=ah()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}let pQe=class Ble extends an{toBuffer(){const e=super.toArray().reverse(),r=Ie.Buffer.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=Ie.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Ble([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}};const gQe=$s([_k("mint"),_k("owner"),lN("amount"),fN(_k(),"delegate"),(t=>{const e=Mle(jXe("discriminator"),null,t);return e.addVariant(0,$s([]),"uninitialized"),e.addVariant(1,$s([]),"initialized"),e.addVariant(2,$s([]),"frozen"),e})("state"),fN(lN(),"isNative"),lN("delegatedAmount"),fN(_k(),"closeAuthority")]);function mQe(t){return gQe.decode(t)}class XA{constructor(e,r,n,i,s,o,a,u){this._accounts=r,this._provider=n,this._programId=i,this._idlIx=s,this._idlTypes=a,this._customResolver=u,this._args=e,this._accountStore=new yQe(n,o,this._programId)}args(e){this._args=e}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:r}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,r}return 0}resolveOptionalsHelper(e,r){const n={};for(const i of r){const s=i.name,o=e[s];o!==void 0&&(Ole(o)?XXe(i)?n[s]=this.resolveOptionalsHelper(o,i.accounts):n[s]=Lle(o):o!==null?n[s]=yc(o):i.isOptional&&(n[s]=this._programId))}return n}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const r=e.reduce((n,i)=>n&&n[i],this._accounts);if(r&&r.toBase58)return r}set(e,r){let n=this._accounts;e.forEach((i,s)=>{s==e.length-1&&(n[i]=r),n[i]=n[i]||{},n=n[i]})}async resolveConst(e,r=[]){for(let n=0;n<e.length;n+=1){const i=e[n],s=i.accounts;s&&await this.resolveConst(s,[...r,Fi(i.name)]);const o=i,a=Fi(i.name);if(o.isSigner&&!this.get([...r,a])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...r,a],this._provider.wallet.publicKey)}Reflect.has(XA.CONST_ACCOUNTS,a)&&!this.get([...r,a])&&this.set([...r,a],XA.CONST_ACCOUNTS[a])}}_resolveEventCpi(e,r=[]){for(const n in e){const i=e[n],s=i.accounts;s&&this._resolveEventCpi(s,[...r,Fi(i.name)]);const o=+n+1;if(o===e.length)return;const a=Fi(e[n].name),u=Fi(e[o].name);if(a==="eventAuthority"&&u==="program"){const f=[...r,a],d=[...r,u];this.get(f)||this.set(f,Mt.findProgramAddressSync([Ie.Buffer.from("__event_authority")],this._programId)[0]),this.get(d)||this.set(d,this._programId);return}}}async resolvePdas(e,r=[]){let n=0;for(let i=0;i<e.length;i+=1){const s=e[i],o=s.accounts;o&&(n+=await this.resolvePdas(o,[...r,Fi(s.name)]));const a=s,u=Fi(s.name);a.pda&&a.pda.seeds.length>0&&!this.get([...r,u])&&await this.autoPopulatePda(a,r)&&(n+=1)}return n}async resolveRelations(e,r=[]){let n=0;for(let i=0;i<e.length;i+=1){const s=e[i],o=s.accounts;o&&(n+=await this.resolveRelations(o,[...r,Fi(s.name)]));const a=s.relations||[],u=Fi(s.name),f=[...r,u],d=this.get(f);if(d){const g=a.filter(y=>!this.get([...r,Fi(y)]));if(n+=g.length,g.length>0){const y=await this._accountStore.fetchAccount({publicKey:d});await Promise.all(g.map(async b=>{const A=Fi(b);return this.set([...r,A],y[A]),y[A]}))}}}return n}async autoPopulatePda(e,r=[]){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(e.pda.seeds.map(o=>this.toBuffer(o,r)));if(n.some(o=>typeof o>"u"))return;const i=await this.parseProgramId(e,r);if(!i)return;const[s]=await Mt.findProgramAddress(n,i);this.set([...r,Fi(e.name)],s)}async parseProgramId(e,r=[]){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new Mt(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId,r);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e,r=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,r);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}getType(e,r=[]){if(r.length>0&&e.defined){const n=this._idlTypes.find(o=>o.name===e.defined);if(!n)throw new Error(`Cannot find type ${e.defined}`);const s=n.type.fields.find(o=>o.name===r[0]);return this.getType(s.type,r.slice(1))}return e}toBufferConst(e){return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),e.value)}async toBufferArg(e){const r=this.argValue(e);if(!(typeof r>"u"))return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),r)}argValue(e){const r=e.path.split("."),n=Fi(r[0]),i=this._idlIx.args.findIndex(s=>s.name===n);if(i===-1)throw new Error(`Unable to find argument for seed: ${n}`);return r.slice(1).reduce((s,o)=>(s||{})[o],this._args[i])}async toBufferAccount(e,r=[]){const n=await this.accountValue(e,r);if(n)return this.toBufferValue(e.type,n)}async accountValue(e,r=[]){const n=e.path.split("."),i=n[0],s=this.get([...r,Fi(i)]);if(s===null)throw new Error("fieldPubkey is null");if(n.length===1)return s;const o=await this._accountStore.fetchAccount({publicKey:s,name:e.account});return this.parseAccountValue(o,n.slice(1))}parseAccountValue(e,r){let n;for(;r.length>0;)n=e[Fi(r[0])],r=r.slice(1);return n}toBufferValue(e,r){switch(e){case"u8":return Ie.Buffer.from([r]);case"u16":let n=Ie.Buffer.alloc(2);return n.writeUInt16LE(r),n;case"u32":let i=Ie.Buffer.alloc(4);return i.writeUInt32LE(r),i;case"u64":let s=Ie.Buffer.alloc(8);return s.writeBigUInt64LE(BigInt(r)),s;case"string":return Ie.Buffer.from(iXe(r));case"publicKey":return r.toBuffer();default:if(e.array)return Ie.Buffer.from(r);throw new Error(`Unexpected seed type: ${e}`)}}}XA.CONST_ACCOUNTS={associatedTokenProgram:ZXe,rent:Mm,systemProgram:To.programId,tokenProgram:YXe,clock:tl};class yQe{constructor(e,r,n){this._provider=e,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=r}async ensureIdl(e){if(!this._idls[e.toBase58()]){const r=await Pm.fetchIdl(e,this._provider);if(r){const n=new Pm(r,e,this._provider);this._idls[e.toBase58()]=n.account}}return this._idls[e.toBase58()]}async fetchAccount({publicKey:e,name:r,programId:n=this._programId}){const i=e.toString();if(!this._cache.has(i))if(r==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`invalid account info for ${i}`);const o=mQe(s.data);this._cache.set(i,o)}else if(r){const s=await this.ensureIdl(n);if(s){const o=s[Fi(r)];if(o){const a=await o.fetch(e);this._cache.set(i,a)}}}else{const s=await this._provider.connection.getAccountInfo(e);if(s===null)throw new Error(`invalid account info for ${i}`);const o=s.data,a=await this.ensureIdl(s.owner);if(a){const u=Object.values(a)[0];if(!u)throw new Error("No accounts for this program");const f=u.coder.accounts.decodeAny(o);this._cache.set(i,f)}}return this._cache.get(i)}}class bQe{static build(e,r,n,i,s,o,a,u,f,d,g){return(...y)=>new vQe(y,i,s,o,a,u,e,r,n,f,d,g)}}function Ole(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function Lle(t,e){const r={};for(const n in t){const i=t[n];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");r[n]=Ole(i)?Lle(i):yc(i)}return r}class vQe{constructor(e,r,n,i,s,o,a,u,f,d,g,y){this._ixFn=r,this._txFn=n,this._rpcFn=i,this._simulateFn=s,this._viewFn=o,this._programId=u,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=e,this._accountsResolver=new XA(e,this._accounts,a,u,f,d,g,y)}args(e){this._args=e,this._accountsResolver.args(e)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class wQe{static build(e,r,n,i){const s=r.accounts.find(u=>u.isMut),o=!!r.returns;return s||!o?void 0:async(...u)=>{var f,d;let g=await n(...u);const y=`Program return: ${e} `;let b=g.raw.find(R=>R.startsWith(y));if(!b)throw new Error("View expected return log");let A=ple(b.slice(y.length)),x=r.returns;if(!x)throw new Error("View expected return type");return za.fieldLayout({type:x},Array.from([...(f=i.accounts)!==null&&f!==void 0?f:[],...(d=i.types)!==null&&d!==void 0?d:[]])).decode(A)}}}class SQe{static build(e,r,n,i,s){const o={},a={},u={},f={},d={},g={},y=sXe(e),b=e.accounts?sQe.build(e,r,n,i):{};return e.instructions.forEach(A=>{const x=GT.build(A,(Q,Y)=>r.instruction.encode(Q,Y),n),k=nQe.build(A,x),R=iQe.build(A,k,y,i),C=dQe.build(A,k,y,i,r,n,e),P=wQe.build(n,A,C,e),O=bQe.build(i,n,A,x,k,R,C,P,b,e.types||[],s&&s(A)),q=Fi(A.name);a[q]=x,u[q]=k,o[q]=R,f[q]=C,d[q]=O,P&&(g[q]=P)}),[o,a,u,b,f,d,g]}}class Pm{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,r,n,i,s){r=yc(r),n||(n=bL()),this._idl=e,this._provider=n,this._programId=r,this._coder=i??new Ale(e),this._events=new cQe(this._programId,n,this._coder);const[o,a,u,f,d,g,y]=SQe.build(e,this._coder,r,n,s??(()=>{}));this.rpc=o,this.instruction=a,this.transaction=u,this.account=f,this.simulate=d,this.methods=g,this.views=y}static async at(e,r){const n=yc(e),i=await Pm.fetchIdl(n,r);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new Pm(i,n,r)}static async fetchIdl(e,r){r=r??bL();const n=yc(e),i=await QXe(n),s=await r.connection.getAccountInfo(i);if(!s)return null;let o=tQe(s.data.slice(8));const a=JZe(o.data);return JSON.parse(nXe(a))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new Mt("11111111111111111111111111111111");const TF=new Tt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Tt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const _Qe=new Tt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Tt("So11111111111111111111111111111111111111112");new Tt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const IF=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},AQe=t=>e=>{const r=At(t,e),{encode:n,decode:i}=IF(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return Pw(Ie.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Mg(o,t);return n(f,a,u)},s},x3=AQe(8),Dle=t=>{const e=st(t),{encode:r,decode:n}=IF(e),i=e;return i.decode=(s,o)=>!!n(s,o),i.encode=(s,o,a)=>{const u=Number(s);return r(u,o,a)},i};var xQe=kw,EQe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",kQe=xQe(EQe);const eQ=ea(kQe);function tQ(t){try{return zs.ExtendedPoint.fromHex(t),!0}catch{return!1}}const TQe=t=>Pe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Pe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Pe.Buffer.from(t);let IQe=class{constructor(e){Object.assign(this,e)}encode(){return Pe.Buffer.from(Iw(E3,this))}static decode(e){return Rw(E3,this,e)}static decodeUnchecked(e){return Tw(E3,this,e)}};const E3=new Map;var Fle;const RQe=32,dN=32;function MQe(t){return t._bn!==void 0}let rQ=1,ui=class v1 extends IQe{constructor(e){if(super({}),this._bn=void 0,MQe(e))this._bn=e._bn;else{if(typeof e=="string"){const r=eQ.decode(e);if(r.length!=dN)throw new Error("Invalid public key input");this._bn=new an(r)}else this._bn=new an(e);if(this._bn.byteLength()>dN)throw new Error("Invalid public key input")}}static unique(){const e=new v1(rQ);return rQ+=1,new v1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return eQ.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Pe.Buffer);if(e.length===dN)return e;const r=Pe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Pe.Buffer.concat([e.toBuffer(),Pe.Buffer.from(r),n.toBuffer()]),s=ru(i);return new v1(s)}static createProgramAddressSync(e,r){let n=Pe.Buffer.alloc(0);e.forEach(function(s){if(s.length>RQe)throw new TypeError("Max seed length exceeded");n=Pe.Buffer.concat([n,TQe(s)])}),n=Pe.Buffer.concat([n,r.toBuffer(),Pe.Buffer.from("ProgramDerivedAddress")]);const i=ru(n);if(tQ(i))throw new Error("Invalid seeds, address must fall off the curve");return new v1(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Pe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new v1(e);return tQ(r.toBytes())}};Fle=ui;ui.default=new Fle("11111111111111111111111111111111");E3.set(ui,{kind:"struct",fields:[["_bn","u256"]]});new ui("BPFLoader1111111111111111111111111111111111");const CQe=64,Ln=(t="publicKey")=>At(32,t),nb=(t="string")=>{const e=Se([xe("length"),xe("lengthPadding"),At(En(xe(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:Pe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>xe().span+xe().span+Pe.Buffer.from(s,"utf8").length,i},PQe=(t="authorized")=>Se([Ln("staker"),Ln("withdrawer")],t),NQe=(t="lockup")=>Se([er("unixTimestamp"),er("epoch"),Ln("custodian")],t),BQe=(t="voteInit")=>Se([Ln("nodePubkey"),Ln("authorizedVoter"),Ln("authorizedWithdrawer"),st("commission")],t),OQe=(t="voteAuthorizeWithSeedArgs")=>Se([xe("voteAuthorizationType"),Ln("currentAuthorityDerivedKeyOwnerPubkey"),nb("currentAuthorityDerivedKeySeed"),Ln("newAuthorized")],t);Pe.Buffer.alloc(CQe).fill(0);new ui("SysvarC1ock11111111111111111111111111111111");new ui("SysvarEpochSchedu1e111111111111111111111111");new ui("Sysvar1nstructions1111111111111111111111111");new ui("SysvarRecentB1ockHashes11111111111111111111");new ui("SysvarRent111111111111111111111111111111111");new ui("SysvarRewards111111111111111111111111111111");new ui("SysvarS1otHashes111111111111111111111111111");new ui("SysvarS1otHistory11111111111111111111111111");new ui("SysvarStakeHistory1111111111111111111111111");const LQe=Bt("lamportsPerSignature"),DQe=Se([xe("version"),xe("state"),Ln("authorizedPubkey"),Ln("nonce"),Se([LQe],"feeCalculator")]);DQe.span;const FQe=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},$Qe=t=>e=>{const r=At(t,e),{encode:n,decode:i}=FQe(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return Pw(Pe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Mg(o,t);return n(f,a,u)},s},tw=$Qe(8);Object.freeze({Create:{index:0,layout:Se([xe("instruction"),er("lamports"),er("space"),Ln("programId")])},Assign:{index:1,layout:Se([xe("instruction"),Ln("programId")])},Transfer:{index:2,layout:Se([xe("instruction"),tw("lamports")])},CreateWithSeed:{index:3,layout:Se([xe("instruction"),Ln("base"),nb("seed"),er("lamports"),er("space"),Ln("programId")])},AdvanceNonceAccount:{index:4,layout:Se([xe("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([xe("instruction"),er("lamports")])},InitializeNonceAccount:{index:6,layout:Se([xe("instruction"),Ln("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([xe("instruction"),Ln("authorized")])},Allocate:{index:8,layout:Se([xe("instruction"),er("space")])},AllocateWithSeed:{index:9,layout:Se([xe("instruction"),Ln("base"),nb("seed"),er("space"),Ln("programId")])},AssignWithSeed:{index:10,layout:Se([xe("instruction"),Ln("base"),nb("seed"),Ln("programId")])},TransferWithSeed:{index:11,layout:Se([xe("instruction"),tw("lamports"),nb("seed"),Ln("programId")])},UpgradeNonceAccount:{index:12,layout:Se([xe("instruction")])}});new ui("11111111111111111111111111111111");new ui("BPFLoader2111111111111111111111111111111111");Se([xe("typeIndex"),tw("deactivationSlot"),Bt("lastExtendedSlot"),st("lastExtendedStartIndex"),st(),Vt(Ln(),En(st(),-1),"authority")]);const os=Cs(Tc(ui),ve(),t=>new ui(t)),$le=Ic([ve(),Rt("base64")]),RF=Cs(Tc(Pe.Buffer),$le,t=>Pe.Buffer.from(t[0],"base64"));function Ule(t){return rr([pe({jsonrpc:Rt("2.0"),id:ve(),result:t}),pe({jsonrpc:Rt("2.0"),id:ve(),error:pe({code:Wi(),message:ve(),data:De(a6())})})])}const UQe=Ule(Wi());function Ti(t){return Cs(Ule(t),UQe,e=>"error"in e?e:{...e,result:Ve(e.result,t)})}function Cl(t){return Ti(pe({context:pe({slot:ee()}),value:t}))}function w4(t){return pe({context:pe({slot:ee()}),value:t})}const zQe=pe({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()});Ti(Ee(ke(pe({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:De(ke(ee()))}))));const WQe=Ee(pe({slot:ee(),prioritizationFee:ee()})),KQe=pe({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),jQe=pe({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:De(ee()),transactionCount:De(ee())}),HQe=pe({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Qr(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),qQe=Tg(ve(),Ee(ee())),cy=ke(rr([pe({}),ve()])),VQe=pe({err:cy}),GQe=Rt("receivedSignature");pe({"solana-core":ve(),"feature-set":De(ee())});const YQe=pe({program:ve(),programId:os,parsed:Wi()}),ZQe=pe({programId:os,accounts:Ee(os),data:ve()});Cl(pe({err:ke(rr([pe({}),ve()])),logs:ke(Ee(ve())),accounts:De(ke(Ee(ke(pe({executable:Qr(),owner:ve(),lamports:ee(),data:Ee(ve()),rentEpoch:De(ee())}))))),unitsConsumed:De(ee()),returnData:De(ke(pe({programId:ve(),data:Ic([ve(),Rt("base64")])}))),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(rr([YQe,ZQe]))}))))}));Cl(pe({byIdentity:Tg(ve(),Ee(ee())),range:pe({firstSlot:ee(),lastSlot:ee()})}));Ti(zQe);Ti(KQe);Ti(WQe);Ti(jQe);Ti(HQe);Ti(qQe);Ti(ee());Cl(pe({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:Ee(os)}));const XQe=pe({amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())});Cl(Ee(pe({address:os,amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())})));Cl(Ee(pe({pubkey:os,account:pe({executable:Qr(),owner:os,lamports:ee(),data:RF,rentEpoch:ee()})})));const xL=pe({program:ve(),parsed:Wi(),space:ee()});Cl(Ee(pe({pubkey:os,account:pe({executable:Qr(),owner:os,lamports:ee(),data:xL,rentEpoch:ee()})})));Cl(Ee(pe({lamports:ee(),address:os})));const MF=pe({executable:Qr(),owner:os,lamports:ee(),data:RF,rentEpoch:ee()});pe({pubkey:os,account:MF});const QQe=Cs(rr([Tc(Pe.Buffer),xL]),rr([$le,xL]),t=>Array.isArray(t)?Ve(t,RF):t),JQe=pe({executable:Qr(),owner:os,lamports:ee(),data:QQe,rentEpoch:ee()});pe({pubkey:os,account:JQe});pe({state:rr([Rt("active"),Rt("inactive"),Rt("activating"),Rt("deactivating")]),active:ee(),inactive:ee()});Ti(Ee(pe({signature:ve(),slot:ee(),err:cy,memo:ke(ve()),blockTime:De(ke(ee()))})));Ti(Ee(pe({signature:ve(),slot:ee(),err:cy,memo:ke(ve()),blockTime:De(ke(ee()))})));pe({subscription:ee(),result:w4(MF)});const eJe=pe({pubkey:os,account:MF});pe({subscription:ee(),result:w4(eJe)});const tJe=pe({parent:ee(),slot:ee(),root:ee()});pe({subscription:ee(),result:tJe});const rJe=rr([pe({type:rr([Rt("firstShredReceived"),Rt("completed"),Rt("optimisticConfirmation"),Rt("root")]),slot:ee(),timestamp:ee()}),pe({type:Rt("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),pe({type:Rt("frozen"),slot:ee(),timestamp:ee(),stats:pe({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),pe({type:Rt("dead"),slot:ee(),timestamp:ee(),err:ve()})]);pe({subscription:ee(),result:rJe});pe({subscription:ee(),result:w4(rr([VQe,GQe]))});pe({subscription:ee(),result:ee()});pe({pubkey:ve(),gossip:ke(ve()),tpu:ke(ve()),rpc:ke(ve()),version:ke(ve())});const nQ=pe({votePubkey:ve(),nodePubkey:ve(),activatedStake:ee(),epochVoteAccount:Qr(),epochCredits:Ee(Ic([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:ke(ee())});Ti(pe({current:Ee(nQ),delinquent:Ee(nQ)}));const nJe=rr([Rt("processed"),Rt("confirmed"),Rt("finalized")]),iJe=pe({slot:ee(),confirmations:ke(ee()),err:cy,confirmationStatus:De(nJe)});Cl(Ee(ke(iJe)));Ti(ee());const zle=pe({accountKey:os,writableIndexes:Ee(ee()),readonlyIndexes:Ee(ee())}),CF=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(ve()),header:pe({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()})),recentBlockhash:ve(),addressTableLookups:De(Ee(zle))})}),Wle=pe({pubkey:os,signer:Qr(),writable:Qr(),source:De(rr([Rt("transaction"),Rt("lookupTable")]))}),Kle=pe({accountKeys:Ee(Wle),signatures:Ee(ve())}),jle=pe({parsed:Wi(),program:ve(),programId:os}),Hle=pe({accounts:Ee(os),data:ve(),programId:os}),sJe=rr([Hle,jle]),oJe=rr([pe({parsed:Wi(),program:ve(),programId:ve()}),pe({accounts:Ee(ve()),data:ve(),programId:ve()})]),qle=Cs(sJe,oJe,t=>"accounts"in t?Ve(t,Hle):Ve(t,jle)),Vle=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(Wle),instructions:Ee(qle),recentBlockhash:ve(),addressTableLookups:De(ke(Ee(zle)))})}),YT=pe({accountIndex:ee(),mint:ve(),owner:De(ve()),programId:De(ve()),uiTokenAmount:XQe}),Gle=pe({writable:Ee(os),readonly:Ee(os)}),S4=pe({err:cy,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()}))})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(YT))),postTokenBalances:De(ke(Ee(YT))),loadedAddresses:De(Gle),computeUnitsConsumed:De(ee())}),PF=pe({err:cy,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(qle)})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(YT))),postTokenBalances:De(ke(Ee(YT))),loadedAddresses:De(Gle),computeUnitsConsumed:De(ee())}),Kw=rr([Rt(0),Rt("legacy")]),ly=pe({pubkey:ve(),lamports:ee(),postBalance:ke(ee()),rewardType:ke(ve()),commission:De(ke(ee()))});Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:CF,meta:ke(S4),version:De(Kw)})),rewards:De(Ee(ly)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(ly)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:Kle,meta:ke(S4),version:De(Kw)})),rewards:De(Ee(ly)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:Vle,meta:ke(PF),version:De(Kw)})),rewards:De(Ee(ly)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:Kle,meta:ke(PF),version:De(Kw)})),rewards:De(Ee(ly)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(ly)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:CF,meta:ke(S4)})),rewards:De(Ee(ly)),blockTime:ke(ee())})));Ti(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),signatures:Ee(ve()),blockTime:ke(ee())})));Ti(ke(pe({slot:ee(),meta:ke(S4),blockTime:De(ke(ee())),transaction:CF,version:De(Kw)})));Ti(ke(pe({slot:ee(),transaction:Vle,meta:ke(PF),blockTime:De(ke(ee())),version:De(Kw)})));Cl(pe({blockhash:ve(),lastValidBlockHeight:ee()}));Cl(Qr());const aJe=pe({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()});Ti(Ee(aJe));Cl(ke(pe({feeCalculator:pe({lamportsPerSignature:ee()})})));Ti(ve());Ti(ve());const uJe=pe({err:cy,logs:Ee(ve()),signature:ve()});pe({result:w4(uJe),subscription:ee()});Object.freeze({CreateLookupTable:{index:0,layout:Se([xe("instruction"),tw("recentSlot"),st("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([xe("instruction")])},ExtendLookupTable:{index:2,layout:Se([xe("instruction"),tw(),Vt(Ln(),En(xe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([xe("instruction")])},CloseLookupTable:{index:4,layout:Se([xe("instruction")])}});new ui("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Se([st("instruction"),xe("units"),xe("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([st("instruction"),xe("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([st("instruction"),xe("units")])},SetComputeUnitPrice:{index:3,layout:Se([st("instruction"),tw("microLamports")])}});new ui("ComputeBudget111111111111111111111111111111");Se([st("numSignatures"),st("padding"),cr("signatureOffset"),cr("signatureInstructionIndex"),cr("publicKeyOffset"),cr("publicKeyInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),cr("messageInstructionIndex")]);new ui("Ed25519SigVerify111111111111111111111111111");Uu.utils.isValidPrivateKey;Uu.getPublicKey;Se([st("numSignatures"),cr("signatureOffset"),st("signatureInstructionIndex"),cr("ethAddressOffset"),st("ethAddressInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),st("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),st("recoveryId")]);new ui("KeccakSecp256k11111111111111111111111111111");var Yle;new ui("StakeConfig11111111111111111111111111111111");let Zle=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Yle=Zle;Zle.default=new Yle(0,0,ui.default);Object.freeze({Initialize:{index:0,layout:Se([xe("instruction"),PQe(),NQe()])},Authorize:{index:1,layout:Se([xe("instruction"),Ln("newAuthorized"),xe("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([xe("instruction")])},Split:{index:3,layout:Se([xe("instruction"),er("lamports")])},Withdraw:{index:4,layout:Se([xe("instruction"),er("lamports")])},Deactivate:{index:5,layout:Se([xe("instruction")])},Merge:{index:7,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([xe("instruction"),Ln("newAuthorized"),xe("stakeAuthorizationType"),nb("authoritySeed"),Ln("authorityOwner")])}});new ui("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Se([xe("instruction"),BQe()])},Authorize:{index:1,layout:Se([xe("instruction"),Ln("newAuthorized"),xe("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([xe("instruction"),er("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([xe("instruction"),OQe()])}});new ui("Vote111111111111111111111111111111111111111");new ui("Va1idator1nfo111111111111111111111111111111");pe({name:ve(),website:De(ve()),details:De(ve()),iconUrl:De(ve()),keybaseUsername:De(ve())});new ui("Vote111111111111111111111111111111111111111");Se([Ln("nodePubkey"),Ln("authorizedWithdrawer"),st("commission"),Bt(),Vt(Se([Bt("slot"),xe("confirmationCount")]),En(xe(),-8),"votes"),st("rootSlotValid"),Bt("rootSlot"),Bt(),Vt(Se([Bt("epoch"),Ln("authorizedVoter")]),En(xe(),-8),"authorizedVoters"),Se([Vt(Se([Ln("authorizedPubkey"),Bt("epochOfLastAuthorizedSwitch"),Bt("targetEpoch")]),32,"buf"),Bt("idx"),st("isEmpty")],"priorVoters"),Bt(),Vt(Se([Bt("epoch"),Bt("credits"),Bt("prevCredits")]),En(xe(),-8),"epochCredits"),Se([Bt("slot"),Bt("timestamp")],"lastTimestamp")]);const wo=t=>{const e=At(32,t),{encode:r,decode:n}=IF(e),i=e;return i.decode=(s,o)=>{const a=n(s,o);return new ui(a)},i.encode=(s,o,a)=>{const u=s.toBuffer();return r(u,o,a)},i};class u2 extends Error{constructor(e){super(e)}}class cJe extends u2{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class lJe extends u2{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class fJe extends u2{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class iQ extends u2{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class dJe extends u2{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var EL;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(EL||(EL={}));const hJe=1,pJe=Se([st("m"),st("n"),Dle("isInitialized"),wo("signer1"),wo("signer2"),wo("signer3"),wo("signer4"),wo("signer5"),wo("signer6"),wo("signer7"),wo("signer8"),wo("signer9"),wo("signer10"),wo("signer11")]),gJe=pJe.span;var ZT;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(ZT||(ZT={}));const Xle=Se([wo("mint"),wo("owner"),x3("amount"),xe("delegateOption"),wo("delegate"),st("state"),xe("isNativeOption"),x3("isNative"),x3("delegatedAmount"),xe("closeAuthorityOption"),wo("closeAuthority")]),GS=Xle.span;async function mJe(t,e,r,n=TF){const i=await t.getAccountInfo(e,r);return yJe(e,i,n)}function yJe(t,e,r=TF){if(!e)throw new cJe;if(!e.owner.equals(r))throw new fJe;if(e.data.length<GS)throw new iQ;const n=Xle.decode(e.data.slice(0,GS));let i=Ie.Buffer.alloc(0);if(e.data.length>GS){if(e.data.length===gJe)throw new iQ;if(e.data[GS]!=EL.Account)throw new lJe;i=e.data.slice(GS+hJe)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==ZT.Uninitialized,isFrozen:n.state===ZT.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}const bJe=Se([xe("mintAuthorityOption"),wo("mintAuthority"),x3("supply"),st("decimals"),Dle("isInitialized"),xe("freezeAuthorityOption"),wo("freezeAuthority")]);bJe.span;function vJe(t,e,r=!1,n=TF,i=_Qe){if(!r&&!Tt.isOnCurve(e.toBuffer()))throw new dJe;const[s]=Tt.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return s}var zr={},kL={exports:{}},hN=65536,wJe=4294967295;function SJe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var _Je=$r.Buffer,XT=Lt.crypto||Lt.msCrypto;XT&&XT.getRandomValues?kL.exports=AJe:kL.exports=SJe;function AJe(t,e){if(t>wJe)throw new RangeError("requested too many random bytes");var r=_Je.allocUnsafe(t);if(t>0)if(t>hN)for(var n=0;n<t;n+=hN)XT.getRandomValues(r.slice(n,n+hN));else XT.getRandomValues(r);return typeof e=="function"?Ie.process.nextTick(function(){e(null,r)}):r}var jw=kL.exports,TL={exports:{}};typeof Object.create=="function"?TL.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:TL.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Br=TL.exports,IL={exports:{}},NF={exports:{}},Nb=typeof Reflect=="object"?Reflect:null,sQ=Nb&&typeof Nb.apply=="function"?Nb.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},k3;Nb&&typeof Nb.ownKeys=="function"?k3=Nb.ownKeys:Object.getOwnPropertySymbols?k3=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:k3=function(e){return Object.getOwnPropertyNames(e)};function xJe(t){console&&console.warn&&console.warn(t)}var Qle=Number.isNaN||function(e){return e!==e};function ci(){ci.init.call(this)}NF.exports=ci;NF.exports.once=IJe;ci.EventEmitter=ci;ci.prototype._events=void 0;ci.prototype._eventsCount=0;ci.prototype._maxListeners=void 0;var oQ=10;function _4(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ci,"defaultMaxListeners",{enumerable:!0,get:function(){return oQ},set:function(t){if(typeof t!="number"||t<0||Qle(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");oQ=t}});ci.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ci.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Qle(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Jle(t){return t._maxListeners===void 0?ci.defaultMaxListeners:t._maxListeners}ci.prototype.getMaxListeners=function(){return Jle(this)};ci.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")sQ(u,this,r);else for(var f=u.length,d=ife(u,f),n=0;n<f;++n)sQ(d[n],this,r);return!0};function efe(t,e,r,n){var i,s,o;if(_4(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Jle(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,xJe(a)}return t}ci.prototype.addListener=function(e,r){return efe(this,e,r,!1)};ci.prototype.on=ci.prototype.addListener;ci.prototype.prependListener=function(e,r){return efe(this,e,r,!0)};function EJe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tfe(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=EJe.bind(n);return i.listener=r,n.wrapFn=i,i}ci.prototype.once=function(e,r){return _4(r),this.on(e,tfe(this,e,r)),this};ci.prototype.prependOnceListener=function(e,r){return _4(r),this.prependListener(e,tfe(this,e,r)),this};ci.prototype.removeListener=function(e,r){var n,i,s,o,a;if(_4(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():kJe(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};ci.prototype.off=ci.prototype.removeListener;ci.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function rfe(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?TJe(i):ife(i,i.length)}ci.prototype.listeners=function(e){return rfe(this,e,!0)};ci.prototype.rawListeners=function(e){return rfe(this,e,!1)};ci.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):nfe.call(t,e)};ci.prototype.listenerCount=nfe;function nfe(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ci.prototype.eventNames=function(){return this._eventsCount>0?k3(this._events):[]};function ife(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function kJe(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function TJe(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function IJe(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}sfe(t,e,s,{once:!0}),e!=="error"&&RJe(t,i,{once:!0})})}function RJe(t,e,r){typeof t.on=="function"&&sfe(t,"error",e,r)}function sfe(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var A4=NF.exports,ofe=A4.EventEmitter;const MJe={},CJe=Object.freeze(Object.defineProperty({__proto__:null,default:MJe},Symbol.toStringTag,{value:"Module"})),Hw=Ox(CJe);var pN,aQ;function PJe(){if(aQ)return pN;aQ=1;function t(A,x){var k=Object.keys(A);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(A);x&&(R=R.filter(function(C){return Object.getOwnPropertyDescriptor(A,C).enumerable})),k.push.apply(k,R)}return k}function e(A){for(var x=1;x<arguments.length;x++){var k=arguments[x]!=null?arguments[x]:{};x%2?t(Object(k),!0).forEach(function(R){r(A,R,k[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(k)):t(Object(k)).forEach(function(R){Object.defineProperty(A,R,Object.getOwnPropertyDescriptor(k,R))})}return A}function r(A,x,k){return x=o(x),x in A?Object.defineProperty(A,x,{value:k,enumerable:!0,configurable:!0,writable:!0}):A[x]=k,A}function n(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function i(A,x){for(var k=0;k<x.length;k++){var R=x[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,o(R.key),R)}}function s(A,x,k){return x&&i(A.prototype,x),Object.defineProperty(A,"prototype",{writable:!1}),A}function o(A){var x=a(A,"string");return typeof x=="symbol"?x:String(x)}function a(A,x){if(typeof A!="object"||A===null)return A;var k=A[Symbol.toPrimitive];if(k!==void 0){var R=k.call(A,x);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}var u=Pe,f=u.Buffer,d=Hw,g=d.inspect,y=g&&g.custom||"inspect";function b(A,x,k){f.prototype.copy.call(A,x,k)}return pN=function(){function A(){n(this,A),this.head=null,this.tail=null,this.length=0}return s(A,[{key:"push",value:function(k){var R={data:k,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(k){var R={data:k,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var R=this.head,C=""+R.data;R=R.next;)C+=k+R.data;return C}},{key:"concat",value:function(k){if(this.length===0)return f.alloc(0);for(var R=f.allocUnsafe(k>>>0),C=this.head,P=0;C;)b(C.data,R,P),P+=C.data.length,C=C.next;return R}},{key:"consume",value:function(k,R){var C;return k<this.head.data.length?(C=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?C=this.shift():C=R?this._getString(k):this._getBuffer(k),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var R=this.head,C=1,P=R.data;for(k-=P.length;R=R.next;){var O=R.data,q=k>O.length?O.length:k;if(q===O.length?P+=O:P+=O.slice(0,k),k-=q,k===0){q===O.length?(++C,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=O.slice(q));break}++C}return this.length-=C,P}},{key:"_getBuffer",value:function(k){var R=f.allocUnsafe(k),C=this.head,P=1;for(C.data.copy(R),k-=C.data.length;C=C.next;){var O=C.data,q=k>O.length?O.length:k;if(O.copy(R,R.length-k,0,q),k-=q,k===0){q===O.length?(++P,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=O.slice(q));break}++P}return this.length-=P,R}},{key:y,value:function(k,R){return g(this,e(e({},R),{},{depth:0,customInspect:!1}))}}]),A}(),pN}function NJe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ie.process.nextTick(RL,this,t)):Ie.process.nextTick(RL,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?Ie.process.nextTick(T3,r):(r._writableState.errorEmitted=!0,Ie.process.nextTick(uQ,r,s)):Ie.process.nextTick(uQ,r,s):e?(Ie.process.nextTick(T3,r),e(s)):Ie.process.nextTick(T3,r)}),this)}function uQ(t,e){RL(t,e),T3(t)}function T3(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function BJe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function RL(t,e){t.emit("error",e)}function OJe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var afe={destroy:NJe,undestroy:BJe,errorOrDestroy:OJe},fy={};function LJe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ufe={};function Mc(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){LJe(o,s);function o(a,u,f){return s.call(this,n(a,u,f))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,ufe[t]=i}function cQ(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function DJe(t,e,r){return t.substr(0,e.length)===e}function FJe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function $Je(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Mc("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Mc("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&DJe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(FJe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(cQ(e,"type"));else{var s=$Je(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(cQ(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Mc("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Mc("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Mc("ERR_STREAM_PREMATURE_CLOSE","Premature close");Mc("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Mc("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Mc("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Mc("ERR_STREAM_WRITE_AFTER_END","write after end");Mc("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Mc("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Mc("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");fy.codes=ufe;var UJe=fy.codes.ERR_INVALID_OPT_VALUE;function zJe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function WJe(t,e,r,n){var i=zJe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new UJe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var cfe={getHighWaterMark:WJe},lfe=KJe;function KJe(t,e){if(gN("noDeprecation"))return t;var r=!1;function n(){if(!r){if(gN("throwDeprecation"))throw new Error(e);gN("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function gN(t){try{if(!Lt.localStorage)return!1}catch{return!1}var e=Lt.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var mN,lQ;function ffe(){if(lQ)return mN;lQ=1,mN=X;function t(K){var z=this;this.next=null,this.entry=null,this.finish=function(){D(z,K)}}var e;X.WritableState=Q;var r={deprecate:lfe},n=ofe,i=Pe.Buffer,s=(typeof Lt<"u"?Lt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(K){return i.from(K)}function a(K){return i.isBuffer(K)||K instanceof s}var u=afe,f=cfe,d=f.getHighWaterMark,g=fy.codes,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_METHOD_NOT_IMPLEMENTED,A=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,k=g.ERR_STREAM_DESTROYED,R=g.ERR_STREAM_NULL_VALUES,C=g.ERR_STREAM_WRITE_AFTER_END,P=g.ERR_UNKNOWN_ENCODING,O=u.errorOrDestroy;Br(X,n);function q(){}function Q(K,z,G){e=e||rw(),K=K||{},typeof G!="boolean"&&(G=z instanceof e),this.objectMode=!!K.objectMode,G&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=d(this,K,"writableHighWaterMark",G),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=K.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){v(z,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Q.prototype.getBuffer=function(){for(var z=this.bufferedRequest,G=[];z;)G.push(z),z=z.next;return G},function(){try{Object.defineProperty(Q.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(z){return Y.call(this,z)?!0:this!==X?!1:z&&z._writableState instanceof Q}})):Y=function(z){return z instanceof this};function X(K){e=e||rw();var z=this instanceof e;if(!z&&!Y.call(X,this))return new X(K);this._writableState=new Q(K,this,z),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),n.call(this)}X.prototype.pipe=function(){O(this,new x)};function Z(K,z){var G=new C;O(K,G),Ie.process.nextTick(z,G)}function le(K,z,G,te){var ie;return G===null?ie=new R:typeof G!="string"&&!z.objectMode&&(ie=new y("chunk",["string","Buffer"],G)),ie?(O(K,ie),Ie.process.nextTick(te,ie),!1):!0}X.prototype.write=function(K,z,G){var te=this._writableState,ie=!1,J=!te.objectMode&&a(K);return J&&!i.isBuffer(K)&&(K=o(K)),typeof z=="function"&&(G=z,z=null),J?z="buffer":z||(z=te.defaultEncoding),typeof G!="function"&&(G=q),te.ending?Z(this,G):(J||le(this,te,K,G))&&(te.pendingcb++,ie=c(this,te,J,K,z,G)),ie},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&w(this,K))},X.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new P(z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function I(K,z,G){return!K.objectMode&&K.decodeStrings!==!1&&typeof z=="string"&&(z=i.from(z,G)),z}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(K,z,G,te,ie,J){if(!G){var V=I(z,te,ie);te!==V&&(G=!0,ie="buffer",te=V)}var fe=z.objectMode?1:te.length;z.length+=fe;var Te=z.length<z.highWaterMark;if(Te||(z.needDrain=!0),z.writing||z.corked){var Re=z.lastBufferedRequest;z.lastBufferedRequest={chunk:te,encoding:ie,isBuf:G,callback:J,next:null},Re?Re.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else h(K,z,!1,fe,te,ie,J);return Te}function h(K,z,G,te,ie,J,V){z.writelen=te,z.writecb=V,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new k("write")):G?K._writev(ie,z.onwrite):K._write(ie,J,z.onwrite),z.sync=!1}function p(K,z,G,te,ie){--z.pendingcb,G?(Ie.process.nextTick(ie,te),Ie.process.nextTick(F,K,z),K._writableState.errorEmitted=!0,O(K,te)):(ie(te),K._writableState.errorEmitted=!0,O(K,te),F(K,z))}function m(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function v(K,z){var G=K._writableState,te=G.sync,ie=G.writecb;if(typeof ie!="function")throw new A;if(m(G),z)p(K,G,te,z,ie);else{var J=l(G)||K.destroyed;!J&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&w(K,G),te?Ie.process.nextTick(_,K,G,J,ie):_(K,G,J,ie)}}function _(K,z,G,te){G||T(K,z),z.pendingcb--,te(),F(K,z)}function T(K,z){z.length===0&&z.needDrain&&(z.needDrain=!1,K.emit("drain"))}function w(K,z){z.bufferProcessing=!0;var G=z.bufferedRequest;if(K._writev&&G&&G.next){var te=z.bufferedRequestCount,ie=new Array(te),J=z.corkedRequestsFree;J.entry=G;for(var V=0,fe=!0;G;)ie[V]=G,G.isBuf||(fe=!1),G=G.next,V+=1;ie.allBuffers=fe,h(K,z,!0,z.length,ie,"",J.finish),z.pendingcb++,z.lastBufferedRequest=null,J.next?(z.corkedRequestsFree=J.next,J.next=null):z.corkedRequestsFree=new t(z),z.bufferedRequestCount=0}else{for(;G;){var Te=G.chunk,Re=G.encoding,H=G.callback,oe=z.objectMode?1:Te.length;if(h(K,z,!1,oe,Te,Re,H),G=G.next,z.bufferedRequestCount--,z.writing)break}G===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=G,z.bufferProcessing=!1}X.prototype._write=function(K,z,G){G(new b("_write()"))},X.prototype._writev=null,X.prototype.end=function(K,z,G){var te=this._writableState;return typeof K=="function"?(G=K,K=null,z=null):typeof z=="function"&&(G=z,z=null),K!=null&&this.write(K,z),te.corked&&(te.corked=1,this.uncork()),te.ending||W(this,te,G),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function S(K,z){K._final(function(G){z.pendingcb--,G&&O(K,G),z.prefinished=!0,K.emit("prefinish"),F(K,z)})}function N(K,z){!z.prefinished&&!z.finalCalled&&(typeof K._final=="function"&&!z.destroyed?(z.pendingcb++,z.finalCalled=!0,Ie.process.nextTick(S,K,z)):(z.prefinished=!0,K.emit("prefinish")))}function F(K,z){var G=l(z);if(G&&(N(K,z),z.pendingcb===0&&(z.finished=!0,K.emit("finish"),z.autoDestroy))){var te=K._readableState;(!te||te.autoDestroy&&te.endEmitted)&&K.destroy()}return G}function W(K,z,G){z.ending=!0,F(K,z),G&&(z.finished?Ie.process.nextTick(G):K.once("finish",G)),z.ended=!0,K.writable=!1}function D(K,z,G){var te=K.entry;for(K.entry=null;te;){var ie=te.callback;z.pendingcb--,ie(G),te=te.next}z.corkedRequestsFree.next=K}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),X.prototype.destroy=u.destroy,X.prototype._undestroy=u.undestroy,X.prototype._destroy=function(K,z){z(K)},mN}var yN,fQ;function rw(){if(fQ)return yN;fQ=1;var t=Object.keys||function(f){var d=[];for(var g in f)d.push(g);return d};yN=o;var e=hfe(),r=ffe();Br(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Ie.process.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),yN}var QT={},BF=$r.Buffer,dQ=BF.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jJe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function HJe(t){var e=jJe(t);if(typeof e!="string"&&(BF.isEncoding===dQ||!dQ(t)))throw new Error("Unknown encoding: "+t);return e||t}QT.StringDecoder=c2;function c2(t){this.encoding=HJe(t);var e;switch(this.encoding){case"utf16le":this.text=XJe,this.end=QJe,e=4;break;case"utf8":this.fillLast=GJe,e=4;break;case"base64":this.text=JJe,this.end=eet,e=3;break;default:this.write=tet,this.end=ret;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=BF.allocUnsafe(e)}c2.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};c2.prototype.end=ZJe;c2.prototype.text=YJe;c2.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function bN(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function qJe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=bN(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=bN(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=bN(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function VJe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"�"}}function GJe(t){var e=this.lastTotal-this.lastNeed,r=VJe(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function YJe(t,e){var r=qJe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function ZJe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function XJe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function QJe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function JJe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function eet(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function tet(t){return t.toString(this.encoding)}function ret(t){return t&&t.length?this.write(t):""}var hQ=fy.codes.ERR_STREAM_PREMATURE_CLOSE;function net(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function iet(){}function set(t){return t.setHeader&&typeof t.abort=="function"}function dfe(t,e,r){if(typeof e=="function")return dfe(t,null,e);e||(e={}),r=net(r||iet);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,u=!0,i||r.call(t)},d=function(A){r.call(t,A)},g=function(){var A;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(A=new hQ),r.call(t,A);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(A=new hQ),r.call(t,A)},y=function(){t.req.on("finish",a)};return set(t)?(t.on("complete",a),t.on("abort",g),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",f),t.on("finish",a),e.error!==!1&&t.on("error",d),t.on("close",g),function(){t.removeListener("complete",a),t.removeListener("abort",g),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",g)}}var OF=dfe,vN,pQ;function oet(){if(pQ)return vN;pQ=1;var t;function e(P,O,q){return O=r(O),O in P?Object.defineProperty(P,O,{value:q,enumerable:!0,configurable:!0,writable:!0}):P[O]=q,P}function r(P){var O=n(P,"string");return typeof O=="symbol"?O:String(O)}function n(P,O){if(typeof P!="object"||P===null)return P;var q=P[Symbol.toPrimitive];if(q!==void 0){var Q=q.call(P,O);if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(P)}var i=OF,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),g=Symbol("stream");function y(P,O){return{value:P,done:O}}function b(P){var O=P[s];if(O!==null){var q=P[g].read();q!==null&&(P[f]=null,P[s]=null,P[o]=null,O(y(q,!1)))}}function A(P){Ie.process.nextTick(b,P)}function x(P,O){return function(q,Q){P.then(function(){if(O[u]){q(y(void 0,!0));return}O[d](q,Q)},Q)}}var k=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((t={get stream(){return this[g]},next:function(){var O=this,q=this[a];if(q!==null)return Promise.reject(q);if(this[u])return Promise.resolve(y(void 0,!0));if(this[g].destroyed)return new Promise(function(Z,le){Ie.process.nextTick(function(){O[a]?le(O[a]):Z(y(void 0,!0))})});var Q=this[f],Y;if(Q)Y=new Promise(x(Q,this));else{var X=this[g].read();if(X!==null)return Promise.resolve(y(X,!1));Y=new Promise(this[d])}return this[f]=Y,Y}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var O=this;return new Promise(function(q,Q){O[g].destroy(null,function(Y){if(Y){Q(Y);return}q(y(void 0,!0))})})}),t),k),C=function(O){var q,Q=Object.create(R,(q={},e(q,g,{value:O,writable:!0}),e(q,s,{value:null,writable:!0}),e(q,o,{value:null,writable:!0}),e(q,a,{value:null,writable:!0}),e(q,u,{value:O._readableState.endEmitted,writable:!0}),e(q,d,{value:function(X,Z){var le=Q[g].read();le?(Q[f]=null,Q[s]=null,Q[o]=null,X(y(le,!1))):(Q[s]=X,Q[o]=Z)},writable:!0}),q));return Q[f]=null,i(O,function(Y){if(Y&&Y.code!=="ERR_STREAM_PREMATURE_CLOSE"){var X=Q[o];X!==null&&(Q[f]=null,Q[s]=null,Q[o]=null,X(Y)),Q[a]=Y;return}var Z=Q[s];Z!==null&&(Q[f]=null,Q[s]=null,Q[o]=null,Z(y(void 0,!0))),Q[u]=!0}),O.on("readable",A.bind(null,Q)),Q};return vN=C,vN}var wN,gQ;function aet(){return gQ||(gQ=1,wN=function(){throw new Error("Readable.from is not available in the browser")}),wN}var SN,mQ;function hfe(){if(mQ)return SN;mQ=1,SN=Z;var t;Z.ReadableState=X,A4.EventEmitter;var e=function(V,fe){return V.listeners(fe).length},r=ofe,n=Pe.Buffer,i=(typeof Lt<"u"?Lt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(J){return n.from(J)}function o(J){return n.isBuffer(J)||J instanceof i}var a=Hw,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var f=PJe(),d=afe,g=cfe,y=g.getHighWaterMark,b=fy.codes,A=b.ERR_INVALID_ARG_TYPE,x=b.ERR_STREAM_PUSH_AFTER_EOF,k=b.ERR_METHOD_NOT_IMPLEMENTED,R=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,P,O;Br(Z,r);var q=d.errorOrDestroy,Q=["error","close","destroy","pause","resume"];function Y(J,V,fe){if(typeof J.prependListener=="function")return J.prependListener(V,fe);!J._events||!J._events[V]?J.on(V,fe):Array.isArray(J._events[V])?J._events[V].unshift(fe):J._events[V]=[fe,J._events[V]]}function X(J,V,fe){t=t||rw(),J=J||{},typeof fe!="boolean"&&(fe=V instanceof t),this.objectMode=!!J.objectMode,fe&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=y(this,J,"readableHighWaterMark",fe),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(C||(C=QT.StringDecoder),this.decoder=new C(J.encoding),this.encoding=J.encoding)}function Z(J){if(t=t||rw(),!(this instanceof Z))return new Z(J);var V=this instanceof t;this._readableState=new X(J,this,V),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),r.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),Z.prototype.destroy=d.destroy,Z.prototype._undestroy=d.undestroy,Z.prototype._destroy=function(J,V){V(J)},Z.prototype.push=function(J,V){var fe=this._readableState,Te;return fe.objectMode?Te=!0:typeof J=="string"&&(V=V||fe.defaultEncoding,V!==fe.encoding&&(J=n.from(J,V),V=""),Te=!0),le(this,J,V,!1,Te)},Z.prototype.unshift=function(J){return le(this,J,null,!0,!1)};function le(J,V,fe,Te,Re){u("readableAddChunk",V);var H=J._readableState;if(V===null)H.reading=!1,v(J,H);else{var oe;if(Re||(oe=c(H,V)),oe)q(J,oe);else if(H.objectMode||V&&V.length>0)if(typeof V!="string"&&!H.objectMode&&Object.getPrototypeOf(V)!==n.prototype&&(V=s(V)),Te)H.endEmitted?q(J,new R):I(J,H,V,!0);else if(H.ended)q(J,new x);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!fe?(V=H.decoder.write(V),H.objectMode||V.length!==0?I(J,H,V,!1):w(J,H)):I(J,H,V,!1)}else Te||(H.reading=!1,w(J,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function I(J,V,fe,Te){V.flowing&&V.length===0&&!V.sync?(V.awaitDrain=0,J.emit("data",fe)):(V.length+=V.objectMode?1:fe.length,Te?V.buffer.unshift(fe):V.buffer.push(fe),V.needReadable&&_(J)),w(J,V)}function c(J,V){var fe;return!o(V)&&typeof V!="string"&&V!==void 0&&!J.objectMode&&(fe=new A("chunk",["string","Buffer","Uint8Array"],V)),fe}Z.prototype.isPaused=function(){return this._readableState.flowing===!1},Z.prototype.setEncoding=function(J){C||(C=QT.StringDecoder);var V=new C(J);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;for(var fe=this._readableState.buffer.head,Te="";fe!==null;)Te+=V.write(fe.data),fe=fe.next;return this._readableState.buffer.clear(),Te!==""&&this._readableState.buffer.push(Te),this._readableState.length=Te.length,this};var h=1073741824;function p(J){return J>=h?J=h:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function m(J,V){return J<=0||V.length===0&&V.ended?0:V.objectMode?1:J!==J?V.flowing&&V.length?V.buffer.head.data.length:V.length:(J>V.highWaterMark&&(V.highWaterMark=p(J)),J<=V.length?J:V.ended?V.length:(V.needReadable=!0,0))}Z.prototype.read=function(J){u("read",J),J=parseInt(J,10);var V=this._readableState,fe=J;if(J!==0&&(V.emittedReadable=!1),J===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return u("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?G(this):_(this),null;if(J=m(J,V),J===0&&V.ended)return V.length===0&&G(this),null;var Te=V.needReadable;u("need readable",Te),(V.length===0||V.length-J<V.highWaterMark)&&(Te=!0,u("length less than watermark",Te)),V.ended||V.reading?(Te=!1,u("reading or ended",Te)):Te&&(u("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(J=m(fe,V)));var Re;return J>0?Re=z(J,V):Re=null,Re===null?(V.needReadable=V.length<=V.highWaterMark,J=0):(V.length-=J,V.awaitDrain=0),V.length===0&&(V.ended||(V.needReadable=!0),fe!==J&&V.ended&&G(this)),Re!==null&&this.emit("data",Re),Re};function v(J,V){if(u("onEofChunk"),!V.ended){if(V.decoder){var fe=V.decoder.end();fe&&fe.length&&(V.buffer.push(fe),V.length+=V.objectMode?1:fe.length)}V.ended=!0,V.sync?_(J):(V.needReadable=!1,V.emittedReadable||(V.emittedReadable=!0,T(J)))}}function _(J){var V=J._readableState;u("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(u("emitReadable",V.flowing),V.emittedReadable=!0,Ie.process.nextTick(T,J))}function T(J){var V=J._readableState;u("emitReadable_",V.destroyed,V.length,V.ended),!V.destroyed&&(V.length||V.ended)&&(J.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,K(J)}function w(J,V){V.readingMore||(V.readingMore=!0,Ie.process.nextTick(l,J,V))}function l(J,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){var fe=V.length;if(u("maybeReadMore read 0"),J.read(0),fe===V.length)break}V.readingMore=!1}Z.prototype._read=function(J){q(this,new k("_read()"))},Z.prototype.pipe=function(J,V){var fe=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=J;break;case 1:Te.pipes=[Te.pipes,J];break;default:Te.pipes.push(J);break}Te.pipesCount+=1,u("pipe count=%d opts=%j",Te.pipesCount,V);var Re=(!V||V.end!==!1)&&J!==Ie.process.stdout&&J!==Ie.process.stderr,H=Re?ae:Ge;Te.endEmitted?Ie.process.nextTick(H):fe.once("end",H),J.on("unpipe",oe);function oe(se,j){u("onunpipe"),se===fe&&j&&j.hasUnpiped===!1&&(j.hasUnpiped=!0,_e())}function ae(){u("onend"),J.end()}var ce=S(fe);J.on("drain",ce);var Oe=!1;function _e(){u("cleanup"),J.removeListener("close",ge),J.removeListener("finish",ye),J.removeListener("drain",ce),J.removeListener("error",wt),J.removeListener("unpipe",oe),fe.removeListener("end",ae),fe.removeListener("end",Ge),fe.removeListener("data",Ne),Oe=!0,Te.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&ce()}fe.on("data",Ne);function Ne(se){u("ondata");var j=J.write(se);u("dest.write",j),j===!1&&((Te.pipesCount===1&&Te.pipes===J||Te.pipesCount>1&&ie(Te.pipes,J)!==-1)&&!Oe&&(u("false write response, pause",Te.awaitDrain),Te.awaitDrain++),fe.pause())}function wt(se){u("onerror",se),Ge(),J.removeListener("error",wt),e(J,"error")===0&&q(J,se)}Y(J,"error",wt);function ge(){J.removeListener("finish",ye),Ge()}J.once("close",ge);function ye(){u("onfinish"),J.removeListener("close",ge),Ge()}J.once("finish",ye);function Ge(){u("unpipe"),fe.unpipe(J)}return J.emit("pipe",fe),Te.flowing||(u("pipe resume"),fe.resume()),J};function S(J){return function(){var fe=J._readableState;u("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&e(J,"data")&&(fe.flowing=!0,K(J))}}Z.prototype.unpipe=function(J){var V=this._readableState,fe={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return J&&J!==V.pipes?this:(J||(J=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,J&&J.emit("unpipe",this,fe),this);if(!J){var Te=V.pipes,Re=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var H=0;H<Re;H++)Te[H].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=ie(V.pipes,J);return oe===-1?this:(V.pipes.splice(oe,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),J.emit("unpipe",this,fe),this)},Z.prototype.on=function(J,V){var fe=r.prototype.on.call(this,J,V),Te=this._readableState;return J==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):J==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,u("on readable",Te.length,Te.reading),Te.length?_(this):Te.reading||Ie.process.nextTick(F,this)),fe},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(J,V){var fe=r.prototype.removeListener.call(this,J,V);return J==="readable"&&Ie.process.nextTick(N,this),fe},Z.prototype.removeAllListeners=function(J){var V=r.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&Ie.process.nextTick(N,this),V};function N(J){var V=J._readableState;V.readableListening=J.listenerCount("readable")>0,V.resumeScheduled&&!V.paused?V.flowing=!0:J.listenerCount("data")>0&&J.resume()}function F(J){u("readable nexttick read 0"),J.read(0)}Z.prototype.resume=function(){var J=this._readableState;return J.flowing||(u("resume"),J.flowing=!J.readableListening,W(this,J)),J.paused=!1,this};function W(J,V){V.resumeScheduled||(V.resumeScheduled=!0,Ie.process.nextTick(D,J,V))}function D(J,V){u("resume",V.reading),V.reading||J.read(0),V.resumeScheduled=!1,J.emit("resume"),K(J),V.flowing&&!V.reading&&J.read(0)}Z.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(J){var V=J._readableState;for(u("flow",V.flowing);V.flowing&&J.read()!==null;);}Z.prototype.wrap=function(J){var V=this,fe=this._readableState,Te=!1;J.on("end",function(){if(u("wrapped end"),fe.decoder&&!fe.ended){var oe=fe.decoder.end();oe&&oe.length&&V.push(oe)}V.push(null)}),J.on("data",function(oe){if(u("wrapped data"),fe.decoder&&(oe=fe.decoder.write(oe)),!(fe.objectMode&&oe==null)&&!(!fe.objectMode&&(!oe||!oe.length))){var ae=V.push(oe);ae||(Te=!0,J.pause())}});for(var Re in J)this[Re]===void 0&&typeof J[Re]=="function"&&(this[Re]=function(ae){return function(){return J[ae].apply(J,arguments)}}(Re));for(var H=0;H<Q.length;H++)J.on(Q[H],this.emit.bind(this,Q[H]));return this._read=function(oe){u("wrapped _read",oe),Te&&(Te=!1,J.resume())},this},typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=oet()),P(this)}),Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),Z._fromList=z,Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function z(J,V){if(V.length===0)return null;var fe;return V.objectMode?fe=V.buffer.shift():!J||J>=V.length?(V.decoder?fe=V.buffer.join(""):V.buffer.length===1?fe=V.buffer.first():fe=V.buffer.concat(V.length),V.buffer.clear()):fe=V.buffer.consume(J,V.decoder),fe}function G(J){var V=J._readableState;u("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,Ie.process.nextTick(te,V,J))}function te(J,V){if(u("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,V.readable=!1,V.emit("end"),J.autoDestroy)){var fe=V._writableState;(!fe||fe.autoDestroy&&fe.finished)&&V.destroy()}}typeof Symbol=="function"&&(Z.from=function(J,V){return O===void 0&&(O=aet()),O(Z,J,V)});function ie(J,V){for(var fe=0,Te=J.length;fe<Te;fe++)if(J[fe]===V)return fe;return-1}return SN}var pfe=Ch,x4=fy.codes,uet=x4.ERR_METHOD_NOT_IMPLEMENTED,cet=x4.ERR_MULTIPLE_CALLBACK,fet=x4.ERR_TRANSFORM_ALREADY_TRANSFORMING,det=x4.ERR_TRANSFORM_WITH_LENGTH_0,E4=rw();Br(Ch,E4);function het(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new cet);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ch(t){if(!(this instanceof Ch))return new Ch(t);E4.call(this,t),this._transformState={afterTransform:het.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",pet)}function pet(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){yQ(t,e,r)}):yQ(this,null,null)}Ch.prototype.push=function(t,e){return this._transformState.needTransform=!1,E4.prototype.push.call(this,t,e)};Ch.prototype._transform=function(t,e,r){r(new uet("_transform()"))};Ch.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ch.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ch.prototype._destroy=function(t,e){E4.prototype._destroy.call(this,t,function(r){e(r)})};function yQ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new det;if(t._transformState.transforming)throw new fet;return t.push(null)}var get=QA,gfe=pfe;Br(QA,gfe);function QA(t){if(!(this instanceof QA))return new QA(t);gfe.call(this,t)}QA.prototype._transform=function(t,e,r){r(null,t)};var _N;function met(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var mfe=fy.codes,yet=mfe.ERR_MISSING_ARGS,bet=mfe.ERR_STREAM_DESTROYED;function bQ(t){if(t)throw t}function vet(t){return t.setHeader&&typeof t.abort=="function"}function wet(t,e,r,n){n=met(n);var i=!1;t.on("close",function(){i=!0}),_N===void 0&&(_N=OF),_N(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,vet(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new bet("pipe"))}}}function vQ(t){t()}function _et(t,e){return t.pipe(e)}function Aet(t){return!t.length||typeof t[t.length-1]!="function"?bQ:t.pop()}function xet(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Aet(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new yet("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,f=a>0;return wet(o,u,f,function(d){i||(i=d),d&&s.forEach(vQ),!u&&(s.forEach(vQ),n(i))})});return e.reduce(_et)}var Eet=xet;(function(t,e){e=t.exports=hfe(),e.Stream=e,e.Readable=e,e.Writable=ffe(),e.Duplex=rw(),e.Transform=pfe,e.PassThrough=get,e.finished=OF,e.pipeline=Eet})(IL,IL.exports);var yfe=IL.exports,JT=$r.Buffer,bfe=yfe.Transform,ket=Br;function Tet(t,e){if(!JT.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Pg(t){bfe.call(this),this._block=JT.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}ket(Pg,bfe);Pg.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Pg.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Pg.prototype.update=function(t,e){if(Tet(t,"Data"),this._finalized)throw new Error("Digest already called");JT.isBuffer(t)||(t=JT.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Pg.prototype._update=function(){throw new Error("_update is not implemented")};Pg.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Pg.prototype._digest=function(){throw new Error("_digest is not implemented")};var Iet=Pg,Ret=Br,vfe=Iet,Met=$r.Buffer,Cet=new Array(16);function k4(){vfe.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Ret(k4,vfe);k4.prototype._update=function(){for(var t=Cet,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=Do(r,n,i,s,t[0],3614090360,7),s=Do(s,r,n,i,t[1],3905402710,12),i=Do(i,s,r,n,t[2],606105819,17),n=Do(n,i,s,r,t[3],3250441966,22),r=Do(r,n,i,s,t[4],4118548399,7),s=Do(s,r,n,i,t[5],1200080426,12),i=Do(i,s,r,n,t[6],2821735955,17),n=Do(n,i,s,r,t[7],4249261313,22),r=Do(r,n,i,s,t[8],1770035416,7),s=Do(s,r,n,i,t[9],2336552879,12),i=Do(i,s,r,n,t[10],4294925233,17),n=Do(n,i,s,r,t[11],2304563134,22),r=Do(r,n,i,s,t[12],1804603682,7),s=Do(s,r,n,i,t[13],4254626195,12),i=Do(i,s,r,n,t[14],2792965006,17),n=Do(n,i,s,r,t[15],1236535329,22),r=Fo(r,n,i,s,t[1],4129170786,5),s=Fo(s,r,n,i,t[6],3225465664,9),i=Fo(i,s,r,n,t[11],643717713,14),n=Fo(n,i,s,r,t[0],3921069994,20),r=Fo(r,n,i,s,t[5],3593408605,5),s=Fo(s,r,n,i,t[10],38016083,9),i=Fo(i,s,r,n,t[15],3634488961,14),n=Fo(n,i,s,r,t[4],3889429448,20),r=Fo(r,n,i,s,t[9],568446438,5),s=Fo(s,r,n,i,t[14],3275163606,9),i=Fo(i,s,r,n,t[3],4107603335,14),n=Fo(n,i,s,r,t[8],1163531501,20),r=Fo(r,n,i,s,t[13],2850285829,5),s=Fo(s,r,n,i,t[2],4243563512,9),i=Fo(i,s,r,n,t[7],1735328473,14),n=Fo(n,i,s,r,t[12],2368359562,20),r=$o(r,n,i,s,t[5],4294588738,4),s=$o(s,r,n,i,t[8],2272392833,11),i=$o(i,s,r,n,t[11],1839030562,16),n=$o(n,i,s,r,t[14],4259657740,23),r=$o(r,n,i,s,t[1],2763975236,4),s=$o(s,r,n,i,t[4],1272893353,11),i=$o(i,s,r,n,t[7],4139469664,16),n=$o(n,i,s,r,t[10],3200236656,23),r=$o(r,n,i,s,t[13],681279174,4),s=$o(s,r,n,i,t[0],3936430074,11),i=$o(i,s,r,n,t[3],3572445317,16),n=$o(n,i,s,r,t[6],76029189,23),r=$o(r,n,i,s,t[9],3654602809,4),s=$o(s,r,n,i,t[12],3873151461,11),i=$o(i,s,r,n,t[15],530742520,16),n=$o(n,i,s,r,t[2],3299628645,23),r=Uo(r,n,i,s,t[0],4096336452,6),s=Uo(s,r,n,i,t[7],1126891415,10),i=Uo(i,s,r,n,t[14],2878612391,15),n=Uo(n,i,s,r,t[5],4237533241,21),r=Uo(r,n,i,s,t[12],1700485571,6),s=Uo(s,r,n,i,t[3],2399980690,10),i=Uo(i,s,r,n,t[10],4293915773,15),n=Uo(n,i,s,r,t[1],2240044497,21),r=Uo(r,n,i,s,t[8],1873313359,6),s=Uo(s,r,n,i,t[15],4264355552,10),i=Uo(i,s,r,n,t[6],2734768916,15),n=Uo(n,i,s,r,t[13],1309151649,21),r=Uo(r,n,i,s,t[4],4149444226,6),s=Uo(s,r,n,i,t[11],3174756917,10),i=Uo(i,s,r,n,t[2],718787259,15),n=Uo(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};k4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Met.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function T4(t,e){return t<<e|t>>>32-e}function Do(t,e,r,n,i,s,o){return T4(t+(e&r|~e&n)+i+s|0,o)+e|0}function Fo(t,e,r,n,i,s,o){return T4(t+(e&n|r&~n)+i+s|0,o)+e|0}function $o(t,e,r,n,i,s,o){return T4(t+(e^r^n)+i+s|0,o)+e|0}function Uo(t,e,r,n,i,s,o){return T4(t+(r^(e|~n))+i+s|0,o)+e|0}var LF=k4,eI=$r.Buffer,wfe=yfe.Transform,Pet=Br;function Net(t,e){if(!eI.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Ng(t){wfe.call(this),this._block=eI.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Pet(Ng,wfe);Ng.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Ng.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Ng.prototype.update=function(t,e){if(Net(t,"Data"),this._finalized)throw new Error("Digest already called");eI.isBuffer(t)||(t=eI.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Ng.prototype._update=function(){throw new Error("_update is not implemented")};Ng.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ng.prototype._digest=function(){throw new Error("_digest is not implemented")};var Bet=Ng,AN=Pe.Buffer,Oet=Br,Sfe=Bet,Let=new Array(16),YS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ZS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],XS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],QS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],JS=[0,1518500249,1859775393,2400959708,2840853838],e_=[1352829926,1548603684,1836072691,2053994217,0];function I4(){Sfe.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Oet(I4,Sfe);I4.prototype._update=function(){for(var t=Let,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._a|0,u=this._b|0,f=this._c|0,d=this._d|0,g=this._e|0,y=0;y<80;y+=1){var b,A;y<16?(b=wQ(r,n,i,s,o,t[YS[y]],JS[0],XS[y]),A=xQ(a,u,f,d,g,t[ZS[y]],e_[0],QS[y])):y<32?(b=SQ(r,n,i,s,o,t[YS[y]],JS[1],XS[y]),A=AQ(a,u,f,d,g,t[ZS[y]],e_[1],QS[y])):y<48?(b=_Q(r,n,i,s,o,t[YS[y]],JS[2],XS[y]),A=_Q(a,u,f,d,g,t[ZS[y]],e_[2],QS[y])):y<64?(b=AQ(r,n,i,s,o,t[YS[y]],JS[3],XS[y]),A=SQ(a,u,f,d,g,t[ZS[y]],e_[3],QS[y])):(b=xQ(r,n,i,s,o,t[YS[y]],JS[4],XS[y]),A=wQ(a,u,f,d,g,t[ZS[y]],e_[4],QS[y])),r=o,o=s,s=Nm(i,10),i=n,n=b,a=g,g=d,d=Nm(f,10),f=u,u=A}var x=this._b+i+d|0;this._b=this._c+s+g|0,this._c=this._d+o+a|0,this._d=this._e+r+u|0,this._e=this._a+n+f|0,this._a=x};I4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=AN.alloc?AN.alloc(20):new AN(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Nm(t,e){return t<<e|t>>>32-e}function wQ(t,e,r,n,i,s,o,a){return Nm(t+(e^r^n)+s+o|0,a)+i|0}function SQ(t,e,r,n,i,s,o,a){return Nm(t+(e&r|~e&n)+s+o|0,a)+i|0}function _Q(t,e,r,n,i,s,o,a){return Nm(t+((e|~r)^n)+s+o|0,a)+i|0}function AQ(t,e,r,n,i,s,o,a){return Nm(t+(e&n|r&~n)+s+o|0,a)+i|0}function xQ(t,e,r,n,i,s,o,a){return Nm(t+(e^(r|~n))+s+o|0,a)+i|0}var DF=I4,_fe={exports:{}},Afe=$r.Buffer;function R4(t,e){this._block=Afe.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}R4.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Afe.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),f=0;f<u;f++)r[a+f]=t[o+f];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};R4.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};R4.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var qw=R4,Det=Br,xfe=qw,Fet=$r.Buffer,$et=[1518500249,1859775393,-1894007588,-899497514],Uet=new Array(80);function l2(){this.init(),this._w=Uet,xfe.call(this,64,56)}Det(l2,xfe);l2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function zet(t){return t<<5|t>>>27}function Wet(t){return t<<30|t>>>2}function Ket(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}l2.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var f=~~(u/20),d=zet(r)+Ket(f,n,i,s)+o+e[u]+$et[f]|0;o=s,s=i,i=Wet(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};l2.prototype._hash=function(){var t=Fet.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var jet=l2,Het=Br,Efe=qw,qet=$r.Buffer,Vet=[1518500249,1859775393,-1894007588,-899497514],Get=new Array(80);function f2(){this.init(),this._w=Get,Efe.call(this,64,56)}Het(f2,Efe);f2.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Yet(t){return t<<1|t>>>31}function Zet(t){return t<<5|t>>>27}function Xet(t){return t<<30|t>>>2}function Qet(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}f2.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Yet(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var f=~~(u/20),d=Zet(r)+Qet(f,n,i,s)+o+e[u]+Vet[f]|0;o=s,s=i,i=Xet(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};f2.prototype._hash=function(){var t=qet.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Jet=f2,ett=Br,kfe=qw,ttt=$r.Buffer,rtt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ntt=new Array(64);function d2(){this.init(),this._w=ntt,kfe.call(this,64,56)}ett(d2,kfe);d2.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function itt(t,e,r){return r^t&(e^r)}function stt(t,e,r){return t&e|r&(t|e)}function ott(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function att(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function utt(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function ctt(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}d2.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,f=this._h|0,d=0;d<16;++d)e[d]=t.readInt32BE(d*4);for(;d<64;++d)e[d]=ctt(e[d-2])+e[d-7]+utt(e[d-15])+e[d-16]|0;for(var g=0;g<64;++g){var y=f+att(o)+itt(o,a,u)+rtt[g]+e[g]|0,b=ott(r)+stt(r,n,i)|0;f=u,u=a,a=o,o=s+y|0,s=i,i=n,n=r,r=y+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=f+this._h|0};d2.prototype._hash=function(){var t=ttt.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Tfe=d2,ltt=Br,ftt=Tfe,dtt=qw,htt=$r.Buffer,ptt=new Array(64);function M4(){this.init(),this._w=ptt,dtt.call(this,64,56)}ltt(M4,ftt);M4.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};M4.prototype._hash=function(){var t=htt.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var gtt=M4,mtt=Br,Ife=qw,ytt=$r.Buffer,EQ=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],btt=new Array(160);function h2(){this.init(),this._w=btt,Ife.call(this,128,112)}mtt(h2,Ife);h2.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function kQ(t,e,r){return r^t&(e^r)}function TQ(t,e,r){return t&e|r&(t|e)}function IQ(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function RQ(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function vtt(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function wtt(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Stt(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function _tt(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Vs(t,e){return t>>>0<e>>>0?1:0}h2.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,f=this._hh|0,d=this._al|0,g=this._bl|0,y=this._cl|0,b=this._dl|0,A=this._el|0,x=this._fl|0,k=this._gl|0,R=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var P=e[C-30],O=e[C-15*2+1],q=vtt(P,O),Q=wtt(O,P);P=e[C-2*2],O=e[C-2*2+1];var Y=Stt(P,O),X=_tt(O,P),Z=e[C-7*2],le=e[C-7*2+1],I=e[C-16*2],c=e[C-16*2+1],h=Q+le|0,p=q+Z+Vs(h,Q)|0;h=h+X|0,p=p+Y+Vs(h,X)|0,h=h+c|0,p=p+I+Vs(h,c)|0,e[C]=p,e[C+1]=h}for(var m=0;m<160;m+=2){p=e[m],h=e[m+1];var v=TQ(r,n,i),_=TQ(d,g,y),T=IQ(r,d),w=IQ(d,r),l=RQ(o,A),S=RQ(A,o),N=EQ[m],F=EQ[m+1],W=kQ(o,a,u),D=kQ(A,x,k),K=R+S|0,z=f+l+Vs(K,R)|0;K=K+D|0,z=z+W+Vs(K,D)|0,K=K+F|0,z=z+N+Vs(K,F)|0,K=K+h|0,z=z+p+Vs(K,h)|0;var G=w+_|0,te=T+v+Vs(G,w)|0;f=u,R=k,u=a,k=x,a=o,x=A,A=b+K|0,o=s+z+Vs(A,b)|0,s=i,b=y,i=n,y=g,n=r,g=d,d=K+G|0,r=z+te+Vs(d,K)|0}this._al=this._al+d|0,this._bl=this._bl+g|0,this._cl=this._cl+y|0,this._dl=this._dl+b|0,this._el=this._el+A|0,this._fl=this._fl+x|0,this._gl=this._gl+k|0,this._hl=this._hl+R|0,this._ah=this._ah+r+Vs(this._al,d)|0,this._bh=this._bh+n+Vs(this._bl,g)|0,this._ch=this._ch+i+Vs(this._cl,y)|0,this._dh=this._dh+s+Vs(this._dl,b)|0,this._eh=this._eh+o+Vs(this._el,A)|0,this._fh=this._fh+a+Vs(this._fl,x)|0,this._gh=this._gh+u+Vs(this._gl,k)|0,this._hh=this._hh+f+Vs(this._hl,R)|0};h2.prototype._hash=function(){var t=ytt.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Rfe=h2,Att=Br,xtt=Rfe,Ett=qw,ktt=$r.Buffer,Ttt=new Array(160);function C4(){this.init(),this._w=Ttt,Ett.call(this,128,112)}Att(C4,xtt);C4.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};C4.prototype._hash=function(){var t=ktt.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Itt=C4,dy=_fe.exports=function(e){e=e.toLowerCase();var r=dy[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};dy.sha=jet;dy.sha1=Jet;dy.sha224=gtt;dy.sha256=Tfe;dy.sha384=Itt;dy.sha512=Rfe;var FF=_fe.exports,Xl=$r.Buffer,Mfe=Hw.Transform,Rtt=QT.StringDecoder,Mtt=Br;function Pl(t){Mfe.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Mtt(Pl,Mfe);var Ctt=typeof Uint8Array<"u",Ptt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Xl.prototype instanceof Uint8Array||Xl.TYPED_ARRAY_SUPPORT);function Ntt(t,e){if(t instanceof Xl)return t;if(typeof t=="string")return Xl.from(t,e);if(Ptt&&ArrayBuffer.isView(t)){if(t.byteLength===0)return Xl.alloc(0);var r=Xl.from(t.buffer,t.byteOffset,t.byteLength);if(r.byteLength===t.byteLength)return r}if(Ctt&&t instanceof Uint8Array||Xl.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return Xl.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}Pl.prototype.update=function(t,e,r){var n=Ntt(t,e),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Pl.prototype.setAutoPadding=function(){};Pl.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Pl.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Pl.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Pl.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};Pl.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Pl.prototype._finalOrDigest=function(t){var e=this.__final()||Xl.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Pl.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new Rtt(e),this._encoding=e),this._encoding!==e)throw new Error("can’t switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var Bg=Pl,Btt=Br,Ott=LF,Ltt=DF,Dtt=FF,Cfe=Bg;function P4(t){Cfe.call(this,"digest"),this._hash=t}Btt(P4,Cfe);P4.prototype._update=function(t){this._hash.update(t)};P4.prototype._final=function(){return this._hash.digest()};var p2=function(e){return e=e.toLowerCase(),e==="md5"?new Ott:e==="rmd160"||e==="ripemd160"?new Ltt:new P4(Dtt(e))},Ftt=Br,P0=$r.Buffer,Pfe=Bg,$tt=P0.alloc(128),Yy=64;function N4(t,e){Pfe.call(this,"digest"),typeof e=="string"&&(e=P0.from(e)),this._alg=t,this._key=e,e.length>Yy?e=t(e):e.length<Yy&&(e=P0.concat([e,$tt],Yy));for(var r=this._ipad=P0.allocUnsafe(Yy),n=this._opad=P0.allocUnsafe(Yy),i=0;i<Yy;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}Ftt(N4,Pfe);N4.prototype._update=function(t){this._hash.push(t)};N4.prototype._final=function(){var t=this._alg(P0.concat(this._hash));return this._alg(P0.concat([this._opad,t]))};var Utt=N4,ztt=LF,Nfe=function(t){return new ztt().update(t).digest()},Wtt=Br,Ktt=Utt,Bfe=Bg,T_=$r.Buffer,jtt=Nfe,ML=DF,CL=FF,Htt=T_.alloc(128);function JA(t,e){Bfe.call(this,"digest"),typeof e=="string"&&(e=T_.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new ML:CL(t);e=n.update(e).digest()}else e.length<r&&(e=T_.concat([e,Htt],r));for(var i=this._ipad=T_.allocUnsafe(r),s=this._opad=T_.allocUnsafe(r),o=0;o<r;o++)i[o]=e[o]^54,s[o]=e[o]^92;this._hash=t==="rmd160"?new ML:CL(t),this._hash.update(i)}Wtt(JA,Bfe);JA.prototype._update=function(t){this._hash.update(t)};JA.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new ML:CL(this._alg);return e.update(this._opad).update(t).digest()};var Ofe=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new JA("rmd160",r):e==="md5"?new Ktt(jtt,r):new JA(e,r)};const qtt={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Vtt={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},Gtt={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},Ytt={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},Ztt={sign:"ecdsa",hash:"sha256",id:""},Xtt={sign:"ecdsa",hash:"sha224",id:""},Qtt={sign:"ecdsa",hash:"sha384",id:""},Jtt={sign:"ecdsa",hash:"sha512",id:""},ert={sign:"dsa",hash:"sha1",id:""},trt={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},rrt={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},Lfe={sha224WithRSAEncryption:qtt,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:Vtt,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:Gtt,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:Ytt,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:Ztt,sha224:Xtt,sha384:Qtt,sha512:Jtt,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:ert,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:trt,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:rrt,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var nrt=Lfe,B4={},irt=Math.pow(2,30)-1,Dfe=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>irt||e!==e)throw new TypeError("Bad key length")},I3;if(Lt.process&&Lt.process.browser)I3="utf-8";else if(Lt.process&&Lt.process.version){var srt=parseInt(Ie.process.version.split(".")[0].slice(1),10);I3=srt>=6?"utf-8":"binary"}else I3="utf-8";var Ffe=I3,xN=$r.Buffer,$fe=function(t,e,r){if(xN.isBuffer(t))return t;if(typeof t=="string")return xN.from(t,e);if(ArrayBuffer.isView(t))return xN.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},ort=Nfe,art=DF,urt=FF,N0=$r.Buffer,crt=Dfe,MQ=Ffe,CQ=$fe,lrt=N0.alloc(128),R3={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Ufe(t,e,r){var n=frt(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=N0.concat([e,lrt],i));for(var s=N0.allocUnsafe(i+R3[t]),o=N0.allocUnsafe(i+R3[t]),a=0;a<i;a++)s[a]=e[a]^54,o[a]=e[a]^92;var u=N0.allocUnsafe(i+r+4);s.copy(u,0,0,i),this.ipad1=u,this.ipad2=s,this.opad=o,this.alg=t,this.blocksize=i,this.hash=n,this.size=R3[t]}Ufe.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function frt(t){function e(n){return urt(t).update(n).digest()}function r(n){return new art().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?ort:e}function drt(t,e,r,n,i){crt(r,n),t=CQ(t,MQ,"Password"),e=CQ(e,MQ,"Salt"),i=i||"sha1";var s=new Ufe(i,t,e.length),o=N0.allocUnsafe(n),a=N0.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var u=0,f=R3[i],d=Math.ceil(n/f),g=1;g<=d;g++){a.writeUInt32BE(g,e.length);for(var y=s.run(a,s.ipad1),b=y,A=1;A<r;A++){b=s.run(b,s.ipad2);for(var x=0;x<f;x++)y[x]^=b[x]}y.copy(o,u),u+=f}return o}var zfe=drt,Wfe=$r.Buffer,hrt=Dfe,PQ=Ffe,NQ=zfe,BQ=$fe,Ak,uA=Lt.crypto&&Lt.crypto.subtle,prt={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},EN=[];function grt(t){if(Lt.process&&!Lt.process.browser||!uA||!uA.importKey||!uA.deriveBits)return Promise.resolve(!1);if(EN[t]!==void 0)return EN[t];Ak=Ak||Wfe.alloc(8);var e=Kfe(Ak,Ak,10,128,t).then(function(){return!0}).catch(function(){return!1});return EN[t]=e,e}var e0;function PL(){return e0||(Lt.process&&Lt.process.nextTick?e0=Lt.process.nextTick:Lt.queueMicrotask?e0=Lt.queueMicrotask:Lt.setImmediate?e0=Lt.setImmediate:e0=Lt.setTimeout,e0)}function Kfe(t,e,r,n,i){return uA.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return uA.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return Wfe.from(s)})}function mrt(t,e){t.then(function(r){PL()(function(){e(null,r)})},function(r){PL()(function(){e(r)})})}var yrt=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var o=prt[i.toLowerCase()];if(!o||typeof Lt.Promise!="function"){PL()(function(){var a;try{a=NQ(t,e,r,n,i)}catch(u){return s(u)}s(null,a)});return}if(hrt(r,n),t=BQ(t,PQ,"Password"),e=BQ(e,PQ,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");mrt(grt(o).then(function(a){return a?Kfe(t,e,r,n,o):NQ(t,e,r,n,i)}),s)};B4.pbkdf2=yrt;B4.pbkdf2Sync=zfe;var wl={},Vw={},Ku={};Ku.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Ku.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Ku.ip=function(e,r,n,i){for(var s=0,o=0,a=6;a>=0;a-=2){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>>u+a&1;for(var u=0;u<=24;u+=8)s<<=1,s|=e>>>u+a&1}for(var a=6;a>=0;a-=2){for(var u=1;u<=25;u+=8)o<<=1,o|=r>>>u+a&1;for(var u=1;u<=25;u+=8)o<<=1,o|=e>>>u+a&1}n[i+0]=s>>>0,n[i+1]=o>>>0};Ku.rip=function(e,r,n,i){for(var s=0,o=0,a=0;a<4;a++)for(var u=24;u>=0;u-=8)s<<=1,s|=r>>>u+a&1,s<<=1,s|=e>>>u+a&1;for(var a=4;a<8;a++)for(var u=24;u>=0;u-=8)o<<=1,o|=r>>>u+a&1,o<<=1,o|=e>>>u+a&1;n[i+0]=s>>>0,n[i+1]=o>>>0};Ku.pc1=function(e,r,n,i){for(var s=0,o=0,a=7;a>=5;a--){for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+a&1;for(var u=0;u<=24;u+=8)s<<=1,s|=e>>u+a&1}for(var u=0;u<=24;u+=8)s<<=1,s|=r>>u+a&1;for(var a=1;a<=3;a++){for(var u=0;u<=24;u+=8)o<<=1,o|=r>>u+a&1;for(var u=0;u<=24;u+=8)o<<=1,o|=e>>u+a&1}for(var u=0;u<=24;u+=8)o<<=1,o|=e>>u+a&1;n[i+0]=s>>>0,n[i+1]=o>>>0};Ku.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var xk=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Ku.pc2=function(e,r,n,i){for(var s=0,o=0,a=xk.length>>>1,u=0;u<a;u++)s<<=1,s|=e>>>xk[u]&1;for(var u=a;u<xk.length;u++)o<<=1,o|=r>>>xk[u]&1;n[i+0]=s>>>0,n[i+1]=o>>>0};Ku.expand=function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0};var OQ=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Ku.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,o=OQ[i*64+s];n<<=4,n|=o}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,o=OQ[4*64+i*64+s];n<<=4,n|=o}return n>>>0};var LQ=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Ku.permute=function(e){for(var r=0,n=0;n<LQ.length;n++)r<<=1,r|=e>>>LQ[n]&1;return r>>>0};Ku.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],o=0;o<r;o+=n)s.push(i.slice(o,o+n));return s.join(" ")};var Cc=jfe;function jfe(t,e){if(!t)throw new Error(e||"Assertion failed")}jfe.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var brt=Cc;function Pc(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}var $F=Pc;Pc.prototype._init=function(){};Pc.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};Pc.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};Pc.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};Pc.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};Pc.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s};Pc.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};Pc.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};Pc.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};Pc.prototype._unpad=function(e){return e};Pc.prototype._finalDecrypt=function(){brt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var Hfe=Cc,vrt=Br,Fs=Ku,qfe=$F;function wrt(){this.tmp=new Array(2),this.keys=null}function zf(t){qfe.call(this,t);var e=new wrt;this._desState=e,this.deriveKeys(e,t.key)}vrt(zf,qfe);var Vfe=zf;zf.create=function(e){return new zf(e)};var Srt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];zf.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),Hfe.equal(r.length,this.blockSize,"Invalid key length");var n=Fs.readUInt32BE(r,0),i=Fs.readUInt32BE(r,4);Fs.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=Srt[s>>>1];n=Fs.r28shl(n,o),i=Fs.r28shl(i,o),Fs.pc2(n,i,e.keys,s)}};zf.prototype._update=function(e,r,n,i){var s=this._desState,o=Fs.readUInt32BE(e,r),a=Fs.readUInt32BE(e,r+4);Fs.ip(o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,a,s.tmp,0):this._decrypt(s,o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],Fs.writeUInt32BE(n,o,i),Fs.writeUInt32BE(n,a,i+4)};zf.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};zf.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Hfe.equal(e[n],r);return e.slice(0,e.length-r)};zf.prototype._encrypt=function(e,r,n,i,s){for(var o=r,a=n,u=0;u<e.keys.length;u+=2){var f=e.keys[u],d=e.keys[u+1];Fs.expand(a,e.tmp,0),f^=e.tmp[0],d^=e.tmp[1];var g=Fs.substitute(f,d),y=Fs.permute(g),b=a;a=(o^y)>>>0,o=b}Fs.rip(a,o,i,s)};zf.prototype._decrypt=function(e,r,n,i,s){for(var o=n,a=r,u=e.keys.length-2;u>=0;u-=2){var f=e.keys[u],d=e.keys[u+1];Fs.expand(o,e.tmp,0),f^=e.tmp[0],d^=e.tmp[1];var g=Fs.substitute(f,d),y=Fs.permute(g),b=o;o=(a^y)>>>0,a=b}Fs.rip(o,a,i,s)};var Gfe={},_rt=Cc,Art=Br,tI={};function xrt(t){_rt.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Ert(t){function e(s){t.call(this,s),this._cbcInit()}Art(e,t);for(var r=Object.keys(tI),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=tI[i]}return e.create=function(o){return new e(o)},e}Gfe.instantiate=Ert;tI._cbcInit=function(){var e=new xrt(this.options.iv);this._cbcState=e};tI._update=function(e,r,n,i){var s=this._cbcState,o=this.constructor.super_.prototype,a=s.iv;if(this.type==="encrypt"){for(var u=0;u<this.blockSize;u++)a[u]^=e[r+u];o._update.call(this,a,0,n,i);for(var u=0;u<this.blockSize;u++)a[u]=n[i+u]}else{o._update.call(this,e,r,n,i);for(var u=0;u<this.blockSize;u++)n[i+u]^=a[u];for(var u=0;u<this.blockSize;u++)a[u]=e[r+u]}};var krt=Cc,Trt=Br,Yfe=$F,Ep=Vfe;function Irt(t,e){krt.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Ep.create({type:"encrypt",key:r}),Ep.create({type:"decrypt",key:n}),Ep.create({type:"encrypt",key:i})]:this.ciphers=[Ep.create({type:"decrypt",key:i}),Ep.create({type:"encrypt",key:n}),Ep.create({type:"decrypt",key:r})]}function Bm(t){Yfe.call(this,t);var e=new Irt(this.type,this.options.key);this._edeState=e}Trt(Bm,Yfe);var Rrt=Bm;Bm.create=function(e){return new Bm(e)};Bm.prototype._update=function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)};Bm.prototype._pad=Ep.prototype._pad;Bm.prototype._unpad=Ep.prototype._unpad;Vw.utils=Ku;Vw.Cipher=$F;Vw.DES=Vfe;Vw.CBC=Gfe;Vw.EDE=Rrt;var Zfe=Bg,Sd=Vw,Mrt=Br,b0=$r.Buffer,ex={"des-ede3-cbc":Sd.CBC.instantiate(Sd.EDE),"des-ede3":Sd.EDE,"des-ede-cbc":Sd.CBC.instantiate(Sd.EDE),"des-ede":Sd.EDE,"des-cbc":Sd.CBC.instantiate(Sd.DES),"des-ecb":Sd.DES};ex.des=ex["des-cbc"];ex.des3=ex["des-ede3-cbc"];var Crt=O4;Mrt(O4,Zfe);function O4(t){Zfe.call(this);var e=t.mode.toLowerCase(),r=ex[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;b0.isBuffer(i)||(i=b0.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=b0.concat([i,i.slice(0,8)]));var s=t.iv;b0.isBuffer(s)||(s=b0.from(s)),this._des=r.create({key:i,iv:s,type:n})}O4.prototype._update=function(t){return b0.from(this._des.update(t))};O4.prototype._final=function(){return b0.from(this._des.final())};var Bu={},UF={},zF={};zF.encrypt=function(t,e){return t._cipher.encryptBlock(e)};zF.decrypt=function(t,e){return t._cipher.decryptBlock(e)};var WF={},g2=function(e,r){for(var n=Math.min(e.length,r.length),i=new Ie.Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i},Xfe=g2;WF.encrypt=function(t,e){var r=Xfe(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};WF.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Xfe(n,r)};var Qfe={},I_=$r.Buffer,Prt=g2;function DQ(t,e,r){var n=e.length,i=Prt(e,t._cache);return t._cache=t._cache.slice(n),t._prev=I_.concat([t._prev,r?e:i]),i}Qfe.encrypt=function(t,e,r){for(var n=I_.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=I_.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=I_.concat([n,DQ(t,e.slice(0,i),r)]),e=e.slice(i);else{n=I_.concat([n,DQ(t,e,r)]);break}return n};var Jfe={},NL=$r.Buffer;function Nrt(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=NL.concat([t._prev.slice(1),NL.from([r?e:i])]),i}Jfe.encrypt=function(t,e,r){for(var n=e.length,i=NL.allocUnsafe(n),s=-1;++s<n;)i[s]=Nrt(t,e[s],r);return i};var ede={},M3=$r.Buffer;function Brt(t,e,r){for(var n,i=-1,s=8,o=0,a,u;++i<s;)n=t._cipher.encryptBlock(t._prev),a=e&1<<7-i?128:0,u=n[0]^a,o+=(u&128)>>i%8,t._prev=Ort(t._prev,r?a:u);return o}function Ort(t,e){var r=t.length,n=-1,i=M3.allocUnsafe(t.length);for(t=M3.concat([t,M3.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}ede.encrypt=function(t,e,r){for(var n=e.length,i=M3.allocUnsafe(n),s=-1;++s<n;)i[s]=Brt(t,e[s],r);return i};var tde={},Lrt=g2;function Drt(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}tde.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Ie.Buffer.concat([t._cache,Drt(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Lrt(e,r)};var BL={};function Frt(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}var rde=Frt,$rt=g2,FQ=$r.Buffer,Urt=rde;function zrt(t){var e=t._cipher.encryptBlockRaw(t._prev);return Urt(t._prev),e}var kN=16;BL.encrypt=function(t,e){var r=Math.ceil(e.length/kN),n=t._cache.length;t._cache=FQ.concat([t._cache,FQ.allocUnsafe(r*kN)]);for(var i=0;i<r;i++){var s=zrt(t),o=n+i*kN;t._cache.writeUInt32BE(s[0],o+0),t._cache.writeUInt32BE(s[1],o+4),t._cache.writeUInt32BE(s[2],o+8),t._cache.writeUInt32BE(s[3],o+12)}var a=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),$rt(e,a)};const Wrt={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},Krt={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},jrt={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},nde={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:Wrt,aes192:Krt,aes256:jrt,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Hrt={ECB:zF,CBC:WF,CFB:Qfe,CFB8:Jfe,CFB1:ede,OFB:tde,CTR:BL,GCM:BL},C3=nde;for(var $Q in C3)C3[$Q].module=Hrt[C3[$Q].mode];var KF=C3,m2={},rI=$r.Buffer;function jF(t){rI.isBuffer(t)||(t=rI.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function TN(t){for(var e=0;e<t.length;t++)t[e]=0}function ide(t,e,r,n,i){for(var s=r[0],o=r[1],a=r[2],u=r[3],f=t[0]^e[0],d=t[1]^e[1],g=t[2]^e[2],y=t[3]^e[3],b,A,x,k,R=4,C=1;C<i;C++)b=s[f>>>24]^o[d>>>16&255]^a[g>>>8&255]^u[y&255]^e[R++],A=s[d>>>24]^o[g>>>16&255]^a[y>>>8&255]^u[f&255]^e[R++],x=s[g>>>24]^o[y>>>16&255]^a[f>>>8&255]^u[d&255]^e[R++],k=s[y>>>24]^o[f>>>16&255]^a[d>>>8&255]^u[g&255]^e[R++],f=b,d=A,g=x,y=k;return b=(n[f>>>24]<<24|n[d>>>16&255]<<16|n[g>>>8&255]<<8|n[y&255])^e[R++],A=(n[d>>>24]<<24|n[g>>>16&255]<<16|n[y>>>8&255]<<8|n[f&255])^e[R++],x=(n[g>>>24]<<24|n[y>>>16&255]<<16|n[f>>>8&255]<<8|n[d&255])^e[R++],k=(n[y>>>24]<<24|n[f>>>16&255]<<16|n[d>>>8&255]<<8|n[g&255])^e[R++],b=b>>>0,A=A>>>0,x=x>>>0,k=k>>>0,[b,A,x,k]}var qrt=[0,1,2,4,8,16,32,64,128,27,54],As=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var f=a^a<<1^a<<2^a<<3^a<<4;f=f>>>8^f&255^99,r[o]=f,n[f]=o;var d=t[o],g=t[d],y=t[g],b=t[f]*257^f*16843008;i[0][o]=b<<24|b>>>8,i[1][o]=b<<16|b>>>16,i[2][o]=b<<8|b>>>24,i[3][o]=b,b=y*16843009^g*65537^d*257^o*16843008,s[0][f]=b<<24|b>>>8,s[1][f]=b<<16|b>>>16,s[2][f]=b<<8|b>>>24,s[3][f]=b,o===0?o=a=1:(o=d^t[t[t[y^d]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function Ec(t){this._key=jF(t),this._reset()}Ec.blockSize=4*4;Ec.keySize=256/8;Ec.prototype.blockSize=Ec.blockSize;Ec.prototype.keySize=Ec.keySize;Ec.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var o=i[s-1];s%e===0?(o=o<<8|o>>>24,o=As.SBOX[o>>>24]<<24|As.SBOX[o>>>16&255]<<16|As.SBOX[o>>>8&255]<<8|As.SBOX[o&255],o^=qrt[s/e|0]<<24):e>6&&s%e===4&&(o=As.SBOX[o>>>24]<<24|As.SBOX[o>>>16&255]<<16|As.SBOX[o>>>8&255]<<8|As.SBOX[o&255]),i[s]=i[s-e]^o}for(var a=[],u=0;u<n;u++){var f=n-u,d=i[f-(u%4?0:4)];u<4||f<=4?a[u]=d:a[u]=As.INV_SUB_MIX[0][As.SBOX[d>>>24]]^As.INV_SUB_MIX[1][As.SBOX[d>>>16&255]]^As.INV_SUB_MIX[2][As.SBOX[d>>>8&255]]^As.INV_SUB_MIX[3][As.SBOX[d&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a};Ec.prototype.encryptBlockRaw=function(t){return t=jF(t),ide(t,this._keySchedule,As.SUB_MIX,As.SBOX,this._nRounds)};Ec.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=rI.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};Ec.prototype.decryptBlock=function(t){t=jF(t);var e=t[1];t[1]=t[3],t[3]=e;var r=ide(t,this._invKeySchedule,As.INV_SUB_MIX,As.INV_SBOX,this._nRounds),n=rI.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};Ec.prototype.scrub=function(){TN(this._keySchedule),TN(this._invKeySchedule),TN(this._key)};m2.AES=Ec;var nw=$r.Buffer,Vrt=nw.alloc(16,0);function Grt(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function sde(t){var e=nw.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function y2(t){this.h=t,this.state=nw.alloc(16,0),this.cache=nw.allocUnsafe(0)}y2.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};y2.prototype._multiply=function(){for(var t=Grt(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=sde(e)};y2.prototype.update=function(t){this.cache=nw.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};y2.prototype.final=function(t,e){return this.cache.length&&this.ghash(nw.concat([this.cache,Vrt],16)),this.ghash(sde([0,t,0,e])),this.state};var Yrt=y2,Zrt=m2,Wa=$r.Buffer,ode=Bg,Xrt=Br,ade=Yrt,Qrt=g2,Jrt=rde;function ent(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function tnt(t,e,r){if(e.length===12)return t._finID=Wa.concat([e,Wa.from([0,0,0,1])]),Wa.concat([e,Wa.from([0,0,0,2])]);var n=new ade(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(Wa.alloc(s,0))),n.update(Wa.alloc(8,0));var o=i*8,a=Wa.alloc(8);a.writeUIntBE(o,0,8),n.update(a),t._finID=n.state;var u=Wa.from(t._finID);return Jrt(u),u}function hy(t,e,r,n){ode.call(this);var i=Wa.alloc(4,0);this._cipher=new Zrt.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new ade(s),r=tnt(this,r,s),this._prev=Wa.from(r),this._cache=Wa.allocUnsafe(0),this._secCache=Wa.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Xrt(hy,ode);hy.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Wa.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};hy.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Qrt(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&ent(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};hy.prototype.getAuthTag=function(){if(this._decrypt||!Wa.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};hy.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};hy.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var ude=hy,rnt=m2,IN=$r.Buffer,cde=Bg,nnt=Br;function L4(t,e,r,n){cde.call(this),this._cipher=new rnt.AES(e),this._prev=IN.from(r),this._cache=IN.allocUnsafe(0),this._secCache=IN.allocUnsafe(0),this._decrypt=n,this._mode=t}nnt(L4,cde);L4.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};L4.prototype._final=function(){this._cipher.scrub()};var lde=L4,t0=$r.Buffer,int=LF;function snt(t,e,r,n){if(t0.isBuffer(t)||(t=t0.from(t,"binary")),e&&(t0.isBuffer(e)||(e=t0.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=t0.alloc(i),o=t0.alloc(n||0),a=t0.alloc(0);i>0||n>0;){var u=new int;u.update(a),u.update(t),e&&u.update(e),a=u.digest();var f=0;if(i>0){var d=s.length-i;f=Math.min(i,a.length),a.copy(s,d,0,f),i-=f}if(f<a.length&&n>0){var g=o.length-n,y=Math.min(n,a.length-f);a.copy(o,g,f,f+y),n-=y}}return a.fill(0),{key:s,iv:o}}var D4=snt,fde=KF,ont=ude,Ph=$r.Buffer,ant=lde,dde=Bg,unt=m2,cnt=D4,lnt=Br;function b2(t,e,r){dde.call(this),this._cache=new F4,this._cipher=new unt.AES(e),this._prev=Ph.from(r),this._mode=t,this._autopadding=!0}lnt(b2,dde);b2.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Ph.concat(n)};var fnt=Ph.alloc(16,16);b2.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(fnt))throw this._cipher.scrub(),new Error("data not multiple of block length")};b2.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function F4(){this.cache=Ph.allocUnsafe(0)}F4.prototype.add=function(t){this.cache=Ph.concat([this.cache,t])};F4.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};F4.prototype.flush=function(){for(var t=16-this.cache.length,e=Ph.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Ph.concat([this.cache,e])};function hde(t,e,r){var n=fde[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Ph.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Ph.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new ant(n.module,e,r):n.type==="auth"?new ont(n.module,e,r):new b2(n.module,e,r)}function dnt(t,e){var r=fde[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=cnt(e,!1,r.key,r.iv);return hde(t,n.key,n.iv)}UF.createCipheriv=hde;UF.createCipher=dnt;var HF={},hnt=ude,iw=$r.Buffer,pde=KF,pnt=lde,gde=Bg,gnt=m2,mnt=D4,ynt=Br;function v2(t,e,r){gde.call(this),this._cache=new $4,this._last=void 0,this._cipher=new gnt.AES(e),this._prev=iw.from(r),this._mode=t,this._autopadding=!0}ynt(v2,gde);v2.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return iw.concat(n)};v2.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return bnt(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};v2.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function $4(){this.cache=iw.allocUnsafe(0)}$4.prototype.add=function(t){this.cache=iw.concat([this.cache,t])};$4.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};$4.prototype.flush=function(){if(this.cache.length)return this.cache};function bnt(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function mde(t,e,r){var n=pde[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=iw.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=iw.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new pnt(n.module,e,r,!0):n.type==="auth"?new hnt(n.module,e,r,!0):new v2(n.module,e,r)}function vnt(t,e){var r=pde[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=mnt(e,!1,r.key,r.iv);return mde(t,n.key,n.iv)}HF.createDecipher=vnt;HF.createDecipheriv=mde;var yde=UF,bde=HF,wnt=nde;function Snt(){return Object.keys(wnt)}Bu.createCipher=Bu.Cipher=yde.createCipher;Bu.createCipheriv=Bu.Cipheriv=yde.createCipheriv;Bu.createDecipher=Bu.Decipher=bde.createDecipher;Bu.createDecipheriv=Bu.Decipheriv=bde.createDecipheriv;Bu.listCiphers=Bu.getCiphers=Snt;var vde={};(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(vde);var wde=Crt,qF=Bu,ag=KF,Sh=vde,Sde=D4;function _nt(t,e){t=t.toLowerCase();var r,n;if(ag[t])r=ag[t].key,n=ag[t].iv;else if(Sh[t])r=Sh[t].key*8,n=Sh[t].iv;else throw new TypeError("invalid suite type");var i=Sde(e,!1,r,n);return _de(t,i.key,i.iv)}function Ant(t,e){t=t.toLowerCase();var r,n;if(ag[t])r=ag[t].key,n=ag[t].iv;else if(Sh[t])r=Sh[t].key*8,n=Sh[t].iv;else throw new TypeError("invalid suite type");var i=Sde(e,!1,r,n);return Ade(t,i.key,i.iv)}function _de(t,e,r){if(t=t.toLowerCase(),ag[t])return qF.createCipheriv(t,e,r);if(Sh[t])return new wde({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function Ade(t,e,r){if(t=t.toLowerCase(),ag[t])return qF.createDecipheriv(t,e,r);if(Sh[t])return new wde({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function xnt(){return Object.keys(Sh).concat(qF.getCiphers())}wl.createCipher=wl.Cipher=_nt;wl.createCipheriv=wl.Cipheriv=_de;wl.createDecipher=wl.Decipher=Ant;wl.createDecipheriv=wl.Decipheriv=Ade;wl.listCiphers=wl.getCiphers=xnt;var r0={},VF={exports:{}};VF.exports;(function(t){(function(e,r){function n(I,c){if(!I)throw new Error(c||"Assertion failed")}function i(I,c){I.super_=c;var h=function(){};h.prototype=c.prototype,I.prototype=new h,I.prototype.constructor=I}function s(I,c,h){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(I||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,T=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function a(I,c){var h=I.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(I,c,h){var p=a(I,h);return h-1>=c&&(p|=a(I,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,T;if(p==="be")for(m=c.length-1;m>=h;m-=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8}this.strip()};function f(I,c,h,p){for(var m=0,v=Math.min(I.length,h),_=c;_<v;_++){var T=I.charCodeAt(_)-48;m*=p,T>=49?m+=T-49+10:T>=17?m+=T-17+10:m+=T}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,T=_%m,w=Math.min(_,_-T)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(T!==0){var N=1;for(l=f(c,S,c.length,h),S=0;S<T;S++)N*=h;this.imuln(N),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var T=this.words[_],w=((T<<m|v)&16777215).toString(16);v=T>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var F=N.modn(S).toString(c);N=N.idivn(S),N.isZero()?p=F+p:p=d[l-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",T=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[l]=w;for(;l<v;l++)T[l]=0}else{for(l=0;l<v-m;l++)T[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[v-l-1]=w}return T},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(I){for(var c=new Array(I.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(I.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,T=0;T<v.length;T++)h=(m.words[T]|0)-(v.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;for(;_!==0&&T<m.length;T++)h=(m.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;if(_===0&&T<m.length&&m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this.length=Math.max(this.length,T),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(I,c,h){h.negative=c.negative^I.negative;var p=I.length+c.length|0;h.length=p,p=p-1|0;var m=I.words[0]|0,v=c.words[0]|0,_=m*v,T=_&67108863,w=_/67108864|0;h.words[0]=T;for(var l=1;l<p;l++){for(var S=w>>>26,N=w&67108863,F=Math.min(l,c.length-1),W=Math.max(0,l-I.length+1);W<=F;W++){var D=l-W|0;m=I.words[D]|0,v=c.words[W]|0,_=m*v+N,S+=_/67108864|0,N=_&67108863}h.words[l]=N|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,T=0,w,l,S,N=m[0]|0,F=N&8191,W=N>>>13,D=m[1]|0,K=D&8191,z=D>>>13,G=m[2]|0,te=G&8191,ie=G>>>13,J=m[3]|0,V=J&8191,fe=J>>>13,Te=m[4]|0,Re=Te&8191,H=Te>>>13,oe=m[5]|0,ae=oe&8191,ce=oe>>>13,Oe=m[6]|0,_e=Oe&8191,Ne=Oe>>>13,wt=m[7]|0,ge=wt&8191,ye=wt>>>13,Ge=m[8]|0,se=Ge&8191,j=Ge>>>13,re=m[9]|0,ue=re&8191,me=re>>>13,Be=v[0]|0,Ae=Be&8191,ze=Be>>>13,$t=v[1]|0,Ke=$t&8191,qe=$t>>>13,Nt=v[2]|0,Ye=Nt&8191,ut=Nt>>>13,kr=v[3]|0,Qe=kr&8191,ct=kr>>>13,Ir=v[4]|0,Je=Ir&8191,lt=Ir>>>13,Tr=v[5]|0,et=Tr&8191,ft=Tr>>>13,Rr=v[6]|0,Xe=Rr&8191,dt=Rr>>>13,Er=v[7]|0,tt=Er&8191,ht=Er>>>13,Mr=v[8]|0,rt=Mr&8191,pt=Mr>>>13,Cr=v[9]|0,nt=Cr&8191,gt=Cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(F,Ae),l=Math.imul(F,ze),l=l+Math.imul(W,Ae)|0,S=Math.imul(W,ze);var hr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,w=Math.imul(K,Ae),l=Math.imul(K,ze),l=l+Math.imul(z,Ae)|0,S=Math.imul(z,ze),w=w+Math.imul(F,Ke)|0,l=l+Math.imul(F,qe)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,qe)|0;var yr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(te,Ae),l=Math.imul(te,ze),l=l+Math.imul(ie,Ae)|0,S=Math.imul(ie,ze),w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,qe)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,qe)|0,w=w+Math.imul(F,Ye)|0,l=l+Math.imul(F,ut)|0,l=l+Math.imul(W,Ye)|0,S=S+Math.imul(W,ut)|0;var pn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(V,Ae),l=Math.imul(V,ze),l=l+Math.imul(fe,Ae)|0,S=Math.imul(fe,ze),w=w+Math.imul(te,Ke)|0,l=l+Math.imul(te,qe)|0,l=l+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,qe)|0,w=w+Math.imul(K,Ye)|0,l=l+Math.imul(K,ut)|0,l=l+Math.imul(z,Ye)|0,S=S+Math.imul(z,ut)|0,w=w+Math.imul(F,Qe)|0,l=l+Math.imul(F,ct)|0,l=l+Math.imul(W,Qe)|0,S=S+Math.imul(W,ct)|0;var gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(Re,Ae),l=Math.imul(Re,ze),l=l+Math.imul(H,Ae)|0,S=Math.imul(H,ze),w=w+Math.imul(V,Ke)|0,l=l+Math.imul(V,qe)|0,l=l+Math.imul(fe,Ke)|0,S=S+Math.imul(fe,qe)|0,w=w+Math.imul(te,Ye)|0,l=l+Math.imul(te,ut)|0,l=l+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ut)|0,w=w+Math.imul(K,Qe)|0,l=l+Math.imul(K,ct)|0,l=l+Math.imul(z,Qe)|0,S=S+Math.imul(z,ct)|0,w=w+Math.imul(F,Je)|0,l=l+Math.imul(F,lt)|0,l=l+Math.imul(W,Je)|0,S=S+Math.imul(W,lt)|0;var mn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,w=Math.imul(ae,Ae),l=Math.imul(ae,ze),l=l+Math.imul(ce,Ae)|0,S=Math.imul(ce,ze),w=w+Math.imul(Re,Ke)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(H,Ke)|0,S=S+Math.imul(H,qe)|0,w=w+Math.imul(V,Ye)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(fe,Ye)|0,S=S+Math.imul(fe,ut)|0,w=w+Math.imul(te,Qe)|0,l=l+Math.imul(te,ct)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,ct)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,lt)|0,l=l+Math.imul(z,Je)|0,S=S+Math.imul(z,lt)|0,w=w+Math.imul(F,et)|0,l=l+Math.imul(F,ft)|0,l=l+Math.imul(W,et)|0,S=S+Math.imul(W,ft)|0;var yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(_e,Ae),l=Math.imul(_e,ze),l=l+Math.imul(Ne,Ae)|0,S=Math.imul(Ne,ze),w=w+Math.imul(ae,Ke)|0,l=l+Math.imul(ae,qe)|0,l=l+Math.imul(ce,Ke)|0,S=S+Math.imul(ce,qe)|0,w=w+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,ut)|0,l=l+Math.imul(H,Ye)|0,S=S+Math.imul(H,ut)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,ct)|0,w=w+Math.imul(te,Je)|0,l=l+Math.imul(te,lt)|0,l=l+Math.imul(ie,Je)|0,S=S+Math.imul(ie,lt)|0,w=w+Math.imul(K,et)|0,l=l+Math.imul(K,ft)|0,l=l+Math.imul(z,et)|0,S=S+Math.imul(z,ft)|0,w=w+Math.imul(F,Xe)|0,l=l+Math.imul(F,dt)|0,l=l+Math.imul(W,Xe)|0,S=S+Math.imul(W,dt)|0;var bn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ge,Ae),l=Math.imul(ge,ze),l=l+Math.imul(ye,Ae)|0,S=Math.imul(ye,ze),w=w+Math.imul(_e,Ke)|0,l=l+Math.imul(_e,qe)|0,l=l+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,qe)|0,w=w+Math.imul(ae,Ye)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ut)|0,w=w+Math.imul(Re,Qe)|0,l=l+Math.imul(Re,ct)|0,l=l+Math.imul(H,Qe)|0,S=S+Math.imul(H,ct)|0,w=w+Math.imul(V,Je)|0,l=l+Math.imul(V,lt)|0,l=l+Math.imul(fe,Je)|0,S=S+Math.imul(fe,lt)|0,w=w+Math.imul(te,et)|0,l=l+Math.imul(te,ft)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,ft)|0,w=w+Math.imul(K,Xe)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(z,Xe)|0,S=S+Math.imul(z,dt)|0,w=w+Math.imul(F,tt)|0,l=l+Math.imul(F,ht)|0,l=l+Math.imul(W,tt)|0,S=S+Math.imul(W,ht)|0;var Tn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(se,Ae),l=Math.imul(se,ze),l=l+Math.imul(j,Ae)|0,S=Math.imul(j,ze),w=w+Math.imul(ge,Ke)|0,l=l+Math.imul(ge,qe)|0,l=l+Math.imul(ye,Ke)|0,S=S+Math.imul(ye,qe)|0,w=w+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,ut)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,ct)|0,w=w+Math.imul(Re,Je)|0,l=l+Math.imul(Re,lt)|0,l=l+Math.imul(H,Je)|0,S=S+Math.imul(H,lt)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,ft)|0,w=w+Math.imul(te,Xe)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ie,Xe)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(K,tt)|0,l=l+Math.imul(K,ht)|0,l=l+Math.imul(z,tt)|0,S=S+Math.imul(z,ht)|0,w=w+Math.imul(F,rt)|0,l=l+Math.imul(F,pt)|0,l=l+Math.imul(W,rt)|0,S=S+Math.imul(W,pt)|0;var Vn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(ue,Ae),l=Math.imul(ue,ze),l=l+Math.imul(me,Ae)|0,S=Math.imul(me,ze),w=w+Math.imul(se,Ke)|0,l=l+Math.imul(se,qe)|0,l=l+Math.imul(j,Ke)|0,S=S+Math.imul(j,qe)|0,w=w+Math.imul(ge,Ye)|0,l=l+Math.imul(ge,ut)|0,l=l+Math.imul(ye,Ye)|0,S=S+Math.imul(ye,ut)|0,w=w+Math.imul(_e,Qe)|0,l=l+Math.imul(_e,ct)|0,l=l+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,ct)|0,w=w+Math.imul(ae,Je)|0,l=l+Math.imul(ae,lt)|0,l=l+Math.imul(ce,Je)|0,S=S+Math.imul(ce,lt)|0,w=w+Math.imul(Re,et)|0,l=l+Math.imul(Re,ft)|0,l=l+Math.imul(H,et)|0,S=S+Math.imul(H,ft)|0,w=w+Math.imul(V,Xe)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,dt)|0,w=w+Math.imul(te,tt)|0,l=l+Math.imul(te,ht)|0,l=l+Math.imul(ie,tt)|0,S=S+Math.imul(ie,ht)|0,w=w+Math.imul(K,rt)|0,l=l+Math.imul(K,pt)|0,l=l+Math.imul(z,rt)|0,S=S+Math.imul(z,pt)|0,w=w+Math.imul(F,nt)|0,l=l+Math.imul(F,gt)|0,l=l+Math.imul(W,nt)|0,S=S+Math.imul(W,gt)|0;var In=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ue,Ke),l=Math.imul(ue,qe),l=l+Math.imul(me,Ke)|0,S=Math.imul(me,qe),w=w+Math.imul(se,Ye)|0,l=l+Math.imul(se,ut)|0,l=l+Math.imul(j,Ye)|0,S=S+Math.imul(j,ut)|0,w=w+Math.imul(ge,Qe)|0,l=l+Math.imul(ge,ct)|0,l=l+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,ct)|0,w=w+Math.imul(_e,Je)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Ne,Je)|0,S=S+Math.imul(Ne,lt)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(ce,et)|0,S=S+Math.imul(ce,ft)|0,w=w+Math.imul(Re,Xe)|0,l=l+Math.imul(Re,dt)|0,l=l+Math.imul(H,Xe)|0,S=S+Math.imul(H,dt)|0,w=w+Math.imul(V,tt)|0,l=l+Math.imul(V,ht)|0,l=l+Math.imul(fe,tt)|0,S=S+Math.imul(fe,ht)|0,w=w+Math.imul(te,rt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,pt)|0,w=w+Math.imul(K,nt)|0,l=l+Math.imul(K,gt)|0,l=l+Math.imul(z,nt)|0,S=S+Math.imul(z,gt)|0;var Gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(ue,Ye),l=Math.imul(ue,ut),l=l+Math.imul(me,Ye)|0,S=Math.imul(me,ut),w=w+Math.imul(se,Qe)|0,l=l+Math.imul(se,ct)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,ct)|0,w=w+Math.imul(ge,Je)|0,l=l+Math.imul(ge,lt)|0,l=l+Math.imul(ye,Je)|0,S=S+Math.imul(ye,lt)|0,w=w+Math.imul(_e,et)|0,l=l+Math.imul(_e,ft)|0,l=l+Math.imul(Ne,et)|0,S=S+Math.imul(Ne,ft)|0,w=w+Math.imul(ae,Xe)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(ce,Xe)|0,S=S+Math.imul(ce,dt)|0,w=w+Math.imul(Re,tt)|0,l=l+Math.imul(Re,ht)|0,l=l+Math.imul(H,tt)|0,S=S+Math.imul(H,ht)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,pt)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,pt)|0,w=w+Math.imul(te,nt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,gt)|0;var Yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(ue,Qe),l=Math.imul(ue,ct),l=l+Math.imul(me,Qe)|0,S=Math.imul(me,ct),w=w+Math.imul(se,Je)|0,l=l+Math.imul(se,lt)|0,l=l+Math.imul(j,Je)|0,S=S+Math.imul(j,lt)|0,w=w+Math.imul(ge,et)|0,l=l+Math.imul(ge,ft)|0,l=l+Math.imul(ye,et)|0,S=S+Math.imul(ye,ft)|0,w=w+Math.imul(_e,Xe)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Ne,Xe)|0,S=S+Math.imul(Ne,dt)|0,w=w+Math.imul(ae,tt)|0,l=l+Math.imul(ae,ht)|0,l=l+Math.imul(ce,tt)|0,S=S+Math.imul(ce,ht)|0,w=w+Math.imul(Re,rt)|0,l=l+Math.imul(Re,pt)|0,l=l+Math.imul(H,rt)|0,S=S+Math.imul(H,pt)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,gt)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,gt)|0;var Zn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(ue,Je),l=Math.imul(ue,lt),l=l+Math.imul(me,Je)|0,S=Math.imul(me,lt),w=w+Math.imul(se,et)|0,l=l+Math.imul(se,ft)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,ft)|0,w=w+Math.imul(ge,Xe)|0,l=l+Math.imul(ge,dt)|0,l=l+Math.imul(ye,Xe)|0,S=S+Math.imul(ye,dt)|0,w=w+Math.imul(_e,tt)|0,l=l+Math.imul(_e,ht)|0,l=l+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,ht)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,pt)|0,l=l+Math.imul(ce,rt)|0,S=S+Math.imul(ce,pt)|0,w=w+Math.imul(Re,nt)|0,l=l+Math.imul(Re,gt)|0,l=l+Math.imul(H,nt)|0,S=S+Math.imul(H,gt)|0;var Fn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(ue,et),l=Math.imul(ue,ft),l=l+Math.imul(me,et)|0,S=Math.imul(me,ft),w=w+Math.imul(se,Xe)|0,l=l+Math.imul(se,dt)|0,l=l+Math.imul(j,Xe)|0,S=S+Math.imul(j,dt)|0,w=w+Math.imul(ge,tt)|0,l=l+Math.imul(ge,ht)|0,l=l+Math.imul(ye,tt)|0,S=S+Math.imul(ye,ht)|0,w=w+Math.imul(_e,rt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(Ne,rt)|0,S=S+Math.imul(Ne,pt)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,gt)|0,l=l+Math.imul(ce,nt)|0,S=S+Math.imul(ce,gt)|0;var $n=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(ue,Xe),l=Math.imul(ue,dt),l=l+Math.imul(me,Xe)|0,S=Math.imul(me,dt),w=w+Math.imul(se,tt)|0,l=l+Math.imul(se,ht)|0,l=l+Math.imul(j,tt)|0,S=S+Math.imul(j,ht)|0,w=w+Math.imul(ge,rt)|0,l=l+Math.imul(ge,pt)|0,l=l+Math.imul(ye,rt)|0,S=S+Math.imul(ye,pt)|0,w=w+Math.imul(_e,nt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,gt)|0;var Un=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ue,tt),l=Math.imul(ue,ht),l=l+Math.imul(me,tt)|0,S=Math.imul(me,ht),w=w+Math.imul(se,rt)|0,l=l+Math.imul(se,pt)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,pt)|0,w=w+Math.imul(ge,nt)|0,l=l+Math.imul(ge,gt)|0,l=l+Math.imul(ye,nt)|0,S=S+Math.imul(ye,gt)|0;var Xn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(ue,rt),l=Math.imul(ue,pt),l=l+Math.imul(me,rt)|0,S=Math.imul(me,pt),w=w+Math.imul(se,nt)|0,l=l+Math.imul(se,gt)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,gt)|0;var Qn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(ue,nt),l=Math.imul(ue,gt),l=l+Math.imul(me,nt)|0,S=Math.imul(me,gt);var Jn=(T+w|0)+((l&8191)<<13)|0;return T=(S+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_[0]=hr,_[1]=yr,_[2]=pn,_[3]=gn,_[4]=mn,_[5]=yn,_[6]=bn,_[7]=Tn,_[8]=Vn,_[9]=In,_[10]=Gn,_[11]=Yn,_[12]=Zn,_[13]=Fn,_[14]=$n,_[15]=Un,_[16]=Xn,_[17]=Qn,_[18]=Jn,T!==0&&(_[19]=T,p.length++),p};Math.imul||(x=A);function k(I,c,h){h.negative=c.negative^I.negative,h.length=I.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var T=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-I.length+1);l<=w;l++){var S=v-l,N=I.words[S]|0,F=c.words[l]|0,W=N*F,D=W&67108863;_=_+(W/67108864|0)|0,D=D+T|0,T=D&67108863,_=_+(D>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=T,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function R(I,c,h){var p=new C;return p.mulp(I,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=R(this,c,h),p};function C(I,c){this.x=I,this.y=c}C.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},C.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},C.prototype.permute=function(c,h,p,m,v,_){for(var T=0;T<_;T++)m[T]=h[c[T]],v[T]=p[c[T]]},C.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),N=0;N<v;N+=w)for(var F=l,W=S,D=0;D<T;D++){var K=p[N+D],z=m[N+D],G=p[N+D+T],te=m[N+D+T],ie=F*G-W*te;te=F*te+W*G,G=ie,p[N+D]=K+G,m[N+D]=z+te,p[N+D+T]=K-G,m[N+D+T]=z-te,D!==w&&(ie=l*F-S*W,W=l*W+S*F,F=ie)}},C.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},C.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},C.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},C.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},C.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},C.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),T=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),N=new Array(m),F=new Array(m),W=p.words;W.length=m,this.convert13b(c.words,c.length,T,m),this.convert13b(h.words,h.length,S,m),this.transform(T,_,w,l,m,v),this.transform(S,_,N,F,m,v);for(var D=0;D<m;D++){var K=w[D]*N[D]-l[D]*F[D];l[D]=w[D]*F[D]+l[D]*N[D],w[D]=K}return this.conjugate(w,l,m),this.transform(w,l,W,_,m,v),this.conjugate(W,_,m),this.normalize13b(W,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),R(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var T=this.words[v]&m,w=(this.words[v]|0)-T<<h;this.words[v]=w|_,_=T>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var N=this.words[l]|0;this.words[l]=S<<26-v|N>>>v,S=N&T}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,T=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*h;_-=w&67108863,T=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+T,T=_>>26,this.words[v+p]=_&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+T,T=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,T=this._countBits(_);p=26-T,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var N=m.clone()._ishlnsubmul(v,1,w);N.negative===0&&(m=N,l&&(l.words[w]=1));for(var F=w-1;F>=0;F--){var W=(m.words[v.length+F]|0)*67108864+(m.words[v.length+F-1]|0);for(W=Math.min(W/_|0,67108863),m._ishlnsubmul(v,W,F);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(v,1,F),m.isZero()||(m.negative^=1);l&&(l.words[F]=W)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),T=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var N=0,F=1;!(h.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var W=0,D=1;!(p.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(p.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(l),T.isub(S)),_.iushrn(1),T.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(T)):(p.isub(h),_.isub(m),T.isub(v))}return{a:_,b:T,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(h.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(h.iushrn(T);T-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var N;return h.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(c),N},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var T=this.words[_]|0;T+=v,v=T>>>26,T&=67108863,this.words[_]=T}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function O(I,c){this.name=I,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},O.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},O.prototype.split=function(c,h){c.iushrn(this.n,0,h)},O.prototype.imulK=function(c){return c.imul(this.k)};function q(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,O),q.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|_>>>22,_=T}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,O);function Y(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,O);function X(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,O),X.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(P[c])return P[c];var h;if(c==="k256")h=new q;else if(c==="p224")h=new Q;else if(c==="p192")h=new Y;else if(c==="p25519")h=new X;else throw new Error("Unknown prime "+c);return P[c]=h,h};function Z(I){if(typeof I=="string"){var c=s._prime(I);this.m=c.p,this.prime=c}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},Z.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},Z.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),T=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(T)!==0;)l.redIAdd(T);for(var S=this.pow(l,m),N=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),W=v;F.cmp(_)!==0;){for(var D=F,K=0;D.cmp(_)!==0;K++)D=D.redSqr();n(K<W);var z=this.pow(S,new s(1).iushln(W-K-1));N=N.redMul(z),S=z.redSqr(),F=F.redMul(S),W=K}return N},Z.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],T=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],N=l-1;N>=0;N--){var F=S>>N&1;if(_!==m[0]&&(_=this.sqr(_)),F===0&&T===0){w=0;continue}T<<=1,T|=F,w++,!(w!==p&&(v!==0||N!==0))&&(_=this.mul(_,m[T]),w=0,T=0)}l=26}return _},Z.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},Z.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new le(c)};function le(I){Z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Z),le.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},le.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Lt)})(VF);var xde=VF.exports,GF={exports:{}};GF.exports;(function(t){(function(e,r){function n(I,c){if(!I)throw new Error(c||"Assertion failed")}function i(I,c){I.super_=c;var h=function(){};h.prototype=c.prototype,I.prototype=new h,I.prototype.constructor=I}function s(I,c,h){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(I||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,T=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function a(I,c){var h=I.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(I,c,h){var p=a(I,h);return h-1>=c&&(p|=a(I,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,T;if(p==="be")for(m=c.length-1;m>=h;m-=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8}this.strip()};function f(I,c,h,p){for(var m=0,v=Math.min(I.length,h),_=c;_<v;_++){var T=I.charCodeAt(_)-48;m*=p,T>=49?m+=T-49+10:T>=17?m+=T-17+10:m+=T}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,T=_%m,w=Math.min(_,_-T)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(T!==0){var N=1;for(l=f(c,S,c.length,h),S=0;S<T;S++)N*=h;this.imuln(N),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var T=this.words[_],w=((T<<m|v)&16777215).toString(16);v=T>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var F=N.modn(S).toString(c);N=N.idivn(S),N.isZero()?p=F+p:p=d[l-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",T=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[l]=w;for(;l<v;l++)T[l]=0}else{for(l=0;l<v-m;l++)T[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[v-l-1]=w}return T},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(I){for(var c=new Array(I.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(I.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,T=0;T<v.length;T++)h=(m.words[T]|0)-(v.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;for(;_!==0&&T<m.length;T++)h=(m.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;if(_===0&&T<m.length&&m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this.length=Math.max(this.length,T),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(I,c,h){h.negative=c.negative^I.negative;var p=I.length+c.length|0;h.length=p,p=p-1|0;var m=I.words[0]|0,v=c.words[0]|0,_=m*v,T=_&67108863,w=_/67108864|0;h.words[0]=T;for(var l=1;l<p;l++){for(var S=w>>>26,N=w&67108863,F=Math.min(l,c.length-1),W=Math.max(0,l-I.length+1);W<=F;W++){var D=l-W|0;m=I.words[D]|0,v=c.words[W]|0,_=m*v+N,S+=_/67108864|0,N=_&67108863}h.words[l]=N|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,T=0,w,l,S,N=m[0]|0,F=N&8191,W=N>>>13,D=m[1]|0,K=D&8191,z=D>>>13,G=m[2]|0,te=G&8191,ie=G>>>13,J=m[3]|0,V=J&8191,fe=J>>>13,Te=m[4]|0,Re=Te&8191,H=Te>>>13,oe=m[5]|0,ae=oe&8191,ce=oe>>>13,Oe=m[6]|0,_e=Oe&8191,Ne=Oe>>>13,wt=m[7]|0,ge=wt&8191,ye=wt>>>13,Ge=m[8]|0,se=Ge&8191,j=Ge>>>13,re=m[9]|0,ue=re&8191,me=re>>>13,Be=v[0]|0,Ae=Be&8191,ze=Be>>>13,$t=v[1]|0,Ke=$t&8191,qe=$t>>>13,Nt=v[2]|0,Ye=Nt&8191,ut=Nt>>>13,kr=v[3]|0,Qe=kr&8191,ct=kr>>>13,Ir=v[4]|0,Je=Ir&8191,lt=Ir>>>13,Tr=v[5]|0,et=Tr&8191,ft=Tr>>>13,Rr=v[6]|0,Xe=Rr&8191,dt=Rr>>>13,Er=v[7]|0,tt=Er&8191,ht=Er>>>13,Mr=v[8]|0,rt=Mr&8191,pt=Mr>>>13,Cr=v[9]|0,nt=Cr&8191,gt=Cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(F,Ae),l=Math.imul(F,ze),l=l+Math.imul(W,Ae)|0,S=Math.imul(W,ze);var hr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,w=Math.imul(K,Ae),l=Math.imul(K,ze),l=l+Math.imul(z,Ae)|0,S=Math.imul(z,ze),w=w+Math.imul(F,Ke)|0,l=l+Math.imul(F,qe)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,qe)|0;var yr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(te,Ae),l=Math.imul(te,ze),l=l+Math.imul(ie,Ae)|0,S=Math.imul(ie,ze),w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,qe)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,qe)|0,w=w+Math.imul(F,Ye)|0,l=l+Math.imul(F,ut)|0,l=l+Math.imul(W,Ye)|0,S=S+Math.imul(W,ut)|0;var pn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(V,Ae),l=Math.imul(V,ze),l=l+Math.imul(fe,Ae)|0,S=Math.imul(fe,ze),w=w+Math.imul(te,Ke)|0,l=l+Math.imul(te,qe)|0,l=l+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,qe)|0,w=w+Math.imul(K,Ye)|0,l=l+Math.imul(K,ut)|0,l=l+Math.imul(z,Ye)|0,S=S+Math.imul(z,ut)|0,w=w+Math.imul(F,Qe)|0,l=l+Math.imul(F,ct)|0,l=l+Math.imul(W,Qe)|0,S=S+Math.imul(W,ct)|0;var gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(Re,Ae),l=Math.imul(Re,ze),l=l+Math.imul(H,Ae)|0,S=Math.imul(H,ze),w=w+Math.imul(V,Ke)|0,l=l+Math.imul(V,qe)|0,l=l+Math.imul(fe,Ke)|0,S=S+Math.imul(fe,qe)|0,w=w+Math.imul(te,Ye)|0,l=l+Math.imul(te,ut)|0,l=l+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ut)|0,w=w+Math.imul(K,Qe)|0,l=l+Math.imul(K,ct)|0,l=l+Math.imul(z,Qe)|0,S=S+Math.imul(z,ct)|0,w=w+Math.imul(F,Je)|0,l=l+Math.imul(F,lt)|0,l=l+Math.imul(W,Je)|0,S=S+Math.imul(W,lt)|0;var mn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,w=Math.imul(ae,Ae),l=Math.imul(ae,ze),l=l+Math.imul(ce,Ae)|0,S=Math.imul(ce,ze),w=w+Math.imul(Re,Ke)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(H,Ke)|0,S=S+Math.imul(H,qe)|0,w=w+Math.imul(V,Ye)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(fe,Ye)|0,S=S+Math.imul(fe,ut)|0,w=w+Math.imul(te,Qe)|0,l=l+Math.imul(te,ct)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,ct)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,lt)|0,l=l+Math.imul(z,Je)|0,S=S+Math.imul(z,lt)|0,w=w+Math.imul(F,et)|0,l=l+Math.imul(F,ft)|0,l=l+Math.imul(W,et)|0,S=S+Math.imul(W,ft)|0;var yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(_e,Ae),l=Math.imul(_e,ze),l=l+Math.imul(Ne,Ae)|0,S=Math.imul(Ne,ze),w=w+Math.imul(ae,Ke)|0,l=l+Math.imul(ae,qe)|0,l=l+Math.imul(ce,Ke)|0,S=S+Math.imul(ce,qe)|0,w=w+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,ut)|0,l=l+Math.imul(H,Ye)|0,S=S+Math.imul(H,ut)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,ct)|0,w=w+Math.imul(te,Je)|0,l=l+Math.imul(te,lt)|0,l=l+Math.imul(ie,Je)|0,S=S+Math.imul(ie,lt)|0,w=w+Math.imul(K,et)|0,l=l+Math.imul(K,ft)|0,l=l+Math.imul(z,et)|0,S=S+Math.imul(z,ft)|0,w=w+Math.imul(F,Xe)|0,l=l+Math.imul(F,dt)|0,l=l+Math.imul(W,Xe)|0,S=S+Math.imul(W,dt)|0;var bn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ge,Ae),l=Math.imul(ge,ze),l=l+Math.imul(ye,Ae)|0,S=Math.imul(ye,ze),w=w+Math.imul(_e,Ke)|0,l=l+Math.imul(_e,qe)|0,l=l+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,qe)|0,w=w+Math.imul(ae,Ye)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ut)|0,w=w+Math.imul(Re,Qe)|0,l=l+Math.imul(Re,ct)|0,l=l+Math.imul(H,Qe)|0,S=S+Math.imul(H,ct)|0,w=w+Math.imul(V,Je)|0,l=l+Math.imul(V,lt)|0,l=l+Math.imul(fe,Je)|0,S=S+Math.imul(fe,lt)|0,w=w+Math.imul(te,et)|0,l=l+Math.imul(te,ft)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,ft)|0,w=w+Math.imul(K,Xe)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(z,Xe)|0,S=S+Math.imul(z,dt)|0,w=w+Math.imul(F,tt)|0,l=l+Math.imul(F,ht)|0,l=l+Math.imul(W,tt)|0,S=S+Math.imul(W,ht)|0;var Tn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(se,Ae),l=Math.imul(se,ze),l=l+Math.imul(j,Ae)|0,S=Math.imul(j,ze),w=w+Math.imul(ge,Ke)|0,l=l+Math.imul(ge,qe)|0,l=l+Math.imul(ye,Ke)|0,S=S+Math.imul(ye,qe)|0,w=w+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,ut)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,ct)|0,w=w+Math.imul(Re,Je)|0,l=l+Math.imul(Re,lt)|0,l=l+Math.imul(H,Je)|0,S=S+Math.imul(H,lt)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,ft)|0,w=w+Math.imul(te,Xe)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ie,Xe)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(K,tt)|0,l=l+Math.imul(K,ht)|0,l=l+Math.imul(z,tt)|0,S=S+Math.imul(z,ht)|0,w=w+Math.imul(F,rt)|0,l=l+Math.imul(F,pt)|0,l=l+Math.imul(W,rt)|0,S=S+Math.imul(W,pt)|0;var Vn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(ue,Ae),l=Math.imul(ue,ze),l=l+Math.imul(me,Ae)|0,S=Math.imul(me,ze),w=w+Math.imul(se,Ke)|0,l=l+Math.imul(se,qe)|0,l=l+Math.imul(j,Ke)|0,S=S+Math.imul(j,qe)|0,w=w+Math.imul(ge,Ye)|0,l=l+Math.imul(ge,ut)|0,l=l+Math.imul(ye,Ye)|0,S=S+Math.imul(ye,ut)|0,w=w+Math.imul(_e,Qe)|0,l=l+Math.imul(_e,ct)|0,l=l+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,ct)|0,w=w+Math.imul(ae,Je)|0,l=l+Math.imul(ae,lt)|0,l=l+Math.imul(ce,Je)|0,S=S+Math.imul(ce,lt)|0,w=w+Math.imul(Re,et)|0,l=l+Math.imul(Re,ft)|0,l=l+Math.imul(H,et)|0,S=S+Math.imul(H,ft)|0,w=w+Math.imul(V,Xe)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,dt)|0,w=w+Math.imul(te,tt)|0,l=l+Math.imul(te,ht)|0,l=l+Math.imul(ie,tt)|0,S=S+Math.imul(ie,ht)|0,w=w+Math.imul(K,rt)|0,l=l+Math.imul(K,pt)|0,l=l+Math.imul(z,rt)|0,S=S+Math.imul(z,pt)|0,w=w+Math.imul(F,nt)|0,l=l+Math.imul(F,gt)|0,l=l+Math.imul(W,nt)|0,S=S+Math.imul(W,gt)|0;var In=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ue,Ke),l=Math.imul(ue,qe),l=l+Math.imul(me,Ke)|0,S=Math.imul(me,qe),w=w+Math.imul(se,Ye)|0,l=l+Math.imul(se,ut)|0,l=l+Math.imul(j,Ye)|0,S=S+Math.imul(j,ut)|0,w=w+Math.imul(ge,Qe)|0,l=l+Math.imul(ge,ct)|0,l=l+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,ct)|0,w=w+Math.imul(_e,Je)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Ne,Je)|0,S=S+Math.imul(Ne,lt)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(ce,et)|0,S=S+Math.imul(ce,ft)|0,w=w+Math.imul(Re,Xe)|0,l=l+Math.imul(Re,dt)|0,l=l+Math.imul(H,Xe)|0,S=S+Math.imul(H,dt)|0,w=w+Math.imul(V,tt)|0,l=l+Math.imul(V,ht)|0,l=l+Math.imul(fe,tt)|0,S=S+Math.imul(fe,ht)|0,w=w+Math.imul(te,rt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,pt)|0,w=w+Math.imul(K,nt)|0,l=l+Math.imul(K,gt)|0,l=l+Math.imul(z,nt)|0,S=S+Math.imul(z,gt)|0;var Gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(ue,Ye),l=Math.imul(ue,ut),l=l+Math.imul(me,Ye)|0,S=Math.imul(me,ut),w=w+Math.imul(se,Qe)|0,l=l+Math.imul(se,ct)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,ct)|0,w=w+Math.imul(ge,Je)|0,l=l+Math.imul(ge,lt)|0,l=l+Math.imul(ye,Je)|0,S=S+Math.imul(ye,lt)|0,w=w+Math.imul(_e,et)|0,l=l+Math.imul(_e,ft)|0,l=l+Math.imul(Ne,et)|0,S=S+Math.imul(Ne,ft)|0,w=w+Math.imul(ae,Xe)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(ce,Xe)|0,S=S+Math.imul(ce,dt)|0,w=w+Math.imul(Re,tt)|0,l=l+Math.imul(Re,ht)|0,l=l+Math.imul(H,tt)|0,S=S+Math.imul(H,ht)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,pt)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,pt)|0,w=w+Math.imul(te,nt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,gt)|0;var Yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(ue,Qe),l=Math.imul(ue,ct),l=l+Math.imul(me,Qe)|0,S=Math.imul(me,ct),w=w+Math.imul(se,Je)|0,l=l+Math.imul(se,lt)|0,l=l+Math.imul(j,Je)|0,S=S+Math.imul(j,lt)|0,w=w+Math.imul(ge,et)|0,l=l+Math.imul(ge,ft)|0,l=l+Math.imul(ye,et)|0,S=S+Math.imul(ye,ft)|0,w=w+Math.imul(_e,Xe)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Ne,Xe)|0,S=S+Math.imul(Ne,dt)|0,w=w+Math.imul(ae,tt)|0,l=l+Math.imul(ae,ht)|0,l=l+Math.imul(ce,tt)|0,S=S+Math.imul(ce,ht)|0,w=w+Math.imul(Re,rt)|0,l=l+Math.imul(Re,pt)|0,l=l+Math.imul(H,rt)|0,S=S+Math.imul(H,pt)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,gt)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,gt)|0;var Zn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(ue,Je),l=Math.imul(ue,lt),l=l+Math.imul(me,Je)|0,S=Math.imul(me,lt),w=w+Math.imul(se,et)|0,l=l+Math.imul(se,ft)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,ft)|0,w=w+Math.imul(ge,Xe)|0,l=l+Math.imul(ge,dt)|0,l=l+Math.imul(ye,Xe)|0,S=S+Math.imul(ye,dt)|0,w=w+Math.imul(_e,tt)|0,l=l+Math.imul(_e,ht)|0,l=l+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,ht)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,pt)|0,l=l+Math.imul(ce,rt)|0,S=S+Math.imul(ce,pt)|0,w=w+Math.imul(Re,nt)|0,l=l+Math.imul(Re,gt)|0,l=l+Math.imul(H,nt)|0,S=S+Math.imul(H,gt)|0;var Fn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(ue,et),l=Math.imul(ue,ft),l=l+Math.imul(me,et)|0,S=Math.imul(me,ft),w=w+Math.imul(se,Xe)|0,l=l+Math.imul(se,dt)|0,l=l+Math.imul(j,Xe)|0,S=S+Math.imul(j,dt)|0,w=w+Math.imul(ge,tt)|0,l=l+Math.imul(ge,ht)|0,l=l+Math.imul(ye,tt)|0,S=S+Math.imul(ye,ht)|0,w=w+Math.imul(_e,rt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(Ne,rt)|0,S=S+Math.imul(Ne,pt)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,gt)|0,l=l+Math.imul(ce,nt)|0,S=S+Math.imul(ce,gt)|0;var $n=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(ue,Xe),l=Math.imul(ue,dt),l=l+Math.imul(me,Xe)|0,S=Math.imul(me,dt),w=w+Math.imul(se,tt)|0,l=l+Math.imul(se,ht)|0,l=l+Math.imul(j,tt)|0,S=S+Math.imul(j,ht)|0,w=w+Math.imul(ge,rt)|0,l=l+Math.imul(ge,pt)|0,l=l+Math.imul(ye,rt)|0,S=S+Math.imul(ye,pt)|0,w=w+Math.imul(_e,nt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,gt)|0;var Un=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ue,tt),l=Math.imul(ue,ht),l=l+Math.imul(me,tt)|0,S=Math.imul(me,ht),w=w+Math.imul(se,rt)|0,l=l+Math.imul(se,pt)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,pt)|0,w=w+Math.imul(ge,nt)|0,l=l+Math.imul(ge,gt)|0,l=l+Math.imul(ye,nt)|0,S=S+Math.imul(ye,gt)|0;var Xn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(ue,rt),l=Math.imul(ue,pt),l=l+Math.imul(me,rt)|0,S=Math.imul(me,pt),w=w+Math.imul(se,nt)|0,l=l+Math.imul(se,gt)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,gt)|0;var Qn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(ue,nt),l=Math.imul(ue,gt),l=l+Math.imul(me,nt)|0,S=Math.imul(me,gt);var Jn=(T+w|0)+((l&8191)<<13)|0;return T=(S+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_[0]=hr,_[1]=yr,_[2]=pn,_[3]=gn,_[4]=mn,_[5]=yn,_[6]=bn,_[7]=Tn,_[8]=Vn,_[9]=In,_[10]=Gn,_[11]=Yn,_[12]=Zn,_[13]=Fn,_[14]=$n,_[15]=Un,_[16]=Xn,_[17]=Qn,_[18]=Jn,T!==0&&(_[19]=T,p.length++),p};Math.imul||(x=A);function k(I,c,h){h.negative=c.negative^I.negative,h.length=I.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var T=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-I.length+1);l<=w;l++){var S=v-l,N=I.words[S]|0,F=c.words[l]|0,W=N*F,D=W&67108863;_=_+(W/67108864|0)|0,D=D+T|0,T=D&67108863,_=_+(D>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=T,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function R(I,c,h){var p=new C;return p.mulp(I,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=R(this,c,h),p};function C(I,c){this.x=I,this.y=c}C.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},C.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},C.prototype.permute=function(c,h,p,m,v,_){for(var T=0;T<_;T++)m[T]=h[c[T]],v[T]=p[c[T]]},C.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),N=0;N<v;N+=w)for(var F=l,W=S,D=0;D<T;D++){var K=p[N+D],z=m[N+D],G=p[N+D+T],te=m[N+D+T],ie=F*G-W*te;te=F*te+W*G,G=ie,p[N+D]=K+G,m[N+D]=z+te,p[N+D+T]=K-G,m[N+D+T]=z-te,D!==w&&(ie=l*F-S*W,W=l*W+S*F,F=ie)}},C.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},C.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},C.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},C.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},C.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},C.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),T=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),N=new Array(m),F=new Array(m),W=p.words;W.length=m,this.convert13b(c.words,c.length,T,m),this.convert13b(h.words,h.length,S,m),this.transform(T,_,w,l,m,v),this.transform(S,_,N,F,m,v);for(var D=0;D<m;D++){var K=w[D]*N[D]-l[D]*F[D];l[D]=w[D]*F[D]+l[D]*N[D],w[D]=K}return this.conjugate(w,l,m),this.transform(w,l,W,_,m,v),this.conjugate(W,_,m),this.normalize13b(W,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),R(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var T=this.words[v]&m,w=(this.words[v]|0)-T<<h;this.words[v]=w|_,_=T>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var N=this.words[l]|0;this.words[l]=S<<26-v|N>>>v,S=N&T}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,T=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*h;_-=w&67108863,T=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+T,T=_>>26,this.words[v+p]=_&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+T,T=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,T=this._countBits(_);p=26-T,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var N=m.clone()._ishlnsubmul(v,1,w);N.negative===0&&(m=N,l&&(l.words[w]=1));for(var F=w-1;F>=0;F--){var W=(m.words[v.length+F]|0)*67108864+(m.words[v.length+F-1]|0);for(W=Math.min(W/_|0,67108863),m._ishlnsubmul(v,W,F);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(v,1,F),m.isZero()||(m.negative^=1);l&&(l.words[F]=W)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),T=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var N=0,F=1;!(h.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var W=0,D=1;!(p.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(p.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(l),T.isub(S)),_.iushrn(1),T.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(T)):(p.isub(h),_.isub(m),T.isub(v))}return{a:_,b:T,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(h.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(h.iushrn(T);T-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var N;return h.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(c),N},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var T=this.words[_]|0;T+=v,v=T>>>26,T&=67108863,this.words[_]=T}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function O(I,c){this.name=I,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},O.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},O.prototype.split=function(c,h){c.iushrn(this.n,0,h)},O.prototype.imulK=function(c){return c.imul(this.k)};function q(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,O),q.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|_>>>22,_=T}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,O);function Y(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,O);function X(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,O),X.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(P[c])return P[c];var h;if(c==="k256")h=new q;else if(c==="p224")h=new Q;else if(c==="p192")h=new Y;else if(c==="p25519")h=new X;else throw new Error("Unknown prime "+c);return P[c]=h,h};function Z(I){if(typeof I=="string"){var c=s._prime(I);this.m=c.p,this.prime=c}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},Z.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},Z.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),T=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(T)!==0;)l.redIAdd(T);for(var S=this.pow(l,m),N=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),W=v;F.cmp(_)!==0;){for(var D=F,K=0;D.cmp(_)!==0;K++)D=D.redSqr();n(K<W);var z=this.pow(S,new s(1).iushln(W-K-1));N=N.redMul(z),S=z.redSqr(),F=F.redMul(S),W=K}return N},Z.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],T=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],N=l-1;N>=0;N--){var F=S>>N&1;if(_!==m[0]&&(_=this.sqr(_)),F===0&&T===0){w=0;continue}T<<=1,T|=F,w++,!(w!==p&&(v!==0||N!==0))&&(_=this.mul(_,m[T]),w=0,T=0)}l=26}return _},Z.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},Z.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new le(c)};function le(I){Z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Z),le.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},le.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Lt)})(GF);var Ent=GF.exports,Ek={exports:{}},UQ;function YF(){if(UQ)return Ek.exports;UQ=1;var t;Ek.exports=function(i){return t||(t=new e(null)),t.generate(i)};function e(n){this.rand=n}if(Ek.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var s=new Uint8Array(i),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=Ehe();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return r.randomBytes(i)}}catch{}return Ek.exports}var RN,zQ;function Ede(){if(zQ)return RN;zQ=1;var t=Ent,e=YF();function r(n){this.rand=n||new e.Rand}return RN=r,r.create=function(i){return new r(i)},r.prototype._randbelow=function(i){var s=i.bitLength(),o=Math.ceil(s/8);do var a=new t(this.rand.generate(o));while(a.cmp(i)>=0);return a},r.prototype._randrange=function(i,s){var o=s.sub(i);return i.add(this._randbelow(o))},r.prototype.test=function(i,s,o){var a=i.bitLength(),u=t.mont(i),f=new t(1).toRed(u);s||(s=Math.max(1,a/48|0));for(var d=i.subn(1),g=0;!d.testn(g);g++);for(var y=i.shrn(g),b=d.toRed(u),A=!0;s>0;s--){var x=this._randrange(new t(2),d);o&&o(x);var k=x.toRed(u).redPow(y);if(!(k.cmp(f)===0||k.cmp(b)===0)){for(var R=1;R<g;R++){if(k=k.redSqr(),k.cmp(f)===0)return!1;if(k.cmp(b)===0)break}if(R===g)return!1}}return A},r.prototype.getDivisor=function(i,s){var o=i.bitLength(),a=t.mont(i),u=new t(1).toRed(a);s||(s=Math.max(1,o/48|0));for(var f=i.subn(1),d=0;!f.testn(d);d++);for(var g=i.shrn(d),y=f.toRed(a);s>0;s--){var b=this._randrange(new t(2),f),A=i.gcd(b);if(A.cmpn(1)!==0)return A;var x=b.toRed(a).redPow(g);if(!(x.cmp(u)===0||x.cmp(y)===0)){for(var k=1;k<d;k++){if(x=x.redSqr(),x.cmp(u)===0)return x.fromRed().subn(1).gcd(i);if(x.cmp(y)===0)break}if(k===d)return x=x.redSqr(),x.fromRed().subn(1).gcd(i)}}return!1},RN}var MN,WQ;function kde(){if(WQ)return MN;WQ=1;var t=jw;MN=k,k.simpleSieve=A,k.fermatTest=x;var e=xde,r=new e(24),n=Ede(),i=new n,s=new e(1),o=new e(2),a=new e(5);new e(16),new e(8);var u=new e(10),f=new e(3);new e(7);var d=new e(11),g=new e(4);new e(12);var y=null;function b(){if(y!==null)return y;var R=1048576,C=[];C[0]=2;for(var P=1,O=3;O<R;O+=2){for(var q=Math.ceil(Math.sqrt(O)),Q=0;Q<P&&C[Q]<=q&&O%C[Q]!==0;Q++);P!==Q&&C[Q]<=q||(C[P++]=O)}return y=C,C}function A(R){for(var C=b(),P=0;P<C.length;P++)if(R.modn(C[P])===0)return R.cmpn(C[P])===0;return!0}function x(R){var C=e.mont(R);return o.toRed(C).redPow(R.subn(1)).fromRed().cmpn(1)===0}function k(R,C){if(R<16)return C===2||C===5?new e([140,123]):new e([140,39]);C=new e(C);for(var P,O;;){for(P=new e(t(Math.ceil(R/8)));P.bitLength()>R;)P.ishrn(1);if(P.isEven()&&P.iadd(s),P.testn(1)||P.iadd(o),C.cmp(o)){if(!C.cmp(a))for(;P.mod(u).cmp(f);)P.iadd(g)}else for(;P.mod(r).cmp(d);)P.iadd(g);if(O=P.shrn(1),A(O)&&A(P)&&x(O)&&x(P)&&i.test(O)&&i.test(P))return P}}return MN}const knt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},Tnt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},Int={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},Rnt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},Mnt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},Cnt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},Pnt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},Nnt={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},Bnt={modp1:knt,modp2:Tnt,modp5:Int,modp14:Rnt,modp15:Mnt,modp16:Cnt,modp17:Pnt,modp18:Nnt};var CN,KQ;function Ont(){if(KQ)return CN;KQ=1;var t=xde,e=Ede(),r=new e,n=new t(24),i=new t(11),s=new t(10),o=new t(3),a=new t(7),u=kde(),f=jw;CN=A;function d(k,R){return R=R||"utf8",Ie.Buffer.isBuffer(k)||(k=new Ie.Buffer(k,R)),this._pub=new t(k),this}function g(k,R){return R=R||"utf8",Ie.Buffer.isBuffer(k)||(k=new Ie.Buffer(k,R)),this._priv=new t(k),this}var y={};function b(k,R){var C=R.toString("hex"),P=[C,k.toString(16)].join("_");if(P in y)return y[P];var O=0;if(k.isEven()||!u.simpleSieve||!u.fermatTest(k)||!r.test(k))return O+=1,C==="02"||C==="05"?O+=8:O+=4,y[P]=O,O;r.test(k.shrn(1))||(O+=2);var q;switch(C){case"02":k.mod(n).cmp(i)&&(O+=8);break;case"05":q=k.mod(s),q.cmp(o)&&q.cmp(a)&&(O+=8);break;default:O+=4}return y[P]=O,O}function A(k,R,C){this.setGenerator(R),this.__prime=new t(k),this._prime=t.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,C?(this.setPublicKey=d,this.setPrivateKey=g):this._primeCode=8}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new t(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(k){k=new t(k),k=k.toRed(this._prime);var R=k.redPow(this._priv).fromRed(),C=new Ie.Buffer(R.toArray()),P=this.getPrime();if(C.length<P.length){var O=new Ie.Buffer(P.length-C.length);O.fill(0),C=Ie.Buffer.concat([O,C])}return C},A.prototype.getPublicKey=function(R){return x(this._pub,R)},A.prototype.getPrivateKey=function(R){return x(this._priv,R)},A.prototype.getPrime=function(k){return x(this.__prime,k)},A.prototype.getGenerator=function(k){return x(this._gen,k)},A.prototype.setGenerator=function(k,R){return R=R||"utf8",Ie.Buffer.isBuffer(k)||(k=new Ie.Buffer(k,R)),this.__gen=k,this._gen=new t(k),this};function x(k,R){var C=new Ie.Buffer(k.toArray());return R?C.toString(R):C}return CN}var jQ;function Lnt(){if(jQ)return r0;jQ=1;var t=kde(),e=Bnt,r=Ont();function n(o){var a=new Ie.Buffer(e[o].prime,"hex"),u=new Ie.Buffer(e[o].gen,"hex");return new r(a,u)}var i={binary:!0,hex:!0,base64:!0};function s(o,a,u,f){return Ie.Buffer.isBuffer(a)||i[a]===void 0?s(o,"binary",a,u):(a=a||"binary",f=f||"binary",u=u||new Ie.Buffer([2]),Ie.Buffer.isBuffer(u)||(u=new Ie.Buffer(u,f)),typeof o=="number"?new r(t(o,u),u,!0):(Ie.Buffer.isBuffer(o)||(o=new Ie.Buffer(o,a)),new r(o,u,!0)))}return r0.DiffieHellmanGroup=r0.createDiffieHellmanGroup=r0.getDiffieHellman=n,r0.createDiffieHellman=r0.DiffieHellman=s,r0}var OL={exports:{}},LL={exports:{}};typeof Ie.process>"u"||!Ie.process.version||Ie.process.version.indexOf("v0.")===0||Ie.process.version.indexOf("v1.")===0&&Ie.process.version.indexOf("v1.8.")!==0?LL.exports={nextTick:Dnt}:LL.exports=Ie.process;function Dnt(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return Ie.process.nextTick(t);case 2:return Ie.process.nextTick(function(){t.call(null,e)});case 3:return Ie.process.nextTick(function(){t.call(null,e,r)});case 4:return Ie.process.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return Ie.process.nextTick(function(){t.apply(null,s)})}}var U4=LL.exports,Fnt={}.toString,$nt=Array.isArray||function(t){return Fnt.call(t)=="[object Array]"},Tde=A4.EventEmitter,DL={exports:{}};(function(t,e){var r=Pe,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(DL,DL.exports);var ZF=DL.exports,Ps={};function Unt(t){return Array.isArray?Array.isArray(t):z4(t)==="[object Array]"}Ps.isArray=Unt;function znt(t){return typeof t=="boolean"}Ps.isBoolean=znt;function Wnt(t){return t===null}Ps.isNull=Wnt;function Knt(t){return t==null}Ps.isNullOrUndefined=Knt;function jnt(t){return typeof t=="number"}Ps.isNumber=jnt;function Hnt(t){return typeof t=="string"}Ps.isString=Hnt;function qnt(t){return typeof t=="symbol"}Ps.isSymbol=qnt;function Vnt(t){return t===void 0}Ps.isUndefined=Vnt;function Gnt(t){return z4(t)==="[object RegExp]"}Ps.isRegExp=Gnt;function Ynt(t){return typeof t=="object"&&t!==null}Ps.isObject=Ynt;function Znt(t){return z4(t)==="[object Date]"}Ps.isDate=Znt;function Xnt(t){return z4(t)==="[object Error]"||t instanceof Error}Ps.isError=Xnt;function Qnt(t){return typeof t=="function"}Ps.isFunction=Qnt;function Jnt(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Ps.isPrimitive=Jnt;Ps.isBuffer=Pe.Buffer.isBuffer;function z4(t){return Object.prototype.toString.call(t)}var PN={exports:{}},HQ;function eit(){return HQ||(HQ=1,function(t){function e(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var r=ZF.Buffer,n=Hw;function i(s,o,a){s.copy(o,a)}t.exports=function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(a){var u={data:a,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},s.prototype.unshift=function(a){var u={data:a,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},s.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(a){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=a+u.data;return f},s.prototype.concat=function(a){if(this.length===0)return r.alloc(0);for(var u=r.allocUnsafe(a>>>0),f=this.head,d=0;f;)i(f.data,u,d),d+=f.data.length,f=f.next;return u},s}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var s=n.inspect({length:this.length});return this.constructor.name+" "+s})}(PN)),PN.exports}var kk=U4;function tit(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,kk.nextTick(Tk,this,t)):kk.nextTick(Tk,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,kk.nextTick(Tk,r,s)):kk.nextTick(Tk,r,s):e&&e(s)}),this)}function rit(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Tk(t,e){t.emit("error",e)}var Ide={destroy:tit,undestroy:rit},NN,qQ;function Rde(){if(qQ)return NN;qQ=1;var t=U4;NN=x;function e(_){var T=this;this.next=null,this.entry=null,this.finish=function(){v(T,_)}}var r=!Ie.process.browser&&["v0.10","v0.9."].indexOf(Ie.process.version.slice(0,5))>-1?setImmediate:t.nextTick,n;x.WritableState=b;var i=Object.create(Ps);i.inherits=Br;var s={deprecate:lfe},o=Tde,a=ZF.Buffer,u=(typeof Lt<"u"?Lt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function f(_){return a.from(_)}function d(_){return a.isBuffer(_)||_ instanceof u}var g=Ide;i.inherits(x,o);function y(){}function b(_,T){n=n||sw(),_=_||{};var w=T instanceof n;this.objectMode=!!_.objectMode,w&&(this.objectMode=this.objectMode||!!_.writableObjectMode);var l=_.highWaterMark,S=_.writableHighWaterMark,N=this.objectMode?16:16*1024;l||l===0?this.highWaterMark=l:w&&(S||S===0)?this.highWaterMark=S:this.highWaterMark=N,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=_.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){Y(T,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}b.prototype.getBuffer=function(){for(var T=this.bufferedRequest,w=[];T;)w.push(T),T=T.next;return w},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(_){return A.call(this,_)?!0:this!==x?!1:_&&_._writableState instanceof b}})):A=function(_){return _ instanceof this};function x(_){if(n=n||sw(),!A.call(x,this)&&!(this instanceof n))return new x(_);this._writableState=new b(_,this),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),o.call(this)}x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function k(_,T){var w=new Error("write after end");_.emit("error",w),t.nextTick(T,w)}function R(_,T,w,l){var S=!0,N=!1;return w===null?N=new TypeError("May not write null values to stream"):typeof w!="string"&&w!==void 0&&!T.objectMode&&(N=new TypeError("Invalid non-string/buffer chunk")),N&&(_.emit("error",N),t.nextTick(l,N),S=!1),S}x.prototype.write=function(_,T,w){var l=this._writableState,S=!1,N=!l.objectMode&&d(_);return N&&!a.isBuffer(_)&&(_=f(_)),typeof T=="function"&&(w=T,T=null),N?T="buffer":T||(T=l.defaultEncoding),typeof w!="function"&&(w=y),l.ended?k(this,w):(N||R(this,l,_,w))&&(l.pendingcb++,S=P(this,l,N,_,T,w)),S},x.prototype.cork=function(){var _=this._writableState;_.corked++},x.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,!_.writing&&!_.corked&&!_.bufferProcessing&&_.bufferedRequest&&le(this,_))},x.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+T);return this._writableState.defaultEncoding=T,this};function C(_,T,w){return!_.objectMode&&_.decodeStrings!==!1&&typeof T=="string"&&(T=a.from(T,w)),T}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(_,T,w,l,S,N){if(!w){var F=C(T,l,S);l!==F&&(w=!0,S="buffer",l=F)}var W=T.objectMode?1:l.length;T.length+=W;var D=T.length<T.highWaterMark;if(D||(T.needDrain=!0),T.writing||T.corked){var K=T.lastBufferedRequest;T.lastBufferedRequest={chunk:l,encoding:S,isBuf:w,callback:N,next:null},K?K.next=T.lastBufferedRequest:T.bufferedRequest=T.lastBufferedRequest,T.bufferedRequestCount+=1}else O(_,T,!1,W,l,S,N);return D}function O(_,T,w,l,S,N,F){T.writelen=l,T.writecb=F,T.writing=!0,T.sync=!0,w?_._writev(S,T.onwrite):_._write(S,N,T.onwrite),T.sync=!1}function q(_,T,w,l,S){--T.pendingcb,w?(t.nextTick(S,l),t.nextTick(p,_,T),_._writableState.errorEmitted=!0,_.emit("error",l)):(S(l),_._writableState.errorEmitted=!0,_.emit("error",l),p(_,T))}function Q(_){_.writing=!1,_.writecb=null,_.length-=_.writelen,_.writelen=0}function Y(_,T){var w=_._writableState,l=w.sync,S=w.writecb;if(Q(w),T)q(_,w,l,T,S);else{var N=I(w);!N&&!w.corked&&!w.bufferProcessing&&w.bufferedRequest&&le(_,w),l?r(X,_,w,N,S):X(_,w,N,S)}}function X(_,T,w,l){w||Z(_,T),T.pendingcb--,l(),p(_,T)}function Z(_,T){T.length===0&&T.needDrain&&(T.needDrain=!1,_.emit("drain"))}function le(_,T){T.bufferProcessing=!0;var w=T.bufferedRequest;if(_._writev&&w&&w.next){var l=T.bufferedRequestCount,S=new Array(l),N=T.corkedRequestsFree;N.entry=w;for(var F=0,W=!0;w;)S[F]=w,w.isBuf||(W=!1),w=w.next,F+=1;S.allBuffers=W,O(_,T,!0,T.length,S,"",N.finish),T.pendingcb++,T.lastBufferedRequest=null,N.next?(T.corkedRequestsFree=N.next,N.next=null):T.corkedRequestsFree=new e(T),T.bufferedRequestCount=0}else{for(;w;){var D=w.chunk,K=w.encoding,z=w.callback,G=T.objectMode?1:D.length;if(O(_,T,!1,G,D,K,z),w=w.next,T.bufferedRequestCount--,T.writing)break}w===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=w,T.bufferProcessing=!1}x.prototype._write=function(_,T,w){w(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(_,T,w){var l=this._writableState;typeof _=="function"?(w=_,_=null,T=null):typeof T=="function"&&(w=T,T=null),_!=null&&this.write(_,T),l.corked&&(l.corked=1,this.uncork()),l.ending||m(this,l,w)};function I(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function c(_,T){_._final(function(w){T.pendingcb--,w&&_.emit("error",w),T.prefinished=!0,_.emit("prefinish"),p(_,T)})}function h(_,T){!T.prefinished&&!T.finalCalled&&(typeof _._final=="function"?(T.pendingcb++,T.finalCalled=!0,t.nextTick(c,_,T)):(T.prefinished=!0,_.emit("prefinish")))}function p(_,T){var w=I(T);return w&&(h(_,T),T.pendingcb===0&&(T.finished=!0,_.emit("finish"))),w}function m(_,T,w){T.ending=!0,p(_,T),w&&(T.finished?t.nextTick(w):_.once("finish",w)),T.ended=!0,_.writable=!1}function v(_,T,w){var l=_.entry;for(_.entry=null;l;){var S=l.callback;T.pendingcb--,S(w),l=l.next}T.corkedRequestsFree.next=_}return Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),x.prototype.destroy=g.destroy,x.prototype._undestroy=g.undestroy,x.prototype._destroy=function(_,T){this.end(),T(_)},NN}var BN,VQ;function sw(){if(VQ)return BN;VQ=1;var t=U4,e=Object.keys||function(g){var y=[];for(var b in g)y.push(b);return y};BN=u;var r=Object.create(Ps);r.inherits=Br;var n=Mde(),i=Rde();r.inherits(u,n);for(var s=e(i.prototype),o=0;o<s.length;o++){var a=s[o];u.prototype[a]||(u.prototype[a]=i.prototype[a])}function u(g){if(!(this instanceof u))return new u(g);n.call(this,g),i.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(){this.allowHalfOpen||this._writableState.ended||t.nextTick(d,this)}function d(g){g.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),u.prototype._destroy=function(g,y){this.push(null),this.end(),t.nextTick(y,g)},BN}var ON={},Ik={exports:{}},GQ;function nit(){return GQ||(GQ=1,function(t,e){var r=Pe,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof u=="string"?f.fill(a,u):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Ik,Ik.exports)),Ik.exports}var YQ;function ZQ(){if(YQ)return ON;YQ=1;var t=nit().Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var C;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(C)return;R=(""+R).toLowerCase(),C=!0}}function n(R){var C=r(R);if(typeof C!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return C||R}ON.StringDecoder=i;function i(R){this.encoding=n(R);var C;switch(this.encoding){case"utf16le":this.text=g,this.end=y,C=4;break;case"utf8":this.fillLast=u,C=4;break;case"base64":this.text=b,this.end=A,C=3;break;default:this.write=x,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(C)}i.prototype.write=function(R){if(R.length===0)return"";var C,P;if(this.lastNeed){if(C=this.fillLast(R),C===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<R.length?C?C+this.text(R,P):this.text(R,P):C||""},i.prototype.end=d,i.prototype.text=f,i.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function s(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function o(R,C,P){var O=C.length-1;if(O<P)return 0;var q=s(C[O]);return q>=0?(q>0&&(R.lastNeed=q-1),q):--O<P||q===-2?0:(q=s(C[O]),q>=0?(q>0&&(R.lastNeed=q-2),q):--O<P||q===-2?0:(q=s(C[O]),q>=0?(q>0&&(q===2?q=0:R.lastNeed=q-3),q):0))}function a(R,C,P){if((C[0]&192)!==128)return R.lastNeed=0,"�";if(R.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return R.lastNeed=1,"�";if(R.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return R.lastNeed=2,"�"}}function u(R){var C=this.lastTotal-this.lastNeed,P=a(this,R);if(P!==void 0)return P;if(this.lastNeed<=R.length)return R.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,C,0,R.length),this.lastNeed-=R.length}function f(R,C){var P=o(this,R,C);if(!this.lastNeed)return R.toString("utf8",C);this.lastTotal=P;var O=R.length-(P-this.lastNeed);return R.copy(this.lastChar,0,O),R.toString("utf8",C,O)}function d(R){var C=R&&R.length?this.write(R):"";return this.lastNeed?C+"�":C}function g(R,C){if((R.length-C)%2===0){var P=R.toString("utf16le",C);if(P){var O=P.charCodeAt(P.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",C,R.length-1)}function y(R){var C=R&&R.length?this.write(R):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,P)}return C}function b(R,C){var P=(R.length-C)%3;return P===0?R.toString("base64",C):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",C,R.length-P))}function A(R){var C=R&&R.length?this.write(R):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function x(R){return R.toString(this.encoding)}function k(R){return R&&R.length?this.write(R):""}return ON}var LN,XQ;function Mde(){if(XQ)return LN;XQ=1;var t=U4;LN=C;var e=$nt,r;C.ReadableState=R,A4.EventEmitter;var n=function(z,G){return z.listeners(G).length},i=Tde,s=ZF.Buffer,o=(typeof Lt<"u"?Lt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(z){return s.from(z)}function u(z){return s.isBuffer(z)||z instanceof o}var f=Object.create(Ps);f.inherits=Br;var d=Hw,g=void 0;d&&d.debuglog?g=d.debuglog("stream"):g=function(){};var y=eit(),b=Ide,A;f.inherits(C,i);var x=["error","close","destroy","pause","resume"];function k(z,G,te){if(typeof z.prependListener=="function")return z.prependListener(G,te);!z._events||!z._events[G]?z.on(G,te):e(z._events[G])?z._events[G].unshift(te):z._events[G]=[te,z._events[G]]}function R(z,G){r=r||sw(),z=z||{};var te=G instanceof r;this.objectMode=!!z.objectMode,te&&(this.objectMode=this.objectMode||!!z.readableObjectMode);var ie=z.highWaterMark,J=z.readableHighWaterMark,V=this.objectMode?16:16*1024;ie||ie===0?this.highWaterMark=ie:te&&(J||J===0)?this.highWaterMark=J:this.highWaterMark=V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(A||(A=ZQ().StringDecoder),this.decoder=new A(z.encoding),this.encoding=z.encoding)}function C(z){if(r=r||sw(),!(this instanceof C))return new C(z);this._readableState=new R(z,this),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),i.call(this)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(z){this._readableState&&(this._readableState.destroyed=z)}}),C.prototype.destroy=b.destroy,C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(z,G){this.push(null),G(z)},C.prototype.push=function(z,G){var te=this._readableState,ie;return te.objectMode?ie=!0:typeof z=="string"&&(G=G||te.defaultEncoding,G!==te.encoding&&(z=s.from(z,G),G=""),ie=!0),P(this,z,G,!1,ie)},C.prototype.unshift=function(z){return P(this,z,null,!0,!1)};function P(z,G,te,ie,J){var V=z._readableState;if(G===null)V.reading=!1,le(z,V);else{var fe;J||(fe=q(V,G)),fe?z.emit("error",fe):V.objectMode||G&&G.length>0?(typeof G!="string"&&!V.objectMode&&Object.getPrototypeOf(G)!==s.prototype&&(G=a(G)),ie?V.endEmitted?z.emit("error",new Error("stream.unshift() after end event")):O(z,V,G,!0):V.ended?z.emit("error",new Error("stream.push() after EOF")):(V.reading=!1,V.decoder&&!te?(G=V.decoder.write(G),V.objectMode||G.length!==0?O(z,V,G,!1):h(z,V)):O(z,V,G,!1))):ie||(V.reading=!1)}return Q(V)}function O(z,G,te,ie){G.flowing&&G.length===0&&!G.sync?(z.emit("data",te),z.read(0)):(G.length+=G.objectMode?1:te.length,ie?G.buffer.unshift(te):G.buffer.push(te),G.needReadable&&I(z)),h(z,G)}function q(z,G){var te;return!u(G)&&typeof G!="string"&&G!==void 0&&!z.objectMode&&(te=new TypeError("Invalid non-string/buffer chunk")),te}function Q(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||z.length===0)}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(z){return A||(A=ZQ().StringDecoder),this._readableState.decoder=new A(z),this._readableState.encoding=z,this};var Y=8388608;function X(z){return z>=Y?z=Y:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function Z(z,G){return z<=0||G.length===0&&G.ended?0:G.objectMode?1:z!==z?G.flowing&&G.length?G.buffer.head.data.length:G.length:(z>G.highWaterMark&&(G.highWaterMark=X(z)),z<=G.length?z:G.ended?G.length:(G.needReadable=!0,0))}C.prototype.read=function(z){g("read",z),z=parseInt(z,10);var G=this._readableState,te=z;if(z!==0&&(G.emittedReadable=!1),z===0&&G.needReadable&&(G.length>=G.highWaterMark||G.ended))return g("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?W(this):I(this),null;if(z=Z(z,G),z===0&&G.ended)return G.length===0&&W(this),null;var ie=G.needReadable;g("need readable",ie),(G.length===0||G.length-z<G.highWaterMark)&&(ie=!0,g("length less than watermark",ie)),G.ended||G.reading?(ie=!1,g("reading or ended",ie)):ie&&(g("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(z=Z(te,G)));var J;return z>0?J=l(z,G):J=null,J===null?(G.needReadable=!0,z=0):G.length-=z,G.length===0&&(G.ended||(G.needReadable=!0),te!==z&&G.ended&&W(this)),J!==null&&this.emit("data",J),J};function le(z,G){if(!G.ended){if(G.decoder){var te=G.decoder.end();te&&te.length&&(G.buffer.push(te),G.length+=G.objectMode?1:te.length)}G.ended=!0,I(z)}}function I(z){var G=z._readableState;G.needReadable=!1,G.emittedReadable||(g("emitReadable",G.flowing),G.emittedReadable=!0,G.sync?t.nextTick(c,z):c(z))}function c(z){g("emit readable"),z.emit("readable"),w(z)}function h(z,G){G.readingMore||(G.readingMore=!0,t.nextTick(p,z,G))}function p(z,G){for(var te=G.length;!G.reading&&!G.flowing&&!G.ended&&G.length<G.highWaterMark&&(g("maybeReadMore read 0"),z.read(0),te!==G.length);)te=G.length;G.readingMore=!1}C.prototype._read=function(z){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(z,G){var te=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=z;break;case 1:ie.pipes=[ie.pipes,z];break;default:ie.pipes.push(z);break}ie.pipesCount+=1,g("pipe count=%d opts=%j",ie.pipesCount,G);var J=(!G||G.end!==!1)&&z!==Ie.process.stdout&&z!==Ie.process.stderr,V=J?Te:wt;ie.endEmitted?t.nextTick(V):te.once("end",V),z.on("unpipe",fe);function fe(ge,ye){g("onunpipe"),ge===te&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,oe())}function Te(){g("onend"),z.end()}var Re=m(te);z.on("drain",Re);var H=!1;function oe(){g("cleanup"),z.removeListener("close",_e),z.removeListener("finish",Ne),z.removeListener("drain",Re),z.removeListener("error",Oe),z.removeListener("unpipe",fe),te.removeListener("end",Te),te.removeListener("end",wt),te.removeListener("data",ce),H=!0,ie.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Re()}var ae=!1;te.on("data",ce);function ce(ge){g("ondata"),ae=!1;var ye=z.write(ge);ye===!1&&!ae&&((ie.pipesCount===1&&ie.pipes===z||ie.pipesCount>1&&K(ie.pipes,z)!==-1)&&!H&&(g("false write response, pause",ie.awaitDrain),ie.awaitDrain++,ae=!0),te.pause())}function Oe(ge){g("onerror",ge),wt(),z.removeListener("error",Oe),n(z,"error")===0&&z.emit("error",ge)}k(z,"error",Oe);function _e(){z.removeListener("finish",Ne),wt()}z.once("close",_e);function Ne(){g("onfinish"),z.removeListener("close",_e),wt()}z.once("finish",Ne);function wt(){g("unpipe"),te.unpipe(z)}return z.emit("pipe",te),ie.flowing||(g("pipe resume"),te.resume()),z};function m(z){return function(){var G=z._readableState;g("pipeOnDrain",G.awaitDrain),G.awaitDrain&&G.awaitDrain--,G.awaitDrain===0&&n(z,"data")&&(G.flowing=!0,w(z))}}C.prototype.unpipe=function(z){var G=this._readableState,te={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return z&&z!==G.pipes?this:(z||(z=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,z&&z.emit("unpipe",this,te),this);if(!z){var ie=G.pipes,J=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var V=0;V<J;V++)ie[V].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=K(G.pipes,z);return fe===-1?this:(G.pipes.splice(fe,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),z.emit("unpipe",this,te),this)},C.prototype.on=function(z,G){var te=i.prototype.on.call(this,z,G);if(z==="data")this._readableState.flowing!==!1&&this.resume();else if(z==="readable"){var ie=this._readableState;!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.emittedReadable=!1,ie.reading?ie.length&&I(this):t.nextTick(v,this))}return te},C.prototype.addListener=C.prototype.on;function v(z){g("readable nexttick read 0"),z.read(0)}C.prototype.resume=function(){var z=this._readableState;return z.flowing||(g("resume"),z.flowing=!0,_(this,z)),this};function _(z,G){G.resumeScheduled||(G.resumeScheduled=!0,t.nextTick(T,z,G))}function T(z,G){G.reading||(g("resume read 0"),z.read(0)),G.resumeScheduled=!1,G.awaitDrain=0,z.emit("resume"),w(z),G.flowing&&!G.reading&&z.read(0)}C.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function w(z){var G=z._readableState;for(g("flow",G.flowing);G.flowing&&z.read()!==null;);}C.prototype.wrap=function(z){var G=this,te=this._readableState,ie=!1;z.on("end",function(){if(g("wrapped end"),te.decoder&&!te.ended){var fe=te.decoder.end();fe&&fe.length&&G.push(fe)}G.push(null)}),z.on("data",function(fe){if(g("wrapped data"),te.decoder&&(fe=te.decoder.write(fe)),!(te.objectMode&&fe==null)&&!(!te.objectMode&&(!fe||!fe.length))){var Te=G.push(fe);Te||(ie=!0,z.pause())}});for(var J in z)this[J]===void 0&&typeof z[J]=="function"&&(this[J]=function(fe){return function(){return z[fe].apply(z,arguments)}}(J));for(var V=0;V<x.length;V++)z.on(x[V],this.emit.bind(this,x[V]));return this._read=function(fe){g("wrapped _read",fe),ie&&(ie=!1,z.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=l;function l(z,G){if(G.length===0)return null;var te;return G.objectMode?te=G.buffer.shift():!z||z>=G.length?(G.decoder?te=G.buffer.join(""):G.buffer.length===1?te=G.buffer.head.data:te=G.buffer.concat(G.length),G.buffer.clear()):te=S(z,G.buffer,G.decoder),te}function S(z,G,te){var ie;return z<G.head.data.length?(ie=G.head.data.slice(0,z),G.head.data=G.head.data.slice(z)):z===G.head.data.length?ie=G.shift():ie=te?N(z,G):F(z,G),ie}function N(z,G){var te=G.head,ie=1,J=te.data;for(z-=J.length;te=te.next;){var V=te.data,fe=z>V.length?V.length:z;if(fe===V.length?J+=V:J+=V.slice(0,z),z-=fe,z===0){fe===V.length?(++ie,te.next?G.head=te.next:G.head=G.tail=null):(G.head=te,te.data=V.slice(fe));break}++ie}return G.length-=ie,J}function F(z,G){var te=s.allocUnsafe(z),ie=G.head,J=1;for(ie.data.copy(te),z-=ie.data.length;ie=ie.next;){var V=ie.data,fe=z>V.length?V.length:z;if(V.copy(te,te.length-z,0,fe),z-=fe,z===0){fe===V.length?(++J,ie.next?G.head=ie.next:G.head=G.tail=null):(G.head=ie,ie.data=V.slice(fe));break}++J}return G.length-=J,te}function W(z){var G=z._readableState;if(G.length>0)throw new Error('"endReadable()" called on non-empty stream');G.endEmitted||(G.ended=!0,t.nextTick(D,G,z))}function D(z,G){!z.endEmitted&&z.length===0&&(z.endEmitted=!0,G.readable=!1,G.emit("end"))}function K(z,G){for(var te=0,ie=z.length;te<ie;te++)if(z[te]===G)return te;return-1}return LN}var Cde=Nh,W4=sw(),Pde=Object.create(Ps);Pde.inherits=Br;Pde.inherits(Nh,W4);function iit(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Nh(t){if(!(this instanceof Nh))return new Nh(t);W4.call(this,t),this._transformState={afterTransform:iit.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",sit)}function sit(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){QQ(t,e,r)}):QQ(this,null,null)}Nh.prototype.push=function(t,e){return this._transformState.needTransform=!1,W4.prototype.push.call(this,t,e)};Nh.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Nh.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Nh.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Nh.prototype._destroy=function(t,e){var r=this;W4.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function QQ(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}var oit=tx,Nde=Cde,Bde=Object.create(Ps);Bde.inherits=Br;Bde.inherits(tx,Nde);function tx(t){if(!(this instanceof tx))return new tx(t);Nde.call(this,t)}tx.prototype._transform=function(t,e,r){r(null,t)};(function(t,e){e=t.exports=Mde(),e.Stream=e,e.Readable=e,e.Writable=Rde(),e.Duplex=sw(),e.Transform=Cde,e.PassThrough=oit})(OL,OL.exports);var ait=OL.exports,t_={exports:{}},Bb=Jm,uit=jw,cit=$r.Buffer;function Ode(t){var e=t.modulus.byteLength(),r;do r=new Bb(uit(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function lit(t){var e=Ode(t),r=e.toRed(Bb.mont(t.modulus)).redPow(new Bb(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function Lde(t,e){var r=lit(e),n=e.modulus.byteLength(),i=new Bb(t).mul(r.blinder).umod(e.modulus),s=i.toRed(Bb.mont(e.prime1)),o=i.toRed(Bb.mont(e.prime2)),a=e.coefficient,u=e.prime1,f=e.prime2,d=s.redPow(e.exponent1).fromRed(),g=o.redPow(e.exponent2).fromRed(),y=d.isub(g).imul(a).umod(u).imul(f);return g.iadd(y).imul(r.unblinder).umod(e.modulus).toArrayLike(cit,"be",n)}Lde.getr=Ode;var XF=Lde,DN={};const fit="6.6.1",dit={version:fit};var ju={},QF={exports:{}};QF.exports;(function(t){(function(e,r){function n(I,c){if(!I)throw new Error(c||"Assertion failed")}function i(I,c){I.super_=c;var h=function(){};h.prototype=c.prototype,I.prototype=new h,I.prototype.constructor=I}function s(I,c,h){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(I||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,T=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function a(I,c){var h=I.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(I,c,h){var p=a(I,h);return h-1>=c&&(p|=a(I,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,T;if(p==="be")for(m=c.length-1;m>=h;m-=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8}this.strip()};function f(I,c,h,p){for(var m=0,v=Math.min(I.length,h),_=c;_<v;_++){var T=I.charCodeAt(_)-48;m*=p,T>=49?m+=T-49+10:T>=17?m+=T-17+10:m+=T}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,T=_%m,w=Math.min(_,_-T)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(T!==0){var N=1;for(l=f(c,S,c.length,h),S=0;S<T;S++)N*=h;this.imuln(N),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var T=this.words[_],w=((T<<m|v)&16777215).toString(16);v=T>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var F=N.modn(S).toString(c);N=N.idivn(S),N.isZero()?p=F+p:p=d[l-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",T=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[l]=w;for(;l<v;l++)T[l]=0}else{for(l=0;l<v-m;l++)T[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[v-l-1]=w}return T},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(I){for(var c=new Array(I.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(I.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,T=0;T<v.length;T++)h=(m.words[T]|0)-(v.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;for(;_!==0&&T<m.length;T++)h=(m.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;if(_===0&&T<m.length&&m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this.length=Math.max(this.length,T),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(I,c,h){h.negative=c.negative^I.negative;var p=I.length+c.length|0;h.length=p,p=p-1|0;var m=I.words[0]|0,v=c.words[0]|0,_=m*v,T=_&67108863,w=_/67108864|0;h.words[0]=T;for(var l=1;l<p;l++){for(var S=w>>>26,N=w&67108863,F=Math.min(l,c.length-1),W=Math.max(0,l-I.length+1);W<=F;W++){var D=l-W|0;m=I.words[D]|0,v=c.words[W]|0,_=m*v+N,S+=_/67108864|0,N=_&67108863}h.words[l]=N|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,T=0,w,l,S,N=m[0]|0,F=N&8191,W=N>>>13,D=m[1]|0,K=D&8191,z=D>>>13,G=m[2]|0,te=G&8191,ie=G>>>13,J=m[3]|0,V=J&8191,fe=J>>>13,Te=m[4]|0,Re=Te&8191,H=Te>>>13,oe=m[5]|0,ae=oe&8191,ce=oe>>>13,Oe=m[6]|0,_e=Oe&8191,Ne=Oe>>>13,wt=m[7]|0,ge=wt&8191,ye=wt>>>13,Ge=m[8]|0,se=Ge&8191,j=Ge>>>13,re=m[9]|0,ue=re&8191,me=re>>>13,Be=v[0]|0,Ae=Be&8191,ze=Be>>>13,$t=v[1]|0,Ke=$t&8191,qe=$t>>>13,Nt=v[2]|0,Ye=Nt&8191,ut=Nt>>>13,kr=v[3]|0,Qe=kr&8191,ct=kr>>>13,Ir=v[4]|0,Je=Ir&8191,lt=Ir>>>13,Tr=v[5]|0,et=Tr&8191,ft=Tr>>>13,Rr=v[6]|0,Xe=Rr&8191,dt=Rr>>>13,Er=v[7]|0,tt=Er&8191,ht=Er>>>13,Mr=v[8]|0,rt=Mr&8191,pt=Mr>>>13,Cr=v[9]|0,nt=Cr&8191,gt=Cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(F,Ae),l=Math.imul(F,ze),l=l+Math.imul(W,Ae)|0,S=Math.imul(W,ze);var hr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,w=Math.imul(K,Ae),l=Math.imul(K,ze),l=l+Math.imul(z,Ae)|0,S=Math.imul(z,ze),w=w+Math.imul(F,Ke)|0,l=l+Math.imul(F,qe)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,qe)|0;var yr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(te,Ae),l=Math.imul(te,ze),l=l+Math.imul(ie,Ae)|0,S=Math.imul(ie,ze),w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,qe)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,qe)|0,w=w+Math.imul(F,Ye)|0,l=l+Math.imul(F,ut)|0,l=l+Math.imul(W,Ye)|0,S=S+Math.imul(W,ut)|0;var pn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(V,Ae),l=Math.imul(V,ze),l=l+Math.imul(fe,Ae)|0,S=Math.imul(fe,ze),w=w+Math.imul(te,Ke)|0,l=l+Math.imul(te,qe)|0,l=l+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,qe)|0,w=w+Math.imul(K,Ye)|0,l=l+Math.imul(K,ut)|0,l=l+Math.imul(z,Ye)|0,S=S+Math.imul(z,ut)|0,w=w+Math.imul(F,Qe)|0,l=l+Math.imul(F,ct)|0,l=l+Math.imul(W,Qe)|0,S=S+Math.imul(W,ct)|0;var gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(Re,Ae),l=Math.imul(Re,ze),l=l+Math.imul(H,Ae)|0,S=Math.imul(H,ze),w=w+Math.imul(V,Ke)|0,l=l+Math.imul(V,qe)|0,l=l+Math.imul(fe,Ke)|0,S=S+Math.imul(fe,qe)|0,w=w+Math.imul(te,Ye)|0,l=l+Math.imul(te,ut)|0,l=l+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ut)|0,w=w+Math.imul(K,Qe)|0,l=l+Math.imul(K,ct)|0,l=l+Math.imul(z,Qe)|0,S=S+Math.imul(z,ct)|0,w=w+Math.imul(F,Je)|0,l=l+Math.imul(F,lt)|0,l=l+Math.imul(W,Je)|0,S=S+Math.imul(W,lt)|0;var mn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,w=Math.imul(ae,Ae),l=Math.imul(ae,ze),l=l+Math.imul(ce,Ae)|0,S=Math.imul(ce,ze),w=w+Math.imul(Re,Ke)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(H,Ke)|0,S=S+Math.imul(H,qe)|0,w=w+Math.imul(V,Ye)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(fe,Ye)|0,S=S+Math.imul(fe,ut)|0,w=w+Math.imul(te,Qe)|0,l=l+Math.imul(te,ct)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,ct)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,lt)|0,l=l+Math.imul(z,Je)|0,S=S+Math.imul(z,lt)|0,w=w+Math.imul(F,et)|0,l=l+Math.imul(F,ft)|0,l=l+Math.imul(W,et)|0,S=S+Math.imul(W,ft)|0;var yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(_e,Ae),l=Math.imul(_e,ze),l=l+Math.imul(Ne,Ae)|0,S=Math.imul(Ne,ze),w=w+Math.imul(ae,Ke)|0,l=l+Math.imul(ae,qe)|0,l=l+Math.imul(ce,Ke)|0,S=S+Math.imul(ce,qe)|0,w=w+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,ut)|0,l=l+Math.imul(H,Ye)|0,S=S+Math.imul(H,ut)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,ct)|0,w=w+Math.imul(te,Je)|0,l=l+Math.imul(te,lt)|0,l=l+Math.imul(ie,Je)|0,S=S+Math.imul(ie,lt)|0,w=w+Math.imul(K,et)|0,l=l+Math.imul(K,ft)|0,l=l+Math.imul(z,et)|0,S=S+Math.imul(z,ft)|0,w=w+Math.imul(F,Xe)|0,l=l+Math.imul(F,dt)|0,l=l+Math.imul(W,Xe)|0,S=S+Math.imul(W,dt)|0;var bn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ge,Ae),l=Math.imul(ge,ze),l=l+Math.imul(ye,Ae)|0,S=Math.imul(ye,ze),w=w+Math.imul(_e,Ke)|0,l=l+Math.imul(_e,qe)|0,l=l+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,qe)|0,w=w+Math.imul(ae,Ye)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ut)|0,w=w+Math.imul(Re,Qe)|0,l=l+Math.imul(Re,ct)|0,l=l+Math.imul(H,Qe)|0,S=S+Math.imul(H,ct)|0,w=w+Math.imul(V,Je)|0,l=l+Math.imul(V,lt)|0,l=l+Math.imul(fe,Je)|0,S=S+Math.imul(fe,lt)|0,w=w+Math.imul(te,et)|0,l=l+Math.imul(te,ft)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,ft)|0,w=w+Math.imul(K,Xe)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(z,Xe)|0,S=S+Math.imul(z,dt)|0,w=w+Math.imul(F,tt)|0,l=l+Math.imul(F,ht)|0,l=l+Math.imul(W,tt)|0,S=S+Math.imul(W,ht)|0;var Tn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(se,Ae),l=Math.imul(se,ze),l=l+Math.imul(j,Ae)|0,S=Math.imul(j,ze),w=w+Math.imul(ge,Ke)|0,l=l+Math.imul(ge,qe)|0,l=l+Math.imul(ye,Ke)|0,S=S+Math.imul(ye,qe)|0,w=w+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,ut)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,ct)|0,w=w+Math.imul(Re,Je)|0,l=l+Math.imul(Re,lt)|0,l=l+Math.imul(H,Je)|0,S=S+Math.imul(H,lt)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,ft)|0,w=w+Math.imul(te,Xe)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ie,Xe)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(K,tt)|0,l=l+Math.imul(K,ht)|0,l=l+Math.imul(z,tt)|0,S=S+Math.imul(z,ht)|0,w=w+Math.imul(F,rt)|0,l=l+Math.imul(F,pt)|0,l=l+Math.imul(W,rt)|0,S=S+Math.imul(W,pt)|0;var Vn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(ue,Ae),l=Math.imul(ue,ze),l=l+Math.imul(me,Ae)|0,S=Math.imul(me,ze),w=w+Math.imul(se,Ke)|0,l=l+Math.imul(se,qe)|0,l=l+Math.imul(j,Ke)|0,S=S+Math.imul(j,qe)|0,w=w+Math.imul(ge,Ye)|0,l=l+Math.imul(ge,ut)|0,l=l+Math.imul(ye,Ye)|0,S=S+Math.imul(ye,ut)|0,w=w+Math.imul(_e,Qe)|0,l=l+Math.imul(_e,ct)|0,l=l+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,ct)|0,w=w+Math.imul(ae,Je)|0,l=l+Math.imul(ae,lt)|0,l=l+Math.imul(ce,Je)|0,S=S+Math.imul(ce,lt)|0,w=w+Math.imul(Re,et)|0,l=l+Math.imul(Re,ft)|0,l=l+Math.imul(H,et)|0,S=S+Math.imul(H,ft)|0,w=w+Math.imul(V,Xe)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,dt)|0,w=w+Math.imul(te,tt)|0,l=l+Math.imul(te,ht)|0,l=l+Math.imul(ie,tt)|0,S=S+Math.imul(ie,ht)|0,w=w+Math.imul(K,rt)|0,l=l+Math.imul(K,pt)|0,l=l+Math.imul(z,rt)|0,S=S+Math.imul(z,pt)|0,w=w+Math.imul(F,nt)|0,l=l+Math.imul(F,gt)|0,l=l+Math.imul(W,nt)|0,S=S+Math.imul(W,gt)|0;var In=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ue,Ke),l=Math.imul(ue,qe),l=l+Math.imul(me,Ke)|0,S=Math.imul(me,qe),w=w+Math.imul(se,Ye)|0,l=l+Math.imul(se,ut)|0,l=l+Math.imul(j,Ye)|0,S=S+Math.imul(j,ut)|0,w=w+Math.imul(ge,Qe)|0,l=l+Math.imul(ge,ct)|0,l=l+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,ct)|0,w=w+Math.imul(_e,Je)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Ne,Je)|0,S=S+Math.imul(Ne,lt)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(ce,et)|0,S=S+Math.imul(ce,ft)|0,w=w+Math.imul(Re,Xe)|0,l=l+Math.imul(Re,dt)|0,l=l+Math.imul(H,Xe)|0,S=S+Math.imul(H,dt)|0,w=w+Math.imul(V,tt)|0,l=l+Math.imul(V,ht)|0,l=l+Math.imul(fe,tt)|0,S=S+Math.imul(fe,ht)|0,w=w+Math.imul(te,rt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,pt)|0,w=w+Math.imul(K,nt)|0,l=l+Math.imul(K,gt)|0,l=l+Math.imul(z,nt)|0,S=S+Math.imul(z,gt)|0;var Gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(ue,Ye),l=Math.imul(ue,ut),l=l+Math.imul(me,Ye)|0,S=Math.imul(me,ut),w=w+Math.imul(se,Qe)|0,l=l+Math.imul(se,ct)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,ct)|0,w=w+Math.imul(ge,Je)|0,l=l+Math.imul(ge,lt)|0,l=l+Math.imul(ye,Je)|0,S=S+Math.imul(ye,lt)|0,w=w+Math.imul(_e,et)|0,l=l+Math.imul(_e,ft)|0,l=l+Math.imul(Ne,et)|0,S=S+Math.imul(Ne,ft)|0,w=w+Math.imul(ae,Xe)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(ce,Xe)|0,S=S+Math.imul(ce,dt)|0,w=w+Math.imul(Re,tt)|0,l=l+Math.imul(Re,ht)|0,l=l+Math.imul(H,tt)|0,S=S+Math.imul(H,ht)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,pt)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,pt)|0,w=w+Math.imul(te,nt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,gt)|0;var Yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(ue,Qe),l=Math.imul(ue,ct),l=l+Math.imul(me,Qe)|0,S=Math.imul(me,ct),w=w+Math.imul(se,Je)|0,l=l+Math.imul(se,lt)|0,l=l+Math.imul(j,Je)|0,S=S+Math.imul(j,lt)|0,w=w+Math.imul(ge,et)|0,l=l+Math.imul(ge,ft)|0,l=l+Math.imul(ye,et)|0,S=S+Math.imul(ye,ft)|0,w=w+Math.imul(_e,Xe)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Ne,Xe)|0,S=S+Math.imul(Ne,dt)|0,w=w+Math.imul(ae,tt)|0,l=l+Math.imul(ae,ht)|0,l=l+Math.imul(ce,tt)|0,S=S+Math.imul(ce,ht)|0,w=w+Math.imul(Re,rt)|0,l=l+Math.imul(Re,pt)|0,l=l+Math.imul(H,rt)|0,S=S+Math.imul(H,pt)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,gt)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,gt)|0;var Zn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(ue,Je),l=Math.imul(ue,lt),l=l+Math.imul(me,Je)|0,S=Math.imul(me,lt),w=w+Math.imul(se,et)|0,l=l+Math.imul(se,ft)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,ft)|0,w=w+Math.imul(ge,Xe)|0,l=l+Math.imul(ge,dt)|0,l=l+Math.imul(ye,Xe)|0,S=S+Math.imul(ye,dt)|0,w=w+Math.imul(_e,tt)|0,l=l+Math.imul(_e,ht)|0,l=l+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,ht)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,pt)|0,l=l+Math.imul(ce,rt)|0,S=S+Math.imul(ce,pt)|0,w=w+Math.imul(Re,nt)|0,l=l+Math.imul(Re,gt)|0,l=l+Math.imul(H,nt)|0,S=S+Math.imul(H,gt)|0;var Fn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(ue,et),l=Math.imul(ue,ft),l=l+Math.imul(me,et)|0,S=Math.imul(me,ft),w=w+Math.imul(se,Xe)|0,l=l+Math.imul(se,dt)|0,l=l+Math.imul(j,Xe)|0,S=S+Math.imul(j,dt)|0,w=w+Math.imul(ge,tt)|0,l=l+Math.imul(ge,ht)|0,l=l+Math.imul(ye,tt)|0,S=S+Math.imul(ye,ht)|0,w=w+Math.imul(_e,rt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(Ne,rt)|0,S=S+Math.imul(Ne,pt)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,gt)|0,l=l+Math.imul(ce,nt)|0,S=S+Math.imul(ce,gt)|0;var $n=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(ue,Xe),l=Math.imul(ue,dt),l=l+Math.imul(me,Xe)|0,S=Math.imul(me,dt),w=w+Math.imul(se,tt)|0,l=l+Math.imul(se,ht)|0,l=l+Math.imul(j,tt)|0,S=S+Math.imul(j,ht)|0,w=w+Math.imul(ge,rt)|0,l=l+Math.imul(ge,pt)|0,l=l+Math.imul(ye,rt)|0,S=S+Math.imul(ye,pt)|0,w=w+Math.imul(_e,nt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,gt)|0;var Un=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ue,tt),l=Math.imul(ue,ht),l=l+Math.imul(me,tt)|0,S=Math.imul(me,ht),w=w+Math.imul(se,rt)|0,l=l+Math.imul(se,pt)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,pt)|0,w=w+Math.imul(ge,nt)|0,l=l+Math.imul(ge,gt)|0,l=l+Math.imul(ye,nt)|0,S=S+Math.imul(ye,gt)|0;var Xn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(ue,rt),l=Math.imul(ue,pt),l=l+Math.imul(me,rt)|0,S=Math.imul(me,pt),w=w+Math.imul(se,nt)|0,l=l+Math.imul(se,gt)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,gt)|0;var Qn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(ue,nt),l=Math.imul(ue,gt),l=l+Math.imul(me,nt)|0,S=Math.imul(me,gt);var Jn=(T+w|0)+((l&8191)<<13)|0;return T=(S+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_[0]=hr,_[1]=yr,_[2]=pn,_[3]=gn,_[4]=mn,_[5]=yn,_[6]=bn,_[7]=Tn,_[8]=Vn,_[9]=In,_[10]=Gn,_[11]=Yn,_[12]=Zn,_[13]=Fn,_[14]=$n,_[15]=Un,_[16]=Xn,_[17]=Qn,_[18]=Jn,T!==0&&(_[19]=T,p.length++),p};Math.imul||(x=A);function k(I,c,h){h.negative=c.negative^I.negative,h.length=I.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var T=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-I.length+1);l<=w;l++){var S=v-l,N=I.words[S]|0,F=c.words[l]|0,W=N*F,D=W&67108863;_=_+(W/67108864|0)|0,D=D+T|0,T=D&67108863,_=_+(D>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=T,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function R(I,c,h){var p=new C;return p.mulp(I,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=R(this,c,h),p};function C(I,c){this.x=I,this.y=c}C.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},C.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},C.prototype.permute=function(c,h,p,m,v,_){for(var T=0;T<_;T++)m[T]=h[c[T]],v[T]=p[c[T]]},C.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),N=0;N<v;N+=w)for(var F=l,W=S,D=0;D<T;D++){var K=p[N+D],z=m[N+D],G=p[N+D+T],te=m[N+D+T],ie=F*G-W*te;te=F*te+W*G,G=ie,p[N+D]=K+G,m[N+D]=z+te,p[N+D+T]=K-G,m[N+D+T]=z-te,D!==w&&(ie=l*F-S*W,W=l*W+S*F,F=ie)}},C.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},C.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},C.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},C.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},C.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},C.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),T=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),N=new Array(m),F=new Array(m),W=p.words;W.length=m,this.convert13b(c.words,c.length,T,m),this.convert13b(h.words,h.length,S,m),this.transform(T,_,w,l,m,v),this.transform(S,_,N,F,m,v);for(var D=0;D<m;D++){var K=w[D]*N[D]-l[D]*F[D];l[D]=w[D]*F[D]+l[D]*N[D],w[D]=K}return this.conjugate(w,l,m),this.transform(w,l,W,_,m,v),this.conjugate(W,_,m),this.normalize13b(W,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),R(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var T=this.words[v]&m,w=(this.words[v]|0)-T<<h;this.words[v]=w|_,_=T>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var N=this.words[l]|0;this.words[l]=S<<26-v|N>>>v,S=N&T}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,T=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*h;_-=w&67108863,T=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+T,T=_>>26,this.words[v+p]=_&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+T,T=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,T=this._countBits(_);p=26-T,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var N=m.clone()._ishlnsubmul(v,1,w);N.negative===0&&(m=N,l&&(l.words[w]=1));for(var F=w-1;F>=0;F--){var W=(m.words[v.length+F]|0)*67108864+(m.words[v.length+F-1]|0);for(W=Math.min(W/_|0,67108863),m._ishlnsubmul(v,W,F);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(v,1,F),m.isZero()||(m.negative^=1);l&&(l.words[F]=W)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),T=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var N=0,F=1;!(h.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var W=0,D=1;!(p.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(p.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(l),T.isub(S)),_.iushrn(1),T.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(T)):(p.isub(h),_.isub(m),T.isub(v))}return{a:_,b:T,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(h.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(h.iushrn(T);T-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var N;return h.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(c),N},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var T=this.words[_]|0;T+=v,v=T>>>26,T&=67108863,this.words[_]=T}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function O(I,c){this.name=I,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},O.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},O.prototype.split=function(c,h){c.iushrn(this.n,0,h)},O.prototype.imulK=function(c){return c.imul(this.k)};function q(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,O),q.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|_>>>22,_=T}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,O);function Y(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,O);function X(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,O),X.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(P[c])return P[c];var h;if(c==="k256")h=new q;else if(c==="p224")h=new Q;else if(c==="p192")h=new Y;else if(c==="p25519")h=new X;else throw new Error("Unknown prime "+c);return P[c]=h,h};function Z(I){if(typeof I=="string"){var c=s._prime(I);this.m=c.p,this.prime=c}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},Z.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},Z.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),T=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(T)!==0;)l.redIAdd(T);for(var S=this.pow(l,m),N=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),W=v;F.cmp(_)!==0;){for(var D=F,K=0;D.cmp(_)!==0;K++)D=D.redSqr();n(K<W);var z=this.pow(S,new s(1).iushln(W-K-1));N=N.redMul(z),S=z.redSqr(),F=F.redMul(S),W=K}return N},Z.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],T=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],N=l-1;N>=0;N--){var F=S>>N&1;if(_!==m[0]&&(_=this.sqr(_)),F===0&&T===0){w=0;continue}T<<=1,T|=F,w++,!(w!==p&&(v!==0||N!==0))&&(_=this.mul(_,m[T]),w=0,T=0)}l=26}return _},Z.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},Z.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new le(c)};function le(I){Z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Z),le.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},le.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Lt)})(QF);var Kh=QF.exports,JF={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)a[u]=s[u]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)a.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var f=s.charCodeAt(u),d=f>>8,g=f&255;d?a.push(d,g):a.push(g)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(JF);(function(t){var e=t,r=Kh,n=Cc,i=JF;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(d,g,y){var b=new Array(Math.max(d.bitLength(),y)+1),A;for(A=0;A<b.length;A+=1)b[A]=0;var x=1<<g+1,k=d.clone();for(A=0;A<b.length;A++){var R,C=k.andln(x-1);k.isOdd()?(C>(x>>1)-1?R=(x>>1)-C:R=C,k.isubn(R)):R=0,b[A]=R,k.iushrn(1)}return b}e.getNAF=s;function o(d,g){var y=[[],[]];d=d.clone(),g=g.clone();for(var b=0,A=0,x;d.cmpn(-b)>0||g.cmpn(-A)>0;){var k=d.andln(3)+b&3,R=g.andln(3)+A&3;k===3&&(k=-1),R===3&&(R=-1);var C;k&1?(x=d.andln(7)+b&7,(x===3||x===5)&&R===2?C=-k:C=k):C=0,y[0].push(C);var P;R&1?(x=g.andln(7)+A&7,(x===3||x===5)&&k===2?P=-R:P=R):P=0,y[1].push(P),2*b===C+1&&(b=1-b),2*A===P+1&&(A=1-A),d.iushrn(1),g.iushrn(1)}return y}e.getJSF=o;function a(d,g,y){var b="_"+g;d.prototype[g]=function(){return this[b]!==void 0?this[b]:this[b]=y.call(this)}}e.cachedProperty=a;function u(d){return typeof d=="string"?e.toArray(d,"hex"):d}e.parseBytes=u;function f(d){return new r(d,"hex","le")}e.intFromLE=f})(ju);var e$={},n0=Kh,w2=ju,nI=w2.getNAF,hit=w2.getJSF,iI=w2.assert;function Og(t,e){this.type=t,this.p=new n0(e.p,16),this.red=e.prime?n0.red(e.prime):n0.mont(this.p),this.zero=new n0(0).toRed(this.red),this.one=new n0(1).toRed(this.red),this.two=new n0(2).toRed(this.red),this.n=e.n&&new n0(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var K4=Og;Og.prototype.point=function(){throw new Error("Not implemented")};Og.prototype.validate=function(){throw new Error("Not implemented")};Og.prototype._fixedNafMul=function(e,r){iI(e.precomputed);var n=e._getDoubles(),i=nI(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var f=a+n.step-1;f>=a;f--)u=(u<<1)+i[f];o.push(u)}for(var d=this.jpoint(null,null,null),g=this.jpoint(null,null,null),y=s;y>0;y--){for(a=0;a<o.length;a++)u=o[a],u===y?g=g.mixedAdd(n.points[a]):u===-y&&(g=g.mixedAdd(n.points[a].neg()));d=d.add(g)}return d.toP()};Og.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=nI(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var f=0;u>=0&&o[u]===0;u--)f++;if(u>=0&&f++,a=a.dblp(f),u<0)break;var d=o[u];iI(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};Og.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,f=0,d,g,y;for(d=0;d<i;d++){y=r[d];var b=y._getNAFPoints(e);o[d]=b.wnd,a[d]=b.points}for(d=i-1;d>=1;d-=2){var A=d-1,x=d;if(o[A]!==1||o[x]!==1){u[A]=nI(n[A],o[A],this._bitLength),u[x]=nI(n[x],o[x],this._bitLength),f=Math.max(u[A].length,f),f=Math.max(u[x].length,f);continue}var k=[r[A],null,null,r[x]];r[A].y.cmp(r[x].y)===0?(k[1]=r[A].add(r[x]),k[2]=r[A].toJ().mixedAdd(r[x].neg())):r[A].y.cmp(r[x].y.redNeg())===0?(k[1]=r[A].toJ().mixedAdd(r[x]),k[2]=r[A].add(r[x].neg())):(k[1]=r[A].toJ().mixedAdd(r[x]),k[2]=r[A].toJ().mixedAdd(r[x].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],C=hit(n[A],n[x]);for(f=Math.max(C[0].length,f),u[A]=new Array(f),u[x]=new Array(f),g=0;g<f;g++){var P=C[0][g]|0,O=C[1][g]|0;u[A][g]=R[(P+1)*3+(O+1)],u[x][g]=0,a[A]=k}}var q=this.jpoint(null,null,null),Q=this._wnafT4;for(d=f;d>=0;d--){for(var Y=0;d>=0;){var X=!0;for(g=0;g<i;g++)Q[g]=u[g][d]|0,Q[g]!==0&&(X=!1);if(!X)break;Y++,d--}if(d>=0&&Y++,q=q.dblp(Y),d<0)break;for(g=0;g<i;g++){var Z=Q[g];Z!==0&&(Z>0?y=a[g][Z-1>>1]:Z<0&&(y=a[g][-Z-1>>1].neg()),y.type==="affine"?q=q.mixedAdd(y):q=q.add(y))}}for(d=0;d<i;d++)a[d]=null;return s?q:q.toP()};function Nc(t,e){this.curve=t,this.type=e,this.precomputed=null}Og.BasePoint=Nc;Nc.prototype.eq=function(){throw new Error("Not implemented")};Nc.prototype.validate=function(){return this.curve.validate(this)};Og.prototype.decodePoint=function(e,r){e=w2.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?iI(e[e.length-1]%2===0):e[0]===7&&iI(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Nc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Nc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Nc.prototype.encode=function(e,r){return w2.encode(this._encode(r),e)};Nc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Nc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Nc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Nc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Nc.prototype._getBeta=function(){return null};Nc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var pit=ju,ss=Kh,t$=Br,Gw=K4,git=pit.assert;function Bc(t){Gw.call(this,"short",t),this.a=new ss(t.a,16).toRed(this.red),this.b=new ss(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t$(Bc,Gw);var mit=Bc;Bc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ss(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ss(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],git(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new ss(a.a,16),b:new ss(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Bc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ss.mont(e),n=new ss(2).toRed(r).redInvm(),i=n.redNeg(),s=new ss(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Bc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new ss(1),o=new ss(0),a=new ss(0),u=new ss(1),f,d,g,y,b,A,x,k=0,R,C;n.cmpn(0)!==0;){var P=i.div(n);R=i.sub(P.mul(n)),C=a.sub(P.mul(s));var O=u.sub(P.mul(o));if(!g&&R.cmp(r)<0)f=x.neg(),d=s,g=R.neg(),y=C;else if(g&&++k===2)break;x=R,i=n,n=R,a=s,s=C,u=o,o=O}b=R.neg(),A=C;var q=g.sqr().add(y.sqr()),Q=b.sqr().add(A.sqr());return Q.cmp(q)>=0&&(b=f,A=d),g.negative&&(g=g.neg(),y=y.neg()),b.negative&&(b=b.neg(),A=A.neg()),[{a:g,b:y},{a:b,b:A}]};Bc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),f=s.mul(n.b),d=o.mul(i.b),g=e.sub(a).sub(u),y=f.add(d).neg();return{k1:g,k2:y}};Bc.prototype.pointFromX=function(e,r){e=new ss(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Bc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Bc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),u=e[o],f=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),f=f.neg(!0)),i[o*2]=u,i[o*2+1]=f,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,n),g=0;g<o*2;g++)i[g]=null,s[g]=null;return d};function fo(t,e,r,n){Gw.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ss(e,16),this.y=new ss(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t$(fo,Gw.BasePoint);Bc.prototype.point=function(e,r,n){return new fo(this,e,r,n)};Bc.prototype.pointFromJSON=function(e,r){return fo.fromJSON(this,e,r)};fo.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};fo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};fo.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};fo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};fo.prototype.isInfinity=function(){return this.inf};fo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};fo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};fo.prototype.getX=function(){return this.x.fromRed()};fo.prototype.getY=function(){return this.y.fromRed()};fo.prototype.mul=function(e){return e=new ss(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};fo.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};fo.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};fo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};fo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};fo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Mo(t,e,r,n){Gw.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ss(0)):(this.x=new ss(e,16),this.y=new ss(r,16),this.z=new ss(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}t$(Mo,Gw.BasePoint);Bc.prototype.jpoint=function(e,r,n){return new Mo(this,e,r,n)};Mo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Mo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Mo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),f=o.redSub(a);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),g=d.redMul(u),y=i.redMul(d),b=f.redSqr().redIAdd(g).redISub(y).redISub(y),A=f.redMul(y.redISub(b)).redISub(o.redMul(g)),x=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(b,A,x)};Mo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),d=f.redMul(a),g=n.redMul(f),y=u.redSqr().redIAdd(d).redISub(g).redISub(g),b=u.redMul(g.redISub(y)).redISub(s.redMul(d)),A=this.z.redMul(a);return this.curve.jpoint(y,b,A)};Mo.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,f=u.redSqr().redSqr(),d=a.redAdd(a);for(r=0;r<e;r++){var g=o.redSqr(),y=d.redSqr(),b=y.redSqr(),A=g.redAdd(g).redIAdd(g).redIAdd(i.redMul(f)),x=o.redMul(y),k=A.redSqr().redISub(x.redAdd(x)),R=x.redISub(k),C=A.redMul(R);C=C.redIAdd(C).redISub(b);var P=d.redMul(u);r+1<e&&(f=f.redMul(b)),o=k,u=P,d=C}return this.curve.jpoint(o,d.redMul(s),u)};Mo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Mo.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=f,r=u.redMul(a.redISub(f)).redISub(d),n=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),A=this.x.redAdd(y).redSqr().redISub(g).redISub(b);A=A.redIAdd(A);var x=g.redAdd(g).redIAdd(g),k=x.redSqr(),R=b.redIAdd(b);R=R.redIAdd(R),R=R.redIAdd(R),e=k.redISub(A).redISub(A),r=x.redMul(A.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Mo.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(a).redISub(a);e=f;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),r=u.redMul(a.redISub(f)).redISub(d),n=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),y=this.y.redSqr(),b=this.x.redMul(y),A=this.x.redSub(g).redMul(this.x.redAdd(g));A=A.redAdd(A).redIAdd(A);var x=b.redIAdd(b);x=x.redIAdd(x);var k=x.redAdd(x);e=A.redSqr().redISub(k),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(g);var R=y.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=A.redMul(x.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};Mo.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),f=r.redAdd(r);f=f.redIAdd(f);var d=f.redMul(a),g=u.redSqr().redISub(d.redAdd(d)),y=d.redISub(g),b=a.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=u.redMul(y).redISub(b),x=n.redAdd(n).redMul(i);return this.curve.jpoint(g,A,x)};Mo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var d=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(f),g=r.redMul(d);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.x.redMul(u).redISub(g);y=y.redIAdd(y),y=y.redIAdd(y);var b=this.y.redMul(d.redMul(f.redISub(d)).redISub(a.redMul(u)));b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var A=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(y,b,A)};Mo.prototype.mul=function(e,r){return e=new ss(e,r),this.curve._wnafMul(this,e)};Mo.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Mo.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Mo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Mo.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ib=Kh,Dde=Br,j4=K4,yit=ju;function Yw(t){j4.call(this,"mont",t),this.a=new ib(t.a,16).toRed(this.red),this.b=new ib(t.b,16).toRed(this.red),this.i4=new ib(4).toRed(this.red).redInvm(),this.two=new ib(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Dde(Yw,j4);var bit=Yw;Yw.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function co(t,e,r){j4.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ib(e,16),this.z=new ib(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Dde(co,j4.BasePoint);Yw.prototype.decodePoint=function(e,r){return this.point(yit.toArray(e,r),1)};Yw.prototype.point=function(e,r){return new co(this,e,r)};Yw.prototype.pointFromJSON=function(e){return co.fromJSON(this,e)};co.prototype.precompute=function(){};co.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};co.fromJSON=function(e,r){return new co(e,r[0],r[1]||e.one)};co.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};co.prototype.isInfinity=function(){return this.z.cmpn(0)===0};co.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};co.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};co.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),u=s.redMul(i),f=r.z.redMul(a.redAdd(u).redSqr()),d=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(f,d)};co.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};co.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};co.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};co.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};co.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};co.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var vit=ju,hh=Kh,Fde=Br,H4=K4,wit=vit.assert;function td(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,H4.call(this,"edwards",t),this.a=new hh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new hh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new hh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),wit(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Fde(td,H4);var Sit=td;td.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};td.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};td.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};td.prototype.pointFromX=function(e,r){e=new hh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(e,a)};td.prototype.pointFromY=function(e,r){e=new hh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};td.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Ei(t,e,r,n,i){H4.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new hh(e,16),this.y=new hh(r,16),this.z=n?new hh(n,16):this.curve.one,this.t=i&&new hh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Fde(Ei,H4.BasePoint);td.prototype.pointFromJSON=function(e){return Ei.fromJSON(this,e)};td.prototype.point=function(e,r,n,i){return new Ei(this,e,r,n,i)};Ei.fromJSON=function(e,r){return new Ei(e,r[0],r[1],r[2])};Ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ei.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ei.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),f=s.redMul(a),d=o.redMul(u),g=s.redMul(u),y=a.redMul(o);return this.curve.point(f,d,y,g)};Ei.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,f;if(this.curve.twisted){a=this.curve._mulA(r);var d=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(d.redSub(this.curve.two)),s=d.redMul(a.redSub(n)),o=d.redSqr().redSub(d).redSub(d)):(u=this.z.redSqr(),f=d.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(f),s=d.redMul(a.redSub(n)),o=d.redMul(f))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=a.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(a)).redMul(f),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(f);return this.curve.point(i,s,o)};Ei.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ei.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),f=n.redAdd(r),d=o.redMul(a),g=u.redMul(f),y=o.redMul(f),b=a.redMul(u);return this.curve.point(d,g,b,y)};Ei.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),d=r.redMul(a).redMul(f),g,y;return this.curve.twisted?(g=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),y=a.redMul(u)):(g=r.redMul(u).redMul(s.redSub(i)),y=this.curve._mulC(a).redMul(u)),this.curve.point(d,g,y)};Ei.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ei.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ei.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ei.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ei.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ei.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ei.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ei.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ei.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ei.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ei.prototype.toP=Ei.prototype.normalize;Ei.prototype.mixedAdd=Ei.prototype.add;(function(t){var e=t;e.base=K4,e.short=mit,e.mont=bit,e.edwards=Sit})(e$);var q4={},Zw={},fn={},_it=Cc,Ait=Br;fn.inherits=Ait;function xit(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Eit(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):xit(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}fn.toArray=Eit;function kit(t){for(var e="",r=0;r<t.length;r++)e+=Ude(t[r].toString(16));return e}fn.toHex=kit;function $de(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}fn.htonl=$de;function Tit(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=$de(i)),r+=zde(i.toString(16))}return r}fn.toHex32=Tit;function Ude(t){return t.length===1?"0"+t:t}fn.zero2=Ude;function zde(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}fn.zero8=zde;function Iit(t,e,r,n){var i=r-e;_it(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var u;n==="big"?u=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:u=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=u>>>0}return s}fn.join32=Iit;function Rit(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}fn.split32=Rit;function Mit(t,e){return t>>>e|t<<32-e}fn.rotr32=Mit;function Cit(t,e){return t<<e|t>>>32-e}fn.rotl32=Cit;function Pit(t,e){return t+e>>>0}fn.sum32=Pit;function Nit(t,e,r){return t+e+r>>>0}fn.sum32_3=Nit;function Bit(t,e,r,n){return t+e+r+n>>>0}fn.sum32_4=Bit;function Oit(t,e,r,n,i){return t+e+r+n+i>>>0}fn.sum32_5=Oit;function Lit(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}fn.sum64=Lit;function Dit(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}fn.sum64_hi=Dit;function Fit(t,e,r,n){var i=e+n;return i>>>0}fn.sum64_lo=Fit;function $it(t,e,r,n,i,s,o,a){var u=0,f=e;f=f+n>>>0,u+=f<e?1:0,f=f+s>>>0,u+=f<s?1:0,f=f+a>>>0,u+=f<a?1:0;var d=t+r+i+o+u;return d>>>0}fn.sum64_4_hi=$it;function Uit(t,e,r,n,i,s,o,a){var u=e+n+s+a;return u>>>0}fn.sum64_4_lo=Uit;function zit(t,e,r,n,i,s,o,a,u,f){var d=0,g=e;g=g+n>>>0,d+=g<e?1:0,g=g+s>>>0,d+=g<s?1:0,g=g+a>>>0,d+=g<a?1:0,g=g+f>>>0,d+=g<f?1:0;var y=t+r+i+o+u+d;return y>>>0}fn.sum64_5_hi=zit;function Wit(t,e,r,n,i,s,o,a,u,f){var d=e+n+s+a+f;return d>>>0}fn.sum64_5_lo=Wit;function Kit(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}fn.rotr64_hi=Kit;function jit(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}fn.rotr64_lo=jit;function Hit(t,e,r){return t>>>r}fn.shr64_hi=Hit;function qit(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}fn.shr64_lo=qit;var Xw={},JQ=fn,Vit=Cc;function V4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Xw.BlockHash=V4;V4.prototype.update=function(e,r){if(e=JQ.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=JQ.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};V4.prototype.digest=function(e){return this.update(this._pad()),Vit(this.pending===null),this._digest(e)};V4.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Qw={},rd={},Git=fn,Pf=Git.rotr32;function Yit(t,e,r,n){if(t===0)return Wde(e,r,n);if(t===1||t===3)return jde(e,r,n);if(t===2)return Kde(e,r,n)}rd.ft_1=Yit;function Wde(t,e,r){return t&e^~t&r}rd.ch32=Wde;function Kde(t,e,r){return t&e^t&r^e&r}rd.maj32=Kde;function jde(t,e,r){return t^e^r}rd.p32=jde;function Zit(t){return Pf(t,2)^Pf(t,13)^Pf(t,22)}rd.s0_256=Zit;function Xit(t){return Pf(t,6)^Pf(t,11)^Pf(t,25)}rd.s1_256=Xit;function Qit(t){return Pf(t,7)^Pf(t,18)^t>>>3}rd.g0_256=Qit;function Jit(t){return Pf(t,17)^Pf(t,19)^t>>>10}rd.g1_256=Jit;var ow=fn,est=Xw,tst=rd,FN=ow.rotl32,r_=ow.sum32,rst=ow.sum32_5,nst=tst.ft_1,Hde=est.BlockHash,ist=[1518500249,1859775393,2400959708,3395469782];function Wf(){if(!(this instanceof Wf))return new Wf;Hde.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ow.inherits(Wf,Hde);var sst=Wf;Wf.blockSize=512;Wf.outSize=160;Wf.hmacStrength=80;Wf.padLength=64;Wf.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=FN(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),g=rst(FN(s,5),nst(d,o,a,u),f,n[i],ist[d]);f=u,u=a,a=FN(o,30),o=s,s=g}this.h[0]=r_(this.h[0],s),this.h[1]=r_(this.h[1],o),this.h[2]=r_(this.h[2],a),this.h[3]=r_(this.h[3],u),this.h[4]=r_(this.h[4],f)};Wf.prototype._digest=function(e){return e==="hex"?ow.toHex32(this.h,"big"):ow.split32(this.h,"big")};var aw=fn,ost=Xw,Jw=rd,ast=Cc,Wc=aw.sum32,ust=aw.sum32_4,cst=aw.sum32_5,lst=Jw.ch32,fst=Jw.maj32,dst=Jw.s0_256,hst=Jw.s1_256,pst=Jw.g0_256,gst=Jw.g1_256,qde=ost.BlockHash,mst=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Kf(){if(!(this instanceof Kf))return new Kf;qde.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=mst,this.W=new Array(64)}aw.inherits(Kf,qde);var Vde=Kf;Kf.blockSize=512;Kf.outSize=256;Kf.hmacStrength=192;Kf.padLength=64;Kf.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=ust(gst(n[i-2]),n[i-7],pst(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],f=this.h[4],d=this.h[5],g=this.h[6],y=this.h[7];for(ast(this.k.length===n.length),i=0;i<n.length;i++){var b=cst(y,hst(f),lst(f,d,g),this.k[i],n[i]),A=Wc(dst(s),fst(s,o,a));y=g,g=d,d=f,f=Wc(u,b),u=a,a=o,o=s,s=Wc(b,A)}this.h[0]=Wc(this.h[0],s),this.h[1]=Wc(this.h[1],o),this.h[2]=Wc(this.h[2],a),this.h[3]=Wc(this.h[3],u),this.h[4]=Wc(this.h[4],f),this.h[5]=Wc(this.h[5],d),this.h[6]=Wc(this.h[6],g),this.h[7]=Wc(this.h[7],y)};Kf.prototype._digest=function(e){return e==="hex"?aw.toHex32(this.h,"big"):aw.split32(this.h,"big")};var FL=fn,Gde=Vde;function Bh(){if(!(this instanceof Bh))return new Bh;Gde.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}FL.inherits(Bh,Gde);var yst=Bh;Bh.blockSize=512;Bh.outSize=224;Bh.hmacStrength=192;Bh.padLength=64;Bh.prototype._digest=function(e){return e==="hex"?FL.toHex32(this.h.slice(0,7),"big"):FL.split32(this.h.slice(0,7),"big")};var iu=fn,bst=Xw,vst=Cc,Nf=iu.rotr64_hi,Bf=iu.rotr64_lo,Yde=iu.shr64_hi,Zde=iu.shr64_lo,pp=iu.sum64,$N=iu.sum64_hi,UN=iu.sum64_lo,wst=iu.sum64_4_hi,Sst=iu.sum64_4_lo,_st=iu.sum64_5_hi,Ast=iu.sum64_5_lo,Xde=bst.BlockHash,xst=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sl(){if(!(this instanceof Sl))return new Sl;Xde.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=xst,this.W=new Array(160)}iu.inherits(Sl,Xde);var Qde=Sl;Sl.blockSize=1024;Sl.outSize=512;Sl.hmacStrength=192;Sl.padLength=128;Sl.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=Ost(n[i-4],n[i-3]),o=Lst(n[i-4],n[i-3]),a=n[i-14],u=n[i-13],f=Nst(n[i-30],n[i-29]),d=Bst(n[i-30],n[i-29]),g=n[i-32],y=n[i-31];n[i]=wst(s,o,a,u,f,d,g,y),n[i+1]=Sst(s,o,a,u,f,d,g,y)}};Sl.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],f=this.h[5],d=this.h[6],g=this.h[7],y=this.h[8],b=this.h[9],A=this.h[10],x=this.h[11],k=this.h[12],R=this.h[13],C=this.h[14],P=this.h[15];vst(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var q=C,Q=P,Y=Cst(y,b),X=Pst(y,b),Z=Est(y,b,A,x,k),le=kst(y,b,A,x,k,R),I=this.k[O],c=this.k[O+1],h=n[O],p=n[O+1],m=_st(q,Q,Y,X,Z,le,I,c,h,p),v=Ast(q,Q,Y,X,Z,le,I,c,h,p);q=Rst(i,s),Q=Mst(i,s),Y=Tst(i,s,o,a,u),X=Ist(i,s,o,a,u,f);var _=$N(q,Q,Y,X),T=UN(q,Q,Y,X);C=k,P=R,k=A,R=x,A=y,x=b,y=$N(d,g,m,v),b=UN(g,g,m,v),d=u,g=f,u=o,f=a,o=i,a=s,i=$N(m,v,_,T),s=UN(m,v,_,T)}pp(this.h,0,i,s),pp(this.h,2,o,a),pp(this.h,4,u,f),pp(this.h,6,d,g),pp(this.h,8,y,b),pp(this.h,10,A,x),pp(this.h,12,k,R),pp(this.h,14,C,P)};Sl.prototype._digest=function(e){return e==="hex"?iu.toHex32(this.h,"big"):iu.split32(this.h,"big")};function Est(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function kst(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Tst(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function Ist(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function Rst(t,e){var r=Nf(t,e,28),n=Nf(e,t,2),i=Nf(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Mst(t,e){var r=Bf(t,e,28),n=Bf(e,t,2),i=Bf(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Cst(t,e){var r=Nf(t,e,14),n=Nf(t,e,18),i=Nf(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function Pst(t,e){var r=Bf(t,e,14),n=Bf(t,e,18),i=Bf(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function Nst(t,e){var r=Nf(t,e,1),n=Nf(t,e,8),i=Yde(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Bst(t,e){var r=Bf(t,e,1),n=Bf(t,e,8),i=Zde(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Ost(t,e){var r=Nf(t,e,19),n=Nf(e,t,29),i=Yde(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function Lst(t,e){var r=Bf(t,e,19),n=Bf(e,t,29),i=Zde(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var $L=fn,Jde=Qde;function Oh(){if(!(this instanceof Oh))return new Oh;Jde.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}$L.inherits(Oh,Jde);var Dst=Oh;Oh.blockSize=1024;Oh.outSize=384;Oh.hmacStrength=192;Oh.padLength=128;Oh.prototype._digest=function(e){return e==="hex"?$L.toHex32(this.h.slice(0,12),"big"):$L.split32(this.h.slice(0,12),"big")};Qw.sha1=sst;Qw.sha224=yst;Qw.sha256=Vde;Qw.sha384=Dst;Qw.sha512=Qde;var ehe={},Om=fn,Fst=Xw,Rk=Om.rotl32,eJ=Om.sum32,n_=Om.sum32_3,tJ=Om.sum32_4,the=Fst.BlockHash;function jf(){if(!(this instanceof jf))return new jf;the.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Om.inherits(jf,the);ehe.ripemd160=jf;jf.blockSize=512;jf.outSize=160;jf.hmacStrength=192;jf.padLength=64;jf.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=n,f=i,d=s,g=o,y=a,b=0;b<80;b++){var A=eJ(Rk(tJ(n,rJ(b,i,s,o),e[zst[b]+r],$st(b)),Kst[b]),a);n=a,a=o,o=Rk(s,10),s=i,i=A,A=eJ(Rk(tJ(u,rJ(79-b,f,d,g),e[Wst[b]+r],Ust(b)),jst[b]),y),u=y,y=g,g=Rk(d,10),d=f,f=A}A=n_(this.h[1],s,g),this.h[1]=n_(this.h[2],o,y),this.h[2]=n_(this.h[3],a,u),this.h[3]=n_(this.h[4],n,f),this.h[4]=n_(this.h[0],i,d),this.h[0]=A};jf.prototype._digest=function(e){return e==="hex"?Om.toHex32(this.h,"little"):Om.split32(this.h,"little")};function rJ(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function $st(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ust(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var zst=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Wst=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Kst=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],jst=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Hst=fn,qst=Cc;function uw(t,e,r){if(!(this instanceof uw))return new uw(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Hst.toArray(e,r))}var Vst=uw;uw.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),qst(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};uw.prototype.update=function(e,r){return this.inner.update(e,r),this};uw.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=fn,e.common=Xw,e.sha=Qw,e.ripemd=ehe,e.hmac=Vst,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Zw);const rhe=ea(Zw),TPt=Xre({__proto__:null,default:rhe},[Zw]);var zN,nJ;function Gst(){return nJ||(nJ=1,zN={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),zN}(function(t){var e=t,r=Zw,n=e$,i=ju,s=i.assert;function o(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(f,d){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var g=new o(d);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:g}),g}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=Gst()}catch{u=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(q4);var Yst=Zw,fm=JF,nhe=Cc;function mg(t){if(!(this instanceof mg))return new mg(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fm.toArray(t.entropy,t.entropyEnc||"hex"),r=fm.toArray(t.nonce,t.nonceEnc||"hex"),n=fm.toArray(t.pers,t.persEnc||"hex");nhe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Zst=mg;mg.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};mg.prototype._hmac=function(){return new Yst.hmac(this.hash,this.K)};mg.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};mg.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=fm.toArray(e,r),n=fm.toArray(n,i),nhe(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};mg.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=fm.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,fm.encode(o,r)};var Xst=Kh,Qst=ju,UL=Qst.assert;function Qo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Jst=Qo;Qo.fromPublic=function(e,r,n){return r instanceof Qo?r:new Qo(e,{pub:r,pubEnc:n})};Qo.fromPrivate=function(e,r,n){return r instanceof Qo?r:new Qo(e,{priv:r,privEnc:n})};Qo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Qo.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Qo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Qo.prototype._importPrivate=function(e,r){this.priv=new Xst(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Qo.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?UL(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&UL(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Qo.prototype.derive=function(e){return e.validate()||UL(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Qo.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Qo.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Qo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var sI=Kh,r$=ju,eot=r$.assert;function G4(t,e){if(t instanceof G4)return t;this._importDER(t,e)||(eot(t.r&&t.s,"Signature without r or s"),this.r=new sI(t.r,16),this.s=new sI(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var tot=G4;function rot(){this.place=0}function WN(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function iJ(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}G4.prototype._importDER=function(e,r){e=r$.toArray(e,r);var n=new rot;if(e[n.place++]!==48)return!1;var i=WN(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=WN(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=WN(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new sI(o),this.s=new sI(u),this.recoveryParam=null,!0};function KN(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}G4.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=iJ(r),n=iJ(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];KN(i,r.length),i=i.concat(r),i.push(2),KN(i,n.length);var s=i.concat(n),o=[48];return KN(o,s.length),o=o.concat(s),r$.encode(o,e)};var jN,sJ;function not(){if(sJ)return jN;sJ=1;var t=Kh,e=Zst,r=ju,n=q4,i=YF(),s=r.assert,o=Jst,a=tot;function u(f){if(!(this instanceof u))return new u(f);typeof f=="string"&&(s(Object.prototype.hasOwnProperty.call(n,f),"Unknown curve "+f),f=n[f]),f instanceof n.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}return jN=u,u.prototype.keyPair=function(d){return new o(this,d)},u.prototype.keyFromPrivate=function(d,g){return o.fromPrivate(this,d,g)},u.prototype.keyFromPublic=function(d,g){return o.fromPublic(this,d,g)},u.prototype.genKeyPair=function(d){d||(d={});for(var g=new e({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||i(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),b=this.n.sub(new t(2));;){var A=new t(g.generate(y));if(!(A.cmp(b)>0))return A.iaddn(1),this.keyFromPrivate(A)}},u.prototype._truncateToN=function(d,g,y){var b;if(t.isBN(d)||typeof d=="number")d=new t(d,16),b=d.byteLength();else if(typeof d=="object")b=d.length,d=new t(d,16);else{var A=d.toString();b=A.length+1>>>1,d=new t(A,16)}typeof y!="number"&&(y=b*8);var x=y-this.n.bitLength();return x>0&&(d=d.ushrn(x)),!g&&d.cmp(this.n)>=0?d.sub(this.n):d},u.prototype.sign=function(d,g,y,b){if(typeof y=="object"&&(b=y,y=null),b||(b={}),typeof d!="string"&&typeof d!="number"&&!t.isBN(d)){s(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(d.length>>>0===d.length);for(var A=0;A<d.length;A++)s((d[A]&255)===d[A])}g=this.keyFromPrivate(g,y),d=this._truncateToN(d,!1,b.msgBitLength),s(!d.isNeg(),"Can not sign a negative message");var x=this.n.byteLength(),k=g.getPrivate().toArray("be",x),R=d.toArray("be",x);s(new t(R).eq(d),"Can not sign message");for(var C=new e({hash:this.hash,entropy:k,nonce:R,pers:b.pers,persEnc:b.persEnc||"utf8"}),P=this.n.sub(new t(1)),O=0;;O++){var q=b.k?b.k(O):new t(C.generate(this.n.byteLength()));if(q=this._truncateToN(q,!0),!(q.cmpn(1)<=0||q.cmp(P)>=0)){var Q=this.g.mul(q);if(!Q.isInfinity()){var Y=Q.getX(),X=Y.umod(this.n);if(X.cmpn(0)!==0){var Z=q.invm(this.n).mul(X.mul(g.getPrivate()).iadd(d));if(Z=Z.umod(this.n),Z.cmpn(0)!==0){var le=(Q.getY().isOdd()?1:0)|(Y.cmp(X)!==0?2:0);return b.canonical&&Z.cmp(this.nh)>0&&(Z=this.n.sub(Z),le^=1),new a({r:X,s:Z,recoveryParam:le})}}}}}},u.prototype.verify=function(d,g,y,b,A){A||(A={}),d=this._truncateToN(d,!1,A.msgBitLength),y=this.keyFromPublic(y,b),g=new a(g,"hex");var x=g.r,k=g.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var R=k.invm(this.n),C=R.mul(d).umod(this.n),P=R.mul(x).umod(this.n),O;return this.curve._maxwellTrick?(O=this.g.jmulAdd(C,y.getPublic(),P),O.isInfinity()?!1:O.eqXToP(x)):(O=this.g.mulAdd(C,y.getPublic(),P),O.isInfinity()?!1:O.getX().umod(this.n).cmp(x)===0)},u.prototype.recoverPubKey=function(f,d,g,y){s((3&g)===g,"The recovery param is more than two bits"),d=new a(d,y);var b=this.n,A=new t(f),x=d.r,k=d.s,R=g&1,C=g>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&C)throw new Error("Unable to find sencond key candinate");C?x=this.curve.pointFromX(x.add(this.curve.n),R):x=this.curve.pointFromX(x,R);var P=d.r.invm(b),O=b.sub(A).mul(P).umod(b),q=k.mul(P).umod(b);return this.g.mulAdd(O,x,q)},u.prototype.getKeyRecoveryParam=function(f,d,g,y){if(d=new a(d,y),d.recoveryParam!==null)return d.recoveryParam;for(var b=0;b<4;b++){var A;try{A=this.recoverPubKey(f,d,b)}catch{continue}if(A.eq(g))return b}throw new Error("Unable to find valid recovery factor")},jN}var S2=ju,ihe=S2.assert,oJ=S2.parseBytes,eS=S2.cachedProperty;function uo(t,e){this.eddsa=t,this._secret=oJ(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=oJ(e.pub)}uo.fromPublic=function(e,r){return r instanceof uo?r:new uo(e,{pub:r})};uo.fromSecret=function(e,r){return r instanceof uo?r:new uo(e,{secret:r})};uo.prototype.secret=function(){return this._secret};eS(uo,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});eS(uo,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});eS(uo,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});eS(uo,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});eS(uo,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});eS(uo,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});uo.prototype.sign=function(e){return ihe(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};uo.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};uo.prototype.getSecret=function(e){return ihe(this._secret,"KeyPair is public only"),S2.encode(this.secret(),e)};uo.prototype.getPublic=function(e){return S2.encode(this.pubBytes(),e)};var iot=uo,sot=Kh,Y4=ju,aJ=Y4.assert,Z4=Y4.cachedProperty,oot=Y4.parseBytes;function py(t,e){this.eddsa=t,typeof e!="object"&&(e=oot(e)),Array.isArray(e)&&(aJ(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),aJ(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof sot&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Z4(py,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Z4(py,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Z4(py,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Z4(py,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});py.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};py.prototype.toHex=function(){return Y4.encode(this.toBytes(),"hex").toUpperCase()};var aot=py,uot=Zw,cot=q4,cw=ju,lot=cw.assert,she=cw.parseBytes,ohe=iot,uJ=aot;function su(t){if(lot(t==="ed25519","only tested with ed25519 so far"),!(this instanceof su))return new su(t);t=cot[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=uot.sha512}var fot=su;su.prototype.sign=function(e,r){e=she(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};su.prototype.verify=function(e,r,n){if(e=she(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};su.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return cw.intFromLE(e.digest()).umod(this.curve.n)};su.prototype.keyFromPublic=function(e){return ohe.fromPublic(this,e)};su.prototype.keyFromSecret=function(e){return ohe.fromSecret(this,e)};su.prototype.makeSignature=function(e){return e instanceof uJ?e:new uJ(this,e)};su.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};su.prototype.decodePoint=function(e){e=cw.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=cw.intFromLE(n);return this.curve.pointFromY(s,i)};su.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};su.prototype.decodeInt=function(e){return cw.intFromLE(e)};su.prototype.isPoint=function(e){return e instanceof this.pointClass};var cJ;function n$(){return cJ||(cJ=1,function(t){var e=t;e.version=dit.version,e.utils=ju,e.rand=YF(),e.curve=e$,e.curves=q4,e.ec=not(),e.eddsa=fot}(DN)),DN}var Nl={},HN={},i$={exports:{}};i$.exports;(function(t){(function(e,r){function n(I,c){if(!I)throw new Error(c||"Assertion failed")}function i(I,c){I.super_=c;var h=function(){};h.prototype=c.prototype,I.prototype=new h,I.prototype.constructor=I}function s(I,c,h){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(I||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,T=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function a(I,c){var h=I.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(I,c,h){var p=a(I,h);return h-1>=c&&(p|=a(I,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,T;if(p==="be")for(m=c.length-1;m>=h;m-=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8}this.strip()};function f(I,c,h,p){for(var m=0,v=Math.min(I.length,h),_=c;_<v;_++){var T=I.charCodeAt(_)-48;m*=p,T>=49?m+=T-49+10:T>=17?m+=T-17+10:m+=T}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,T=_%m,w=Math.min(_,_-T)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(T!==0){var N=1;for(l=f(c,S,c.length,h),S=0;S<T;S++)N*=h;this.imuln(N),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var T=this.words[_],w=((T<<m|v)&16777215).toString(16);v=T>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var F=N.modn(S).toString(c);N=N.idivn(S),N.isZero()?p=F+p:p=d[l-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",T=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[l]=w;for(;l<v;l++)T[l]=0}else{for(l=0;l<v-m;l++)T[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[v-l-1]=w}return T},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(I){for(var c=new Array(I.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(I.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,T=0;T<v.length;T++)h=(m.words[T]|0)-(v.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;for(;_!==0&&T<m.length;T++)h=(m.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;if(_===0&&T<m.length&&m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this.length=Math.max(this.length,T),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(I,c,h){h.negative=c.negative^I.negative;var p=I.length+c.length|0;h.length=p,p=p-1|0;var m=I.words[0]|0,v=c.words[0]|0,_=m*v,T=_&67108863,w=_/67108864|0;h.words[0]=T;for(var l=1;l<p;l++){for(var S=w>>>26,N=w&67108863,F=Math.min(l,c.length-1),W=Math.max(0,l-I.length+1);W<=F;W++){var D=l-W|0;m=I.words[D]|0,v=c.words[W]|0,_=m*v+N,S+=_/67108864|0,N=_&67108863}h.words[l]=N|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,T=0,w,l,S,N=m[0]|0,F=N&8191,W=N>>>13,D=m[1]|0,K=D&8191,z=D>>>13,G=m[2]|0,te=G&8191,ie=G>>>13,J=m[3]|0,V=J&8191,fe=J>>>13,Te=m[4]|0,Re=Te&8191,H=Te>>>13,oe=m[5]|0,ae=oe&8191,ce=oe>>>13,Oe=m[6]|0,_e=Oe&8191,Ne=Oe>>>13,wt=m[7]|0,ge=wt&8191,ye=wt>>>13,Ge=m[8]|0,se=Ge&8191,j=Ge>>>13,re=m[9]|0,ue=re&8191,me=re>>>13,Be=v[0]|0,Ae=Be&8191,ze=Be>>>13,$t=v[1]|0,Ke=$t&8191,qe=$t>>>13,Nt=v[2]|0,Ye=Nt&8191,ut=Nt>>>13,kr=v[3]|0,Qe=kr&8191,ct=kr>>>13,Ir=v[4]|0,Je=Ir&8191,lt=Ir>>>13,Tr=v[5]|0,et=Tr&8191,ft=Tr>>>13,Rr=v[6]|0,Xe=Rr&8191,dt=Rr>>>13,Er=v[7]|0,tt=Er&8191,ht=Er>>>13,Mr=v[8]|0,rt=Mr&8191,pt=Mr>>>13,Cr=v[9]|0,nt=Cr&8191,gt=Cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(F,Ae),l=Math.imul(F,ze),l=l+Math.imul(W,Ae)|0,S=Math.imul(W,ze);var hr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,w=Math.imul(K,Ae),l=Math.imul(K,ze),l=l+Math.imul(z,Ae)|0,S=Math.imul(z,ze),w=w+Math.imul(F,Ke)|0,l=l+Math.imul(F,qe)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,qe)|0;var yr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(te,Ae),l=Math.imul(te,ze),l=l+Math.imul(ie,Ae)|0,S=Math.imul(ie,ze),w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,qe)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,qe)|0,w=w+Math.imul(F,Ye)|0,l=l+Math.imul(F,ut)|0,l=l+Math.imul(W,Ye)|0,S=S+Math.imul(W,ut)|0;var pn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(V,Ae),l=Math.imul(V,ze),l=l+Math.imul(fe,Ae)|0,S=Math.imul(fe,ze),w=w+Math.imul(te,Ke)|0,l=l+Math.imul(te,qe)|0,l=l+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,qe)|0,w=w+Math.imul(K,Ye)|0,l=l+Math.imul(K,ut)|0,l=l+Math.imul(z,Ye)|0,S=S+Math.imul(z,ut)|0,w=w+Math.imul(F,Qe)|0,l=l+Math.imul(F,ct)|0,l=l+Math.imul(W,Qe)|0,S=S+Math.imul(W,ct)|0;var gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(Re,Ae),l=Math.imul(Re,ze),l=l+Math.imul(H,Ae)|0,S=Math.imul(H,ze),w=w+Math.imul(V,Ke)|0,l=l+Math.imul(V,qe)|0,l=l+Math.imul(fe,Ke)|0,S=S+Math.imul(fe,qe)|0,w=w+Math.imul(te,Ye)|0,l=l+Math.imul(te,ut)|0,l=l+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ut)|0,w=w+Math.imul(K,Qe)|0,l=l+Math.imul(K,ct)|0,l=l+Math.imul(z,Qe)|0,S=S+Math.imul(z,ct)|0,w=w+Math.imul(F,Je)|0,l=l+Math.imul(F,lt)|0,l=l+Math.imul(W,Je)|0,S=S+Math.imul(W,lt)|0;var mn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,w=Math.imul(ae,Ae),l=Math.imul(ae,ze),l=l+Math.imul(ce,Ae)|0,S=Math.imul(ce,ze),w=w+Math.imul(Re,Ke)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(H,Ke)|0,S=S+Math.imul(H,qe)|0,w=w+Math.imul(V,Ye)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(fe,Ye)|0,S=S+Math.imul(fe,ut)|0,w=w+Math.imul(te,Qe)|0,l=l+Math.imul(te,ct)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,ct)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,lt)|0,l=l+Math.imul(z,Je)|0,S=S+Math.imul(z,lt)|0,w=w+Math.imul(F,et)|0,l=l+Math.imul(F,ft)|0,l=l+Math.imul(W,et)|0,S=S+Math.imul(W,ft)|0;var yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(_e,Ae),l=Math.imul(_e,ze),l=l+Math.imul(Ne,Ae)|0,S=Math.imul(Ne,ze),w=w+Math.imul(ae,Ke)|0,l=l+Math.imul(ae,qe)|0,l=l+Math.imul(ce,Ke)|0,S=S+Math.imul(ce,qe)|0,w=w+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,ut)|0,l=l+Math.imul(H,Ye)|0,S=S+Math.imul(H,ut)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,ct)|0,w=w+Math.imul(te,Je)|0,l=l+Math.imul(te,lt)|0,l=l+Math.imul(ie,Je)|0,S=S+Math.imul(ie,lt)|0,w=w+Math.imul(K,et)|0,l=l+Math.imul(K,ft)|0,l=l+Math.imul(z,et)|0,S=S+Math.imul(z,ft)|0,w=w+Math.imul(F,Xe)|0,l=l+Math.imul(F,dt)|0,l=l+Math.imul(W,Xe)|0,S=S+Math.imul(W,dt)|0;var bn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ge,Ae),l=Math.imul(ge,ze),l=l+Math.imul(ye,Ae)|0,S=Math.imul(ye,ze),w=w+Math.imul(_e,Ke)|0,l=l+Math.imul(_e,qe)|0,l=l+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,qe)|0,w=w+Math.imul(ae,Ye)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ut)|0,w=w+Math.imul(Re,Qe)|0,l=l+Math.imul(Re,ct)|0,l=l+Math.imul(H,Qe)|0,S=S+Math.imul(H,ct)|0,w=w+Math.imul(V,Je)|0,l=l+Math.imul(V,lt)|0,l=l+Math.imul(fe,Je)|0,S=S+Math.imul(fe,lt)|0,w=w+Math.imul(te,et)|0,l=l+Math.imul(te,ft)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,ft)|0,w=w+Math.imul(K,Xe)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(z,Xe)|0,S=S+Math.imul(z,dt)|0,w=w+Math.imul(F,tt)|0,l=l+Math.imul(F,ht)|0,l=l+Math.imul(W,tt)|0,S=S+Math.imul(W,ht)|0;var Tn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(se,Ae),l=Math.imul(se,ze),l=l+Math.imul(j,Ae)|0,S=Math.imul(j,ze),w=w+Math.imul(ge,Ke)|0,l=l+Math.imul(ge,qe)|0,l=l+Math.imul(ye,Ke)|0,S=S+Math.imul(ye,qe)|0,w=w+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,ut)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,ct)|0,w=w+Math.imul(Re,Je)|0,l=l+Math.imul(Re,lt)|0,l=l+Math.imul(H,Je)|0,S=S+Math.imul(H,lt)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,ft)|0,w=w+Math.imul(te,Xe)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ie,Xe)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(K,tt)|0,l=l+Math.imul(K,ht)|0,l=l+Math.imul(z,tt)|0,S=S+Math.imul(z,ht)|0,w=w+Math.imul(F,rt)|0,l=l+Math.imul(F,pt)|0,l=l+Math.imul(W,rt)|0,S=S+Math.imul(W,pt)|0;var Vn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(ue,Ae),l=Math.imul(ue,ze),l=l+Math.imul(me,Ae)|0,S=Math.imul(me,ze),w=w+Math.imul(se,Ke)|0,l=l+Math.imul(se,qe)|0,l=l+Math.imul(j,Ke)|0,S=S+Math.imul(j,qe)|0,w=w+Math.imul(ge,Ye)|0,l=l+Math.imul(ge,ut)|0,l=l+Math.imul(ye,Ye)|0,S=S+Math.imul(ye,ut)|0,w=w+Math.imul(_e,Qe)|0,l=l+Math.imul(_e,ct)|0,l=l+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,ct)|0,w=w+Math.imul(ae,Je)|0,l=l+Math.imul(ae,lt)|0,l=l+Math.imul(ce,Je)|0,S=S+Math.imul(ce,lt)|0,w=w+Math.imul(Re,et)|0,l=l+Math.imul(Re,ft)|0,l=l+Math.imul(H,et)|0,S=S+Math.imul(H,ft)|0,w=w+Math.imul(V,Xe)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,dt)|0,w=w+Math.imul(te,tt)|0,l=l+Math.imul(te,ht)|0,l=l+Math.imul(ie,tt)|0,S=S+Math.imul(ie,ht)|0,w=w+Math.imul(K,rt)|0,l=l+Math.imul(K,pt)|0,l=l+Math.imul(z,rt)|0,S=S+Math.imul(z,pt)|0,w=w+Math.imul(F,nt)|0,l=l+Math.imul(F,gt)|0,l=l+Math.imul(W,nt)|0,S=S+Math.imul(W,gt)|0;var In=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ue,Ke),l=Math.imul(ue,qe),l=l+Math.imul(me,Ke)|0,S=Math.imul(me,qe),w=w+Math.imul(se,Ye)|0,l=l+Math.imul(se,ut)|0,l=l+Math.imul(j,Ye)|0,S=S+Math.imul(j,ut)|0,w=w+Math.imul(ge,Qe)|0,l=l+Math.imul(ge,ct)|0,l=l+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,ct)|0,w=w+Math.imul(_e,Je)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Ne,Je)|0,S=S+Math.imul(Ne,lt)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(ce,et)|0,S=S+Math.imul(ce,ft)|0,w=w+Math.imul(Re,Xe)|0,l=l+Math.imul(Re,dt)|0,l=l+Math.imul(H,Xe)|0,S=S+Math.imul(H,dt)|0,w=w+Math.imul(V,tt)|0,l=l+Math.imul(V,ht)|0,l=l+Math.imul(fe,tt)|0,S=S+Math.imul(fe,ht)|0,w=w+Math.imul(te,rt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,pt)|0,w=w+Math.imul(K,nt)|0,l=l+Math.imul(K,gt)|0,l=l+Math.imul(z,nt)|0,S=S+Math.imul(z,gt)|0;var Gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(ue,Ye),l=Math.imul(ue,ut),l=l+Math.imul(me,Ye)|0,S=Math.imul(me,ut),w=w+Math.imul(se,Qe)|0,l=l+Math.imul(se,ct)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,ct)|0,w=w+Math.imul(ge,Je)|0,l=l+Math.imul(ge,lt)|0,l=l+Math.imul(ye,Je)|0,S=S+Math.imul(ye,lt)|0,w=w+Math.imul(_e,et)|0,l=l+Math.imul(_e,ft)|0,l=l+Math.imul(Ne,et)|0,S=S+Math.imul(Ne,ft)|0,w=w+Math.imul(ae,Xe)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(ce,Xe)|0,S=S+Math.imul(ce,dt)|0,w=w+Math.imul(Re,tt)|0,l=l+Math.imul(Re,ht)|0,l=l+Math.imul(H,tt)|0,S=S+Math.imul(H,ht)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,pt)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,pt)|0,w=w+Math.imul(te,nt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,gt)|0;var Yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(ue,Qe),l=Math.imul(ue,ct),l=l+Math.imul(me,Qe)|0,S=Math.imul(me,ct),w=w+Math.imul(se,Je)|0,l=l+Math.imul(se,lt)|0,l=l+Math.imul(j,Je)|0,S=S+Math.imul(j,lt)|0,w=w+Math.imul(ge,et)|0,l=l+Math.imul(ge,ft)|0,l=l+Math.imul(ye,et)|0,S=S+Math.imul(ye,ft)|0,w=w+Math.imul(_e,Xe)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Ne,Xe)|0,S=S+Math.imul(Ne,dt)|0,w=w+Math.imul(ae,tt)|0,l=l+Math.imul(ae,ht)|0,l=l+Math.imul(ce,tt)|0,S=S+Math.imul(ce,ht)|0,w=w+Math.imul(Re,rt)|0,l=l+Math.imul(Re,pt)|0,l=l+Math.imul(H,rt)|0,S=S+Math.imul(H,pt)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,gt)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,gt)|0;var Zn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(ue,Je),l=Math.imul(ue,lt),l=l+Math.imul(me,Je)|0,S=Math.imul(me,lt),w=w+Math.imul(se,et)|0,l=l+Math.imul(se,ft)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,ft)|0,w=w+Math.imul(ge,Xe)|0,l=l+Math.imul(ge,dt)|0,l=l+Math.imul(ye,Xe)|0,S=S+Math.imul(ye,dt)|0,w=w+Math.imul(_e,tt)|0,l=l+Math.imul(_e,ht)|0,l=l+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,ht)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,pt)|0,l=l+Math.imul(ce,rt)|0,S=S+Math.imul(ce,pt)|0,w=w+Math.imul(Re,nt)|0,l=l+Math.imul(Re,gt)|0,l=l+Math.imul(H,nt)|0,S=S+Math.imul(H,gt)|0;var Fn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(ue,et),l=Math.imul(ue,ft),l=l+Math.imul(me,et)|0,S=Math.imul(me,ft),w=w+Math.imul(se,Xe)|0,l=l+Math.imul(se,dt)|0,l=l+Math.imul(j,Xe)|0,S=S+Math.imul(j,dt)|0,w=w+Math.imul(ge,tt)|0,l=l+Math.imul(ge,ht)|0,l=l+Math.imul(ye,tt)|0,S=S+Math.imul(ye,ht)|0,w=w+Math.imul(_e,rt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(Ne,rt)|0,S=S+Math.imul(Ne,pt)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,gt)|0,l=l+Math.imul(ce,nt)|0,S=S+Math.imul(ce,gt)|0;var $n=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(ue,Xe),l=Math.imul(ue,dt),l=l+Math.imul(me,Xe)|0,S=Math.imul(me,dt),w=w+Math.imul(se,tt)|0,l=l+Math.imul(se,ht)|0,l=l+Math.imul(j,tt)|0,S=S+Math.imul(j,ht)|0,w=w+Math.imul(ge,rt)|0,l=l+Math.imul(ge,pt)|0,l=l+Math.imul(ye,rt)|0,S=S+Math.imul(ye,pt)|0,w=w+Math.imul(_e,nt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,gt)|0;var Un=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ue,tt),l=Math.imul(ue,ht),l=l+Math.imul(me,tt)|0,S=Math.imul(me,ht),w=w+Math.imul(se,rt)|0,l=l+Math.imul(se,pt)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,pt)|0,w=w+Math.imul(ge,nt)|0,l=l+Math.imul(ge,gt)|0,l=l+Math.imul(ye,nt)|0,S=S+Math.imul(ye,gt)|0;var Xn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(ue,rt),l=Math.imul(ue,pt),l=l+Math.imul(me,rt)|0,S=Math.imul(me,pt),w=w+Math.imul(se,nt)|0,l=l+Math.imul(se,gt)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,gt)|0;var Qn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(ue,nt),l=Math.imul(ue,gt),l=l+Math.imul(me,nt)|0,S=Math.imul(me,gt);var Jn=(T+w|0)+((l&8191)<<13)|0;return T=(S+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_[0]=hr,_[1]=yr,_[2]=pn,_[3]=gn,_[4]=mn,_[5]=yn,_[6]=bn,_[7]=Tn,_[8]=Vn,_[9]=In,_[10]=Gn,_[11]=Yn,_[12]=Zn,_[13]=Fn,_[14]=$n,_[15]=Un,_[16]=Xn,_[17]=Qn,_[18]=Jn,T!==0&&(_[19]=T,p.length++),p};Math.imul||(x=A);function k(I,c,h){h.negative=c.negative^I.negative,h.length=I.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var T=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-I.length+1);l<=w;l++){var S=v-l,N=I.words[S]|0,F=c.words[l]|0,W=N*F,D=W&67108863;_=_+(W/67108864|0)|0,D=D+T|0,T=D&67108863,_=_+(D>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=T,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function R(I,c,h){var p=new C;return p.mulp(I,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=R(this,c,h),p};function C(I,c){this.x=I,this.y=c}C.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},C.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},C.prototype.permute=function(c,h,p,m,v,_){for(var T=0;T<_;T++)m[T]=h[c[T]],v[T]=p[c[T]]},C.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),N=0;N<v;N+=w)for(var F=l,W=S,D=0;D<T;D++){var K=p[N+D],z=m[N+D],G=p[N+D+T],te=m[N+D+T],ie=F*G-W*te;te=F*te+W*G,G=ie,p[N+D]=K+G,m[N+D]=z+te,p[N+D+T]=K-G,m[N+D+T]=z-te,D!==w&&(ie=l*F-S*W,W=l*W+S*F,F=ie)}},C.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},C.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},C.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},C.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},C.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},C.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),T=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),N=new Array(m),F=new Array(m),W=p.words;W.length=m,this.convert13b(c.words,c.length,T,m),this.convert13b(h.words,h.length,S,m),this.transform(T,_,w,l,m,v),this.transform(S,_,N,F,m,v);for(var D=0;D<m;D++){var K=w[D]*N[D]-l[D]*F[D];l[D]=w[D]*F[D]+l[D]*N[D],w[D]=K}return this.conjugate(w,l,m),this.transform(w,l,W,_,m,v),this.conjugate(W,_,m),this.normalize13b(W,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),R(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var T=this.words[v]&m,w=(this.words[v]|0)-T<<h;this.words[v]=w|_,_=T>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var N=this.words[l]|0;this.words[l]=S<<26-v|N>>>v,S=N&T}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,T=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*h;_-=w&67108863,T=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+T,T=_>>26,this.words[v+p]=_&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+T,T=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,T=this._countBits(_);p=26-T,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var N=m.clone()._ishlnsubmul(v,1,w);N.negative===0&&(m=N,l&&(l.words[w]=1));for(var F=w-1;F>=0;F--){var W=(m.words[v.length+F]|0)*67108864+(m.words[v.length+F-1]|0);for(W=Math.min(W/_|0,67108863),m._ishlnsubmul(v,W,F);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(v,1,F),m.isZero()||(m.negative^=1);l&&(l.words[F]=W)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),T=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var N=0,F=1;!(h.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var W=0,D=1;!(p.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(p.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(l),T.isub(S)),_.iushrn(1),T.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(T)):(p.isub(h),_.isub(m),T.isub(v))}return{a:_,b:T,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(h.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(h.iushrn(T);T-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var N;return h.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(c),N},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var T=this.words[_]|0;T+=v,v=T>>>26,T&=67108863,this.words[_]=T}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function O(I,c){this.name=I,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},O.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},O.prototype.split=function(c,h){c.iushrn(this.n,0,h)},O.prototype.imulK=function(c){return c.imul(this.k)};function q(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,O),q.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|_>>>22,_=T}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,O);function Y(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,O);function X(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,O),X.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(P[c])return P[c];var h;if(c==="k256")h=new q;else if(c==="p224")h=new Q;else if(c==="p192")h=new Y;else if(c==="p25519")h=new X;else throw new Error("Unknown prime "+c);return P[c]=h,h};function Z(I){if(typeof I=="string"){var c=s._prime(I);this.m=c.p,this.prime=c}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},Z.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},Z.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),T=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(T)!==0;)l.redIAdd(T);for(var S=this.pow(l,m),N=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),W=v;F.cmp(_)!==0;){for(var D=F,K=0;D.cmp(_)!==0;K++)D=D.redSqr();n(K<W);var z=this.pow(S,new s(1).iushln(W-K-1));N=N.redMul(z),S=z.redSqr(),F=F.redMul(S),W=K}return N},Z.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],T=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],N=l-1;N>=0;N--){var F=S>>N&1;if(_!==m[0]&&(_=this.sqr(_)),F===0&&T===0){w=0;continue}T<<=1,T|=F,w++,!(w!==p&&(v!==0||N!==0))&&(_=this.mul(_,m[T]),w=0,T=0)}l=26}return _},Z.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},Z.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new le(c)};function le(I){Z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Z),le.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},le.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Lt)})(i$);var dot=i$.exports,qN={},lJ;function hot(){return lJ||(lJ=1,function(t){var e=_2(),r=Br,n=t;n.define=function(o,a){return new i(o,a)};function i(s,o){this.name=s,this.body=o,this.decoders={},this.encoders={}}i.prototype._createNamed=function(o){var a;try{a=Hw.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{a=function(f){this._initNamed(f)}}return r(a,o),a.prototype._initNamed=function(f){o.call(this,f)},new a(this)},i.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(e.decoders[o])),this.decoders[o]},i.prototype.decode=function(o,a,u){return this._getDecoder(a).decode(o,u)},i.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(e.encoders[o])),this.encoders[o]},i.prototype.encode=function(o,a,u){return this._getEncoder(a).encode(o,u)}}(qN)),qN}var VN={},ahe={},pot=Br;function Oc(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}ahe.Reporter=Oc;Oc.prototype.isError=function(e){return e instanceof lw};Oc.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Oc.prototype.restore=function(e){var r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Oc.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Oc.prototype.exitKey=function(e){var r=this._reporterState;r.path=r.path.slice(0,e-1)};Oc.prototype.leaveKey=function(e,r,n){var i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};Oc.prototype.path=function(){return this._reporterState.path.join("/")};Oc.prototype.enterObject=function(){var e=this._reporterState,r=e.obj;return e.obj={},r};Oc.prototype.leaveObject=function(e){var r=this._reporterState,n=r.obj;return r.obj=e,n};Oc.prototype.error=function(e){var r,n=this._reporterState,i=e instanceof lw;if(i?r=e:r=new lw(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};Oc.prototype.wrapResult=function(e){var r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function lw(t,e){this.path=t,this.rethrow(e)}pot(lw,Error);lw.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,lw),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var Mk={},fJ;function dJ(){if(fJ)return Mk;fJ=1;var t=Br,e=cA().Reporter,r=Pe.Buffer;function n(s,o){if(e.call(this,o),!r.isBuffer(s)){this.error("Input not Buffer");return}this.base=s,this.offset=0,this.length=s.length}t(n,e),Mk.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(o){var a=new n(this.base);return a.offset=o.offset,a.length=this.offset,this.offset=o.offset,e.prototype.restore.call(this,o.reporter),a},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,a){if(!(this.offset+o<=this.length))return this.error(a||"DecoderBuffer overrun");var u=new n(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+o,this.offset+=o,u},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function i(s,o){if(Array.isArray(s))this.length=0,this.value=s.map(function(a){return a instanceof i||(a=new i(a,o)),this.length+=a.length,a},this);else if(typeof s=="number"){if(!(0<=s&&s<=255))return o.error("non-byte EncoderBuffer value");this.value=s,this.length=1}else if(typeof s=="string")this.value=s,this.length=r.byteLength(s);else if(r.isBuffer(s))this.value=s,this.length=s.length;else return o.error("Unsupported type: "+typeof s)}return Mk.EncoderBuffer=i,i.prototype.join=function(o,a){return o||(o=new r(this.length)),a||(a=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(o,a),a+=u.length}):(typeof this.value=="number"?o[a]=this.value:typeof this.value=="string"?o.write(this.value,a):r.isBuffer(this.value)&&this.value.copy(o,a),a+=this.length)),o},Mk}var GN,hJ;function got(){if(hJ)return GN;hJ=1;var t=cA().Reporter,e=cA().EncoderBuffer,r=cA().DecoderBuffer,n=Cc,i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(i),o=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function a(f,d){var g={};this._baseState=g,g.enc=f,g.parent=d||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}GN=a;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return a.prototype.clone=function(){var d=this._baseState,g={};u.forEach(function(b){g[b]=d[b]});var y=new this.constructor(g.parent);return y._baseState=g,y},a.prototype._wrap=function(){var d=this._baseState;s.forEach(function(g){this[g]=function(){var b=new this.constructor(this);return d.children.push(b),b[g].apply(b,arguments)}},this)},a.prototype._init=function(d){var g=this._baseState;n(g.parent===null),d.call(this),g.children=g.children.filter(function(y){return y._baseState.parent===this},this),n.equal(g.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(d){var g=this._baseState,y=d.filter(function(b){return b instanceof this.constructor},this);d=d.filter(function(b){return!(b instanceof this.constructor)},this),y.length!==0&&(n(g.children===null),g.children=y,y.forEach(function(b){b._baseState.parent=this},this)),d.length!==0&&(n(g.args===null),g.args=d,g.reverseArgs=d.map(function(b){if(typeof b!="object"||b.constructor!==Object)return b;var A={};return Object.keys(b).forEach(function(x){x==(x|0)&&(x|=0);var k=b[x];A[k]=x}),A}))},o.forEach(function(f){a.prototype[f]=function(){var g=this._baseState;throw new Error(f+" not implemented for encoding: "+g.enc)}}),i.forEach(function(f){a.prototype[f]=function(){var g=this._baseState,y=Array.prototype.slice.call(arguments);return n(g.tag===null),g.tag=f,this._useArgs(y),this}}),a.prototype.use=function(d){n(d);var g=this._baseState;return n(g.use===null),g.use=d,this},a.prototype.optional=function(){var d=this._baseState;return d.optional=!0,this},a.prototype.def=function(d){var g=this._baseState;return n(g.default===null),g.default=d,g.optional=!0,this},a.prototype.explicit=function(d){var g=this._baseState;return n(g.explicit===null&&g.implicit===null),g.explicit=d,this},a.prototype.implicit=function(d){var g=this._baseState;return n(g.explicit===null&&g.implicit===null),g.implicit=d,this},a.prototype.obj=function(){var d=this._baseState,g=Array.prototype.slice.call(arguments);return d.obj=!0,g.length!==0&&this._useArgs(g),this},a.prototype.key=function(d){var g=this._baseState;return n(g.key===null),g.key=d,this},a.prototype.any=function(){var d=this._baseState;return d.any=!0,this},a.prototype.choice=function(d){var g=this._baseState;return n(g.choice===null),g.choice=d,this._useArgs(Object.keys(d).map(function(y){return d[y]})),this},a.prototype.contains=function(d){var g=this._baseState;return n(g.use===null),g.contains=d,this},a.prototype._decode=function(d,g){var y=this._baseState;if(y.parent===null)return d.wrapResult(y.children[0]._decode(d,g));var b=y.default,A=!0,x=null;if(y.key!==null&&(x=d.enterKey(y.key)),y.optional){var k=null;if(y.explicit!==null?k=y.explicit:y.implicit!==null?k=y.implicit:y.tag!==null&&(k=y.tag),k===null&&!y.any){var R=d.save();try{y.choice===null?this._decodeGeneric(y.tag,d,g):this._decodeChoice(d,g),A=!0}catch{A=!1}d.restore(R)}else if(A=this._peekTag(d,k,y.any),d.isError(A))return A}var C;if(y.obj&&A&&(C=d.enterObject()),A){if(y.explicit!==null){var P=this._decodeTag(d,y.explicit);if(d.isError(P))return P;d=P}var O=d.offset;if(y.use===null&&y.choice===null){if(y.any)var R=d.save();var q=this._decodeTag(d,y.implicit!==null?y.implicit:y.tag,y.any);if(d.isError(q))return q;y.any?b=d.raw(R):d=q}if(g&&g.track&&y.tag!==null&&g.track(d.path(),O,d.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(d.path(),d.offset,d.length,"content"),y.any?b=b:y.choice===null?b=this._decodeGeneric(y.tag,d,g):b=this._decodeChoice(d,g),d.isError(b))return b;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(function(X){X._decode(d,g)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){var Q=new r(b);b=this._getUse(y.contains,d._reporterState.obj)._decode(Q,g)}}return y.obj&&A&&(b=d.leaveObject(C)),y.key!==null&&(b!==null||A===!0)?d.leaveKey(x,y.key,b):x!==null&&d.exitKey(x),b},a.prototype._decodeGeneric=function(d,g,y){var b=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(g,d,b.args[0],y):/str$/.test(d)?this._decodeStr(g,d,y):d==="objid"&&b.args?this._decodeObjid(g,b.args[0],b.args[1],y):d==="objid"?this._decodeObjid(g,null,null,y):d==="gentime"||d==="utctime"?this._decodeTime(g,d,y):d==="null_"?this._decodeNull(g,y):d==="bool"?this._decodeBool(g,y):d==="objDesc"?this._decodeStr(g,d,y):d==="int"||d==="enum"?this._decodeInt(g,b.args&&b.args[0],y):b.use!==null?this._getUse(b.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+d)},a.prototype._getUse=function(d,g){var y=this._baseState;return y.useDecoder=this._use(d,g),n(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},a.prototype._decodeChoice=function(d,g){var y=this._baseState,b=null,A=!1;return Object.keys(y.choice).some(function(x){var k=d.save(),R=y.choice[x];try{var C=R._decode(d,g);if(d.isError(C))return!1;b={type:x,value:C},A=!0}catch{return d.restore(k),!1}return!0},this),A?b:d.error("Choice not matched")},a.prototype._createEncoderBuffer=function(d){return new e(d,this.reporter)},a.prototype._encode=function(d,g,y){var b=this._baseState;if(!(b.default!==null&&b.default===d)){var A=this._encodeValue(d,g,y);if(A!==void 0&&!this._skipDefault(A,g,y))return A}},a.prototype._encodeValue=function(d,g,y){var b=this._baseState;if(b.parent===null)return b.children[0]._encode(d,g||new t);var R=null;if(this.reporter=g,b.optional&&d===void 0)if(b.default!==null)d=b.default;else return;var A=null,x=!1;if(b.any)R=this._createEncoderBuffer(d);else if(b.choice)R=this._encodeChoice(d,g);else if(b.contains)A=this._getUse(b.contains,y)._encode(d,g),x=!0;else if(b.children)A=b.children.map(function(O){if(O._baseState.tag==="null_")return O._encode(null,g,d);if(O._baseState.key===null)return g.error("Child should have a key");var q=g.enterKey(O._baseState.key);if(typeof d!="object")return g.error("Child expected, but input is not object");var Q=O._encode(d[O._baseState.key],g,d);return g.leaveKey(q),Q},this).filter(function(O){return O}),A=this._createEncoderBuffer(A);else if(b.tag==="seqof"||b.tag==="setof"){if(!(b.args&&b.args.length===1))return g.error("Too many args for : "+b.tag);if(!Array.isArray(d))return g.error("seqof/setof, but data is not Array");var k=this.clone();k._baseState.implicit=null,A=this._createEncoderBuffer(d.map(function(O){var q=this._baseState;return this._getUse(q.args[0],d)._encode(O,g)},k))}else b.use!==null?R=this._getUse(b.use,y)._encode(d,g):(A=this._encodePrimitive(b.tag,d),x=!0);var R;if(!b.any&&b.choice===null){var C=b.implicit!==null?b.implicit:b.tag,P=b.implicit===null?"universal":"context";C===null?b.use===null&&g.error("Tag could be omitted only for .use()"):b.use===null&&(R=this._encodeComposite(C,x,P,A))}return b.explicit!==null&&(R=this._encodeComposite(b.explicit,!1,"context",R)),R},a.prototype._encodeChoice=function(d,g){var y=this._baseState,b=y.choice[d.type];return b||n(!1,d.type+" not found in "+JSON.stringify(Object.keys(y.choice))),b._encode(d.value,g)},a.prototype._encodePrimitive=function(d,g){var y=this._baseState;if(/str$/.test(d))return this._encodeStr(g,d);if(d==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(d==="objid")return this._encodeObjid(g,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(g,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(d==="bool")return this._encodeBool(g);if(d==="objDesc")return this._encodeStr(g,d);throw new Error("Unsupported tag: "+d)},a.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},a.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)},GN}var pJ;function cA(){return pJ||(pJ=1,function(t){var e=t;e.Reporter=ahe.Reporter,e.DecoderBuffer=dJ().DecoderBuffer,e.EncoderBuffer=dJ().EncoderBuffer,e.Node=got()}(VN)),VN}var YN={},ZN={},gJ;function mot(){return gJ||(gJ=1,function(t){var e=uhe();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(ZN)),ZN}var mJ;function uhe(){return mJ||(mJ=1,function(t){var e=t;e._reverse=function(n){var i={};return Object.keys(n).forEach(function(s){(s|0)==s&&(s=s|0);var o=n[s];i[o]=s}),i},e.der=mot()}(YN)),YN}var XN={},QN,yJ;function che(){if(yJ)return QN;yJ=1;var t=Br,e=_2(),r=e.base,n=e.bignum,i=e.constants.der;function s(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new o,this.tree._init(f.body)}QN=s,s.prototype.decode=function(d,g){return d instanceof r.DecoderBuffer||(d=new r.DecoderBuffer(d,g)),this.tree._decode(d,g)};function o(f){r.Node.call(this,"der",f)}t(o,r.Node),o.prototype._peekTag=function(d,g,y){if(d.isEmpty())return!1;var b=d.save(),A=a(d,'Failed to peek tag: "'+g+'"');return d.isError(A)?A:(d.restore(b),A.tag===g||A.tagStr===g||A.tagStr+"of"===g||y)},o.prototype._decodeTag=function(d,g,y){var b=a(d,'Failed to decode tag of "'+g+'"');if(d.isError(b))return b;var A=u(d,b.primitive,'Failed to get length of "'+g+'"');if(d.isError(A))return A;if(!y&&b.tag!==g&&b.tagStr!==g&&b.tagStr+"of"!==g)return d.error('Failed to match tag: "'+g+'"');if(b.primitive||A!==null)return d.skip(A,'Failed to match body of: "'+g+'"');var x=d.save(),k=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(k)?k:(A=d.offset-x.offset,d.restore(x),d.skip(A,'Failed to match body of: "'+g+'"'))},o.prototype._skipUntilEnd=function(d,g){for(;;){var y=a(d,g);if(d.isError(y))return y;var b=u(d,y.primitive,g);if(d.isError(b))return b;var A;if(y.primitive||b!==null?A=d.skip(b):A=this._skipUntilEnd(d,g),d.isError(A))return A;if(y.tagStr==="end")break}},o.prototype._decodeList=function(d,g,y,b){for(var A=[];!d.isEmpty();){var x=this._peekTag(d,"end");if(d.isError(x))return x;var k=y.decode(d,"der",b);if(d.isError(k)&&x)break;A.push(k)}return A},o.prototype._decodeStr=function(d,g){if(g==="bitstr"){var y=d.readUInt8();return d.isError(y)?y:{unused:y,data:d.raw()}}else if(g==="bmpstr"){var b=d.raw();if(b.length%2===1)return d.error("Decoding of string type: bmpstr length mismatch");for(var A="",x=0;x<b.length/2;x++)A+=String.fromCharCode(b.readUInt16BE(x*2));return A}else if(g==="numstr"){var k=d.raw().toString("ascii");return this._isNumstr(k)?k:d.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr")return d.raw();if(g==="objDesc")return d.raw();if(g==="printstr"){var R=d.raw().toString("ascii");return this._isPrintstr(R)?R:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?d.raw().toString():d.error("Decoding of string type: "+g+" unsupported")}},o.prototype._decodeObjid=function(d,g,y){for(var b,A=[],x=0;!d.isEmpty();){var k=d.readUInt8();x<<=7,x|=k&127,k&128||(A.push(x),x=0)}k&128&&A.push(x);var R=A[0]/40|0,C=A[0]%40;if(y?b=A:b=[R,C].concat(A.slice(1)),g){var P=g[b.join(" ")];P===void 0&&(P=g[b.join(".")]),P!==void 0&&(b=P)}return b},o.prototype._decodeTime=function(d,g){var y=d.raw().toString();if(g==="gentime")var b=y.slice(0,4)|0,A=y.slice(4,6)|0,x=y.slice(6,8)|0,k=y.slice(8,10)|0,R=y.slice(10,12)|0,C=y.slice(12,14)|0;else if(g==="utctime"){var b=y.slice(0,2)|0,A=y.slice(2,4)|0,x=y.slice(4,6)|0,k=y.slice(6,8)|0,R=y.slice(8,10)|0,C=y.slice(10,12)|0;b<70?b=2e3+b:b=1900+b}else return d.error("Decoding "+g+" time is not supported yet");return Date.UTC(b,A-1,x,k,R,C,0)},o.prototype._decodeNull=function(d){return null},o.prototype._decodeBool=function(d){var g=d.readUInt8();return d.isError(g)?g:g!==0},o.prototype._decodeInt=function(d,g){var y=d.raw(),b=new n(y);return g&&(b=g[b.toString(10)]||b),b},o.prototype._use=function(d,g){return typeof d=="function"&&(d=d(g)),d._getDecoder("der").tree};function a(f,d){var g=f.readUInt8(d);if(f.isError(g))return g;var y=i.tagClass[g>>6],b=(g&32)===0;if((g&31)===31){var A=g;for(g=0;(A&128)===128;){if(A=f.readUInt8(d),f.isError(A))return A;g<<=7,g|=A&127}}else g&=31;var x=i.tag[g];return{cls:y,primitive:b,tag:g,tagStr:x}}function u(f,d,g){var y=f.readUInt8(g);if(f.isError(y))return y;if(!d&&y===128)return null;if(!(y&128))return y;var b=y&127;if(b>4)return f.error("length octect is too long");y=0;for(var A=0;A<b;A++){y<<=8;var x=f.readUInt8(g);if(f.isError(x))return x;y|=x}return y}return QN}var JN,bJ;function yot(){if(bJ)return JN;bJ=1;var t=Br,e=Pe.Buffer,r=che();function n(i){r.call(this,i),this.enc="pem"}return t(n,r),JN=n,n.prototype.decode=function(s,o){for(var a=s.toString().split(/[\r\n]+/g),u=o.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,g=-1,y=0;y<a.length;y++){var b=a[y].match(f);if(b!==null&&b[2]===u)if(d===-1){if(b[1]!=="BEGIN")break;d=y}else{if(b[1]!=="END")break;g=y;break}}if(d===-1||g===-1)throw new Error("PEM section not found for: "+u);var A=a.slice(d+1,g).join("");A.replace(/[^a-z0-9\+\/=]+/gi,"");var x=new e(A,"base64");return r.prototype.decode.call(this,x,o)},JN}var vJ;function bot(){return vJ||(vJ=1,function(t){var e=t;e.der=che(),e.pem=yot()}(XN)),XN}var e5={},t5,wJ;function lhe(){if(wJ)return t5;wJ=1;var t=Br,e=Pe.Buffer,r=_2(),n=r.base,i=r.constants.der;function s(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new o,this.tree._init(f.body)}t5=s,s.prototype.encode=function(d,g){return this.tree._encode(d,g).join()};function o(f){n.Node.call(this,"der",f)}t(o,n.Node),o.prototype._encodeComposite=function(d,g,y,b){var A=u(d,g,y,this.reporter);if(b.length<128){var R=new e(2);return R[0]=A,R[1]=b.length,this._createEncoderBuffer([R,b])}for(var x=1,k=b.length;k>=256;k>>=8)x++;var R=new e(2+x);R[0]=A,R[1]=128|x;for(var k=1+x,C=b.length;C>0;k--,C>>=8)R[k]=C&255;return this._createEncoderBuffer([R,b])},o.prototype._encodeStr=function(d,g){if(g==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(g==="bmpstr"){for(var y=new e(d.length*2),b=0;b<d.length;b++)y.writeUInt16BE(d.charCodeAt(b),b*2);return this._createEncoderBuffer(y)}else return g==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):g==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(g)?this._createEncoderBuffer(d):g==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+g+" unsupported")},o.prototype._encodeObjid=function(d,g,y){if(typeof d=="string"){if(!g)return this.reporter.error("string objid given, but no values map found");if(!g.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=g[d].split(/[\s\.]+/g);for(var b=0;b<d.length;b++)d[b]|=0}else if(Array.isArray(d)){d=d.slice();for(var b=0;b<d.length;b++)d[b]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!y){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}for(var A=0,b=0;b<d.length;b++){var x=d[b];for(A++;x>=128;x>>=7)A++}for(var k=new e(A),R=k.length-1,b=d.length-1;b>=0;b--){var x=d[b];for(k[R--]=x&127;(x>>=7)>0;)k[R--]=128|x&127}return this._createEncoderBuffer(k)};function a(f){return f<10?"0"+f:f}o.prototype._encodeTime=function(d,g){var y,b=new Date(d);return g==="gentime"?y=[a(b.getFullYear()),a(b.getUTCMonth()+1),a(b.getUTCDate()),a(b.getUTCHours()),a(b.getUTCMinutes()),a(b.getUTCSeconds()),"Z"].join(""):g==="utctime"?y=[a(b.getFullYear()%100),a(b.getUTCMonth()+1),a(b.getUTCDate()),a(b.getUTCHours()),a(b.getUTCMinutes()),a(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+g+" time is not supported yet"),this._encodeStr(y,"octstr")},o.prototype._encodeNull=function(){return this._createEncoderBuffer("")},o.prototype._encodeInt=function(d,g){if(typeof d=="string"){if(!g)return this.reporter.error("String int or enum given, but no values map");if(!g.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=g[d]}if(typeof d!="number"&&!e.isBuffer(d)){var y=d.toArray();!d.sign&&y[0]&128&&y.unshift(0),d=new e(y)}if(e.isBuffer(d)){var b=d.length;d.length===0&&b++;var x=new e(b);return d.copy(x),d.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);for(var b=1,A=d;A>=256;A>>=8)b++;for(var x=new Array(b),A=x.length-1;A>=0;A--)x[A]=d&255,d>>=8;return x[0]&128&&x.unshift(0),this._createEncoderBuffer(new e(x))},o.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},o.prototype._use=function(d,g){return typeof d=="function"&&(d=d(g)),d._getEncoder("der").tree},o.prototype._skipDefault=function(d,g,y){var b=this._baseState,A;if(b.default===null)return!1;var x=d.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,g,y).join()),x.length!==b.defaultBuffer.length)return!1;for(A=0;A<x.length;A++)if(x[A]!==b.defaultBuffer[A])return!1;return!0};function u(f,d,g,y){var b;if(f==="seqof"?f="seq":f==="setof"&&(f="set"),i.tagByName.hasOwnProperty(f))b=i.tagByName[f];else if(typeof f=="number"&&(f|0)===f)b=f;else return y.error("Unknown tag: "+f);return b>=31?y.error("Multi-octet tag encoding unsupported"):(d||(b|=32),b|=i.tagClassByName[g||"universal"]<<6,b)}return t5}var r5,SJ;function vot(){if(SJ)return r5;SJ=1;var t=Br,e=lhe();function r(n){e.call(this,n),this.enc="pem"}return t(r,e),r5=r,r.prototype.encode=function(i,s){for(var o=e.prototype.encode.call(this,i),a=o.toString("base64"),u=["-----BEGIN "+s.label+"-----"],f=0;f<a.length;f+=64)u.push(a.slice(f,f+64));return u.push("-----END "+s.label+"-----"),u.join(`
`)},r5}var _J;function wot(){return _J||(_J=1,function(t){var e=t;e.der=lhe(),e.pem=vot()}(e5)),e5}var AJ;function _2(){return AJ||(AJ=1,function(t){var e=t;e.bignum=dot,e.define=hot().define,e.base=cA(),e.constants=uhe(),e.decoders=bot(),e.encoders=wot()}(HN)),HN}var Bl=_2(),xJ=Bl.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Sot=Bl.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s$=Bl.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),_ot=Bl.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s$),this.key("subjectPublicKey").bitstr())}),Aot=Bl.define("RelativeDistinguishedName",function(){this.setof(Sot)}),xot=Bl.define("RDNSequence",function(){this.seqof(Aot)}),EJ=Bl.define("Name",function(){this.choice({rdnSequence:this.use(xot)})}),Eot=Bl.define("Validity",function(){this.seq().obj(this.key("notBefore").use(xJ),this.key("notAfter").use(xJ))}),kot=Bl.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Tot=Bl.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s$),this.key("issuer").use(EJ),this.key("validity").use(Eot),this.key("subject").use(EJ),this.key("subjectPublicKeyInfo").use(_ot),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(kot).optional())}),Iot=Bl.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Tot),this.key("signatureAlgorithm").use(s$),this.key("signatureValue").bitstr())}),Rot=Iot,Ol=_2();Nl.certificate=Rot;var Mot=Ol.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Nl.RSAPrivateKey=Mot;var Cot=Ol.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Nl.RSAPublicKey=Cot;var fhe=Ol.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Pot=Ol.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(fhe),this.key("subjectPublicKey").bitstr())});Nl.PublicKey=Pot;var Not=Ol.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(fhe),this.key("subjectPrivateKey").octstr())});Nl.PrivateKey=Not;var Bot=Ol.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Nl.EncryptedPrivateKey=Bot;var Oot=Ol.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Nl.DSAPrivateKey=Oot;Nl.DSAparam=Ol.define("DSAparam",function(){this.int()});var Lot=Ol.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Dot=Ol.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Lot),this.key("publicKey").optional().explicit(1).bitstr())});Nl.ECPrivateKey=Dot;Nl.signature=Ol.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const Fot={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var $ot=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Uot=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,zot=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Wot=D4,Kot=Bu,Ck=$r.Buffer,jot=function(t,e){var r=t.toString(),n=r.match($ot),i;if(n){var o="aes"+n[1],a=Ck.from(n[2],"hex"),u=Ck.from(n[3].replace(/[\r\n]/g,""),"base64"),f=Wot(e,a.slice(0,8),parseInt(n[1],10)).key,d=[],g=Kot.createDecipheriv(o,f,a);d.push(g.update(u)),d.push(g.final()),i=Ck.concat(d)}else{var s=r.match(zot);i=Ck.from(s[2].replace(/[\r\n]/g,""),"base64")}var y=r.match(Uot)[1];return{tag:y,data:i}},Ba=Nl,Hot=Fot,qot=jot,Vot=Bu,Got=B4,zL=$r.Buffer;function Yot(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=Hot[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,a=parseInt(i.split("-")[1],10)/8,u=Got.pbkdf2Sync(e,r,n,a,"sha1"),f=Vot.createDecipheriv(i,u,s),d=[];return d.push(f.update(o)),d.push(f.final()),zL.concat(d)}function dhe(t){var e;typeof t=="object"&&!zL.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=zL.from(t));var r=qot(t,e),n=r.tag,i=r.data,s,o;switch(n){case"CERTIFICATE":o=Ba.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=Ba.PublicKey.decode(i,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ba.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=Ba.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=Ba.EncryptedPrivateKey.decode(i,"der"),i=Yot(i,e);case"PRIVATE KEY":switch(o=Ba.PrivateKey.decode(i,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ba.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:Ba.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=Ba.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Ba.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return Ba.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Ba.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=Ba.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}dhe.signature=Ba.signature;var X4=dhe;const hhe={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var kJ;function Zot(){if(kJ)return t_.exports;kJ=1;var t=$r.Buffer,e=Ofe,r=XF,n=n$().ec,i=Jm,s=X4,o=hhe,a=1;function u(R,C,P,O,q){var Q=s(C);if(Q.curve){if(O!=="ecdsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");return f(R,Q)}else if(Q.type==="dsa"){if(O!=="dsa")throw new Error("wrong private key type");return d(R,Q,P)}if(O!=="rsa"&&O!=="ecdsa/rsa")throw new Error("wrong private key type");if(C.padding!==void 0&&C.padding!==a)throw new Error("illegal or unsupported padding mode");R=t.concat([q,R]);for(var Y=Q.modulus.byteLength(),X=[0,1];R.length+X.length+1<Y;)X.push(255);X.push(0);for(var Z=-1;++Z<R.length;)X.push(R[Z]);var le=r(X,Q);return le}function f(R,C){var P=o[C.curve.join(".")];if(!P)throw new Error("unknown curve "+C.curve.join("."));var O=new n(P),q=O.keyFromPrivate(C.privateKey),Q=q.sign(R);return t.from(Q.toDER())}function d(R,C,P){for(var O=C.params.priv_key,q=C.params.p,Q=C.params.q,Y=C.params.g,X=new i(0),Z,le=b(R,Q).mod(Q),I=!1,c=y(O,Q,R,P);I===!1;)Z=x(Q,c,P),X=k(Y,Z,q,Q),I=Z.invm(Q).imul(le.add(O.mul(X))).mod(Q),I.cmpn(0)===0&&(I=!1,X=new i(0));return g(X,I)}function g(R,C){R=R.toArray(),C=C.toArray(),R[0]&128&&(R=[0].concat(R)),C[0]&128&&(C=[0].concat(C));var P=R.length+C.length+4,O=[48,P,2,R.length];return O=O.concat(R,[2,C.length],C),t.from(O)}function y(R,C,P,O){if(R=t.from(R.toArray()),R.length<C.byteLength()){var q=t.alloc(C.byteLength()-R.length);R=t.concat([q,R])}var Q=P.length,Y=A(P,C),X=t.alloc(Q);X.fill(1);var Z=t.alloc(Q);return Z=e(O,Z).update(X).update(t.from([0])).update(R).update(Y).digest(),X=e(O,Z).update(X).digest(),Z=e(O,Z).update(X).update(t.from([1])).update(R).update(Y).digest(),X=e(O,Z).update(X).digest(),{k:Z,v:X}}function b(R,C){var P=new i(R),O=(R.length<<3)-C.bitLength();return O>0&&P.ishrn(O),P}function A(R,C){R=b(R,C),R=R.mod(C);var P=t.from(R.toArray());if(P.length<C.byteLength()){var O=t.alloc(C.byteLength()-P.length);P=t.concat([O,P])}return P}function x(R,C,P){var O,q;do{for(O=t.alloc(0);O.length*8<R.bitLength();)C.v=e(P,C.k).update(C.v).digest(),O=t.concat([O,C.v]);q=b(O,R),C.k=e(P,C.k).update(C.v).update(t.from([0])).digest(),C.v=e(P,C.k).update(C.v).digest()}while(q.cmp(R)!==-1);return q}function k(R,C,P,O){return R.toRed(i.mont(P)).redPow(C).fromRed().mod(O)}return t_.exports=u,t_.exports.getKey=y,t_.exports.makeKey=x,t_.exports}var n5,TJ;function Xot(){if(TJ)return n5;TJ=1;var t=$r.Buffer,e=Jm,r=n$().ec,n=X4,i=hhe;function s(f,d,g,y,b){var A=n(g);if(A.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return o(f,d,A)}else if(A.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return a(f,d,A)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");d=t.concat([b,d]);for(var x=A.modulus.byteLength(),k=[1],R=0;d.length+k.length+2<x;)k.push(255),R+=1;k.push(0);for(var C=-1;++C<d.length;)k.push(d[C]);k=t.from(k);var P=e.mont(A.modulus);f=new e(f).toRed(P),f=f.redPow(new e(A.publicExponent)),f=t.from(f.fromRed().toArray());var O=R<8?1:0;for(x=Math.min(f.length,k.length),f.length!==k.length&&(O=1),C=-1;++C<x;)O|=f[C]^k[C];return O===0}function o(f,d,g){var y=i[g.data.algorithm.curve.join(".")];if(!y)throw new Error("unknown curve "+g.data.algorithm.curve.join("."));var b=new r(y),A=g.data.subjectPrivateKey.data;return b.verify(d,f,A)}function a(f,d,g){var y=g.data.p,b=g.data.q,A=g.data.g,x=g.data.pub_key,k=n.signature.decode(f,"der"),R=k.s,C=k.r;u(R,b),u(C,b);var P=e.mont(y),O=R.invm(b),q=A.toRed(P).redPow(new e(d).mul(O).mod(b)).fromRed().mul(x.toRed(P).redPow(C.mul(O).mod(b)).fromRed()).mod(y).mod(b);return q.cmp(C)===0}function u(f,d){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(d)>=0)throw new Error("invalid sig")}return n5=s,n5}var i5,IJ;function Qot(){if(IJ)return i5;IJ=1;var t=$r.Buffer,e=p2,r=ait,n=Br,i=Zot(),s=Xot(),o=Lfe;Object.keys(o).forEach(function(g){o[g].id=t.from(o[g].id,"hex"),o[g.toLowerCase()]=o[g]});function a(g){r.Writable.call(this);var y=o[g];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=e(y.hash),this._tag=y.id,this._signType=y.sign}n(a,r.Writable),a.prototype._write=function(y,b,A){this._hash.update(y),A()},a.prototype.update=function(y,b){return this._hash.update(typeof y=="string"?t.from(y,b):y),this},a.prototype.sign=function(y,b){this.end();var A=this._hash.digest(),x=i(A,y,this._hashType,this._signType,this._tag);return b?x.toString(b):x};function u(g){r.Writable.call(this);var y=o[g];if(!y)throw new Error("Unknown message digest");this._hash=e(y.hash),this._tag=y.id,this._signType=y.sign}n(u,r.Writable),u.prototype._write=function(y,b,A){this._hash.update(y),A()},u.prototype.update=function(y,b){return this._hash.update(typeof y=="string"?t.from(y,b):y),this},u.prototype.verify=function(y,b,A){var x=typeof b=="string"?t.from(b,A):b;this.end();var k=this._hash.digest();return s(x,k,y,this._signType,this._tag)};function f(g){return new a(g)}function d(g){return new u(g)}return i5={Sign:f,Verify:d,createSign:f,createVerify:d},i5}var o$={exports:{}};o$.exports;(function(t){(function(e,r){function n(I,c){if(!I)throw new Error(c||"Assertion failed")}function i(I,c){I.super_=c;var h=function(){};h.prototype=c.prototype,I.prototype=new h,I.prototype.constructor=I}function s(I,c,h){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(I||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,T=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function a(I,c){var h=I.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(I,c,h){var p=a(I,h);return h-1>=c&&(p|=a(I,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,T;if(p==="be")for(m=c.length-1;m>=h;m-=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8}this.strip()};function f(I,c,h,p){for(var m=0,v=Math.min(I.length,h),_=c;_<v;_++){var T=I.charCodeAt(_)-48;m*=p,T>=49?m+=T-49+10:T>=17?m+=T-17+10:m+=T}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,T=_%m,w=Math.min(_,_-T)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(T!==0){var N=1;for(l=f(c,S,c.length,h),S=0;S<T;S++)N*=h;this.imuln(N),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var T=this.words[_],w=((T<<m|v)&16777215).toString(16);v=T>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var F=N.modn(S).toString(c);N=N.idivn(S),N.isZero()?p=F+p:p=d[l-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",T=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[l]=w;for(;l<v;l++)T[l]=0}else{for(l=0;l<v-m;l++)T[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[v-l-1]=w}return T},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(I){for(var c=new Array(I.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(I.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,T=0;T<v.length;T++)h=(m.words[T]|0)-(v.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;for(;_!==0&&T<m.length;T++)h=(m.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;if(_===0&&T<m.length&&m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this.length=Math.max(this.length,T),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(I,c,h){h.negative=c.negative^I.negative;var p=I.length+c.length|0;h.length=p,p=p-1|0;var m=I.words[0]|0,v=c.words[0]|0,_=m*v,T=_&67108863,w=_/67108864|0;h.words[0]=T;for(var l=1;l<p;l++){for(var S=w>>>26,N=w&67108863,F=Math.min(l,c.length-1),W=Math.max(0,l-I.length+1);W<=F;W++){var D=l-W|0;m=I.words[D]|0,v=c.words[W]|0,_=m*v+N,S+=_/67108864|0,N=_&67108863}h.words[l]=N|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,T=0,w,l,S,N=m[0]|0,F=N&8191,W=N>>>13,D=m[1]|0,K=D&8191,z=D>>>13,G=m[2]|0,te=G&8191,ie=G>>>13,J=m[3]|0,V=J&8191,fe=J>>>13,Te=m[4]|0,Re=Te&8191,H=Te>>>13,oe=m[5]|0,ae=oe&8191,ce=oe>>>13,Oe=m[6]|0,_e=Oe&8191,Ne=Oe>>>13,wt=m[7]|0,ge=wt&8191,ye=wt>>>13,Ge=m[8]|0,se=Ge&8191,j=Ge>>>13,re=m[9]|0,ue=re&8191,me=re>>>13,Be=v[0]|0,Ae=Be&8191,ze=Be>>>13,$t=v[1]|0,Ke=$t&8191,qe=$t>>>13,Nt=v[2]|0,Ye=Nt&8191,ut=Nt>>>13,kr=v[3]|0,Qe=kr&8191,ct=kr>>>13,Ir=v[4]|0,Je=Ir&8191,lt=Ir>>>13,Tr=v[5]|0,et=Tr&8191,ft=Tr>>>13,Rr=v[6]|0,Xe=Rr&8191,dt=Rr>>>13,Er=v[7]|0,tt=Er&8191,ht=Er>>>13,Mr=v[8]|0,rt=Mr&8191,pt=Mr>>>13,Cr=v[9]|0,nt=Cr&8191,gt=Cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(F,Ae),l=Math.imul(F,ze),l=l+Math.imul(W,Ae)|0,S=Math.imul(W,ze);var hr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,w=Math.imul(K,Ae),l=Math.imul(K,ze),l=l+Math.imul(z,Ae)|0,S=Math.imul(z,ze),w=w+Math.imul(F,Ke)|0,l=l+Math.imul(F,qe)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,qe)|0;var yr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(te,Ae),l=Math.imul(te,ze),l=l+Math.imul(ie,Ae)|0,S=Math.imul(ie,ze),w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,qe)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,qe)|0,w=w+Math.imul(F,Ye)|0,l=l+Math.imul(F,ut)|0,l=l+Math.imul(W,Ye)|0,S=S+Math.imul(W,ut)|0;var pn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(V,Ae),l=Math.imul(V,ze),l=l+Math.imul(fe,Ae)|0,S=Math.imul(fe,ze),w=w+Math.imul(te,Ke)|0,l=l+Math.imul(te,qe)|0,l=l+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,qe)|0,w=w+Math.imul(K,Ye)|0,l=l+Math.imul(K,ut)|0,l=l+Math.imul(z,Ye)|0,S=S+Math.imul(z,ut)|0,w=w+Math.imul(F,Qe)|0,l=l+Math.imul(F,ct)|0,l=l+Math.imul(W,Qe)|0,S=S+Math.imul(W,ct)|0;var gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(Re,Ae),l=Math.imul(Re,ze),l=l+Math.imul(H,Ae)|0,S=Math.imul(H,ze),w=w+Math.imul(V,Ke)|0,l=l+Math.imul(V,qe)|0,l=l+Math.imul(fe,Ke)|0,S=S+Math.imul(fe,qe)|0,w=w+Math.imul(te,Ye)|0,l=l+Math.imul(te,ut)|0,l=l+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ut)|0,w=w+Math.imul(K,Qe)|0,l=l+Math.imul(K,ct)|0,l=l+Math.imul(z,Qe)|0,S=S+Math.imul(z,ct)|0,w=w+Math.imul(F,Je)|0,l=l+Math.imul(F,lt)|0,l=l+Math.imul(W,Je)|0,S=S+Math.imul(W,lt)|0;var mn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,w=Math.imul(ae,Ae),l=Math.imul(ae,ze),l=l+Math.imul(ce,Ae)|0,S=Math.imul(ce,ze),w=w+Math.imul(Re,Ke)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(H,Ke)|0,S=S+Math.imul(H,qe)|0,w=w+Math.imul(V,Ye)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(fe,Ye)|0,S=S+Math.imul(fe,ut)|0,w=w+Math.imul(te,Qe)|0,l=l+Math.imul(te,ct)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,ct)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,lt)|0,l=l+Math.imul(z,Je)|0,S=S+Math.imul(z,lt)|0,w=w+Math.imul(F,et)|0,l=l+Math.imul(F,ft)|0,l=l+Math.imul(W,et)|0,S=S+Math.imul(W,ft)|0;var yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(_e,Ae),l=Math.imul(_e,ze),l=l+Math.imul(Ne,Ae)|0,S=Math.imul(Ne,ze),w=w+Math.imul(ae,Ke)|0,l=l+Math.imul(ae,qe)|0,l=l+Math.imul(ce,Ke)|0,S=S+Math.imul(ce,qe)|0,w=w+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,ut)|0,l=l+Math.imul(H,Ye)|0,S=S+Math.imul(H,ut)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,ct)|0,w=w+Math.imul(te,Je)|0,l=l+Math.imul(te,lt)|0,l=l+Math.imul(ie,Je)|0,S=S+Math.imul(ie,lt)|0,w=w+Math.imul(K,et)|0,l=l+Math.imul(K,ft)|0,l=l+Math.imul(z,et)|0,S=S+Math.imul(z,ft)|0,w=w+Math.imul(F,Xe)|0,l=l+Math.imul(F,dt)|0,l=l+Math.imul(W,Xe)|0,S=S+Math.imul(W,dt)|0;var bn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ge,Ae),l=Math.imul(ge,ze),l=l+Math.imul(ye,Ae)|0,S=Math.imul(ye,ze),w=w+Math.imul(_e,Ke)|0,l=l+Math.imul(_e,qe)|0,l=l+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,qe)|0,w=w+Math.imul(ae,Ye)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ut)|0,w=w+Math.imul(Re,Qe)|0,l=l+Math.imul(Re,ct)|0,l=l+Math.imul(H,Qe)|0,S=S+Math.imul(H,ct)|0,w=w+Math.imul(V,Je)|0,l=l+Math.imul(V,lt)|0,l=l+Math.imul(fe,Je)|0,S=S+Math.imul(fe,lt)|0,w=w+Math.imul(te,et)|0,l=l+Math.imul(te,ft)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,ft)|0,w=w+Math.imul(K,Xe)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(z,Xe)|0,S=S+Math.imul(z,dt)|0,w=w+Math.imul(F,tt)|0,l=l+Math.imul(F,ht)|0,l=l+Math.imul(W,tt)|0,S=S+Math.imul(W,ht)|0;var Tn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(se,Ae),l=Math.imul(se,ze),l=l+Math.imul(j,Ae)|0,S=Math.imul(j,ze),w=w+Math.imul(ge,Ke)|0,l=l+Math.imul(ge,qe)|0,l=l+Math.imul(ye,Ke)|0,S=S+Math.imul(ye,qe)|0,w=w+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,ut)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,ct)|0,w=w+Math.imul(Re,Je)|0,l=l+Math.imul(Re,lt)|0,l=l+Math.imul(H,Je)|0,S=S+Math.imul(H,lt)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,ft)|0,w=w+Math.imul(te,Xe)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ie,Xe)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(K,tt)|0,l=l+Math.imul(K,ht)|0,l=l+Math.imul(z,tt)|0,S=S+Math.imul(z,ht)|0,w=w+Math.imul(F,rt)|0,l=l+Math.imul(F,pt)|0,l=l+Math.imul(W,rt)|0,S=S+Math.imul(W,pt)|0;var Vn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(ue,Ae),l=Math.imul(ue,ze),l=l+Math.imul(me,Ae)|0,S=Math.imul(me,ze),w=w+Math.imul(se,Ke)|0,l=l+Math.imul(se,qe)|0,l=l+Math.imul(j,Ke)|0,S=S+Math.imul(j,qe)|0,w=w+Math.imul(ge,Ye)|0,l=l+Math.imul(ge,ut)|0,l=l+Math.imul(ye,Ye)|0,S=S+Math.imul(ye,ut)|0,w=w+Math.imul(_e,Qe)|0,l=l+Math.imul(_e,ct)|0,l=l+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,ct)|0,w=w+Math.imul(ae,Je)|0,l=l+Math.imul(ae,lt)|0,l=l+Math.imul(ce,Je)|0,S=S+Math.imul(ce,lt)|0,w=w+Math.imul(Re,et)|0,l=l+Math.imul(Re,ft)|0,l=l+Math.imul(H,et)|0,S=S+Math.imul(H,ft)|0,w=w+Math.imul(V,Xe)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,dt)|0,w=w+Math.imul(te,tt)|0,l=l+Math.imul(te,ht)|0,l=l+Math.imul(ie,tt)|0,S=S+Math.imul(ie,ht)|0,w=w+Math.imul(K,rt)|0,l=l+Math.imul(K,pt)|0,l=l+Math.imul(z,rt)|0,S=S+Math.imul(z,pt)|0,w=w+Math.imul(F,nt)|0,l=l+Math.imul(F,gt)|0,l=l+Math.imul(W,nt)|0,S=S+Math.imul(W,gt)|0;var In=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ue,Ke),l=Math.imul(ue,qe),l=l+Math.imul(me,Ke)|0,S=Math.imul(me,qe),w=w+Math.imul(se,Ye)|0,l=l+Math.imul(se,ut)|0,l=l+Math.imul(j,Ye)|0,S=S+Math.imul(j,ut)|0,w=w+Math.imul(ge,Qe)|0,l=l+Math.imul(ge,ct)|0,l=l+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,ct)|0,w=w+Math.imul(_e,Je)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Ne,Je)|0,S=S+Math.imul(Ne,lt)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(ce,et)|0,S=S+Math.imul(ce,ft)|0,w=w+Math.imul(Re,Xe)|0,l=l+Math.imul(Re,dt)|0,l=l+Math.imul(H,Xe)|0,S=S+Math.imul(H,dt)|0,w=w+Math.imul(V,tt)|0,l=l+Math.imul(V,ht)|0,l=l+Math.imul(fe,tt)|0,S=S+Math.imul(fe,ht)|0,w=w+Math.imul(te,rt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,pt)|0,w=w+Math.imul(K,nt)|0,l=l+Math.imul(K,gt)|0,l=l+Math.imul(z,nt)|0,S=S+Math.imul(z,gt)|0;var Gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(ue,Ye),l=Math.imul(ue,ut),l=l+Math.imul(me,Ye)|0,S=Math.imul(me,ut),w=w+Math.imul(se,Qe)|0,l=l+Math.imul(se,ct)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,ct)|0,w=w+Math.imul(ge,Je)|0,l=l+Math.imul(ge,lt)|0,l=l+Math.imul(ye,Je)|0,S=S+Math.imul(ye,lt)|0,w=w+Math.imul(_e,et)|0,l=l+Math.imul(_e,ft)|0,l=l+Math.imul(Ne,et)|0,S=S+Math.imul(Ne,ft)|0,w=w+Math.imul(ae,Xe)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(ce,Xe)|0,S=S+Math.imul(ce,dt)|0,w=w+Math.imul(Re,tt)|0,l=l+Math.imul(Re,ht)|0,l=l+Math.imul(H,tt)|0,S=S+Math.imul(H,ht)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,pt)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,pt)|0,w=w+Math.imul(te,nt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,gt)|0;var Yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(ue,Qe),l=Math.imul(ue,ct),l=l+Math.imul(me,Qe)|0,S=Math.imul(me,ct),w=w+Math.imul(se,Je)|0,l=l+Math.imul(se,lt)|0,l=l+Math.imul(j,Je)|0,S=S+Math.imul(j,lt)|0,w=w+Math.imul(ge,et)|0,l=l+Math.imul(ge,ft)|0,l=l+Math.imul(ye,et)|0,S=S+Math.imul(ye,ft)|0,w=w+Math.imul(_e,Xe)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Ne,Xe)|0,S=S+Math.imul(Ne,dt)|0,w=w+Math.imul(ae,tt)|0,l=l+Math.imul(ae,ht)|0,l=l+Math.imul(ce,tt)|0,S=S+Math.imul(ce,ht)|0,w=w+Math.imul(Re,rt)|0,l=l+Math.imul(Re,pt)|0,l=l+Math.imul(H,rt)|0,S=S+Math.imul(H,pt)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,gt)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,gt)|0;var Zn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(ue,Je),l=Math.imul(ue,lt),l=l+Math.imul(me,Je)|0,S=Math.imul(me,lt),w=w+Math.imul(se,et)|0,l=l+Math.imul(se,ft)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,ft)|0,w=w+Math.imul(ge,Xe)|0,l=l+Math.imul(ge,dt)|0,l=l+Math.imul(ye,Xe)|0,S=S+Math.imul(ye,dt)|0,w=w+Math.imul(_e,tt)|0,l=l+Math.imul(_e,ht)|0,l=l+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,ht)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,pt)|0,l=l+Math.imul(ce,rt)|0,S=S+Math.imul(ce,pt)|0,w=w+Math.imul(Re,nt)|0,l=l+Math.imul(Re,gt)|0,l=l+Math.imul(H,nt)|0,S=S+Math.imul(H,gt)|0;var Fn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(ue,et),l=Math.imul(ue,ft),l=l+Math.imul(me,et)|0,S=Math.imul(me,ft),w=w+Math.imul(se,Xe)|0,l=l+Math.imul(se,dt)|0,l=l+Math.imul(j,Xe)|0,S=S+Math.imul(j,dt)|0,w=w+Math.imul(ge,tt)|0,l=l+Math.imul(ge,ht)|0,l=l+Math.imul(ye,tt)|0,S=S+Math.imul(ye,ht)|0,w=w+Math.imul(_e,rt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(Ne,rt)|0,S=S+Math.imul(Ne,pt)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,gt)|0,l=l+Math.imul(ce,nt)|0,S=S+Math.imul(ce,gt)|0;var $n=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(ue,Xe),l=Math.imul(ue,dt),l=l+Math.imul(me,Xe)|0,S=Math.imul(me,dt),w=w+Math.imul(se,tt)|0,l=l+Math.imul(se,ht)|0,l=l+Math.imul(j,tt)|0,S=S+Math.imul(j,ht)|0,w=w+Math.imul(ge,rt)|0,l=l+Math.imul(ge,pt)|0,l=l+Math.imul(ye,rt)|0,S=S+Math.imul(ye,pt)|0,w=w+Math.imul(_e,nt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,gt)|0;var Un=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ue,tt),l=Math.imul(ue,ht),l=l+Math.imul(me,tt)|0,S=Math.imul(me,ht),w=w+Math.imul(se,rt)|0,l=l+Math.imul(se,pt)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,pt)|0,w=w+Math.imul(ge,nt)|0,l=l+Math.imul(ge,gt)|0,l=l+Math.imul(ye,nt)|0,S=S+Math.imul(ye,gt)|0;var Xn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(ue,rt),l=Math.imul(ue,pt),l=l+Math.imul(me,rt)|0,S=Math.imul(me,pt),w=w+Math.imul(se,nt)|0,l=l+Math.imul(se,gt)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,gt)|0;var Qn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(ue,nt),l=Math.imul(ue,gt),l=l+Math.imul(me,nt)|0,S=Math.imul(me,gt);var Jn=(T+w|0)+((l&8191)<<13)|0;return T=(S+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_[0]=hr,_[1]=yr,_[2]=pn,_[3]=gn,_[4]=mn,_[5]=yn,_[6]=bn,_[7]=Tn,_[8]=Vn,_[9]=In,_[10]=Gn,_[11]=Yn,_[12]=Zn,_[13]=Fn,_[14]=$n,_[15]=Un,_[16]=Xn,_[17]=Qn,_[18]=Jn,T!==0&&(_[19]=T,p.length++),p};Math.imul||(x=A);function k(I,c,h){h.negative=c.negative^I.negative,h.length=I.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var T=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-I.length+1);l<=w;l++){var S=v-l,N=I.words[S]|0,F=c.words[l]|0,W=N*F,D=W&67108863;_=_+(W/67108864|0)|0,D=D+T|0,T=D&67108863,_=_+(D>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=T,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function R(I,c,h){var p=new C;return p.mulp(I,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=R(this,c,h),p};function C(I,c){this.x=I,this.y=c}C.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},C.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},C.prototype.permute=function(c,h,p,m,v,_){for(var T=0;T<_;T++)m[T]=h[c[T]],v[T]=p[c[T]]},C.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),N=0;N<v;N+=w)for(var F=l,W=S,D=0;D<T;D++){var K=p[N+D],z=m[N+D],G=p[N+D+T],te=m[N+D+T],ie=F*G-W*te;te=F*te+W*G,G=ie,p[N+D]=K+G,m[N+D]=z+te,p[N+D+T]=K-G,m[N+D+T]=z-te,D!==w&&(ie=l*F-S*W,W=l*W+S*F,F=ie)}},C.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},C.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},C.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},C.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},C.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},C.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),T=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),N=new Array(m),F=new Array(m),W=p.words;W.length=m,this.convert13b(c.words,c.length,T,m),this.convert13b(h.words,h.length,S,m),this.transform(T,_,w,l,m,v),this.transform(S,_,N,F,m,v);for(var D=0;D<m;D++){var K=w[D]*N[D]-l[D]*F[D];l[D]=w[D]*F[D]+l[D]*N[D],w[D]=K}return this.conjugate(w,l,m),this.transform(w,l,W,_,m,v),this.conjugate(W,_,m),this.normalize13b(W,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),R(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var T=this.words[v]&m,w=(this.words[v]|0)-T<<h;this.words[v]=w|_,_=T>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var N=this.words[l]|0;this.words[l]=S<<26-v|N>>>v,S=N&T}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,T=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*h;_-=w&67108863,T=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+T,T=_>>26,this.words[v+p]=_&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+T,T=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,T=this._countBits(_);p=26-T,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var N=m.clone()._ishlnsubmul(v,1,w);N.negative===0&&(m=N,l&&(l.words[w]=1));for(var F=w-1;F>=0;F--){var W=(m.words[v.length+F]|0)*67108864+(m.words[v.length+F-1]|0);for(W=Math.min(W/_|0,67108863),m._ishlnsubmul(v,W,F);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(v,1,F),m.isZero()||(m.negative^=1);l&&(l.words[F]=W)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),T=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var N=0,F=1;!(h.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var W=0,D=1;!(p.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(p.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(l),T.isub(S)),_.iushrn(1),T.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(T)):(p.isub(h),_.isub(m),T.isub(v))}return{a:_,b:T,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(h.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(h.iushrn(T);T-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var N;return h.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(c),N},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var T=this.words[_]|0;T+=v,v=T>>>26,T&=67108863,this.words[_]=T}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function O(I,c){this.name=I,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},O.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},O.prototype.split=function(c,h){c.iushrn(this.n,0,h)},O.prototype.imulK=function(c){return c.imul(this.k)};function q(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,O),q.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|_>>>22,_=T}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,O);function Y(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,O);function X(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,O),X.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(P[c])return P[c];var h;if(c==="k256")h=new q;else if(c==="p224")h=new Q;else if(c==="p192")h=new Y;else if(c==="p25519")h=new X;else throw new Error("Unknown prime "+c);return P[c]=h,h};function Z(I){if(typeof I=="string"){var c=s._prime(I);this.m=c.p,this.prime=c}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},Z.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},Z.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),T=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(T)!==0;)l.redIAdd(T);for(var S=this.pow(l,m),N=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),W=v;F.cmp(_)!==0;){for(var D=F,K=0;D.cmp(_)!==0;K++)D=D.redSqr();n(K<W);var z=this.pow(S,new s(1).iushln(W-K-1));N=N.redMul(z),S=z.redSqr(),F=F.redMul(S),W=K}return N},Z.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],T=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],N=l-1;N>=0;N--){var F=S>>N&1;if(_!==m[0]&&(_=this.sqr(_)),F===0&&T===0){w=0;continue}T<<=1,T|=F,w++,!(w!==p&&(v!==0||N!==0))&&(_=this.mul(_,m[T]),w=0,T=0)}l=26}return _},Z.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},Z.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new le(c)};function le(I){Z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Z),le.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},le.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Lt)})(o$);var Jot=o$.exports,s5,RJ;function eat(){if(RJ)return s5;RJ=1;var t=n$(),e=Jot;s5=function(o){return new n(o)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(s){this.curveType=r[s],this.curveType||(this.curveType={name:s}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(s,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(s,o)},n.prototype.computeSecret=function(s,o,a){o=o||"utf8",Ie.Buffer.isBuffer(s)||(s=new Ie.Buffer(s,o));var u=this.curve.keyFromPublic(s).getPublic(),f=u.mul(this.keys.getPrivate()).getX();return i(f,a,this.curveType.byteLength)},n.prototype.getPublicKey=function(s,o){var a=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),i(a,s)},n.prototype.getPrivateKey=function(s){return i(this.keys.getPrivate(),s)},n.prototype.setPublicKey=function(s,o){return o=o||"utf8",Ie.Buffer.isBuffer(s)||(s=new Ie.Buffer(s,o)),this.keys._importPublic(s),this},n.prototype.setPrivateKey=function(s,o){o=o||"utf8",Ie.Buffer.isBuffer(s)||(s=new Ie.Buffer(s,o));var a=new e(s);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function i(s,o,a){Array.isArray(s)||(s=s.toArray());var u=new Ie.Buffer(s);if(a&&u.length<a){var f=new Ie.Buffer(a-u.length);f.fill(0),u=Ie.Buffer.concat([f,u])}return o?u.toString(o):u}return s5}var phe={},tat=p2,WL=$r.Buffer,ghe=function(t,e){for(var r=WL.alloc(0),n=0,i;r.length<e;)i=rat(n++),r=WL.concat([r,tat("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function rat(t){var e=WL.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var mhe=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e},a$={exports:{}};a$.exports;(function(t){(function(e,r){function n(I,c){if(!I)throw new Error(c||"Assertion failed")}function i(I,c){I.super_=c;var h=function(){};h.prototype=c.prototype,I.prototype=new h,I.prototype.constructor=I}function s(I,c,h){if(s.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(I||0,c||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Pe.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,h){return c.cmp(h)>0?c:h},s.min=function(c,h){return c.cmp(h)<0?c:h},s.prototype._init=function(c,h,p){if(typeof c=="number")return this._initNumber(c,h,p);if(typeof c=="object")return this._initArray(c,h,p);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(h===16?this._parseHex(c,m,p):(this._parseBase(c,h,m),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(c,h,p){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(c,h,p){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v,_,T=0;if(p==="be")for(m=c.length-1,v=0;m>=0;m-=3)_=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);else if(p==="le")for(m=0,v=0;m<c.length;m+=3)_=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[v]|=_<<T&67108863,this.words[v+1]=_>>>26-T&67108863,T+=24,T>=26&&(T-=26,v++);return this.strip()};function a(I,c){var h=I.charCodeAt(c);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function u(I,c,h){var p=a(I,h);return h-1>=c&&(p|=a(I,h-1)<<4),p}s.prototype._parseHex=function(c,h,p){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var v=0,_=0,T;if(p==="be")for(m=c.length-1;m>=h;m-=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8;else{var w=c.length-h;for(m=w%2===0?h+1:h;m<c.length;m+=2)T=u(c,h,m)<<v,this.words[_]|=T&67108863,v>=18?(v-=18,_+=1,this.words[_]|=T>>>26):v+=8}this.strip()};function f(I,c,h,p){for(var m=0,v=Math.min(I.length,h),_=c;_<v;_++){var T=I.charCodeAt(_)-48;m*=p,T>=49?m+=T-49+10:T>=17?m+=T-17+10:m+=T}return m}s.prototype._parseBase=function(c,h,p){this.words=[0],this.length=1;for(var m=0,v=1;v<=67108863;v*=h)m++;m--,v=v/h|0;for(var _=c.length-p,T=_%m,w=Math.min(_,_-T)+p,l=0,S=p;S<w;S+=m)l=f(c,S,S+m,h),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(T!==0){var N=1;for(l=f(c,S,c.length,h),S=0;S<T;S++)N*=h;this.imuln(N),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,h){c=c||10,h=h|0||1;var p;if(c===16||c==="hex"){p="";for(var m=0,v=0,_=0;_<this.length;_++){var T=this.words[_],w=((T<<m|v)&16777215).toString(16);v=T>>>24-m&16777215,m+=2,m>=26&&(m-=26,_--),v!==0||_!==this.length-1?p=d[6-w.length]+w+p:p=w+p}for(v!==0&&(p=v.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(c===(c|0)&&c>=2&&c<=36){var l=g[c],S=y[c];p="";var N=this.clone();for(N.negative=0;!N.isZero();){var F=N.modn(S).toString(c);N=N.idivn(S),N.isZero()?p=F+p:p=d[l-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(c,h){return n(typeof o<"u"),this.toArrayLike(o,c,h)},s.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)},s.prototype.toArrayLike=function(c,h,p){var m=this.byteLength(),v=p||Math.max(1,m);n(m<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var _=h==="le",T=new c(v),w,l,S=this.clone();if(_){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[l]=w;for(;l<v;l++)T[l]=0}else{for(l=0;l<v-m;l++)T[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),T[v-l-1]=w}return T},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var h=c,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function b(I){for(var c=new Array(I.bitLength()),h=0;h<c.length;h++){var p=h/26|0,m=h%26;c[h]=(I.words[p]&1<<m)>>>m}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(c+=p,p!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this.strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&c.words[p];return this.length=h.length,this.strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var h,p;this.length>c.length?(h=this,p=c):(h=c,p=this);for(var m=0;m<p.length;m++)this.words[m]=h.words[m]^p.words[m];if(this!==h)for(;m<h.length;m++)this.words[m]=h.words[m];return this.length=h.length,this.strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,p=c%26;this._expand(h),p>0&&h--;for(var m=0;m<h;m++)this.words[m]=~this.words[m]&67108863;return p>0&&(this.words[m]=~this.words[m]&67108863>>26-p),this.strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,h){n(typeof c=="number"&&c>=0);var p=c/26|0,m=c%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<m:this.words[p]=this.words[p]&~(1<<m),this.strip()},s.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var p,m;this.length>c.length?(p=this,m=c):(p=c,m=this);for(var v=0,_=0;_<m.length;_++)h=(p.words[_]|0)+(m.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;for(;v!==0&&_<p.length;_++)h=(p.words[_]|0)+v,this.words[_]=h&67108863,v=h>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;_<p.length;_++)this.words[_]=p.words[_];return this},s.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var p=this.cmp(c);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,v;p>0?(m=this,v=c):(m=c,v=this);for(var _=0,T=0;T<v.length;T++)h=(m.words[T]|0)-(v.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;for(;_!==0&&T<m.length;T++)h=(m.words[T]|0)+_,_=h>>26,this.words[T]=h&67108863;if(_===0&&T<m.length&&m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this.length=Math.max(this.length,T),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function A(I,c,h){h.negative=c.negative^I.negative;var p=I.length+c.length|0;h.length=p,p=p-1|0;var m=I.words[0]|0,v=c.words[0]|0,_=m*v,T=_&67108863,w=_/67108864|0;h.words[0]=T;for(var l=1;l<p;l++){for(var S=w>>>26,N=w&67108863,F=Math.min(l,c.length-1),W=Math.max(0,l-I.length+1);W<=F;W++){var D=l-W|0;m=I.words[D]|0,v=c.words[W]|0,_=m*v+N,S+=_/67108864|0,N=_&67108863}h.words[l]=N|0,w=S|0}return w!==0?h.words[l]=w|0:h.length--,h.strip()}var x=function(c,h,p){var m=c.words,v=h.words,_=p.words,T=0,w,l,S,N=m[0]|0,F=N&8191,W=N>>>13,D=m[1]|0,K=D&8191,z=D>>>13,G=m[2]|0,te=G&8191,ie=G>>>13,J=m[3]|0,V=J&8191,fe=J>>>13,Te=m[4]|0,Re=Te&8191,H=Te>>>13,oe=m[5]|0,ae=oe&8191,ce=oe>>>13,Oe=m[6]|0,_e=Oe&8191,Ne=Oe>>>13,wt=m[7]|0,ge=wt&8191,ye=wt>>>13,Ge=m[8]|0,se=Ge&8191,j=Ge>>>13,re=m[9]|0,ue=re&8191,me=re>>>13,Be=v[0]|0,Ae=Be&8191,ze=Be>>>13,$t=v[1]|0,Ke=$t&8191,qe=$t>>>13,Nt=v[2]|0,Ye=Nt&8191,ut=Nt>>>13,kr=v[3]|0,Qe=kr&8191,ct=kr>>>13,Ir=v[4]|0,Je=Ir&8191,lt=Ir>>>13,Tr=v[5]|0,et=Tr&8191,ft=Tr>>>13,Rr=v[6]|0,Xe=Rr&8191,dt=Rr>>>13,Er=v[7]|0,tt=Er&8191,ht=Er>>>13,Mr=v[8]|0,rt=Mr&8191,pt=Mr>>>13,Cr=v[9]|0,nt=Cr&8191,gt=Cr>>>13;p.negative=c.negative^h.negative,p.length=19,w=Math.imul(F,Ae),l=Math.imul(F,ze),l=l+Math.imul(W,Ae)|0,S=Math.imul(W,ze);var hr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(hr>>>26)|0,hr&=67108863,w=Math.imul(K,Ae),l=Math.imul(K,ze),l=l+Math.imul(z,Ae)|0,S=Math.imul(z,ze),w=w+Math.imul(F,Ke)|0,l=l+Math.imul(F,qe)|0,l=l+Math.imul(W,Ke)|0,S=S+Math.imul(W,qe)|0;var yr=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(te,Ae),l=Math.imul(te,ze),l=l+Math.imul(ie,Ae)|0,S=Math.imul(ie,ze),w=w+Math.imul(K,Ke)|0,l=l+Math.imul(K,qe)|0,l=l+Math.imul(z,Ke)|0,S=S+Math.imul(z,qe)|0,w=w+Math.imul(F,Ye)|0,l=l+Math.imul(F,ut)|0,l=l+Math.imul(W,Ye)|0,S=S+Math.imul(W,ut)|0;var pn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,w=Math.imul(V,Ae),l=Math.imul(V,ze),l=l+Math.imul(fe,Ae)|0,S=Math.imul(fe,ze),w=w+Math.imul(te,Ke)|0,l=l+Math.imul(te,qe)|0,l=l+Math.imul(ie,Ke)|0,S=S+Math.imul(ie,qe)|0,w=w+Math.imul(K,Ye)|0,l=l+Math.imul(K,ut)|0,l=l+Math.imul(z,Ye)|0,S=S+Math.imul(z,ut)|0,w=w+Math.imul(F,Qe)|0,l=l+Math.imul(F,ct)|0,l=l+Math.imul(W,Qe)|0,S=S+Math.imul(W,ct)|0;var gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,w=Math.imul(Re,Ae),l=Math.imul(Re,ze),l=l+Math.imul(H,Ae)|0,S=Math.imul(H,ze),w=w+Math.imul(V,Ke)|0,l=l+Math.imul(V,qe)|0,l=l+Math.imul(fe,Ke)|0,S=S+Math.imul(fe,qe)|0,w=w+Math.imul(te,Ye)|0,l=l+Math.imul(te,ut)|0,l=l+Math.imul(ie,Ye)|0,S=S+Math.imul(ie,ut)|0,w=w+Math.imul(K,Qe)|0,l=l+Math.imul(K,ct)|0,l=l+Math.imul(z,Qe)|0,S=S+Math.imul(z,ct)|0,w=w+Math.imul(F,Je)|0,l=l+Math.imul(F,lt)|0,l=l+Math.imul(W,Je)|0,S=S+Math.imul(W,lt)|0;var mn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,w=Math.imul(ae,Ae),l=Math.imul(ae,ze),l=l+Math.imul(ce,Ae)|0,S=Math.imul(ce,ze),w=w+Math.imul(Re,Ke)|0,l=l+Math.imul(Re,qe)|0,l=l+Math.imul(H,Ke)|0,S=S+Math.imul(H,qe)|0,w=w+Math.imul(V,Ye)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(fe,Ye)|0,S=S+Math.imul(fe,ut)|0,w=w+Math.imul(te,Qe)|0,l=l+Math.imul(te,ct)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,ct)|0,w=w+Math.imul(K,Je)|0,l=l+Math.imul(K,lt)|0,l=l+Math.imul(z,Je)|0,S=S+Math.imul(z,lt)|0,w=w+Math.imul(F,et)|0,l=l+Math.imul(F,ft)|0,l=l+Math.imul(W,et)|0,S=S+Math.imul(W,ft)|0;var yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(_e,Ae),l=Math.imul(_e,ze),l=l+Math.imul(Ne,Ae)|0,S=Math.imul(Ne,ze),w=w+Math.imul(ae,Ke)|0,l=l+Math.imul(ae,qe)|0,l=l+Math.imul(ce,Ke)|0,S=S+Math.imul(ce,qe)|0,w=w+Math.imul(Re,Ye)|0,l=l+Math.imul(Re,ut)|0,l=l+Math.imul(H,Ye)|0,S=S+Math.imul(H,ut)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,ct)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,ct)|0,w=w+Math.imul(te,Je)|0,l=l+Math.imul(te,lt)|0,l=l+Math.imul(ie,Je)|0,S=S+Math.imul(ie,lt)|0,w=w+Math.imul(K,et)|0,l=l+Math.imul(K,ft)|0,l=l+Math.imul(z,et)|0,S=S+Math.imul(z,ft)|0,w=w+Math.imul(F,Xe)|0,l=l+Math.imul(F,dt)|0,l=l+Math.imul(W,Xe)|0,S=S+Math.imul(W,dt)|0;var bn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863,w=Math.imul(ge,Ae),l=Math.imul(ge,ze),l=l+Math.imul(ye,Ae)|0,S=Math.imul(ye,ze),w=w+Math.imul(_e,Ke)|0,l=l+Math.imul(_e,qe)|0,l=l+Math.imul(Ne,Ke)|0,S=S+Math.imul(Ne,qe)|0,w=w+Math.imul(ae,Ye)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(ce,Ye)|0,S=S+Math.imul(ce,ut)|0,w=w+Math.imul(Re,Qe)|0,l=l+Math.imul(Re,ct)|0,l=l+Math.imul(H,Qe)|0,S=S+Math.imul(H,ct)|0,w=w+Math.imul(V,Je)|0,l=l+Math.imul(V,lt)|0,l=l+Math.imul(fe,Je)|0,S=S+Math.imul(fe,lt)|0,w=w+Math.imul(te,et)|0,l=l+Math.imul(te,ft)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,ft)|0,w=w+Math.imul(K,Xe)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(z,Xe)|0,S=S+Math.imul(z,dt)|0,w=w+Math.imul(F,tt)|0,l=l+Math.imul(F,ht)|0,l=l+Math.imul(W,tt)|0,S=S+Math.imul(W,ht)|0;var Tn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(se,Ae),l=Math.imul(se,ze),l=l+Math.imul(j,Ae)|0,S=Math.imul(j,ze),w=w+Math.imul(ge,Ke)|0,l=l+Math.imul(ge,qe)|0,l=l+Math.imul(ye,Ke)|0,S=S+Math.imul(ye,qe)|0,w=w+Math.imul(_e,Ye)|0,l=l+Math.imul(_e,ut)|0,l=l+Math.imul(Ne,Ye)|0,S=S+Math.imul(Ne,ut)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,ct)|0,l=l+Math.imul(ce,Qe)|0,S=S+Math.imul(ce,ct)|0,w=w+Math.imul(Re,Je)|0,l=l+Math.imul(Re,lt)|0,l=l+Math.imul(H,Je)|0,S=S+Math.imul(H,lt)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,ft)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,ft)|0,w=w+Math.imul(te,Xe)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ie,Xe)|0,S=S+Math.imul(ie,dt)|0,w=w+Math.imul(K,tt)|0,l=l+Math.imul(K,ht)|0,l=l+Math.imul(z,tt)|0,S=S+Math.imul(z,ht)|0,w=w+Math.imul(F,rt)|0,l=l+Math.imul(F,pt)|0,l=l+Math.imul(W,rt)|0,S=S+Math.imul(W,pt)|0;var Vn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,w=Math.imul(ue,Ae),l=Math.imul(ue,ze),l=l+Math.imul(me,Ae)|0,S=Math.imul(me,ze),w=w+Math.imul(se,Ke)|0,l=l+Math.imul(se,qe)|0,l=l+Math.imul(j,Ke)|0,S=S+Math.imul(j,qe)|0,w=w+Math.imul(ge,Ye)|0,l=l+Math.imul(ge,ut)|0,l=l+Math.imul(ye,Ye)|0,S=S+Math.imul(ye,ut)|0,w=w+Math.imul(_e,Qe)|0,l=l+Math.imul(_e,ct)|0,l=l+Math.imul(Ne,Qe)|0,S=S+Math.imul(Ne,ct)|0,w=w+Math.imul(ae,Je)|0,l=l+Math.imul(ae,lt)|0,l=l+Math.imul(ce,Je)|0,S=S+Math.imul(ce,lt)|0,w=w+Math.imul(Re,et)|0,l=l+Math.imul(Re,ft)|0,l=l+Math.imul(H,et)|0,S=S+Math.imul(H,ft)|0,w=w+Math.imul(V,Xe)|0,l=l+Math.imul(V,dt)|0,l=l+Math.imul(fe,Xe)|0,S=S+Math.imul(fe,dt)|0,w=w+Math.imul(te,tt)|0,l=l+Math.imul(te,ht)|0,l=l+Math.imul(ie,tt)|0,S=S+Math.imul(ie,ht)|0,w=w+Math.imul(K,rt)|0,l=l+Math.imul(K,pt)|0,l=l+Math.imul(z,rt)|0,S=S+Math.imul(z,pt)|0,w=w+Math.imul(F,nt)|0,l=l+Math.imul(F,gt)|0,l=l+Math.imul(W,nt)|0,S=S+Math.imul(W,gt)|0;var In=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ue,Ke),l=Math.imul(ue,qe),l=l+Math.imul(me,Ke)|0,S=Math.imul(me,qe),w=w+Math.imul(se,Ye)|0,l=l+Math.imul(se,ut)|0,l=l+Math.imul(j,Ye)|0,S=S+Math.imul(j,ut)|0,w=w+Math.imul(ge,Qe)|0,l=l+Math.imul(ge,ct)|0,l=l+Math.imul(ye,Qe)|0,S=S+Math.imul(ye,ct)|0,w=w+Math.imul(_e,Je)|0,l=l+Math.imul(_e,lt)|0,l=l+Math.imul(Ne,Je)|0,S=S+Math.imul(Ne,lt)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,ft)|0,l=l+Math.imul(ce,et)|0,S=S+Math.imul(ce,ft)|0,w=w+Math.imul(Re,Xe)|0,l=l+Math.imul(Re,dt)|0,l=l+Math.imul(H,Xe)|0,S=S+Math.imul(H,dt)|0,w=w+Math.imul(V,tt)|0,l=l+Math.imul(V,ht)|0,l=l+Math.imul(fe,tt)|0,S=S+Math.imul(fe,ht)|0,w=w+Math.imul(te,rt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,pt)|0,w=w+Math.imul(K,nt)|0,l=l+Math.imul(K,gt)|0,l=l+Math.imul(z,nt)|0,S=S+Math.imul(z,gt)|0;var Gn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,w=Math.imul(ue,Ye),l=Math.imul(ue,ut),l=l+Math.imul(me,Ye)|0,S=Math.imul(me,ut),w=w+Math.imul(se,Qe)|0,l=l+Math.imul(se,ct)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,ct)|0,w=w+Math.imul(ge,Je)|0,l=l+Math.imul(ge,lt)|0,l=l+Math.imul(ye,Je)|0,S=S+Math.imul(ye,lt)|0,w=w+Math.imul(_e,et)|0,l=l+Math.imul(_e,ft)|0,l=l+Math.imul(Ne,et)|0,S=S+Math.imul(Ne,ft)|0,w=w+Math.imul(ae,Xe)|0,l=l+Math.imul(ae,dt)|0,l=l+Math.imul(ce,Xe)|0,S=S+Math.imul(ce,dt)|0,w=w+Math.imul(Re,tt)|0,l=l+Math.imul(Re,ht)|0,l=l+Math.imul(H,tt)|0,S=S+Math.imul(H,ht)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,pt)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,pt)|0,w=w+Math.imul(te,nt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,gt)|0;var Yn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(ue,Qe),l=Math.imul(ue,ct),l=l+Math.imul(me,Qe)|0,S=Math.imul(me,ct),w=w+Math.imul(se,Je)|0,l=l+Math.imul(se,lt)|0,l=l+Math.imul(j,Je)|0,S=S+Math.imul(j,lt)|0,w=w+Math.imul(ge,et)|0,l=l+Math.imul(ge,ft)|0,l=l+Math.imul(ye,et)|0,S=S+Math.imul(ye,ft)|0,w=w+Math.imul(_e,Xe)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Ne,Xe)|0,S=S+Math.imul(Ne,dt)|0,w=w+Math.imul(ae,tt)|0,l=l+Math.imul(ae,ht)|0,l=l+Math.imul(ce,tt)|0,S=S+Math.imul(ce,ht)|0,w=w+Math.imul(Re,rt)|0,l=l+Math.imul(Re,pt)|0,l=l+Math.imul(H,rt)|0,S=S+Math.imul(H,pt)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,gt)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,gt)|0;var Zn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,w=Math.imul(ue,Je),l=Math.imul(ue,lt),l=l+Math.imul(me,Je)|0,S=Math.imul(me,lt),w=w+Math.imul(se,et)|0,l=l+Math.imul(se,ft)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,ft)|0,w=w+Math.imul(ge,Xe)|0,l=l+Math.imul(ge,dt)|0,l=l+Math.imul(ye,Xe)|0,S=S+Math.imul(ye,dt)|0,w=w+Math.imul(_e,tt)|0,l=l+Math.imul(_e,ht)|0,l=l+Math.imul(Ne,tt)|0,S=S+Math.imul(Ne,ht)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,pt)|0,l=l+Math.imul(ce,rt)|0,S=S+Math.imul(ce,pt)|0,w=w+Math.imul(Re,nt)|0,l=l+Math.imul(Re,gt)|0,l=l+Math.imul(H,nt)|0,S=S+Math.imul(H,gt)|0;var Fn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,w=Math.imul(ue,et),l=Math.imul(ue,ft),l=l+Math.imul(me,et)|0,S=Math.imul(me,ft),w=w+Math.imul(se,Xe)|0,l=l+Math.imul(se,dt)|0,l=l+Math.imul(j,Xe)|0,S=S+Math.imul(j,dt)|0,w=w+Math.imul(ge,tt)|0,l=l+Math.imul(ge,ht)|0,l=l+Math.imul(ye,tt)|0,S=S+Math.imul(ye,ht)|0,w=w+Math.imul(_e,rt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(Ne,rt)|0,S=S+Math.imul(Ne,pt)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,gt)|0,l=l+Math.imul(ce,nt)|0,S=S+Math.imul(ce,gt)|0;var $n=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+($n>>>26)|0,$n&=67108863,w=Math.imul(ue,Xe),l=Math.imul(ue,dt),l=l+Math.imul(me,Xe)|0,S=Math.imul(me,dt),w=w+Math.imul(se,tt)|0,l=l+Math.imul(se,ht)|0,l=l+Math.imul(j,tt)|0,S=S+Math.imul(j,ht)|0,w=w+Math.imul(ge,rt)|0,l=l+Math.imul(ge,pt)|0,l=l+Math.imul(ye,rt)|0,S=S+Math.imul(ye,pt)|0,w=w+Math.imul(_e,nt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Ne,nt)|0,S=S+Math.imul(Ne,gt)|0;var Un=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,w=Math.imul(ue,tt),l=Math.imul(ue,ht),l=l+Math.imul(me,tt)|0,S=Math.imul(me,ht),w=w+Math.imul(se,rt)|0,l=l+Math.imul(se,pt)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,pt)|0,w=w+Math.imul(ge,nt)|0,l=l+Math.imul(ge,gt)|0,l=l+Math.imul(ye,nt)|0,S=S+Math.imul(ye,gt)|0;var Xn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,w=Math.imul(ue,rt),l=Math.imul(ue,pt),l=l+Math.imul(me,rt)|0,S=Math.imul(me,pt),w=w+Math.imul(se,nt)|0,l=l+Math.imul(se,gt)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,gt)|0;var Qn=(T+w|0)+((l&8191)<<13)|0;T=(S+(l>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,w=Math.imul(ue,nt),l=Math.imul(ue,gt),l=l+Math.imul(me,nt)|0,S=Math.imul(me,gt);var Jn=(T+w|0)+((l&8191)<<13)|0;return T=(S+(l>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,_[0]=hr,_[1]=yr,_[2]=pn,_[3]=gn,_[4]=mn,_[5]=yn,_[6]=bn,_[7]=Tn,_[8]=Vn,_[9]=In,_[10]=Gn,_[11]=Yn,_[12]=Zn,_[13]=Fn,_[14]=$n,_[15]=Un,_[16]=Xn,_[17]=Qn,_[18]=Jn,T!==0&&(_[19]=T,p.length++),p};Math.imul||(x=A);function k(I,c,h){h.negative=c.negative^I.negative,h.length=I.length+c.length;for(var p=0,m=0,v=0;v<h.length-1;v++){var _=m;m=0;for(var T=p&67108863,w=Math.min(v,c.length-1),l=Math.max(0,v-I.length+1);l<=w;l++){var S=v-l,N=I.words[S]|0,F=c.words[l]|0,W=N*F,D=W&67108863;_=_+(W/67108864|0)|0,D=D+T|0,T=D&67108863,_=_+(D>>>26)|0,m+=_>>>26,_&=67108863}h.words[v]=T,p=_,_=m}return p!==0?h.words[v]=p:h.length--,h.strip()}function R(I,c,h){var p=new C;return p.mulp(I,c,h)}s.prototype.mulTo=function(c,h){var p,m=this.length+c.length;return this.length===10&&c.length===10?p=x(this,c,h):m<63?p=A(this,c,h):m<1024?p=k(this,c,h):p=R(this,c,h),p};function C(I,c){this.x=I,this.y=c}C.prototype.makeRBT=function(c){for(var h=new Array(c),p=s.prototype._countBits(c)-1,m=0;m<c;m++)h[m]=this.revBin(m,p,c);return h},C.prototype.revBin=function(c,h,p){if(c===0||c===p-1)return c;for(var m=0,v=0;v<h;v++)m|=(c&1)<<h-v-1,c>>=1;return m},C.prototype.permute=function(c,h,p,m,v,_){for(var T=0;T<_;T++)m[T]=h[c[T]],v[T]=p[c[T]]},C.prototype.transform=function(c,h,p,m,v,_){this.permute(_,c,h,p,m,v);for(var T=1;T<v;T<<=1)for(var w=T<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),N=0;N<v;N+=w)for(var F=l,W=S,D=0;D<T;D++){var K=p[N+D],z=m[N+D],G=p[N+D+T],te=m[N+D+T],ie=F*G-W*te;te=F*te+W*G,G=ie,p[N+D]=K+G,m[N+D]=z+te,p[N+D+T]=K-G,m[N+D+T]=z-te,D!==w&&(ie=l*F-S*W,W=l*W+S*F,F=ie)}},C.prototype.guessLen13b=function(c,h){var p=Math.max(h,c)|1,m=p&1,v=0;for(p=p/2|0;p;p=p>>>1)v++;return 1<<v+1+m},C.prototype.conjugate=function(c,h,p){if(!(p<=1))for(var m=0;m<p/2;m++){var v=c[m];c[m]=c[p-m-1],c[p-m-1]=v,v=h[m],h[m]=-h[p-m-1],h[p-m-1]=-v}},C.prototype.normalize13b=function(c,h){for(var p=0,m=0;m<h/2;m++){var v=Math.round(c[2*m+1]/h)*8192+Math.round(c[2*m]/h)+p;c[m]=v&67108863,v<67108864?p=0:p=v/67108864|0}return c},C.prototype.convert13b=function(c,h,p,m){for(var v=0,_=0;_<h;_++)v=v+(c[_]|0),p[2*_]=v&8191,v=v>>>13,p[2*_+1]=v&8191,v=v>>>13;for(_=2*h;_<m;++_)p[_]=0;n(v===0),n((v&-8192)===0)},C.prototype.stub=function(c){for(var h=new Array(c),p=0;p<c;p++)h[p]=0;return h},C.prototype.mulp=function(c,h,p){var m=2*this.guessLen13b(c.length,h.length),v=this.makeRBT(m),_=this.stub(m),T=new Array(m),w=new Array(m),l=new Array(m),S=new Array(m),N=new Array(m),F=new Array(m),W=p.words;W.length=m,this.convert13b(c.words,c.length,T,m),this.convert13b(h.words,h.length,S,m),this.transform(T,_,w,l,m,v),this.transform(S,_,N,F,m,v);for(var D=0;D<m;D++){var K=w[D]*N[D]-l[D]*F[D];l[D]=w[D]*F[D]+l[D]*N[D],w[D]=K}return this.conjugate(w,l,m),this.transform(w,l,W,_,m,v),this.conjugate(W,_,m),this.normalize13b(W,m),p.negative=c.negative^h.negative,p.length=c.length+h.length,p.strip()},s.prototype.mul=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},s.prototype.mulf=function(c){var h=new s(null);return h.words=new Array(this.length+c.length),R(this,c,h)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var h=0,p=0;p<this.length;p++){var m=(this.words[p]|0)*c,v=(m&67108863)+(h&67108863);h>>=26,h+=m/67108864|0,h+=v>>>26,this.words[p]=v&67108863}return h!==0&&(this.words[p]=h,this.length++),this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var h=b(c);if(h.length===0)return new s(1);for(var p=this,m=0;m<h.length&&h[m]===0;m++,p=p.sqr());if(++m<h.length)for(var v=p.sqr();m<h.length;m++,v=v.sqr())h[m]!==0&&(p=p.mul(v));return p},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=67108863>>>26-h<<26-h,v;if(h!==0){var _=0;for(v=0;v<this.length;v++){var T=this.words[v]&m,w=(this.words[v]|0)-T<<h;this.words[v]=w|_,_=T>>>26-h}_&&(this.words[v]=_,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this.strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,h,p){n(typeof c=="number"&&c>=0);var m;h?m=(h-h%26)/26:m=0;var v=c%26,_=Math.min((c-v)/26,this.length),T=67108863^67108863>>>v<<v,w=p;if(m-=_,m=Math.max(0,m),w){for(var l=0;l<_;l++)w.words[l]=this.words[l];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,l=0;l<this.length;l++)this.words[l]=this.words[l+_];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=m);l--){var N=this.words[l]|0;this.words[l]=S<<26-v|N>>>v,S=N&T}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(c,h,p){return n(this.negative===0),this.iushrn(c,h,p)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return!1;var v=this.words[p];return!!(v&m)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var h=c%26,p=(c-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var m=67108863^67108863>>>h<<h;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,h,p){var m=c.length+p,v;this._expand(m);var _,T=0;for(v=0;v<c.length;v++){_=(this.words[v+p]|0)+T;var w=(c.words[v]|0)*h;_-=w&67108863,T=(_>>26)-(w/67108864|0),this.words[v+p]=_&67108863}for(;v<this.length-p;v++)_=(this.words[v+p]|0)+T,T=_>>26,this.words[v+p]=_&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,v=0;v<this.length;v++)_=-(this.words[v]|0)+T,T=_>>26,this.words[v]=_&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(c,h){var p=this.length-c.length,m=this.clone(),v=c,_=v.words[v.length-1]|0,T=this._countBits(_);p=26-T,p!==0&&(v=v.ushln(p),m.iushln(p),_=v.words[v.length-1]|0);var w=m.length-v.length,l;if(h!=="mod"){l=new s(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var N=m.clone()._ishlnsubmul(v,1,w);N.negative===0&&(m=N,l&&(l.words[w]=1));for(var F=w-1;F>=0;F--){var W=(m.words[v.length+F]|0)*67108864+(m.words[v.length+F-1]|0);for(W=Math.min(W/_|0,67108863),m._ishlnsubmul(v,W,F);m.negative!==0;)W--,m.negative=0,m._ishlnsubmul(v,1,F),m.isZero()||(m.negative^=1);l&&(l.words[F]=W)}return l&&l.strip(),m.strip(),h!=="div"&&p!==0&&m.iushrn(p),{div:l||null,mod:m}},s.prototype.divmod=function(c,h,p){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,v,_;return this.negative!==0&&c.negative===0?(_=this.neg().divmod(c,h),h!=="mod"&&(m=_.div.neg()),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.iadd(c)),{div:m,mod:v}):this.negative===0&&c.negative!==0?(_=this.divmod(c.neg(),h),h!=="mod"&&(m=_.div.neg()),{div:m,mod:_.mod}):this.negative&c.negative?(_=this.neg().divmod(c.neg(),h),h!=="div"&&(v=_.mod.neg(),p&&v.negative!==0&&v.isub(c)),{div:_.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modn(c.words[0]))}:this._wordDiv(c,h)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(c):h.mod,m=c.ushrn(1),v=c.andln(1),_=p.cmp(m);return _<0||v===1&&_===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(c){n(c<=67108863);for(var h=(1<<26)%c,p=0,m=this.length-1;m>=0;m--)p=(h*p+(this.words[m]|0))%c;return p},s.prototype.idivn=function(c){n(c<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var m=(this.words[p]|0)+h*67108864;this.words[p]=m/c|0,h=m%c}return this.strip()},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=new s(0),T=new s(1),w=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++w;for(var l=p.clone(),S=h.clone();!h.isZero();){for(var N=0,F=1;!(h.words[0]&F)&&N<26;++N,F<<=1);if(N>0)for(h.iushrn(N);N-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(l),v.isub(S)),m.iushrn(1),v.iushrn(1);for(var W=0,D=1;!(p.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(p.iushrn(W);W-- >0;)(_.isOdd()||T.isOdd())&&(_.iadd(l),T.isub(S)),_.iushrn(1),T.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(_),v.isub(T)):(p.isub(h),_.isub(m),T.isub(v))}return{a:_,b:T,gcd:p.iushln(w)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var h=this,p=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var m=new s(1),v=new s(0),_=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var T=0,w=1;!(h.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(h.iushrn(T);T-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);for(var l=0,S=1;!(p.words[0]&S)&&l<26;++l,S<<=1);if(l>0)for(p.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(_),v.iushrn(1);h.cmp(p)>=0?(h.isub(p),m.isub(v)):(p.isub(h),v.isub(m))}var N;return h.cmpn(1)===0?N=m:N=v,N.cmpn(0)<0&&N.iadd(c),N},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),p=c.clone();h.negative=0,p.negative=0;for(var m=0;h.isEven()&&p.isEven();m++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=h.cmp(p);if(v<0){var _=h;h=p,p=_}else if(v===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(m)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var h=c%26,p=(c-h)/26,m=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=m,this;for(var v=m,_=p;v!==0&&_<this.length;_++){var T=this.words[_]|0;T+=v,v=T>>>26,T&=67108863,this.words[_]=T}return v!==0&&(this.words[_]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var p;if(this.length>1)p=1;else{h&&(c=-c),n(c<=67108863,"Number is too big");var m=this.words[0]|0;p=m===c?0:m<c?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var m=this.words[p]|0,v=c.words[p]|0;if(m!==v){m<v?h=-1:m>v&&(h=1);break}}return h},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var P={k256:null,p224:null,p192:null,p25519:null};function O(I,c){this.name=I,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},O.prototype.ireduce=function(c){var h=c,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var m=p<this.n?-1:h.ucmp(this.p);return m===0?(h.words[0]=0,h.length=1):m>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},O.prototype.split=function(c,h){c.iushrn(this.n,0,h)},O.prototype.imulK=function(c){return c.imul(this.k)};function q(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,O),q.prototype.split=function(c,h){for(var p=4194303,m=Math.min(c.length,9),v=0;v<m;v++)h.words[v]=c.words[v];if(h.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var _=c.words[9];for(h.words[h.length++]=_&p,v=10;v<c.length;v++){var T=c.words[v]|0;c.words[v-10]=(T&p)<<4|_>>>22,_=T}_>>>=22,c.words[v-10]=_,_===0&&c.length>10?c.length-=10:c.length-=9},q.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,p=0;p<c.length;p++){var m=c.words[p]|0;h+=m*977,c.words[p]=h&67108863,h=m*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,O);function Y(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,O);function X(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,O),X.prototype.imulK=function(c){for(var h=0,p=0;p<c.length;p++){var m=(c.words[p]|0)*19+h,v=m&67108863;m>>>=26,c.words[p]=v,h=m}return h!==0&&(c.words[c.length++]=h),c},s._prime=function(c){if(P[c])return P[c];var h;if(c==="k256")h=new q;else if(c==="p224")h=new Q;else if(c==="p192")h=new Y;else if(c==="p25519")h=new X;else throw new Error("Unknown prime "+c);return P[c]=h,h};function Z(I){if(typeof I=="string"){var c=s._prime(I);this.m=c.p,this.prime=c}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,h){n((c.negative|h.negative)===0,"red works only with positives"),n(c.red&&c.red===h.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,h){this._verify2(c,h);var p=c.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Z.prototype.iadd=function(c,h){this._verify2(c,h);var p=c.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Z.prototype.sub=function(c,h){this._verify2(c,h);var p=c.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Z.prototype.isub=function(c,h){this._verify2(c,h);var p=c.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Z.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},Z.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},Z.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(c,p)}for(var m=this.m.subn(1),v=0;!m.isZero()&&m.andln(1)===0;)v++,m.iushrn(1);n(!m.isZero());var _=new s(1).toRed(this),T=_.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);this.pow(l,w).cmp(T)!==0;)l.redIAdd(T);for(var S=this.pow(l,m),N=this.pow(c,m.addn(1).iushrn(1)),F=this.pow(c,m),W=v;F.cmp(_)!==0;){for(var D=F,K=0;D.cmp(_)!==0;K++)D=D.redSqr();n(K<W);var z=this.pow(S,new s(1).iushln(W-K-1));N=N.redMul(z),S=z.redSqr(),F=F.redMul(S),W=K}return N},Z.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Z.prototype.pow=function(c,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var p=4,m=new Array(1<<p);m[0]=new s(1).toRed(this),m[1]=c;for(var v=2;v<m.length;v++)m[v]=this.mul(m[v-1],c);var _=m[0],T=0,w=0,l=h.bitLength()%26;for(l===0&&(l=26),v=h.length-1;v>=0;v--){for(var S=h.words[v],N=l-1;N>=0;N--){var F=S>>N&1;if(_!==m[0]&&(_=this.sqr(_)),F===0&&T===0){w=0;continue}T<<=1,T|=F,w++,!(w!==p&&(v!==0||N!==0))&&(_=this.mul(_,m[T]),w=0,T=0)}l=26}return _},Z.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},Z.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},s.mont=function(c){return new le(c)};function le(I){Z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Z),le.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},le.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var p=c.imul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new s(0)._forceRed(this);var p=c.mul(h),m=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(m).iushrn(this.shift),_=v;return v.cmp(this.m)>=0?_=v.isub(this.m):v.cmpn(0)<0&&(_=v.iadd(this.m)),_._forceRed(this)},le.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Lt)})(a$);var u$=a$.exports,MJ=u$,nat=$r.Buffer;function iat(t,e){return nat.from(t.toRed(MJ.mont(e.modulus)).redPow(new MJ(e.publicExponent)).fromRed().toArray())}var yhe=iat,sat=X4,KL=jw,oat=p2,CJ=ghe,PJ=mhe,c$=u$,aat=yhe,uat=XF,rl=$r.Buffer,cat=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=sat(e),o;if(i===4)o=lat(s,r);else if(i===1)o=fat(s,r,n);else if(i===3){if(o=new c$(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?uat(o,s):aat(o,s)};function lat(t,e){var r=t.modulus.byteLength(),n=e.length,i=oat("sha1").update(rl.alloc(0)).digest(),s=i.length,o=2*s;if(n>r-o-2)throw new Error("message too long");var a=rl.alloc(r-n-o-2),u=r-s-1,f=KL(s),d=PJ(rl.concat([i,a,rl.alloc(1,1),e],u),CJ(f,u)),g=PJ(f,CJ(d,s));return new c$(rl.concat([rl.alloc(1),g,d],r))}function fat(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=rl.alloc(i-n-3,255):s=dat(i-n-3),new c$(rl.concat([rl.from([0,r?1:2]),s,rl.alloc(1),e],i))}function dat(t){for(var e=rl.allocUnsafe(t),r=0,n=KL(t*2),i=0,s;r<t;)i===n.length&&(n=KL(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}var hat=X4,NJ=ghe,BJ=mhe,OJ=u$,pat=XF,gat=p2,mat=yhe,rx=$r.Buffer,yat=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=hat(e),o=s.modulus.byteLength();if(r.length>o||new OJ(r).cmp(s.modulus)>=0)throw new Error("decryption error");var a;n?a=mat(new OJ(r),s):a=pat(r,s);var u=rx.alloc(o-a.length);if(a=rx.concat([u,a],o),i===4)return bat(s,a);if(i===1)return vat(s,a,n);if(i===3)return a;throw new Error("unknown padding")};function bat(t,e){var r=t.modulus.byteLength(),n=gat("sha1").update(rx.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),o=e.slice(i+1),a=BJ(s,NJ(o,i)),u=BJ(o,NJ(a,r-i-1));if(wat(n,u.slice(0,i)))throw new Error("decryption error");for(var f=i;u[f]===0;)f++;if(u[f++]!==1)throw new Error("decryption error");return u.slice(f)}function vat(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var o=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}function wat(t,e){t=rx.from(t),e=rx.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}(function(t){t.publicEncrypt=cat,t.privateDecrypt=yat,t.privateEncrypt=function(r,n){return t.publicEncrypt(r,n,!0)},t.publicDecrypt=function(r,n){return t.privateDecrypt(r,n,!0)}})(phe);var R_={};function LJ(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var bhe=$r,DJ=jw,vhe=bhe.Buffer,whe=bhe.kMaxLength,jL=Lt.crypto||Lt.msCrypto,She=Math.pow(2,32)-1;function _he(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>She||t<0)throw new TypeError("offset must be a uint32");if(t>whe||t>e)throw new RangeError("offset out of range")}function Ahe(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>She||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>whe)throw new RangeError("buffer too small")}jL&&jL.getRandomValues||!Ie.process.browser?(R_.randomFill=Sat,R_.randomFillSync=_at):(R_.randomFill=LJ,R_.randomFillSync=LJ);function Sat(t,e,r,n){if(!vhe.isBuffer(t)&&!(t instanceof Lt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return _he(e,t.length),Ahe(r,e,t.length),xhe(t,e,r,n)}function xhe(t,e,r,n){if(Ie.process.browser){var i=t.buffer,s=new Uint8Array(i,e,r);if(jL.getRandomValues(s),n){Ie.process.nextTick(function(){n(null,t)});return}return t}if(n){DJ(r,function(a,u){if(a)return n(a);u.copy(t,e),n(null,t)});return}var o=DJ(r);return o.copy(t,e),t}function _at(t,e,r){if(typeof e>"u"&&(e=0),!vhe.isBuffer(t)&&!(t instanceof Lt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return _he(e,t.length),r===void 0&&(r=t.length-e),Ahe(r,e,t.length),xhe(t,e,r)}var FJ;function Ehe(){if(FJ)return zr;FJ=1,zr.randomBytes=zr.rng=zr.pseudoRandomBytes=zr.prng=jw,zr.createHash=zr.Hash=p2,zr.createHmac=zr.Hmac=Ofe;var t=nrt,e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);zr.getHashes=function(){return r};var n=B4;zr.pbkdf2=n.pbkdf2,zr.pbkdf2Sync=n.pbkdf2Sync;var i=wl;zr.Cipher=i.Cipher,zr.createCipher=i.createCipher,zr.Cipheriv=i.Cipheriv,zr.createCipheriv=i.createCipheriv,zr.Decipher=i.Decipher,zr.createDecipher=i.createDecipher,zr.Decipheriv=i.Decipheriv,zr.createDecipheriv=i.createDecipheriv,zr.getCiphers=i.getCiphers,zr.listCiphers=i.listCiphers;var s=Lnt();zr.DiffieHellmanGroup=s.DiffieHellmanGroup,zr.createDiffieHellmanGroup=s.createDiffieHellmanGroup,zr.getDiffieHellman=s.getDiffieHellman,zr.createDiffieHellman=s.createDiffieHellman,zr.DiffieHellman=s.DiffieHellman;var o=Qot();zr.createSign=o.createSign,zr.Sign=o.Sign,zr.createVerify=o.createVerify,zr.Verify=o.Verify,zr.createECDH=eat();var a=phe;zr.publicEncrypt=a.publicEncrypt,zr.privateEncrypt=a.privateEncrypt,zr.publicDecrypt=a.publicDecrypt,zr.privateDecrypt=a.privateDecrypt;var u=R_;return zr.randomFill=u.randomFill,zr.randomFillSync=u.randomFillSync,zr.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},zr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},zr}var khe=Ehe();const Aat=ea(khe),IPt=Xre({__proto__:null,default:Aat},[khe]),xat="logger/5.7.0";let $J=!1,UJ=!1;const P3={debug:1,default:2,info:2,warning:3,error:4,off:5};let zJ=P3.default,o5=null;function Eat(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const WJ=Eat();var HL;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(HL||(HL={}));var Gc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Gc||(Gc={}));const KJ="0123456789abcdef";let Af=class Ls{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();P3[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(zJ>P3[n])&&console.log.apply(console,r)}debug(...e){this._log(Ls.levels.DEBUG,e)}info(...e){this._log(Ls.levels.INFO,e)}warn(...e){this._log(Ls.levels.WARNING,e)}makeError(e,r,n){if(UJ)return this.makeError("censored error",r,{});r||(r=Ls.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const f=n[u];try{if(f instanceof Uint8Array){let d="";for(let g=0;g<f.length;g++)d+=KJ[f[g]>>4],d+=KJ[f[g]&15];i.push(u+"=Uint8Array(0x"+d+")")}else i.push(u+"="+JSON.stringify(f))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Gc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Gc.CALL_EXCEPTION:case Gc.INSUFFICIENT_FUNDS:case Gc.MISSING_NEW:case Gc.NONCE_EXPIRED:case Gc.REPLACEMENT_UNDERPRICED:case Gc.TRANSACTION_REPLACED:case Gc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(u){a[u]=n[u]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ls.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){WJ&&this.throwError("platform missing String.prototype.normalize",Ls.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:WJ})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ls.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ls.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ls.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ls.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ls.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ls.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ls.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return o5||(o5=new Ls(xat)),o5}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ls.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$J){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ls.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}UJ=!!e,$J=!!r}static setLogLevel(e){const r=P3[e.toLowerCase()];if(r==null){Ls.globalLogger().warn("invalid log level - "+e);return}zJ=r}static from(e){return new Ls(e)}};Af.errors=Gc;Af.levels=HL;const kat="bytes/5.7.0",_h=new Af(kat);function The(t){return!!t.toHexString}function lA(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return lA(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jJ(t){return typeof t=="number"&&t==t&&t%1===0}function l$(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!jJ(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!jJ(r)||r<0||r>=256)return!1}return!0}function Ts(t,e){if(e||(e={}),typeof t=="number"){_h.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),lA(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),The(t)&&(t=t.toHexString()),Lm(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":_h.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return lA(new Uint8Array(n))}return l$(t)?lA(new Uint8Array(t)):_h.throwArgumentError("invalid arrayify value","value",t)}function RPt(t){const e=t.map(i=>Ts(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),lA(n)}function Lm(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const a5="0123456789abcdef";function A2(t,e){if(e||(e={}),typeof t=="number"){_h.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=a5[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),The(t))return t.toHexString();if(Lm(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":_h.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(l$(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=a5[(i&240)>>4]+a5[i&15]}return r}return _h.throwArgumentError("invalid hexlify value","value",t)}function MPt(t,e,r){return typeof t!="string"?t=A2(t):(!Lm(t)||t.length%2)&&_h.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e,2+2*r)}function CPt(t){let e="0x";return t.forEach(r=>{e+=A2(r).substring(2)}),e}function Ihe(t,e){for(typeof t!="string"?t=A2(t):Lm(t)||_h.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&_h.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}const Tat="bignumber/5.7.0";var oI=an.BN;const Bd=new Af(Tat),u5={},Iat=9007199254740991;let HJ=!1;class ua{constructor(e,r){e!==u5&&Bd.throwError("cannot call constructor directly; use BigNumber.from",Af.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Na(cn(this).fromTwos(e))}toTwos(e){return Na(cn(this).toTwos(e))}abs(){return this._hex[0]==="-"?ua.from(this._hex.substring(1)):this}add(e){return Na(cn(this).add(cn(e)))}sub(e){return Na(cn(this).sub(cn(e)))}div(e){return ua.from(e).isZero()&&rc("division-by-zero","div"),Na(cn(this).div(cn(e)))}mul(e){return Na(cn(this).mul(cn(e)))}mod(e){const r=cn(e);return r.isNeg()&&rc("division-by-zero","mod"),Na(cn(this).umod(r))}pow(e){const r=cn(e);return r.isNeg()&&rc("negative-power","pow"),Na(cn(this).pow(r))}and(e){const r=cn(e);return(this.isNegative()||r.isNeg())&&rc("unbound-bitwise-result","and"),Na(cn(this).and(r))}or(e){const r=cn(e);return(this.isNegative()||r.isNeg())&&rc("unbound-bitwise-result","or"),Na(cn(this).or(r))}xor(e){const r=cn(e);return(this.isNegative()||r.isNeg())&&rc("unbound-bitwise-result","xor"),Na(cn(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&rc("negative-width","mask"),Na(cn(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&rc("negative-width","shl"),Na(cn(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&rc("negative-width","shr"),Na(cn(this).shrn(e))}eq(e){return cn(this).eq(cn(e))}lt(e){return cn(this).lt(cn(e))}lte(e){return cn(this).lte(cn(e))}gt(e){return cn(this).gt(cn(e))}gte(e){return cn(this).gte(cn(e))}isNegative(){return this._hex[0]==="-"}isZero(){return cn(this).isZero()}toNumber(){try{return cn(this).toNumber()}catch{rc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Bd.throwError("this platform does not support BigInt",Af.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?HJ||(HJ=!0,Bd.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Bd.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Af.errors.UNEXPECTED_ARGUMENT,{}):Bd.throwError("BigNumber.toString does not accept parameters",Af.errors.UNEXPECTED_ARGUMENT,{})),cn(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ua)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ua(u5,nx(e)):e.match(/^-?[0-9]+$/)?new ua(u5,nx(new oI(e))):Bd.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&rc("underflow","BigNumber.from",e),(e>=Iat||e<=-9007199254740991)&&rc("overflow","BigNumber.from",e),ua.from(String(e));const r=e;if(typeof r=="bigint")return ua.from(r.toString());if(l$(r))return ua.from(A2(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ua.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Lm(n)||n[0]==="-"&&Lm(n.substring(1))))return ua.from(n)}return Bd.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function nx(t){if(typeof t!="string")return nx(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Bd.throwArgumentError("invalid hex","value",t),t=nx(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Na(t){return ua.from(nx(t))}function cn(t){const e=ua.from(t).toHexString();return e[0]==="-"?new oI("-"+e.substring(3),16):new oI(e.substring(2),16)}function rc(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Bd.throwError(t,Af.errors.NUMERIC_FAULT,n)}function Rat(t){return new oI(t,36).toString(16)}var Rhe={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof Ie.process=="object"&&Ie.process.versions&&Ie.process.versions.node;o?i=Lt:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],g=[4,1024,262144,67108864],y=[1,256,65536,16777216],b=[6,1536,393216,100663296],A=[0,8,16,24],x=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],R=[128,256],C=["hex","buffer","arrayBuffer","array","digest"],P={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(D){return Object.prototype.toString.call(D)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(D){return typeof D=="object"&&D.buffer&&D.buffer.constructor===ArrayBuffer});for(var O=function(D,K,z){return function(G){return new N(D,K,D).update(G)[z]()}},q=function(D,K,z){return function(G,te){return new N(D,K,te).update(G)[z]()}},Q=function(D,K,z){return function(G,te,ie,J){return p["cshake"+D].update(G,te,ie,J)[z]()}},Y=function(D,K,z){return function(G,te,ie,J){return p["kmac"+D].update(G,te,ie,J)[z]()}},X=function(D,K,z,G){for(var te=0;te<C.length;++te){var ie=C[te];D[ie]=K(z,G,ie)}return D},Z=function(D,K){var z=O(D,K,"hex");return z.create=function(){return new N(D,K,D)},z.update=function(G){return z.create().update(G)},X(z,O,D,K)},le=function(D,K){var z=q(D,K,"hex");return z.create=function(G){return new N(D,K,G)},z.update=function(G,te){return z.create(te).update(G)},X(z,q,D,K)},I=function(D,K){var z=P[D],G=Q(D,K,"hex");return G.create=function(te,ie,J){return!ie&&!J?p["shake"+D].create(te):new N(D,K,te).bytepad([ie,J],z)},G.update=function(te,ie,J,V){return G.create(ie,J,V).update(te)},X(G,Q,D,K)},c=function(D,K){var z=P[D],G=Y(D,K,"hex");return G.create=function(te,ie,J){return new F(D,K,ie).bytepad(["KMAC",J],z).bytepad([te],z)},G.update=function(te,ie,J,V){return G.create(te,J,V).update(ie)},X(G,Y,D,K)},h=[{name:"keccak",padding:y,bits:k,createMethod:Z},{name:"sha3",padding:b,bits:k,createMethod:Z},{name:"shake",padding:d,bits:R,createMethod:le},{name:"cshake",padding:g,bits:R,createMethod:I},{name:"kmac",padding:g,bits:R,createMethod:c}],p={},m=[],v=0;v<h.length;++v)for(var _=h[v],T=_.bits,w=0;w<T.length;++w){var l=_.name+"_"+T[w];if(m.push(l),p[l]=_.createMethod(T[w],_.padding),_.name!=="sha3"){var S=_.name+T[w];m.push(S),p[S]=p[l]}}function N(D,K,z){this.blocks=[],this.s=[],this.padding=K,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(D<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var G=0;G<50;++G)this.s[G]=0}N.prototype.update=function(D){if(this.finalized)throw new Error(r);var K,z=typeof D;if(z!=="string"){if(z==="object"){if(D===null)throw new Error(e);if(u&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!u||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);K=!0}for(var G=this.blocks,te=this.byteCount,ie=D.length,J=this.blockCount,V=0,fe=this.s,Te,Re;V<ie;){if(this.reset)for(this.reset=!1,G[0]=this.block,Te=1;Te<J+1;++Te)G[Te]=0;if(K)for(Te=this.start;V<ie&&Te<te;++V)G[Te>>2]|=D[V]<<A[Te++&3];else for(Te=this.start;V<ie&&Te<te;++V)Re=D.charCodeAt(V),Re<128?G[Te>>2]|=Re<<A[Te++&3]:Re<2048?(G[Te>>2]|=(192|Re>>6)<<A[Te++&3],G[Te>>2]|=(128|Re&63)<<A[Te++&3]):Re<55296||Re>=57344?(G[Te>>2]|=(224|Re>>12)<<A[Te++&3],G[Te>>2]|=(128|Re>>6&63)<<A[Te++&3],G[Te>>2]|=(128|Re&63)<<A[Te++&3]):(Re=65536+((Re&1023)<<10|D.charCodeAt(++V)&1023),G[Te>>2]|=(240|Re>>18)<<A[Te++&3],G[Te>>2]|=(128|Re>>12&63)<<A[Te++&3],G[Te>>2]|=(128|Re>>6&63)<<A[Te++&3],G[Te>>2]|=(128|Re&63)<<A[Te++&3]);if(this.lastByteIndex=Te,Te>=te){for(this.start=Te-te,this.block=G[J],Te=0;Te<J;++Te)fe[Te]^=G[Te];W(fe),this.reset=!0}else this.start=Te}return this},N.prototype.encode=function(D,K){var z=D&255,G=1,te=[z];for(D=D>>8,z=D&255;z>0;)te.unshift(z),D=D>>8,z=D&255,++G;return K?te.push(G):te.unshift(G),this.update(te),te.length},N.prototype.encodeString=function(D){var K,z=typeof D;if(z!=="string"){if(z==="object"){if(D===null)throw new Error(e);if(u&&D.constructor===ArrayBuffer)D=new Uint8Array(D);else if(!Array.isArray(D)&&(!u||!ArrayBuffer.isView(D)))throw new Error(e)}else throw new Error(e);K=!0}var G=0,te=D.length;if(K)G=te;else for(var ie=0;ie<D.length;++ie){var J=D.charCodeAt(ie);J<128?G+=1:J<2048?G+=2:J<55296||J>=57344?G+=3:(J=65536+((J&1023)<<10|D.charCodeAt(++ie)&1023),G+=4)}return G+=this.encode(G*8),this.update(D),G},N.prototype.bytepad=function(D,K){for(var z=this.encode(K),G=0;G<D.length;++G)z+=this.encodeString(D[G]);var te=K-z%K,ie=[];return ie.length=te,this.update(ie),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var D=this.blocks,K=this.lastByteIndex,z=this.blockCount,G=this.s;if(D[K>>2]|=this.padding[K&3],this.lastByteIndex===this.byteCount)for(D[0]=D[z],K=1;K<z+1;++K)D[K]=0;for(D[z-1]|=2147483648,K=0;K<z;++K)G[K]^=D[K];W(G)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var D=this.blockCount,K=this.s,z=this.outputBlocks,G=this.extraBytes,te=0,ie=0,J="",V;ie<z;){for(te=0;te<D&&ie<z;++te,++ie)V=K[te],J+=f[V>>4&15]+f[V&15]+f[V>>12&15]+f[V>>8&15]+f[V>>20&15]+f[V>>16&15]+f[V>>28&15]+f[V>>24&15];ie%D===0&&(W(K),te=0)}return G&&(V=K[te],J+=f[V>>4&15]+f[V&15],G>1&&(J+=f[V>>12&15]+f[V>>8&15]),G>2&&(J+=f[V>>20&15]+f[V>>16&15])),J},N.prototype.arrayBuffer=function(){this.finalize();var D=this.blockCount,K=this.s,z=this.outputBlocks,G=this.extraBytes,te=0,ie=0,J=this.outputBits>>3,V;G?V=new ArrayBuffer(z+1<<2):V=new ArrayBuffer(J);for(var fe=new Uint32Array(V);ie<z;){for(te=0;te<D&&ie<z;++te,++ie)fe[ie]=K[te];ie%D===0&&W(K)}return G&&(fe[te]=K[te],V=V.slice(0,J)),V},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var D=this.blockCount,K=this.s,z=this.outputBlocks,G=this.extraBytes,te=0,ie=0,J=[],V,fe;ie<z;){for(te=0;te<D&&ie<z;++te,++ie)V=ie<<2,fe=K[te],J[V]=fe&255,J[V+1]=fe>>8&255,J[V+2]=fe>>16&255,J[V+3]=fe>>24&255;ie%D===0&&W(K)}return G&&(V=ie<<2,fe=K[te],J[V]=fe&255,G>1&&(J[V+1]=fe>>8&255),G>2&&(J[V+2]=fe>>16&255)),J};function F(D,K,z){N.call(this,D,K,z)}F.prototype=new N,F.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var W=function(D){var K,z,G,te,ie,J,V,fe,Te,Re,H,oe,ae,ce,Oe,_e,Ne,wt,ge,ye,Ge,se,j,re,ue,me,Be,Ae,ze,$t,Ke,qe,Nt,Ye,ut,kr,Qe,ct,Ir,Je,lt,Tr,et,ft,Rr,Xe,dt,Er,tt,ht,Mr,rt,pt,Cr,nt,gt,hr,yr,pn,gn,mn,yn,bn;for(G=0;G<48;G+=2)te=D[0]^D[10]^D[20]^D[30]^D[40],ie=D[1]^D[11]^D[21]^D[31]^D[41],J=D[2]^D[12]^D[22]^D[32]^D[42],V=D[3]^D[13]^D[23]^D[33]^D[43],fe=D[4]^D[14]^D[24]^D[34]^D[44],Te=D[5]^D[15]^D[25]^D[35]^D[45],Re=D[6]^D[16]^D[26]^D[36]^D[46],H=D[7]^D[17]^D[27]^D[37]^D[47],oe=D[8]^D[18]^D[28]^D[38]^D[48],ae=D[9]^D[19]^D[29]^D[39]^D[49],K=oe^(J<<1|V>>>31),z=ae^(V<<1|J>>>31),D[0]^=K,D[1]^=z,D[10]^=K,D[11]^=z,D[20]^=K,D[21]^=z,D[30]^=K,D[31]^=z,D[40]^=K,D[41]^=z,K=te^(fe<<1|Te>>>31),z=ie^(Te<<1|fe>>>31),D[2]^=K,D[3]^=z,D[12]^=K,D[13]^=z,D[22]^=K,D[23]^=z,D[32]^=K,D[33]^=z,D[42]^=K,D[43]^=z,K=J^(Re<<1|H>>>31),z=V^(H<<1|Re>>>31),D[4]^=K,D[5]^=z,D[14]^=K,D[15]^=z,D[24]^=K,D[25]^=z,D[34]^=K,D[35]^=z,D[44]^=K,D[45]^=z,K=fe^(oe<<1|ae>>>31),z=Te^(ae<<1|oe>>>31),D[6]^=K,D[7]^=z,D[16]^=K,D[17]^=z,D[26]^=K,D[27]^=z,D[36]^=K,D[37]^=z,D[46]^=K,D[47]^=z,K=Re^(te<<1|ie>>>31),z=H^(ie<<1|te>>>31),D[8]^=K,D[9]^=z,D[18]^=K,D[19]^=z,D[28]^=K,D[29]^=z,D[38]^=K,D[39]^=z,D[48]^=K,D[49]^=z,ce=D[0],Oe=D[1],Xe=D[11]<<4|D[10]>>>28,dt=D[10]<<4|D[11]>>>28,Ae=D[20]<<3|D[21]>>>29,ze=D[21]<<3|D[20]>>>29,gn=D[31]<<9|D[30]>>>23,mn=D[30]<<9|D[31]>>>23,Tr=D[40]<<18|D[41]>>>14,et=D[41]<<18|D[40]>>>14,Ye=D[2]<<1|D[3]>>>31,ut=D[3]<<1|D[2]>>>31,_e=D[13]<<12|D[12]>>>20,Ne=D[12]<<12|D[13]>>>20,Er=D[22]<<10|D[23]>>>22,tt=D[23]<<10|D[22]>>>22,$t=D[33]<<13|D[32]>>>19,Ke=D[32]<<13|D[33]>>>19,yn=D[42]<<2|D[43]>>>30,bn=D[43]<<2|D[42]>>>30,Cr=D[5]<<30|D[4]>>>2,nt=D[4]<<30|D[5]>>>2,kr=D[14]<<6|D[15]>>>26,Qe=D[15]<<6|D[14]>>>26,wt=D[25]<<11|D[24]>>>21,ge=D[24]<<11|D[25]>>>21,ht=D[34]<<15|D[35]>>>17,Mr=D[35]<<15|D[34]>>>17,qe=D[45]<<29|D[44]>>>3,Nt=D[44]<<29|D[45]>>>3,re=D[6]<<28|D[7]>>>4,ue=D[7]<<28|D[6]>>>4,gt=D[17]<<23|D[16]>>>9,hr=D[16]<<23|D[17]>>>9,ct=D[26]<<25|D[27]>>>7,Ir=D[27]<<25|D[26]>>>7,ye=D[36]<<21|D[37]>>>11,Ge=D[37]<<21|D[36]>>>11,rt=D[47]<<24|D[46]>>>8,pt=D[46]<<24|D[47]>>>8,ft=D[8]<<27|D[9]>>>5,Rr=D[9]<<27|D[8]>>>5,me=D[18]<<20|D[19]>>>12,Be=D[19]<<20|D[18]>>>12,yr=D[29]<<7|D[28]>>>25,pn=D[28]<<7|D[29]>>>25,Je=D[38]<<8|D[39]>>>24,lt=D[39]<<8|D[38]>>>24,se=D[48]<<14|D[49]>>>18,j=D[49]<<14|D[48]>>>18,D[0]=ce^~_e&wt,D[1]=Oe^~Ne&ge,D[10]=re^~me&Ae,D[11]=ue^~Be&ze,D[20]=Ye^~kr&ct,D[21]=ut^~Qe&Ir,D[30]=ft^~Xe&Er,D[31]=Rr^~dt&tt,D[40]=Cr^~gt&yr,D[41]=nt^~hr&pn,D[2]=_e^~wt&ye,D[3]=Ne^~ge&Ge,D[12]=me^~Ae&$t,D[13]=Be^~ze&Ke,D[22]=kr^~ct&Je,D[23]=Qe^~Ir&lt,D[32]=Xe^~Er&ht,D[33]=dt^~tt&Mr,D[42]=gt^~yr&gn,D[43]=hr^~pn&mn,D[4]=wt^~ye&se,D[5]=ge^~Ge&j,D[14]=Ae^~$t&qe,D[15]=ze^~Ke&Nt,D[24]=ct^~Je&Tr,D[25]=Ir^~lt&et,D[34]=Er^~ht&rt,D[35]=tt^~Mr&pt,D[44]=yr^~gn&yn,D[45]=pn^~mn&bn,D[6]=ye^~se&ce,D[7]=Ge^~j&Oe,D[16]=$t^~qe&re,D[17]=Ke^~Nt&ue,D[26]=Je^~Tr&Ye,D[27]=lt^~et&ut,D[36]=ht^~rt&ft,D[37]=Mr^~pt&Rr,D[46]=gn^~yn&Cr,D[47]=mn^~bn&nt,D[8]=se^~ce&_e,D[9]=j^~Oe&Ne,D[18]=qe^~re&me,D[19]=Nt^~ue&Be,D[28]=Tr^~Ye&kr,D[29]=et^~ut&Qe,D[38]=rt^~ft&Xe,D[39]=pt^~Rr&dt,D[48]=yn^~Cr&gt,D[49]=bn^~nt&hr,D[0]^=x[G],D[1]^=x[G+1]};if(a)t.exports=p;else for(v=0;v<m.length;++v)i[m[v]]=p[m[v]]})()})(Rhe);var Mat=Rhe.exports;const Cat=ea(Mat);function ix(t){return"0x"+Cat.keccak_256(Ts(t))}const Pat="address/5.7.0",M_=new Af(Pat);function qJ(t){Lm(t,20)||M_.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Ts(ix(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Nat=9007199254740991;function Bat(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const f$={};for(let t=0;t<10;t++)f$[String(t)]=String(t);for(let t=0;t<26;t++)f$[String.fromCharCode(65+t)]=String(10+t);const VJ=Math.floor(Bat(Nat));function Oat(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>f$[n]).join("");for(;e.length>=VJ;){let n=e.substring(0,VJ);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Lat(t){let e=null;if(typeof t!="string"&&M_.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=qJ(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&M_.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Oat(t)&&M_.throwArgumentError("bad icap checksum","address",t),e=Rat(t.substring(4));e.length<40;)e="0"+e;e=qJ("0x"+e)}else M_.throwArgumentError("invalid address","address",t);return e}function Dat(t){return"0x"+rhe.sha256().update(Ts(t)).digest("hex")}var Fat="Invariant failed";function C_(t,e){if(!t)throw new Error(Fat)}function $at(t){return Ihe(t,32)}function Q4(t){if(zat(t))return Wue.decode(t);if(t.startsWith("0x")&&t.length<=66)return Ts($at(t));throw new Error("Invalid address")}var Uat=/^([1-9A-HJ-NP-Za-km-z]{32,44})$/;function zat(t){return Uat.test(t)}ua.from("0xffffffffffffffffffffffffffffffff");const Wat="modulepreload",Kat=function(t){return"/"+t},GJ={},jat=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=Kat(u),u in GJ)return;GJ[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Wat,f||(g.as="script"),g.crossOrigin="",g.href=u,a&&g.setAttribute("nonce",a),document.head.appendChild(g),f)return new Promise((y,b)=>{g.addEventListener("load",y),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Hat=kw,qat="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Vat=Hat(qat);const ha=ea(Vat);function YJ(t){try{return zs.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Mhe=(t,e)=>zs.sign(t,e.slice(0,32)),Gat=zs.verify,aa=t=>Pe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Pe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Pe.Buffer.from(t);let Yat=class{constructor(e){Object.assign(this,e)}encode(){return Pe.Buffer.from(Iw(N3,this))}static decode(e){return Rw(N3,this,e)}static decodeUnchecked(e){return Tw(N3,this,e)}};const N3=new Map;var Che;const Zat=32,ug=32;function Xat(t){return t._bn!==void 0}let ZJ=1,mt=class w1 extends Yat{constructor(e){if(super({}),this._bn=void 0,Xat(e))this._bn=e._bn;else{if(typeof e=="string"){const r=ha.decode(e);if(r.length!=ug)throw new Error("Invalid public key input");this._bn=new an(r)}else this._bn=new an(e);if(this._bn.byteLength()>ug)throw new Error("Invalid public key input")}}static unique(){const e=new w1(ZJ);return ZJ+=1,new w1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ha.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Pe.Buffer);if(e.length===ug)return e;const r=Pe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Pe.Buffer.concat([e.toBuffer(),Pe.Buffer.from(r),n.toBuffer()]),s=ru(i);return new w1(s)}static createProgramAddressSync(e,r){let n=Pe.Buffer.alloc(0);e.forEach(function(s){if(s.length>Zat)throw new TypeError("Max seed length exceeded");n=Pe.Buffer.concat([n,aa(s)])}),n=Pe.Buffer.concat([n,r.toBuffer(),Pe.Buffer.from("ProgramDerivedAddress")]);const i=ru(n);if(YJ(i))throw new Error("Invalid seeds, address must fall off the curve");return new w1(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Pe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new w1(e);return YJ(r.toBytes())}};Che=mt;mt.default=new Che("11111111111111111111111111111111");N3.set(mt,{kind:"struct",fields:[["_bn","u256"]]});new mt("BPFLoader1111111111111111111111111111111111");const Ob=1232,d$=127,aI=64;let uI=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const ln=(t="publicKey")=>At(32,t),Qat=(t="signature")=>At(64,t),sb=(t="string")=>{const e=Se([xe("length"),xe("lengthPadding"),At(En(xe(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:Pe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>xe().span+xe().span+Pe.Buffer.from(s,"utf8").length,i},Jat=(t="authorized")=>Se([ln("staker"),ln("withdrawer")],t),eut=(t="lockup")=>Se([er("unixTimestamp"),er("epoch"),ln("custodian")],t),tut=(t="voteInit")=>Se([ln("nodePubkey"),ln("authorizedVoter"),ln("authorizedWithdrawer"),st("commission")],t),rut=(t="voteAuthorizeWithSeedArgs")=>Se([xe("voteAuthorizationType"),ln("currentAuthorityDerivedKeyOwnerPubkey"),sb("currentAuthorityDerivedKeySeed"),ln("newAuthorized")],t);function Phe(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return Phe({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function xu(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Eu(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function ds(t,e){if(!t)throw new Error(e||"Assertion failed")}let Nhe=class Bhe{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new Bhe(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ds(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{ds(r.length>0,"Expected at least one writable signer key");const[u]=r[0];ds(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new mt(u)),...n.map(([u])=>new mt(u)),...i.map(([u])=>new mt(u)),...s.map(([u])=>new mt(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new mt(s),u=e.findIndex(f=>f.equals(a));u>=0&&(ds(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}};const Ohe="Reached end of buffer unexpectedly";function uh(t){if(t.length===0)throw new Error(Ohe);return t.shift()}function ku(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Ohe);return t.splice(...e)}let cI=class qL{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new mt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ha.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new uI(this.staticAccountKeys)}static compile(e){const r=Nhe.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new uI(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ha.encode(a.data)}));return new qL({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Eu(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(ha.decode(g.data));let x=[];Eu(x,y.length);let k=[];return Eu(k,A.length),{programIdIndex:b,keyIndicesCount:Pe.Buffer.from(x),keyIndices:y,dataLength:Pe.Buffer.from(k),data:A}});let i=[];Eu(i,n.length);let s=Pe.Buffer.alloc(Ob);Pe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=Se([st("programIdIndex"),At(g.keyIndicesCount.length,"keyIndicesCount"),Vt(st("keyIndex"),g.keyIndices.length,"keyIndices"),At(g.dataLength.length,"dataLength"),Vt(st("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=Se([At(1,"numRequiredSignatures"),At(1,"numReadonlySignedAccounts"),At(1,"numReadonlyUnsignedAccounts"),At(r.length,"keyCount"),Vt(ln("key"),e,"keys"),ln("recentBlockhash")]),u={numRequiredSignatures:Pe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Pe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Pe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Pe.Buffer.from(r),keys:this.accountKeys.map(g=>aa(g.toBytes())),recentBlockhash:ha.decode(this.recentBlockhash)};let f=Pe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=uh(r);if(n!==(n&d$))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=uh(r),s=uh(r),o=xu(r);let a=[];for(let y=0;y<o;y++){const b=ku(r,0,ug);a.push(new mt(Pe.Buffer.from(b)))}const u=ku(r,0,ug),f=xu(r);let d=[];for(let y=0;y<f;y++){const b=uh(r),A=xu(r),x=ku(r,0,A),k=xu(r),R=ku(r,0,k),C=ha.encode(Pe.Buffer.from(R));d.push({programIdIndex:b,accounts:x,data:C})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ha.encode(Pe.Buffer.from(u)),accountKeys:a,instructions:d};return new qL(g)}},Lhe=class VL{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new uI(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=Nhe.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new uI(a,i).compileInstructions(e.instructions);return new VL({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();Eu(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Eu(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Eu(s,this.addressTableLookups.length);const o=Se([st("prefix"),Se([st("numRequiredSignatures"),st("numReadonlySignedAccounts"),st("numReadonlyUnsignedAccounts")],"header"),At(e.length,"staticAccountKeysLength"),Vt(ln(),this.staticAccountKeys.length,"staticAccountKeys"),ln("recentBlockhash"),At(n.length,"instructionsLength"),At(r.length,"serializedInstructions"),At(s.length,"addressTableLookupsLength"),At(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ob),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:ha.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(Ob);for(const n of this.compiledInstructions){const i=Array();Eu(i,n.accountKeyIndexes.length);const s=Array();Eu(s,n.data.length);const o=Se([st("programIdIndex"),At(i.length,"encodedAccountKeyIndexesLength"),Vt(st(),n.accountKeyIndexes.length,"accountKeyIndexes"),At(s.length,"encodedDataLength"),At(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(Ob);for(const n of this.addressTableLookups){const i=Array();Eu(i,n.writableIndexes.length);const s=Array();Eu(s,n.readonlyIndexes.length);const o=Se([ln("accountKey"),At(i.length,"encodedWritableIndexesLength"),Vt(st(),n.writableIndexes.length,"writableIndexes"),At(s.length,"encodedReadonlyIndexesLength"),Vt(st(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=uh(r),i=n&d$;ds(n!==i,"Expected versioned message but received legacy message");const s=i;ds(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:uh(r),numReadonlySignedAccounts:uh(r),numReadonlyUnsignedAccounts:uh(r)},a=[],u=xu(r);for(let A=0;A<u;A++)a.push(new mt(ku(r,0,ug)));const f=ha.encode(ku(r,0,ug)),d=xu(r),g=[];for(let A=0;A<d;A++){const x=uh(r),k=xu(r),R=ku(r,0,k),C=xu(r),P=new Uint8Array(ku(r,0,C));g.push({programIdIndex:x,accountKeyIndexes:R,data:P})}const y=xu(r),b=[];for(let A=0;A<y;A++){const x=new mt(ku(r,0,ug)),k=xu(r),R=ku(r,0,k),C=xu(r),P=ku(r,0,C);b.push({accountKey:x,writableIndexes:R,readonlyIndexes:P})}return new VL({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}};const Dhe={deserializeMessageVersion(t){const e=t[0],r=e&d$;return r===e?"legacy":r},deserialize:t=>{const e=Dhe.deserializeMessageVersion(t);if(e==="legacy")return cI.from(t);if(e===0)return Lhe.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},nut=Pe.Buffer.alloc(aI).fill(0);let _t=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Pe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},iut=class GL{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new _t(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(R=>{s.push({...R})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new mt(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),R=o.findIndex(C=>C.pubkey.toString()===k);R>-1?(o[R].isWritable=o[R].isWritable||x.isWritable,o[R].isSigner=o[R].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",R)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(R=>R.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:R})=>{k?(g.push(x.toString()),u+=1,R||(f+=1)):(y.push(x.toString()),R||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:R}=x;return{programIdIndex:b.indexOf(R.toString()),accounts:x.keys.map(C=>b.indexOf(C.pubkey.toString())),data:ha.encode(k)}});return A.forEach(x=>{ds(x.programIdIndex>=0),x.accounts.forEach(k=>ds(k>=0))}),new cI({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=Mhe(n,i.secretKey);this._addSignature(i.publicKey,aa(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){ds(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Pe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):Gat(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];Eu(n,r.length);const i=n.length+r.length*64+e.length,s=Pe.Buffer.alloc(i);return ds(r.length<256),Pe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(ds(o.length===64,"signature has invalid length"),Pe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),ds(s.length<=Ob,`Transaction too large: ${s.length} > ${Ob}`),s}get keys(){return ds(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ds(this.instructions.length===1),this.instructions[0].programId}get data(){return ds(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=xu(r);let i=[];for(let s=0;s<n;s++){const o=ku(r,0,aI);i.push(ha.encode(Pe.Buffer.from(o)))}return GL.populate(cI.from(r),i)}static populate(e,r=[]){const n=new GL;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==ha.encode(nut)?null:ha.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new _t({keys:s,programId:e.accountKeys[i.programIdIndex],data:ha.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}},sut=class Fhe{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;ds(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;ds(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const R of A.accountKeyIndexes){const C=g.get(R);if(C===void 0)throw new Error(`Failed to find key for account key index ${R}`);const P=R<o;let O;P?O=R<f:R<g.staticAccountKeys.length?O=R-o<d:O=R-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:C,isSigner:R<n.numRequiredSignatures,isWritable:O})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new _t({programId:k,data:aa(A.data),keys:x}))}return new Fhe({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return cI.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Lhe.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},out=class $he{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)ds(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(aI));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();Eu(r,this.signatures.length);const n=Se([At(r.length,"encodedSignaturesLength"),Vt(Qat(),this.signatures.length,"signatures"),At(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=xu(r);for(let o=0;o<i;o++)n.push(new Uint8Array(ku(r,0,aI)));const s=Dhe.deserialize(new Uint8Array(r));return new $he(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));ds(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Mhe(r,i.secretKey)}}addSignature(e,r){ds(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));ds(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}};new mt("SysvarC1ock11111111111111111111111111111111");new mt("SysvarEpochSchedu1e111111111111111111111111");new mt("Sysvar1nstructions1111111111111111111111111");const c5=new mt("SysvarRecentB1ockHashes11111111111111111111"),XJ=new mt("SysvarRent111111111111111111111111111111111");new mt("SysvarRewards111111111111111111111111111111");new mt("SysvarS1otHashes111111111111111111111111111");new mt("SysvarS1otHistory11111111111111111111111111");new mt("SysvarStakeHistory1111111111111111111111111");function nc(t,e){const r=t.layout.span>=0?t.layout.span:Phe(t,e),n=Pe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}const aut=Bt("lamportsPerSignature"),uut=Se([xe("version"),xe("state"),ln("authorizedPubkey"),ln("nonce"),Se([aut],"feeCalculator")]),QJ=uut.span,cut=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},lut=t=>e=>{const r=At(t,e),{encode:n,decode:i}=cut(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return Pw(Pe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Mg(o,t);return n(f,a,u)},s},fw=lut(8),ic=Object.freeze({Create:{index:0,layout:Se([xe("instruction"),er("lamports"),er("space"),ln("programId")])},Assign:{index:1,layout:Se([xe("instruction"),ln("programId")])},Transfer:{index:2,layout:Se([xe("instruction"),fw("lamports")])},CreateWithSeed:{index:3,layout:Se([xe("instruction"),ln("base"),sb("seed"),er("lamports"),er("space"),ln("programId")])},AdvanceNonceAccount:{index:4,layout:Se([xe("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([xe("instruction"),er("lamports")])},InitializeNonceAccount:{index:6,layout:Se([xe("instruction"),ln("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([xe("instruction"),ln("authorized")])},Allocate:{index:8,layout:Se([xe("instruction"),er("space")])},AllocateWithSeed:{index:9,layout:Se([xe("instruction"),ln("base"),sb("seed"),er("space"),ln("programId")])},AssignWithSeed:{index:10,layout:Se([xe("instruction"),ln("base"),sb("seed"),ln("programId")])},TransferWithSeed:{index:11,layout:Se([xe("instruction"),fw("lamports"),sb("seed"),ln("programId")])},UpgradeNonceAccount:{index:12,layout:Se([xe("instruction")])}});let lr=class YL{constructor(){}static createAccount(e){const r=ic.Create,n=nc(r,{lamports:e.lamports,space:e.space,programId:aa(e.programId.toBuffer())});return new _t({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=ic.TransferWithSeed;r=nc(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:aa(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=ic.Transfer;r=nc(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new _t({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=ic.AssignWithSeed;r=nc(i,{base:aa(e.basePubkey.toBuffer()),seed:e.seed,programId:aa(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ic.Assign;r=nc(i,{programId:aa(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _t({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=ic.CreateWithSeed,n=nc(r,{base:aa(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:aa(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new _t({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new iut;"basePubkey"in e&&"seed"in e?r.add(YL.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:QJ,programId:this.programId})):r.add(YL.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:QJ,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=ic.InitializeNonceAccount,n=nc(r,{authorized:aa(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c5,isSigner:!1,isWritable:!1},{pubkey:XJ,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new _t(i)}static nonceAdvance(e){const r=ic.AdvanceNonceAccount,n=nc(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c5,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new _t(i)}static nonceWithdraw(e){const r=ic.WithdrawNonceAccount,n=nc(r,{lamports:e.lamports});return new _t({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:c5,isSigner:!1,isWritable:!1},{pubkey:XJ,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=ic.AuthorizeNonceAccount,n=nc(r,{authorized:aa(e.newAuthorizedPubkey.toBuffer())});return new _t({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=ic.AllocateWithSeed;r=nc(i,{base:aa(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:aa(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ic.Allocate;r=nc(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _t({keys:n,programId:this.programId,data:r})}};lr.programId=new mt("11111111111111111111111111111111");new mt("BPFLoader2111111111111111111111111111111111");Se([xe("typeIndex"),fw("deactivationSlot"),Bt("lastExtendedSlot"),st("lastExtendedStartIndex"),st(),Vt(ln(),En(st(),-1),"authority")]);const as=Cs(Tc(mt),ve(),t=>new mt(t)),Uhe=Ic([ve(),Rt("base64")]),h$=Cs(Tc(Pe.Buffer),Uhe,t=>Pe.Buffer.from(t[0],"base64"));function zhe(t){return rr([pe({jsonrpc:Rt("2.0"),id:ve(),result:t}),pe({jsonrpc:Rt("2.0"),id:ve(),error:pe({code:Wi(),message:ve(),data:De(a6())})})])}const fut=zhe(Wi());function Ii(t){return Cs(zhe(t),fut,e=>"error"in e?e:{...e,result:Ve(e.result,t)})}function Ll(t){return Ii(pe({context:pe({slot:ee()}),value:t}))}function J4(t){return pe({context:pe({slot:ee()}),value:t})}const dut=pe({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()});Ii(Ee(ke(pe({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:De(ke(ee()))}))));const hut=Ee(pe({slot:ee(),prioritizationFee:ee()})),put=pe({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),gut=pe({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:De(ee()),transactionCount:De(ee())}),mut=pe({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Qr(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),yut=Tg(ve(),Ee(ee())),gy=ke(rr([pe({}),ve()])),but=pe({err:gy}),vut=Rt("receivedSignature");pe({"solana-core":ve(),"feature-set":De(ee())});const wut=pe({program:ve(),programId:as,parsed:Wi()}),Sut=pe({programId:as,accounts:Ee(as),data:ve()});Ll(pe({err:ke(rr([pe({}),ve()])),logs:ke(Ee(ve())),accounts:De(ke(Ee(ke(pe({executable:Qr(),owner:ve(),lamports:ee(),data:Ee(ve()),rentEpoch:De(ee())}))))),unitsConsumed:De(ee()),returnData:De(ke(pe({programId:ve(),data:Ic([ve(),Rt("base64")])}))),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(rr([wut,Sut]))}))))}));Ll(pe({byIdentity:Tg(ve(),Ee(ee())),range:pe({firstSlot:ee(),lastSlot:ee()})}));Ii(dut);Ii(put);Ii(hut);Ii(gut);Ii(mut);Ii(yut);Ii(ee());Ll(pe({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:Ee(as)}));const _ut=pe({amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())});Ll(Ee(pe({address:as,amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())})));Ll(Ee(pe({pubkey:as,account:pe({executable:Qr(),owner:as,lamports:ee(),data:h$,rentEpoch:ee()})})));const ZL=pe({program:ve(),parsed:Wi(),space:ee()});Ll(Ee(pe({pubkey:as,account:pe({executable:Qr(),owner:as,lamports:ee(),data:ZL,rentEpoch:ee()})})));Ll(Ee(pe({lamports:ee(),address:as})));const p$=pe({executable:Qr(),owner:as,lamports:ee(),data:h$,rentEpoch:ee()});pe({pubkey:as,account:p$});const Aut=Cs(rr([Tc(Pe.Buffer),ZL]),rr([Uhe,ZL]),t=>Array.isArray(t)?Ve(t,h$):t),xut=pe({executable:Qr(),owner:as,lamports:ee(),data:Aut,rentEpoch:ee()});pe({pubkey:as,account:xut});pe({state:rr([Rt("active"),Rt("inactive"),Rt("activating"),Rt("deactivating")]),active:ee(),inactive:ee()});Ii(Ee(pe({signature:ve(),slot:ee(),err:gy,memo:ke(ve()),blockTime:De(ke(ee()))})));Ii(Ee(pe({signature:ve(),slot:ee(),err:gy,memo:ke(ve()),blockTime:De(ke(ee()))})));pe({subscription:ee(),result:J4(p$)});const Eut=pe({pubkey:as,account:p$});pe({subscription:ee(),result:J4(Eut)});const kut=pe({parent:ee(),slot:ee(),root:ee()});pe({subscription:ee(),result:kut});const Tut=rr([pe({type:rr([Rt("firstShredReceived"),Rt("completed"),Rt("optimisticConfirmation"),Rt("root")]),slot:ee(),timestamp:ee()}),pe({type:Rt("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),pe({type:Rt("frozen"),slot:ee(),timestamp:ee(),stats:pe({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),pe({type:Rt("dead"),slot:ee(),timestamp:ee(),err:ve()})]);pe({subscription:ee(),result:Tut});pe({subscription:ee(),result:J4(rr([but,vut]))});pe({subscription:ee(),result:ee()});pe({pubkey:ve(),gossip:ke(ve()),tpu:ke(ve()),rpc:ke(ve()),version:ke(ve())});const JJ=pe({votePubkey:ve(),nodePubkey:ve(),activatedStake:ee(),epochVoteAccount:Qr(),epochCredits:Ee(Ic([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:ke(ee())});Ii(pe({current:Ee(JJ),delinquent:Ee(JJ)}));const Iut=rr([Rt("processed"),Rt("confirmed"),Rt("finalized")]),Rut=pe({slot:ee(),confirmations:ke(ee()),err:gy,confirmationStatus:De(Iut)});Ll(Ee(ke(Rut)));Ii(ee());const Whe=pe({accountKey:as,writableIndexes:Ee(ee()),readonlyIndexes:Ee(ee())}),g$=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(ve()),header:pe({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()})),recentBlockhash:ve(),addressTableLookups:De(Ee(Whe))})}),Khe=pe({pubkey:as,signer:Qr(),writable:Qr(),source:De(rr([Rt("transaction"),Rt("lookupTable")]))}),jhe=pe({accountKeys:Ee(Khe),signatures:Ee(ve())}),Hhe=pe({parsed:Wi(),program:ve(),programId:as}),qhe=pe({accounts:Ee(as),data:ve(),programId:as}),Mut=rr([qhe,Hhe]),Cut=rr([pe({parsed:Wi(),program:ve(),programId:ve()}),pe({accounts:Ee(ve()),data:ve(),programId:ve()})]),Vhe=Cs(Mut,Cut,t=>"accounts"in t?Ve(t,qhe):Ve(t,Hhe)),Ghe=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(Khe),instructions:Ee(Vhe),recentBlockhash:ve(),addressTableLookups:De(ke(Ee(Whe)))})}),lI=pe({accountIndex:ee(),mint:ve(),owner:De(ve()),programId:De(ve()),uiTokenAmount:_ut}),Yhe=pe({writable:Ee(as),readonly:Ee(as)}),eR=pe({err:gy,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()}))})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(lI))),postTokenBalances:De(ke(Ee(lI))),loadedAddresses:De(Yhe),computeUnitsConsumed:De(ee())}),m$=pe({err:gy,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(Vhe)})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(lI))),postTokenBalances:De(ke(Ee(lI))),loadedAddresses:De(Yhe),computeUnitsConsumed:De(ee())}),tS=rr([Rt(0),Rt("legacy")]),my=pe({pubkey:ve(),lamports:ee(),postBalance:ke(ee()),rewardType:ke(ve()),commission:De(ke(ee()))});Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:g$,meta:ke(eR),version:De(tS)})),rewards:De(Ee(my)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(my)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:jhe,meta:ke(eR),version:De(tS)})),rewards:De(Ee(my)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:Ghe,meta:ke(m$),version:De(tS)})),rewards:De(Ee(my)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:jhe,meta:ke(m$),version:De(tS)})),rewards:De(Ee(my)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(my)),blockTime:ke(ee()),blockHeight:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:g$,meta:ke(eR)})),rewards:De(Ee(my)),blockTime:ke(ee())})));Ii(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),signatures:Ee(ve()),blockTime:ke(ee())})));Ii(ke(pe({slot:ee(),meta:ke(eR),blockTime:De(ke(ee())),transaction:g$,version:De(tS)})));Ii(ke(pe({slot:ee(),transaction:Ghe,meta:ke(m$),blockTime:De(ke(ee())),version:De(tS)})));Ll(pe({blockhash:ve(),lastValidBlockHeight:ee()}));Ll(Qr());const Put=pe({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()});Ii(Ee(Put));Ll(ke(pe({feeCalculator:pe({lamportsPerSignature:ee()})})));Ii(ve());Ii(ve());const Nut=pe({err:gy,logs:Ee(ve()),signature:ve()});pe({result:J4(Nut),subscription:ee()});Object.freeze({CreateLookupTable:{index:0,layout:Se([xe("instruction"),fw("recentSlot"),st("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([xe("instruction")])},ExtendLookupTable:{index:2,layout:Se([xe("instruction"),fw(),Vt(ln(),En(xe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([xe("instruction")])},CloseLookupTable:{index:4,layout:Se([xe("instruction")])}});new mt("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Se([st("instruction"),xe("units"),xe("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([st("instruction"),xe("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([st("instruction"),xe("units")])},SetComputeUnitPrice:{index:3,layout:Se([st("instruction"),fw("microLamports")])}});new mt("ComputeBudget111111111111111111111111111111");Se([st("numSignatures"),st("padding"),cr("signatureOffset"),cr("signatureInstructionIndex"),cr("publicKeyOffset"),cr("publicKeyInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),cr("messageInstructionIndex")]);new mt("Ed25519SigVerify111111111111111111111111111");Uu.utils.isValidPrivateKey;Uu.getPublicKey;Se([st("numSignatures"),cr("signatureOffset"),st("signatureInstructionIndex"),cr("ethAddressOffset"),st("ethAddressInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),st("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),st("recoveryId")]);new mt("KeccakSecp256k11111111111111111111111111111");var Zhe;new mt("StakeConfig11111111111111111111111111111111");let Xhe=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Zhe=Xhe;Xhe.default=new Zhe(0,0,mt.default);Object.freeze({Initialize:{index:0,layout:Se([xe("instruction"),Jat(),eut()])},Authorize:{index:1,layout:Se([xe("instruction"),ln("newAuthorized"),xe("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([xe("instruction")])},Split:{index:3,layout:Se([xe("instruction"),er("lamports")])},Withdraw:{index:4,layout:Se([xe("instruction"),er("lamports")])},Deactivate:{index:5,layout:Se([xe("instruction")])},Merge:{index:7,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([xe("instruction"),ln("newAuthorized"),xe("stakeAuthorizationType"),sb("authoritySeed"),ln("authorityOwner")])}});new mt("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Se([xe("instruction"),tut()])},Authorize:{index:1,layout:Se([xe("instruction"),ln("newAuthorized"),xe("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([xe("instruction"),er("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([xe("instruction"),rut()])}});new mt("Vote111111111111111111111111111111111111111");new mt("Va1idator1nfo111111111111111111111111111111");pe({name:ve(),website:De(ve()),details:De(ve()),iconUrl:De(ve()),keybaseUsername:De(ve())});new mt("Vote111111111111111111111111111111111111111");Se([ln("nodePubkey"),ln("authorizedWithdrawer"),st("commission"),Bt(),Vt(Se([Bt("slot"),xe("confirmationCount")]),En(xe(),-8),"votes"),st("rootSlotValid"),Bt("rootSlot"),Bt(),Vt(Se([Bt("epoch"),ln("authorizedVoter")]),En(xe(),-8),"authorizedVoters"),Se([Vt(Se([ln("authorizedPubkey"),Bt("epochOfLastAuthorizedSwitch"),Bt("targetEpoch")]),32,"buf"),Bt("idx"),st("isEmpty")],"priorVoters"),Bt(),Vt(Se([Bt("epoch"),Bt("credits"),Bt("prevCredits")]),En(xe(),-8),"epochCredits"),Se([Bt("slot"),Bt("timestamp")],"lastTimestamp")]);var L={},ro={},qn={},l5={exports:{}},f5={},dw={},Qhe={},y$=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},But=y$,tR=function(){return But()&&!!Symbol.toStringTag},b$=Object,Out=Error,Lut=EvalError,Dut=RangeError,Fut=ReferenceError,Jhe=SyntaxError,x2=TypeError,$ut=URIError,Uut=Math.abs,zut=Math.floor,Wut=Math.max,Kut=Math.min,jut=Math.pow,Hut=Math.round,qut=Number.isNaN||function(e){return e!==e},Vut=qut,Gut=function(e){return Vut(e)||e===0?e:e<0?-1:1},Yut=Object.getOwnPropertyDescriptor,B3=Yut;if(B3)try{B3([],"length")}catch{B3=null}var rS=B3,O3=Object.defineProperty||!1;if(O3)try{O3({},"a",{value:1})}catch{O3=!1}var rR=O3,d5,eee;function Zut(){if(eee)return d5;eee=1;var t=typeof Symbol<"u"&&Symbol,e=y$;return d5=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},d5}var h5,tee;function epe(){return tee||(tee=1,h5=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),h5}var p5,ree;function tpe(){if(ree)return p5;ree=1;var t=b$;return p5=t.getPrototypeOf||null,p5}var Xut="Function.prototype.bind called on incompatible ",Qut=Object.prototype.toString,Jut=Math.max,ect="[object Function]",nee=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},tct=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},rct=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},nct=function(e){var r=this;if(typeof r!="function"||Qut.apply(r)!==ect)throw new TypeError(Xut+r);for(var n=tct(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,nee(n,arguments));return Object(d)===d?d:this}return r.apply(e,nee(n,arguments))},o=Jut(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+rct(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},ict=nct,E2=Function.prototype.bind||ict,v$=Function.prototype.call,w$=Function.prototype.apply,sct=typeof Reflect<"u"&&Reflect&&Reflect.apply,oct=E2,act=w$,uct=v$,cct=sct,rpe=cct||oct.call(uct,act),lct=E2,fct=x2,dct=v$,hct=rpe,S$=function(e){if(e.length<1||typeof e[0]!="function")throw new fct("a function is required");return hct(lct,dct,e)},g5,iee;function pct(){if(iee)return g5;iee=1;var t=S$,e=rS,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return g5=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,g5}var m5,see;function npe(){if(see)return m5;see=1;var t=epe(),e=tpe(),r=pct();return m5=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,m5}var y5,oee;function ipe(){if(oee)return y5;oee=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=E2;return y5=r.call(t,e),y5}var hn,gct=b$,mct=Out,yct=Lut,bct=Dut,vct=Fut,hw=Jhe,Lb=x2,wct=$ut,Sct=Uut,_ct=zut,Act=Wut,xct=Kut,Ect=jut,kct=Hut,Tct=Gut,spe=Function,b5=function(t){try{return spe('"use strict"; return ('+t+").constructor;")()}catch{}},sx=rS,Ict=rR,v5=function(){throw new Lb},Rct=sx?function(){try{return arguments.callee,v5}catch{try{return sx(arguments,"callee").get}catch{return v5}}}():v5,Zy=Zut()(),Xs=npe(),Mct=tpe(),Cct=epe(),ope=w$,k2=v$,S1={},Pct=typeof Uint8Array>"u"||!Xs?hn:Xs(Uint8Array),dm={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?hn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?hn:ArrayBuffer,"%ArrayIteratorPrototype%":Zy&&Xs?Xs([][Symbol.iterator]()):hn,"%AsyncFromSyncIteratorPrototype%":hn,"%AsyncFunction%":S1,"%AsyncGenerator%":S1,"%AsyncGeneratorFunction%":S1,"%AsyncIteratorPrototype%":S1,"%Atomics%":typeof Atomics>"u"?hn:Atomics,"%BigInt%":typeof BigInt>"u"?hn:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?hn:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?hn:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?hn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":mct,"%eval%":eval,"%EvalError%":yct,"%Float32Array%":typeof Float32Array>"u"?hn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?hn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?hn:FinalizationRegistry,"%Function%":spe,"%GeneratorFunction%":S1,"%Int8Array%":typeof Int8Array>"u"?hn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?hn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?hn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zy&&Xs?Xs(Xs([][Symbol.iterator]())):hn,"%JSON%":typeof JSON=="object"?JSON:hn,"%Map%":typeof Map>"u"?hn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zy||!Xs?hn:Xs(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":gct,"%Object.getOwnPropertyDescriptor%":sx,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?hn:Promise,"%Proxy%":typeof Proxy>"u"?hn:Proxy,"%RangeError%":bct,"%ReferenceError%":vct,"%Reflect%":typeof Reflect>"u"?hn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?hn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zy||!Xs?hn:Xs(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?hn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zy&&Xs?Xs(""[Symbol.iterator]()):hn,"%Symbol%":Zy?Symbol:hn,"%SyntaxError%":hw,"%ThrowTypeError%":Rct,"%TypedArray%":Pct,"%TypeError%":Lb,"%Uint8Array%":typeof Uint8Array>"u"?hn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?hn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?hn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?hn:Uint32Array,"%URIError%":wct,"%WeakMap%":typeof WeakMap>"u"?hn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?hn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?hn:WeakSet,"%Function.prototype.call%":k2,"%Function.prototype.apply%":ope,"%Object.defineProperty%":Ict,"%Object.getPrototypeOf%":Mct,"%Math.abs%":Sct,"%Math.floor%":_ct,"%Math.max%":Act,"%Math.min%":xct,"%Math.pow%":Ect,"%Math.round%":kct,"%Math.sign%":Tct,"%Reflect.getPrototypeOf%":Cct};if(Xs)try{null.error}catch(t){var Nct=Xs(Xs(t));dm["%Error.prototype%"]=Nct}var Bct=function t(e){var r;if(e==="%AsyncFunction%")r=b5("async function () {}");else if(e==="%GeneratorFunction%")r=b5("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=b5("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Xs&&(r=Xs(i.prototype))}return dm[e]=r,r},aee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T2=E2,fI=ipe(),Oct=T2.call(k2,Array.prototype.concat),Lct=T2.call(ope,Array.prototype.splice),uee=T2.call(k2,String.prototype.replace),dI=T2.call(k2,String.prototype.slice),Dct=T2.call(k2,RegExp.prototype.exec),Fct=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$ct=/\\(\\)?/g,Uct=function(e){var r=dI(e,0,1),n=dI(e,-1);if(r==="%"&&n!=="%")throw new hw("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new hw("invalid intrinsic syntax, expected opening `%`");var i=[];return uee(e,Fct,function(s,o,a,u){i[i.length]=a?uee(u,$ct,"$1"):o||s}),i},zct=function(e,r){var n=e,i;if(fI(aee,n)&&(i=aee[n],n="%"+i[0]+"%"),fI(dm,n)){var s=dm[n];if(s===S1&&(s=Bct(n)),typeof s>"u"&&!r)throw new Lb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new hw("intrinsic "+e+" does not exist!")},_$=function(e,r){if(typeof e!="string"||e.length===0)throw new Lb("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Lb('"allowMissing" argument must be a boolean');if(Dct(/^%?[^%]*%?$/,e)===null)throw new hw("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Uct(e),i=n.length>0?n[0]:"",s=zct("%"+i+"%",r),o=s.name,a=s.value,u=!1,f=s.alias;f&&(i=f[0],Lct(n,Oct([0,1],f)));for(var d=1,g=!0;d<n.length;d+=1){var y=n[d],b=dI(y,0,1),A=dI(y,-1);if((b==='"'||b==="'"||b==="`"||A==='"'||A==="'"||A==="`")&&b!==A)throw new hw("property names with quotes must have matching quotes");if((y==="constructor"||!g)&&(u=!0),i+="."+y,o="%"+i+"%",fI(dm,o))a=dm[o];else if(a!=null){if(!(y in a)){if(!r)throw new Lb("base intrinsic for "+e+" exists, but the property is not available.");return}if(sx&&d+1>=n.length){var x=sx(a,y);g=!!x,g&&"get"in x&&!("originalValue"in x.get)?a=x.get:a=a[y]}else g=fI(a,y),a=a[y];g&&!u&&(dm[o]=a)}}return a},ape=_$,upe=S$,Wct=upe([ape("%String.prototype.indexOf%")]),nS=function(e,r){var n=ape(e,!!r);return typeof n=="function"&&Wct(e,".prototype.")>-1?upe([n]):n},Kct=tR(),jct=nS,XL=jct("Object.prototype.toString"),nR=function(e){return Kct&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:XL(e)==="[object Arguments]"},cpe=function(e){return nR(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&XL(e)!=="[object Array]"&&"callee"in e&&XL(e.callee)==="[object Function]"},Hct=function(){return nR(arguments)}();nR.isLegacyArguments=cpe;var qct=Hct?nR:cpe,cee=nS,Vct=tR(),Gct=ipe(),Yct=rS,QL;if(Vct){var Zct=cee("RegExp.prototype.exec"),lee={},w5=function(){throw lee},fee={toString:w5,valueOf:w5};typeof Symbol.toPrimitive=="symbol"&&(fee[Symbol.toPrimitive]=w5),QL=function(e){if(!e||typeof e!="object")return!1;var r=Yct(e,"lastIndex"),n=r&&Gct(r,"value");if(!n)return!1;try{Zct(e,fee)}catch(i){return i===lee}}}else{var Xct=cee("Object.prototype.toString"),Qct="[object RegExp]";QL=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:Xct(e)===Qct}}var Jct=QL,elt=nS,tlt=Jct,rlt=elt("RegExp.prototype.exec"),nlt=x2,ilt=function(e){if(!tlt(e))throw new nlt("`regex` must be a RegExp");return function(n){return rlt(e,n)!==null}},lpe=nS,slt=ilt,olt=slt(/^\s*(?:function)?\*/),fpe=tR(),S5=npe(),alt=lpe("Object.prototype.toString"),ult=lpe("Function.prototype.toString"),clt=function(){if(!fpe)return!1;try{return Function("return function*() {}")()}catch{}},_5,llt=function(e){if(typeof e!="function")return!1;if(olt(ult(e)))return!0;if(!fpe){var r=alt(e);return r==="[object GeneratorFunction]"}if(!S5)return!1;if(typeof _5>"u"){var n=clt();_5=n?S5(n):!1}return S5(e)===_5},dpe=Function.prototype.toString,ob=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,JL,L3;if(typeof ob=="function"&&typeof Object.defineProperty=="function")try{JL=Object.defineProperty({},"length",{get:function(){throw L3}}),L3={},ob(function(){throw 42},null,JL)}catch(t){t!==L3&&(ob=null)}else ob=null;var flt=/^\s*class\b/,eD=function(e){try{var r=dpe.call(e);return flt.test(r)}catch{return!1}},A5=function(e){try{return eD(e)?!1:(dpe.call(e),!0)}catch{return!1}},D3=Object.prototype.toString,dlt="[object Object]",hlt="[object Function]",plt="[object GeneratorFunction]",glt="[object HTMLAllCollection]",mlt="[object HTML document.all class]",ylt="[object HTMLCollection]",blt=typeof Symbol=="function"&&!!Symbol.toStringTag,vlt=!(0 in[,]),tD=function(){return!1};if(typeof document=="object"){var wlt=document.all;D3.call(wlt)===D3.call(document.all)&&(tD=function(e){if((vlt||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=D3.call(e);return(r===glt||r===mlt||r===ylt||r===dlt)&&e("")==null}catch{}return!1})}var Slt=ob?function(e){if(tD(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{ob(e,null,JL)}catch(r){if(r!==L3)return!1}return!eD(e)&&A5(e)}:function(e){if(tD(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(blt)return A5(e);if(eD(e))return!1;var r=D3.call(e);return r!==hlt&&r!==plt&&!/^\[object HTML/.test(r)?!1:A5(e)},_lt=Slt,Alt=Object.prototype.toString,hpe=Object.prototype.hasOwnProperty,xlt=function(e,r,n){for(var i=0,s=e.length;i<s;i++)hpe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Elt=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},klt=function(e,r,n){for(var i in e)hpe.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Tlt=function(e,r,n){if(!_lt(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Alt.call(e)==="[object Array]"?xlt(e,r,i):typeof e=="string"?Elt(e,r,i):klt(e,r,i)},Ilt=Tlt,Rlt=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],x5=Rlt,Mlt=typeof globalThis>"u"?Lt:globalThis,Clt=function(){for(var e=[],r=0;r<x5.length;r++)typeof Mlt[x5[r]]=="function"&&(e[e.length]=x5[r]);return e},ppe={exports:{}},dee=rR,Plt=Jhe,Xy=x2,hee=rS,gpe=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Xy("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Xy("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xy("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xy("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xy("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xy("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!hee&&hee(e,r);if(dee)dee(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Plt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},rD=rR,mpe=function(){return!!rD};mpe.hasArrayLengthDefineBug=function(){if(!rD)return null;try{return rD([],"length",{value:1}).length!==1}catch{return!0}};var ype=mpe,Nlt=_$,pee=gpe,Blt=ype(),gee=rS,mee=x2,Olt=Nlt("%Math.floor%"),Llt=function(e,r){if(typeof e!="function")throw new mee("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Olt(r)!==r)throw new mee("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&gee){var o=gee(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Blt?pee(e,"length",r,!0,!0):pee(e,"length",r)),e},Dlt=E2,Flt=w$,$lt=rpe,Ult=function(){return $lt(Dlt,Flt,arguments)};(function(t){var e=Llt,r=rR,n=S$,i=Ult;t.exports=function(o){var a=n(arguments),u=o.length-(arguments.length-1);return e(a,1+(u>0?u:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i})(ppe);var iR=ppe.exports,hI=Ilt,zlt=Clt,yee=iR,A$=nS,F3=rS,Wlt=A$("Object.prototype.toString"),bpe=tR(),bee=typeof globalThis>"u"?Lt:globalThis,nD=zlt(),x$=A$("String.prototype.slice"),E5=Object.getPrototypeOf,Klt=A$("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},pI={__proto__:null};bpe&&F3&&E5?hI(nD,function(t){var e=new bee[t];if(Symbol.toStringTag in e){var r=E5(e),n=F3(r,Symbol.toStringTag);if(!n){var i=E5(r);n=F3(i,Symbol.toStringTag)}pI["$"+t]=yee(n.get)}}):hI(nD,function(t){var e=new bee[t],r=e.slice||e.set;r&&(pI["$"+t]=yee(r))});var jlt=function(e){var r=!1;return hI(pI,function(n,i){if(!r)try{"$"+n(e)===i&&(r=x$(i,1))}catch{}}),r},Hlt=function(e){var r=!1;return hI(pI,function(n,i){if(!r)try{n(e),r=x$(i,1)}catch{}}),r},vpe=function(e){if(!e||typeof e!="object")return!1;if(!bpe){var r=x$(Wlt(e),8,-1);return Klt(nD,r)>-1?r:r!=="Object"?!1:Hlt(e)}return F3?jlt(e):null},qlt=vpe,Vlt=function(e){return!!qlt(e)};(function(t){var e=qct,r=llt,n=vpe,i=Vlt;function s(ce){return ce.call.bind(ce)}var o=typeof BigInt<"u",a=typeof Symbol<"u",u=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),g=s(Boolean.prototype.valueOf);if(o)var y=s(BigInt.prototype.valueOf);if(a)var b=s(Symbol.prototype.valueOf);function A(ce,Oe){if(typeof ce!="object")return!1;try{return Oe(ce),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function x(ce){return typeof Promise<"u"&&ce instanceof Promise||ce!==null&&typeof ce=="object"&&typeof ce.then=="function"&&typeof ce.catch=="function"}t.isPromise=x;function k(ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ce):i(ce)||F(ce)}t.isArrayBufferView=k;function R(ce){return n(ce)==="Uint8Array"}t.isUint8Array=R;function C(ce){return n(ce)==="Uint8ClampedArray"}t.isUint8ClampedArray=C;function P(ce){return n(ce)==="Uint16Array"}t.isUint16Array=P;function O(ce){return n(ce)==="Uint32Array"}t.isUint32Array=O;function q(ce){return n(ce)==="Int8Array"}t.isInt8Array=q;function Q(ce){return n(ce)==="Int16Array"}t.isInt16Array=Q;function Y(ce){return n(ce)==="Int32Array"}t.isInt32Array=Y;function X(ce){return n(ce)==="Float32Array"}t.isFloat32Array=X;function Z(ce){return n(ce)==="Float64Array"}t.isFloat64Array=Z;function le(ce){return n(ce)==="BigInt64Array"}t.isBigInt64Array=le;function I(ce){return n(ce)==="BigUint64Array"}t.isBigUint64Array=I;function c(ce){return u(ce)==="[object Map]"}c.working=typeof Map<"u"&&c(new Map);function h(ce){return typeof Map>"u"?!1:c.working?c(ce):ce instanceof Map}t.isMap=h;function p(ce){return u(ce)==="[object Set]"}p.working=typeof Set<"u"&&p(new Set);function m(ce){return typeof Set>"u"?!1:p.working?p(ce):ce instanceof Set}t.isSet=m;function v(ce){return u(ce)==="[object WeakMap]"}v.working=typeof WeakMap<"u"&&v(new WeakMap);function _(ce){return typeof WeakMap>"u"?!1:v.working?v(ce):ce instanceof WeakMap}t.isWeakMap=_;function T(ce){return u(ce)==="[object WeakSet]"}T.working=typeof WeakSet<"u"&&T(new WeakSet);function w(ce){return T(ce)}t.isWeakSet=w;function l(ce){return u(ce)==="[object ArrayBuffer]"}l.working=typeof ArrayBuffer<"u"&&l(new ArrayBuffer);function S(ce){return typeof ArrayBuffer>"u"?!1:l.working?l(ce):ce instanceof ArrayBuffer}t.isArrayBuffer=S;function N(ce){return u(ce)==="[object DataView]"}N.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&N(new DataView(new ArrayBuffer(1),0,1));function F(ce){return typeof DataView>"u"?!1:N.working?N(ce):ce instanceof DataView}t.isDataView=F;var W=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function D(ce){return u(ce)==="[object SharedArrayBuffer]"}function K(ce){return typeof W>"u"?!1:(typeof D.working>"u"&&(D.working=D(new W)),D.working?D(ce):ce instanceof W)}t.isSharedArrayBuffer=K;function z(ce){return u(ce)==="[object AsyncFunction]"}t.isAsyncFunction=z;function G(ce){return u(ce)==="[object Map Iterator]"}t.isMapIterator=G;function te(ce){return u(ce)==="[object Set Iterator]"}t.isSetIterator=te;function ie(ce){return u(ce)==="[object Generator]"}t.isGeneratorObject=ie;function J(ce){return u(ce)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=J;function V(ce){return A(ce,f)}t.isNumberObject=V;function fe(ce){return A(ce,d)}t.isStringObject=fe;function Te(ce){return A(ce,g)}t.isBooleanObject=Te;function Re(ce){return o&&A(ce,y)}t.isBigIntObject=Re;function H(ce){return a&&A(ce,b)}t.isSymbolObject=H;function oe(ce){return V(ce)||fe(ce)||Te(ce)||Re(ce)||H(ce)}t.isBoxedPrimitive=oe;function ae(ce){return typeof Uint8Array<"u"&&(S(ce)||K(ce))}t.isAnyArrayBuffer=ae,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ce){Object.defineProperty(t,ce,{enumerable:!1,value:function(){throw new Error(ce+" is not supported in userland")}})})})(Qhe);var Glt=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e={},r=Object.getOwnPropertyDescriptors||function(W){for(var D=Object.keys(W),K={},z=0;z<D.length;z++)K[D[z]]=Object.getOwnPropertyDescriptor(W,D[z]);return K},n=/%[sdj%]/g;t.format=function(F){if(!Q(F)){for(var W=[],D=0;D<arguments.length;D++)W.push(a(arguments[D]));return W.join(" ")}for(var D=1,K=arguments,z=K.length,G=String(F).replace(n,function(ie){if(ie==="%%")return"%";if(D>=z)return ie;switch(ie){case"%s":return String(K[D++]);case"%d":return Number(K[D++]);case"%j":try{return JSON.stringify(K[D++])}catch{return"[Circular]"}default:return ie}}),te=K[D];D<z;te=K[++D])P(te)||!le(te)?G+=" "+te:G+=" "+a(te);return G},t.deprecate=function(F,W){if(typeof Ie.process<"u"&&Ie.process.noDeprecation===!0)return F;if(typeof Ie.process>"u")return function(){return t.deprecate(F,W).apply(this,arguments)};var D=!1;function K(){if(!D){if(Ie.process.throwDeprecation)throw new Error(W);Ie.process.traceDeprecation?console.trace(W):console.error(W),D=!0}return F.apply(this,arguments)}return K};var i={},s=/^$/;if(e.NODE_DEBUG){var o=e.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+o+"$","i")}t.debuglog=function(F){if(F=F.toUpperCase(),!i[F])if(s.test(F)){var W=Ie.process.pid;i[F]=function(){var D=t.format.apply(t,arguments);console.error("%s %d: %s",F,W,D)}}else i[F]=function(){};return i[F]};function a(F,W){var D={seen:[],stylize:f};return arguments.length>=3&&(D.depth=arguments[2]),arguments.length>=4&&(D.colors=arguments[3]),C(W)?D.showHidden=W:W&&t._extend(D,W),X(D.showHidden)&&(D.showHidden=!1),X(D.depth)&&(D.depth=2),X(D.colors)&&(D.colors=!1),X(D.customInspect)&&(D.customInspect=!0),D.colors&&(D.stylize=u),g(D,F,D.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(F,W){var D=a.styles[W];return D?"\x1B["+a.colors[D][0]+"m"+F+"\x1B["+a.colors[D][1]+"m":F}function f(F,W){return F}function d(F){var W={};return F.forEach(function(D,K){W[D]=!0}),W}function g(F,W,D){if(F.customInspect&&W&&h(W.inspect)&&W.inspect!==t.inspect&&!(W.constructor&&W.constructor.prototype===W)){var K=W.inspect(D,F);return Q(K)||(K=g(F,K,D)),K}var z=y(F,W);if(z)return z;var G=Object.keys(W),te=d(G);if(F.showHidden&&(G=Object.getOwnPropertyNames(W)),c(W)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return b(W);if(G.length===0){if(h(W)){var ie=W.name?": "+W.name:"";return F.stylize("[Function"+ie+"]","special")}if(Z(W))return F.stylize(RegExp.prototype.toString.call(W),"regexp");if(I(W))return F.stylize(Date.prototype.toString.call(W),"date");if(c(W))return b(W)}var J="",V=!1,fe=["{","}"];if(R(W)&&(V=!0,fe=["[","]"]),h(W)){var Te=W.name?": "+W.name:"";J=" [Function"+Te+"]"}if(Z(W)&&(J=" "+RegExp.prototype.toString.call(W)),I(W)&&(J=" "+Date.prototype.toUTCString.call(W)),c(W)&&(J=" "+b(W)),G.length===0&&(!V||W.length==0))return fe[0]+J+fe[1];if(D<0)return Z(W)?F.stylize(RegExp.prototype.toString.call(W),"regexp"):F.stylize("[Object]","special");F.seen.push(W);var Re;return V?Re=A(F,W,D,te,G):Re=G.map(function(H){return x(F,W,D,te,H,V)}),F.seen.pop(),k(Re,J,fe)}function y(F,W){if(X(W))return F.stylize("undefined","undefined");if(Q(W)){var D="'"+JSON.stringify(W).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(D,"string")}if(q(W))return F.stylize(""+W,"number");if(C(W))return F.stylize(""+W,"boolean");if(P(W))return F.stylize("null","null")}function b(F){return"["+Error.prototype.toString.call(F)+"]"}function A(F,W,D,K,z){for(var G=[],te=0,ie=W.length;te<ie;++te)w(W,String(te))?G.push(x(F,W,D,K,String(te),!0)):G.push("");return z.forEach(function(J){J.match(/^\d+$/)||G.push(x(F,W,D,K,J,!0))}),G}function x(F,W,D,K,z,G){var te,ie,J;if(J=Object.getOwnPropertyDescriptor(W,z)||{value:W[z]},J.get?J.set?ie=F.stylize("[Getter/Setter]","special"):ie=F.stylize("[Getter]","special"):J.set&&(ie=F.stylize("[Setter]","special")),w(K,z)||(te="["+z+"]"),ie||(F.seen.indexOf(J.value)<0?(P(D)?ie=g(F,J.value,null):ie=g(F,J.value,D-1),ie.indexOf(`
`)>-1&&(G?ie=ie.split(`
`).map(function(V){return"  "+V}).join(`
`).slice(2):ie=`
`+ie.split(`
`).map(function(V){return"   "+V}).join(`
`))):ie=F.stylize("[Circular]","special")),X(te)){if(G&&z.match(/^\d+$/))return ie;te=JSON.stringify(""+z),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=F.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=F.stylize(te,"string"))}return te+": "+ie}function k(F,W,D){var K=F.reduce(function(z,G){return G.indexOf(`
`)>=0,z+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);return K>60?D[0]+(W===""?"":W+`
 `)+" "+F.join(`,
  `)+" "+D[1]:D[0]+W+" "+F.join(", ")+" "+D[1]}t.types=Qhe;function R(F){return Array.isArray(F)}t.isArray=R;function C(F){return typeof F=="boolean"}t.isBoolean=C;function P(F){return F===null}t.isNull=P;function O(F){return F==null}t.isNullOrUndefined=O;function q(F){return typeof F=="number"}t.isNumber=q;function Q(F){return typeof F=="string"}t.isString=Q;function Y(F){return typeof F=="symbol"}t.isSymbol=Y;function X(F){return F===void 0}t.isUndefined=X;function Z(F){return le(F)&&m(F)==="[object RegExp]"}t.isRegExp=Z,t.types.isRegExp=Z;function le(F){return typeof F=="object"&&F!==null}t.isObject=le;function I(F){return le(F)&&m(F)==="[object Date]"}t.isDate=I,t.types.isDate=I;function c(F){return le(F)&&(m(F)==="[object Error]"||F instanceof Error)}t.isError=c,t.types.isNativeError=c;function h(F){return typeof F=="function"}t.isFunction=h;function p(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}t.isPrimitive=p,t.isBuffer=Glt;function m(F){return Object.prototype.toString.call(F)}function v(F){return F<10?"0"+F.toString(10):F.toString(10)}var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var F=new Date,W=[v(F.getHours()),v(F.getMinutes()),v(F.getSeconds())].join(":");return[F.getDate(),_[F.getMonth()],W].join(" ")}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=Br,t._extend=function(F,W){if(!W||!le(W))return F;for(var D=Object.keys(W),K=D.length;K--;)F[D[K]]=W[D[K]];return F};function w(F,W){return Object.prototype.hasOwnProperty.call(F,W)}var l=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');if(l&&W[l]){var D=W[l];if(typeof D!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(D,l,{value:D,enumerable:!1,writable:!1,configurable:!0}),D}function D(){for(var K,z,G=new Promise(function(J,V){K=J,z=V}),te=[],ie=0;ie<arguments.length;ie++)te.push(arguments[ie]);te.push(function(J,V){J?z(J):K(V)});try{W.apply(this,te)}catch(J){z(J)}return G}return Object.setPrototypeOf(D,Object.getPrototypeOf(W)),l&&Object.defineProperty(D,l,{value:D,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(D,r(W))},t.promisify.custom=l;function S(F,W){if(!F){var D=new Error("Promise was rejected with a falsy value");D.reason=F,F=D}return W(F)}function N(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function W(){for(var D=[],K=0;K<arguments.length;K++)D.push(arguments[K]);var z=D.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var G=this,te=function(){return z.apply(G,arguments)};F.apply(this,D).then(function(ie){Ie.process.nextTick(te.bind(null,null,ie))},function(ie){Ie.process.nextTick(S.bind(null,ie,te))})}return Object.setPrototypeOf(W,Object.getPrototypeOf(F)),Object.defineProperties(W,r(F)),W}t.callbackify=N})(dw);var vee;function wpe(){if(vee)return f5;vee=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(C)}function e(C,P,O){return Object.defineProperty(C,"prototype",{writable:!1}),C}function r(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function n(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),P&&i(C,P)}function i(C,P){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,Q){return q.__proto__=Q,q},i(C,P)}function s(C){var P=u();return function(){var q=f(C),Q;if(P){var Y=f(this).constructor;Q=Reflect.construct(q,arguments,Y)}else Q=q.apply(this,arguments);return o(this,Q)}}function o(C,P){if(P&&(t(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(C)}function a(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(C){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},f(C)}var d={},g,y;function b(C,P,O){O||(O=Error);function q(Y,X,Z){return typeof P=="string"?P:P(Y,X,Z)}var Q=function(Y){n(Z,Y);var X=s(Z);function Z(le,I,c){var h;return r(this,Z),h=X.call(this,q(le,I,c)),h.code=C,h}return e(Z)}(O);d[C]=Q}function A(C,P){if(Array.isArray(C)){var O=C.length;return C=C.map(function(q){return String(q)}),O>2?"one of ".concat(P," ").concat(C.slice(0,O-1).join(", "),", or ")+C[O-1]:O===2?"one of ".concat(P," ").concat(C[0]," or ").concat(C[1]):"of ".concat(P," ").concat(C[0])}else return"of ".concat(P," ").concat(String(C))}function x(C,P,O){return C.substr(0,P.length)===P}function k(C,P,O){return(O===void 0||O>C.length)&&(O=C.length),C.substring(O-P.length,O)===P}function R(C,P,O){return typeof O!="number"&&(O=0),O+P.length>C.length?!1:C.indexOf(P,O)!==-1}return b("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),b("ERR_INVALID_ARG_TYPE",function(C,P,O){g===void 0&&(g=Ou()),g(typeof C=="string","'name' must be a string");var q;typeof P=="string"&&x(P,"not ")?(q="must not be",P=P.replace(/^not /,"")):q="must be";var Q;if(k(C," argument"))Q="The ".concat(C," ").concat(q," ").concat(A(P,"type"));else{var Y=R(C,".")?"property":"argument";Q='The "'.concat(C,'" ').concat(Y," ").concat(q," ").concat(A(P,"type"))}return Q+=". Received type ".concat(t(O)),Q},TypeError),b("ERR_INVALID_ARG_VALUE",function(C,P){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";y===void 0&&(y=dw);var q=y.inspect(P);return q.length>128&&(q="".concat(q.slice(0,128),"...")),"The argument '".concat(C,"' ").concat(O,". Received ").concat(q)},TypeError),b("ERR_INVALID_RETURN_VALUE",function(C,P,O){var q;return O&&O.constructor&&O.constructor.name?q="instance of ".concat(O.constructor.name):q="type ".concat(t(O)),"Expected ".concat(C,' to be returned from the "').concat(P,'"')+" function but got ".concat(q,".")},TypeError),b("ERR_MISSING_ARGS",function(){for(var C=arguments.length,P=new Array(C),O=0;O<C;O++)P[O]=arguments[O];g===void 0&&(g=Ou()),g(P.length>0,"At least one arg needs to be specified");var q="The ",Q=P.length;switch(P=P.map(function(Y){return'"'.concat(Y,'"')}),Q){case 1:q+="".concat(P[0]," argument");break;case 2:q+="".concat(P[0]," and ").concat(P[1]," arguments");break;default:q+=P.slice(0,Q-1).join(", "),q+=", and ".concat(P[Q-1]," arguments");break}return"".concat(q," must be specified")},TypeError),f5.codes=d,f5}var k5,wee;function Ylt(){if(wee)return k5;wee=1;function t(w,l){var S=Object.keys(w);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(w);l&&(N=N.filter(function(F){return Object.getOwnPropertyDescriptor(w,F).enumerable})),S.push.apply(S,N)}return S}function e(w){for(var l=1;l<arguments.length;l++){var S=arguments[l]!=null?arguments[l]:{};l%2?t(Object(S),!0).forEach(function(N){r(w,N,S[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(S,N))})}return w}function r(w,l,S){return l=o(l),l in w?Object.defineProperty(w,l,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[l]=S,w}function n(w,l){if(!(w instanceof l))throw new TypeError("Cannot call a class as a function")}function i(w,l){for(var S=0;S<l.length;S++){var N=l[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,o(N.key),N)}}function s(w,l,S){return l&&i(w.prototype,l),Object.defineProperty(w,"prototype",{writable:!1}),w}function o(w){var l=a(w,"string");return C(l)==="symbol"?l:String(l)}function a(w,l){if(C(w)!=="object"||w===null)return w;var S=w[Symbol.toPrimitive];if(S!==void 0){var N=S.call(w,l);if(C(N)!=="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}function u(w,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(l&&l.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),l&&k(w,l)}function f(w){var l=A();return function(){var N=R(w),F;if(l){var W=R(this).constructor;F=Reflect.construct(N,arguments,W)}else F=N.apply(this,arguments);return d(this,F)}}function d(w,l){if(l&&(C(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(w)}function g(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function y(w){var l=typeof Map=="function"?new Map:void 0;return y=function(N){if(N===null||!x(N))return N;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l<"u"){if(l.has(N))return l.get(N);l.set(N,F)}function F(){return b(N,arguments,R(this).constructor)}return F.prototype=Object.create(N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),k(F,N)},y(w)}function b(w,l,S){return A()?b=Reflect.construct.bind():b=function(F,W,D){var K=[null];K.push.apply(K,W);var z=Function.bind.apply(F,K),G=new z;return D&&k(G,D.prototype),G},b.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(w){return Function.toString.call(w).indexOf("[native code]")!==-1}function k(w,l){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,F){return N.__proto__=F,N},k(w,l)}function R(w){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},R(w)}function C(w){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},C(w)}var P=dw,O=P.inspect,q=wpe(),Q=q.codes.ERR_INVALID_ARG_TYPE;function Y(w,l,S){return(S===void 0||S>w.length)&&(S=w.length),w.substring(S-l.length,S)===l}function X(w,l){if(l=Math.floor(l),w.length==0||l==0)return"";var S=w.length*l;for(l=Math.floor(Math.log(l)/Math.log(2));l;)w+=w,l--;return w+=w.substring(0,S-w.length),w}var Z="",le="",I="",c="",h={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},p=10;function m(w){var l=Object.keys(w),S=Object.create(Object.getPrototypeOf(w));return l.forEach(function(N){S[N]=w[N]}),Object.defineProperty(S,"message",{value:w.message}),S}function v(w){return O(w,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(w,l,S){var N="",F="",W=0,D="",K=!1,z=v(w),G=z.split(`
`),te=v(l).split(`
`),ie=0,J="";if(S==="strictEqual"&&C(w)==="object"&&C(l)==="object"&&w!==null&&l!==null&&(S="strictEqualObject"),G.length===1&&te.length===1&&G[0]!==te[0]){var V=G[0].length+te[0].length;if(V<=p){if((C(w)!=="object"||w===null)&&(C(l)!=="object"||l===null)&&(w!==0||l!==0))return"".concat(h[S],`

`)+"".concat(G[0]," !== ").concat(te[0],`
`)}else if(S!=="strictEqualObject"){var fe=Ie.process.stderr&&Ie.process.stderr.isTTY?Ie.process.stderr.columns:80;if(V<fe){for(;G[0][ie]===te[0][ie];)ie++;ie>2&&(J=`
  `.concat(X(" ",ie),"^"),ie=0)}}}for(var Te=G[G.length-1],Re=te[te.length-1];Te===Re&&(ie++<2?D=`
  `.concat(Te).concat(D):N=Te,G.pop(),te.pop(),!(G.length===0||te.length===0));)Te=G[G.length-1],Re=te[te.length-1];var H=Math.max(G.length,te.length);if(H===0){var oe=z.split(`
`);if(oe.length>30)for(oe[26]="".concat(Z,"...").concat(c);oe.length>27;)oe.pop();return"".concat(h.notIdentical,`

`).concat(oe.join(`
`),`
`)}ie>3&&(D=`
`.concat(Z,"...").concat(c).concat(D),K=!0),N!==""&&(D=`
  `.concat(N).concat(D),N="");var ae=0,ce=h[S]+`
`.concat(le,"+ actual").concat(c," ").concat(I,"- expected").concat(c),Oe=" ".concat(Z,"...").concat(c," Lines skipped");for(ie=0;ie<H;ie++){var _e=ie-W;if(G.length<ie+1)_e>1&&ie>2&&(_e>4?(F+=`
`.concat(Z,"...").concat(c),K=!0):_e>3&&(F+=`
  `.concat(te[ie-2]),ae++),F+=`
  `.concat(te[ie-1]),ae++),W=ie,N+=`
`.concat(I,"-").concat(c," ").concat(te[ie]),ae++;else if(te.length<ie+1)_e>1&&ie>2&&(_e>4?(F+=`
`.concat(Z,"...").concat(c),K=!0):_e>3&&(F+=`
  `.concat(G[ie-2]),ae++),F+=`
  `.concat(G[ie-1]),ae++),W=ie,F+=`
`.concat(le,"+").concat(c," ").concat(G[ie]),ae++;else{var Ne=te[ie],wt=G[ie],ge=wt!==Ne&&(!Y(wt,",")||wt.slice(0,-1)!==Ne);ge&&Y(Ne,",")&&Ne.slice(0,-1)===wt&&(ge=!1,wt+=","),ge?(_e>1&&ie>2&&(_e>4?(F+=`
`.concat(Z,"...").concat(c),K=!0):_e>3&&(F+=`
  `.concat(G[ie-2]),ae++),F+=`
  `.concat(G[ie-1]),ae++),W=ie,F+=`
`.concat(le,"+").concat(c," ").concat(wt),N+=`
`.concat(I,"-").concat(c," ").concat(Ne),ae+=2):(F+=N,N="",(_e===1||ie===0)&&(F+=`
  `.concat(wt),ae++))}if(ae>20&&ie<H-2)return"".concat(ce).concat(Oe,`
`).concat(F,`
`).concat(Z,"...").concat(c).concat(N,`
`)+"".concat(Z,"...").concat(c)}return"".concat(ce).concat(K?Oe:"",`
`).concat(F).concat(N).concat(D).concat(J)}var T=function(w,l){u(N,w);var S=f(N);function N(F){var W;if(n(this,N),C(F)!=="object"||F===null)throw new Q("options","Object",F);var D=F.message,K=F.operator,z=F.stackStartFn,G=F.actual,te=F.expected,ie=Error.stackTraceLimit;if(Error.stackTraceLimit=0,D!=null)W=S.call(this,String(D));else if(Ie.process.stderr&&Ie.process.stderr.isTTY&&(Ie.process.stderr&&Ie.process.stderr.getColorDepth&&Ie.process.stderr.getColorDepth()!==1?(Z="\x1B[34m",le="\x1B[32m",c="\x1B[39m",I="\x1B[31m"):(Z="",le="",c="",I="")),C(G)==="object"&&G!==null&&C(te)==="object"&&te!==null&&"stack"in G&&G instanceof Error&&"stack"in te&&te instanceof Error&&(G=m(G),te=m(te)),K==="deepStrictEqual"||K==="strictEqual")W=S.call(this,_(G,te,K));else if(K==="notDeepStrictEqual"||K==="notStrictEqual"){var J=h[K],V=v(G).split(`
`);if(K==="notStrictEqual"&&C(G)==="object"&&G!==null&&(J=h.notStrictEqualObject),V.length>30)for(V[26]="".concat(Z,"...").concat(c);V.length>27;)V.pop();V.length===1?W=S.call(this,"".concat(J," ").concat(V[0])):W=S.call(this,"".concat(J,`

`).concat(V.join(`
`),`
`))}else{var fe=v(G),Te="",Re=h[K];K==="notDeepEqual"||K==="notEqual"?(fe="".concat(h[K],`

`).concat(fe),fe.length>1024&&(fe="".concat(fe.slice(0,1021),"..."))):(Te="".concat(v(te)),fe.length>512&&(fe="".concat(fe.slice(0,509),"...")),Te.length>512&&(Te="".concat(Te.slice(0,509),"...")),K==="deepEqual"||K==="equal"?fe="".concat(Re,`

`).concat(fe,`

should equal

`):Te=" ".concat(K," ").concat(Te)),W=S.call(this,"".concat(fe).concat(Te))}return Error.stackTraceLimit=ie,W.generatedMessage=!D,Object.defineProperty(g(W),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),W.code="ERR_ASSERTION",W.actual=G,W.expected=te,W.operator=K,Error.captureStackTrace&&Error.captureStackTrace(g(W),z),W.stack,W.name="AssertionError",d(W)}return s(N,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:l,value:function(W,D){return O(this,e(e({},D),{},{customInspect:!1,depth:0}))}}]),N}(y(Error),O.custom);return k5=T,k5}var See=Object.prototype.toString,Spe=function(e){var r=See.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&See.call(e.callee)==="[object Function]"),n},T5,_ee;function Zlt(){if(_ee)return T5;_ee=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Spe,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(y){var b=y.constructor;return b&&b.prototype===y},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var y in window)try{if(!f["$"+y]&&e.call(window,y)&&window[y]!==null&&typeof window[y]=="object")try{u(window[y])}catch{return!0}}catch{return!0}return!1}(),g=function(y){if(typeof window>"u"||!d)return u(y);try{return u(y)}catch{return!1}};t=function(b){var A=b!==null&&typeof b=="object",x=r.call(b)==="[object Function]",k=n(b),R=A&&r.call(b)==="[object String]",C=[];if(!A&&!x&&!k)throw new TypeError("Object.keys called on a non-object");var P=o&&x;if(R&&b.length>0&&!e.call(b,0))for(var O=0;O<b.length;++O)C.push(String(O));if(k&&b.length>0)for(var q=0;q<b.length;++q)C.push(String(q));else for(var Q in b)!(P&&Q==="prototype")&&e.call(b,Q)&&C.push(String(Q));if(s)for(var Y=g(b),X=0;X<a.length;++X)!(Y&&a[X]==="constructor")&&e.call(b,a[X])&&C.push(a[X]);return C}}return T5=t,T5}var Xlt=Array.prototype.slice,Qlt=Spe,Aee=Object.keys,$3=Aee?function(e){return Aee(e)}:Zlt(),xee=Object.keys;$3.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return Qlt(n)?xee(Xlt.call(n)):xee(n)})}else Object.keys=$3;return Object.keys||$3};var _pe=$3,Jlt=_pe,Ape=y$(),xpe=nS,U3=b$,eft=xpe("Array.prototype.push"),Eee=xpe("Object.prototype.propertyIsEnumerable"),tft=Ape?U3.getOwnPropertySymbols:null,rft=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=U3(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var s=U3(arguments[i]),o=Jlt(s),a=Ape&&(U3.getOwnPropertySymbols||tft);if(a)for(var u=a(s),f=0;f<u.length;++f){var d=u[f];Eee(s,d)&&eft(o,d)}for(var g=0;g<o.length;++g){var y=o[g];if(Eee(s,y)){var b=s[y];n[y]=b}}}return n},I5=rft,nft=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),s="";for(var o in i)s+=o;return t!==s},ift=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},sft=function(){return!Object.assign||nft()||ift()?I5:Object.assign},kee=function(t){return t!==t},Epe=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||kee(e)&&kee(r))},oft=Epe,E$=function(){return typeof Object.is=="function"?Object.is:oft},kpe=_$,Tpe=iR,aft=Tpe(kpe("String.prototype.indexOf")),uft=function(e,r){var n=kpe(e,!!r);return typeof n=="function"&&aft(e,".prototype.")>-1?Tpe(n):n},R5,Tee;function sR(){if(Tee)return R5;Tee=1;var t=_pe,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=gpe,s=function(f){return typeof f=="function"&&r.call(f)==="[object Function]"},o=ype(),a=function(f,d,g,y){if(d in f){if(y===!0){if(f[d]===g)return}else if(!s(y)||!y())return}o?i(f,d,g,!0):i(f,d,g)},u=function(f,d){var g=arguments.length>2?arguments[2]:{},y=t(d);e&&(y=n.call(y,Object.getOwnPropertySymbols(d)));for(var b=0;b<y.length;b+=1)a(f,y[b],d[y[b]],g[y[b]])};return u.supportsDescriptors=!!o,R5=u,R5}var M5,Iee;function cft(){if(Iee)return M5;Iee=1;var t=E$,e=sR();return M5=function(){var n=t();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},M5}var C5,Ree;function lft(){if(Ree)return C5;Ree=1;var t=sR(),e=iR,r=Epe,n=E$,i=cft(),s=e(n(),Object);return t(s,{getPolyfill:n,implementation:r,shim:i}),C5=s,C5}var P5,Mee;function Ipe(){return Mee||(Mee=1,P5=function(e){return e!==e}),P5}var N5,Cee;function Rpe(){if(Cee)return N5;Cee=1;var t=Ipe();return N5=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},N5}var B5,Pee;function fft(){if(Pee)return B5;Pee=1;var t=sR(),e=Rpe();return B5=function(){var n=e();return t(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},B5}var O5,Nee;function dft(){if(Nee)return O5;Nee=1;var t=iR,e=sR(),r=Ipe(),n=Rpe(),i=fft(),s=t(n(),Number);return e(s,{getPolyfill:n,implementation:r,shim:i}),O5=s,O5}var L5,Bee;function hft(){if(Bee)return L5;Bee=1;function t(ge,ye){return s(ge)||i(ge,ye)||r(ge,ye)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(ge,ye){if(ge){if(typeof ge=="string")return n(ge,ye);var Ge=Object.prototype.toString.call(ge).slice(8,-1);if(Ge==="Object"&&ge.constructor&&(Ge=ge.constructor.name),Ge==="Map"||Ge==="Set")return Array.from(ge);if(Ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ge))return n(ge,ye)}}function n(ge,ye){(ye==null||ye>ge.length)&&(ye=ge.length);for(var Ge=0,se=new Array(ye);Ge<ye;Ge++)se[Ge]=ge[Ge];return se}function i(ge,ye){var Ge=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(Ge!=null){var se,j,re,ue,me=[],Be=!0,Ae=!1;try{if(re=(Ge=Ge.call(ge)).next,ye!==0)for(;!(Be=(se=re.call(Ge)).done)&&(me.push(se.value),me.length!==ye);Be=!0);}catch(ze){Ae=!0,j=ze}finally{try{if(!Be&&Ge.return!=null&&(ue=Ge.return(),Object(ue)!==ue))return}finally{if(Ae)throw j}}return me}}function s(ge){if(Array.isArray(ge))return ge}function o(ge){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},o(ge)}var a=/a/g.flags!==void 0,u=function(ye){var Ge=[];return ye.forEach(function(se){return Ge.push(se)}),Ge},f=function(ye){var Ge=[];return ye.forEach(function(se,j){return Ge.push([j,se])}),Ge},d=Object.is?Object.is:lft(),g=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},y=Number.isNaN?Number.isNaN:dft();function b(ge){return ge.call.bind(ge)}var A=b(Object.prototype.hasOwnProperty),x=b(Object.prototype.propertyIsEnumerable),k=b(Object.prototype.toString),R=dw.types,C=R.isAnyArrayBuffer,P=R.isArrayBufferView,O=R.isDate,q=R.isMap,Q=R.isRegExp,Y=R.isSet,X=R.isNativeError,Z=R.isBoxedPrimitive,le=R.isNumberObject,I=R.isStringObject,c=R.isBooleanObject,h=R.isBigIntObject,p=R.isSymbolObject,m=R.isFloat32Array,v=R.isFloat64Array;function _(ge){if(ge.length===0||ge.length>10)return!0;for(var ye=0;ye<ge.length;ye++){var Ge=ge.charCodeAt(ye);if(Ge<48||Ge>57)return!0}return ge.length===10&&ge>=Math.pow(2,32)}function T(ge){return Object.keys(ge).filter(_).concat(g(ge).filter(Object.prototype.propertyIsEnumerable.bind(ge)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function w(ge,ye){if(ge===ye)return 0;for(var Ge=ge.length,se=ye.length,j=0,re=Math.min(Ge,se);j<re;++j)if(ge[j]!==ye[j]){Ge=ge[j],se=ye[j];break}return Ge<se?-1:se<Ge?1:0}var l=!0,S=!1,N=0,F=1,W=2,D=3;function K(ge,ye){return a?ge.source===ye.source&&ge.flags===ye.flags:RegExp.prototype.toString.call(ge)===RegExp.prototype.toString.call(ye)}function z(ge,ye){if(ge.byteLength!==ye.byteLength)return!1;for(var Ge=0;Ge<ge.byteLength;Ge++)if(ge[Ge]!==ye[Ge])return!1;return!0}function G(ge,ye){return ge.byteLength!==ye.byteLength?!1:w(new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength))===0}function te(ge,ye){return ge.byteLength===ye.byteLength&&w(new Uint8Array(ge),new Uint8Array(ye))===0}function ie(ge,ye){return le(ge)?le(ye)&&d(Number.prototype.valueOf.call(ge),Number.prototype.valueOf.call(ye)):I(ge)?I(ye)&&String.prototype.valueOf.call(ge)===String.prototype.valueOf.call(ye):c(ge)?c(ye)&&Boolean.prototype.valueOf.call(ge)===Boolean.prototype.valueOf.call(ye):h(ge)?h(ye)&&BigInt.prototype.valueOf.call(ge)===BigInt.prototype.valueOf.call(ye):p(ye)&&Symbol.prototype.valueOf.call(ge)===Symbol.prototype.valueOf.call(ye)}function J(ge,ye,Ge,se){if(ge===ye)return ge!==0?!0:Ge?d(ge,ye):!0;if(Ge){if(o(ge)!=="object")return typeof ge=="number"&&y(ge)&&y(ye);if(o(ye)!=="object"||ge===null||ye===null||Object.getPrototypeOf(ge)!==Object.getPrototypeOf(ye))return!1}else{if(ge===null||o(ge)!=="object")return ye===null||o(ye)!=="object"?ge==ye:!1;if(ye===null||o(ye)!=="object")return!1}var j=k(ge),re=k(ye);if(j!==re)return!1;if(Array.isArray(ge)){if(ge.length!==ye.length)return!1;var ue=T(ge),me=T(ye);return ue.length!==me.length?!1:fe(ge,ye,Ge,se,F,ue)}if(j==="[object Object]"&&(!q(ge)&&q(ye)||!Y(ge)&&Y(ye)))return!1;if(O(ge)){if(!O(ye)||Date.prototype.getTime.call(ge)!==Date.prototype.getTime.call(ye))return!1}else if(Q(ge)){if(!Q(ye)||!K(ge,ye))return!1}else if(X(ge)||ge instanceof Error){if(ge.message!==ye.message||ge.name!==ye.name)return!1}else if(P(ge)){if(!Ge&&(m(ge)||v(ge))){if(!z(ge,ye))return!1}else if(!G(ge,ye))return!1;var Be=T(ge),Ae=T(ye);return Be.length!==Ae.length?!1:fe(ge,ye,Ge,se,N,Be)}else{if(Y(ge))return!Y(ye)||ge.size!==ye.size?!1:fe(ge,ye,Ge,se,W);if(q(ge))return!q(ye)||ge.size!==ye.size?!1:fe(ge,ye,Ge,se,D);if(C(ge)){if(!te(ge,ye))return!1}else if(Z(ge)&&!ie(ge,ye))return!1}return fe(ge,ye,Ge,se,N)}function V(ge,ye){return ye.filter(function(Ge){return x(ge,Ge)})}function fe(ge,ye,Ge,se,j,re){if(arguments.length===5){re=Object.keys(ge);var ue=Object.keys(ye);if(re.length!==ue.length)return!1}for(var me=0;me<re.length;me++)if(!A(ye,re[me]))return!1;if(Ge&&arguments.length===5){var Be=g(ge);if(Be.length!==0){var Ae=0;for(me=0;me<Be.length;me++){var ze=Be[me];if(x(ge,ze)){if(!x(ye,ze))return!1;re.push(ze),Ae++}else if(x(ye,ze))return!1}var $t=g(ye);if(Be.length!==$t.length&&V(ye,$t).length!==Ae)return!1}else{var Ke=g(ye);if(Ke.length!==0&&V(ye,Ke).length!==0)return!1}}if(re.length===0&&(j===N||j===F&&ge.length===0||ge.size===0))return!0;if(se===void 0)se={val1:new Map,val2:new Map,position:0};else{var qe=se.val1.get(ge);if(qe!==void 0){var Nt=se.val2.get(ye);if(Nt!==void 0)return qe===Nt}se.position++}se.val1.set(ge,se.position),se.val2.set(ye,se.position);var Ye=_e(ge,ye,Ge,re,se,j);return se.val1.delete(ge),se.val2.delete(ye),Ye}function Te(ge,ye,Ge,se){for(var j=u(ge),re=0;re<j.length;re++){var ue=j[re];if(J(ye,ue,Ge,se))return ge.delete(ue),!0}return!1}function Re(ge){switch(o(ge)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ge=+ge;case"number":if(y(ge))return!1}return!0}function H(ge,ye,Ge){var se=Re(Ge);return se??(ye.has(se)&&!ge.has(se))}function oe(ge,ye,Ge,se,j){var re=Re(Ge);if(re!=null)return re;var ue=ye.get(re);return ue===void 0&&!ye.has(re)||!J(se,ue,!1,j)?!1:!ge.has(re)&&J(se,ue,!1,j)}function ae(ge,ye,Ge,se){for(var j=null,re=u(ge),ue=0;ue<re.length;ue++){var me=re[ue];if(o(me)==="object"&&me!==null)j===null&&(j=new Set),j.add(me);else if(!ye.has(me)){if(Ge||!H(ge,ye,me))return!1;j===null&&(j=new Set),j.add(me)}}if(j!==null){for(var Be=u(ye),Ae=0;Ae<Be.length;Ae++){var ze=Be[Ae];if(o(ze)==="object"&&ze!==null){if(!Te(j,ze,Ge,se))return!1}else if(!Ge&&!ge.has(ze)&&!Te(j,ze,Ge,se))return!1}return j.size===0}return!0}function ce(ge,ye,Ge,se,j,re){for(var ue=u(ge),me=0;me<ue.length;me++){var Be=ue[me];if(J(Ge,Be,j,re)&&J(se,ye.get(Be),j,re))return ge.delete(Be),!0}return!1}function Oe(ge,ye,Ge,se){for(var j=null,re=f(ge),ue=0;ue<re.length;ue++){var me=t(re[ue],2),Be=me[0],Ae=me[1];if(o(Be)==="object"&&Be!==null)j===null&&(j=new Set),j.add(Be);else{var ze=ye.get(Be);if(ze===void 0&&!ye.has(Be)||!J(Ae,ze,Ge,se)){if(Ge||!oe(ge,ye,Be,Ae,se))return!1;j===null&&(j=new Set),j.add(Be)}}}if(j!==null){for(var $t=f(ye),Ke=0;Ke<$t.length;Ke++){var qe=t($t[Ke],2),Nt=qe[0],Ye=qe[1];if(o(Nt)==="object"&&Nt!==null){if(!ce(j,ge,Nt,Ye,Ge,se))return!1}else if(!Ge&&(!ge.has(Nt)||!J(ge.get(Nt),Ye,!1,se))&&!ce(j,ge,Nt,Ye,!1,se))return!1}return j.size===0}return!0}function _e(ge,ye,Ge,se,j,re){var ue=0;if(re===W){if(!ae(ge,ye,Ge,j))return!1}else if(re===D){if(!Oe(ge,ye,Ge,j))return!1}else if(re===F)for(;ue<ge.length;ue++)if(A(ge,ue)){if(!A(ye,ue)||!J(ge[ue],ye[ue],Ge,j))return!1}else{if(A(ye,ue))return!1;for(var me=Object.keys(ge);ue<me.length;ue++){var Be=me[ue];if(!A(ye,Be)||!J(ge[Be],ye[Be],Ge,j))return!1}return me.length===Object.keys(ye).length}for(ue=0;ue<se.length;ue++){var Ae=se[ue];if(!J(ge[Ae],ye[Ae],Ge,j))return!1}return!0}function Ne(ge,ye){return J(ge,ye,S)}function wt(ge,ye){return J(ge,ye,l)}return L5={isDeepEqual:Ne,isDeepStrictEqual:wt},L5}var Oee;function Ou(){if(Oee)return l5.exports;Oee=1;function t(W){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},t(W)}function e(W,D,K){return Object.defineProperty(W,"prototype",{writable:!1}),W}function r(W,D){if(!(W instanceof D))throw new TypeError("Cannot call a class as a function")}var n=wpe(),i=n.codes,s=i.ERR_AMBIGUOUS_ARGUMENT,o=i.ERR_INVALID_ARG_TYPE,a=i.ERR_INVALID_ARG_VALUE,u=i.ERR_INVALID_RETURN_VALUE,f=i.ERR_MISSING_ARGS,d=Ylt(),g=dw,y=g.inspect,b=dw.types,A=b.isPromise,x=b.isRegExp,k=sft(),R=E$(),C=uft("RegExp.prototype.test"),P,O;function q(){var W=hft();P=W.isDeepEqual,O=W.isDeepStrictEqual}var Q=!1,Y=l5.exports=c,X={};function Z(W){throw W.message instanceof Error?W.message:new d(W)}function le(W,D,K,z,G){var te=arguments.length,ie;if(te===0)ie="Failed";else if(te===1)K=W,W=void 0;else{if(Q===!1){Q=!0;var J=Ie.process.emitWarning?Ie.process.emitWarning:console.warn.bind(console);J("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}te===2&&(z="!=")}if(K instanceof Error)throw K;var V={actual:W,expected:D,operator:z===void 0?"fail":z,stackStartFn:G||le};K!==void 0&&(V.message=K);var fe=new d(V);throw ie&&(fe.message=ie,fe.generatedMessage=!0),fe}Y.fail=le,Y.AssertionError=d;function I(W,D,K,z){if(!K){var G=!1;if(D===0)G=!0,z="No value argument passed to `assert.ok()`";else if(z instanceof Error)throw z;var te=new d({actual:K,expected:!0,message:z,operator:"==",stackStartFn:W});throw te.generatedMessage=G,te}}function c(){for(var W=arguments.length,D=new Array(W),K=0;K<W;K++)D[K]=arguments[K];I.apply(void 0,[c,D.length].concat(D))}Y.ok=c,Y.equal=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");D!=K&&Z({actual:D,expected:K,message:z,operator:"==",stackStartFn:W})},Y.notEqual=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");D==K&&Z({actual:D,expected:K,message:z,operator:"!=",stackStartFn:W})},Y.deepEqual=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");P===void 0&&q(),P(D,K)||Z({actual:D,expected:K,message:z,operator:"deepEqual",stackStartFn:W})},Y.notDeepEqual=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");P===void 0&&q(),P(D,K)&&Z({actual:D,expected:K,message:z,operator:"notDeepEqual",stackStartFn:W})},Y.deepStrictEqual=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");P===void 0&&q(),O(D,K)||Z({actual:D,expected:K,message:z,operator:"deepStrictEqual",stackStartFn:W})},Y.notDeepStrictEqual=h;function h(W,D,K){if(arguments.length<2)throw new f("actual","expected");P===void 0&&q(),O(W,D)&&Z({actual:W,expected:D,message:K,operator:"notDeepStrictEqual",stackStartFn:h})}Y.strictEqual=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");R(D,K)||Z({actual:D,expected:K,message:z,operator:"strictEqual",stackStartFn:W})},Y.notStrictEqual=function W(D,K,z){if(arguments.length<2)throw new f("actual","expected");R(D,K)&&Z({actual:D,expected:K,message:z,operator:"notStrictEqual",stackStartFn:W})};var p=e(function W(D,K,z){var G=this;r(this,W),K.forEach(function(te){te in D&&(z!==void 0&&typeof z[te]=="string"&&x(D[te])&&C(D[te],z[te])?G[te]=z[te]:G[te]=D[te])})});function m(W,D,K,z,G,te){if(!(K in W)||!O(W[K],D[K])){if(!z){var ie=new p(W,G),J=new p(D,G,W),V=new d({actual:ie,expected:J,operator:"deepStrictEqual",stackStartFn:te});throw V.actual=W,V.expected=D,V.operator=te.name,V}Z({actual:W,expected:D,message:z,operator:te.name,stackStartFn:te})}}function v(W,D,K,z){if(typeof D!="function"){if(x(D))return C(D,W);if(arguments.length===2)throw new o("expected",["Function","RegExp"],D);if(t(W)!=="object"||W===null){var G=new d({actual:W,expected:D,message:K,operator:"deepStrictEqual",stackStartFn:z});throw G.operator=z.name,G}var te=Object.keys(D);if(D instanceof Error)te.push("name","message");else if(te.length===0)throw new a("error",D,"may not be an empty object");return P===void 0&&q(),te.forEach(function(ie){typeof W[ie]=="string"&&x(D[ie])&&C(D[ie],W[ie])||m(W,D,ie,K,te,z)}),!0}return D.prototype!==void 0&&W instanceof D?!0:Error.isPrototypeOf(D)?!1:D.call({},W)===!0}function _(W){if(typeof W!="function")throw new o("fn","Function",W);try{W()}catch(D){return D}return X}function T(W){return A(W)||W!==null&&t(W)==="object"&&typeof W.then=="function"&&typeof W.catch=="function"}function w(W){return Promise.resolve().then(function(){var D;if(typeof W=="function"){if(D=W(),!T(D))throw new u("instance of Promise","promiseFn",D)}else if(T(W))D=W;else throw new o("promiseFn",["Function","Promise"],W);return Promise.resolve().then(function(){return D}).then(function(){return X}).catch(function(K){return K})})}function l(W,D,K,z){if(typeof K=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],K);if(t(D)==="object"&&D!==null){if(D.message===K)throw new s("error/message",'The error message "'.concat(D.message,'" is identical to the message.'))}else if(D===K)throw new s("error/message",'The error "'.concat(D,'" is identical to the message.'));z=K,K=void 0}else if(K!=null&&t(K)!=="object"&&typeof K!="function")throw new o("error",["Object","Error","Function","RegExp"],K);if(D===X){var G="";K&&K.name&&(G+=" (".concat(K.name,")")),G+=z?": ".concat(z):".";var te=W.name==="rejects"?"rejection":"exception";Z({actual:void 0,expected:K,operator:W.name,message:"Missing expected ".concat(te).concat(G),stackStartFn:W})}if(K&&!v(D,K,z,W))throw D}function S(W,D,K,z){if(D!==X){if(typeof K=="string"&&(z=K,K=void 0),!K||v(D,K)){var G=z?": ".concat(z):".",te=W.name==="doesNotReject"?"rejection":"exception";Z({actual:D,expected:K,operator:W.name,message:"Got unwanted ".concat(te).concat(G,`
`)+'Actual message: "'.concat(D&&D.message,'"'),stackStartFn:W})}throw D}}Y.throws=function W(D){for(var K=arguments.length,z=new Array(K>1?K-1:0),G=1;G<K;G++)z[G-1]=arguments[G];l.apply(void 0,[W,_(D)].concat(z))},Y.rejects=function W(D){for(var K=arguments.length,z=new Array(K>1?K-1:0),G=1;G<K;G++)z[G-1]=arguments[G];return w(D).then(function(te){return l.apply(void 0,[W,te].concat(z))})},Y.doesNotThrow=function W(D){for(var K=arguments.length,z=new Array(K>1?K-1:0),G=1;G<K;G++)z[G-1]=arguments[G];S.apply(void 0,[W,_(D)].concat(z))},Y.doesNotReject=function W(D){for(var K=arguments.length,z=new Array(K>1?K-1:0),G=1;G<K;G++)z[G-1]=arguments[G];return w(D).then(function(te){return S.apply(void 0,[W,te].concat(z))})},Y.ifError=function W(D){if(D!=null){var K="ifError got unwanted exception: ";t(D)==="object"&&typeof D.message=="string"?D.message.length===0&&D.constructor?K+=D.constructor.name:K+=D.message:K+=y(D);var z=new d({actual:D,expected:null,operator:"ifError",message:K,stackStartFn:W}),G=D.stack;if(typeof G=="string"){var te=G.split(`
`);te.shift();for(var ie=z.stack.split(`
`),J=0;J<te.length;J++){var V=ie.indexOf(te[J]);if(V!==-1){ie=ie.slice(0,V);break}}z.stack="".concat(ie.join(`
`),`
`).concat(te.join(`
`))}throw z}};function N(W,D,K,z,G){if(!x(D))throw new o("regexp","RegExp",D);var te=G==="match";if(typeof W!="string"||C(D,W)!==te){if(K instanceof Error)throw K;var ie=!K;K=K||(typeof W!="string"?'The "string" argument must be of type string. Received type '+"".concat(t(W)," (").concat(y(W),")"):(te?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(y(D),`. Input:

`).concat(y(W),`
`));var J=new d({actual:W,expected:D,message:K,operator:G,stackStartFn:z});throw J.generatedMessage=ie,J}}Y.match=function W(D,K,z){N(D,K,z,W,"match")},Y.doesNotMatch=function W(D,K,z){N(D,K,z,W,"doesNotMatch")};function F(){for(var W=arguments.length,D=new Array(W),K=0;K<W;K++)D[K]=arguments[K];I.apply(void 0,[F,D.length].concat(D))}return Y.strict=k(F,Y,{equal:Y.strictEqual,deepEqual:Y.deepStrictEqual,notEqual:Y.notStrictEqual,notDeepEqual:Y.notDeepStrictEqual}),Y.strict.strict=Y.strict,l5.exports}Object.defineProperty(qn,"__esModule",{value:!0});qn.isElementCollectionFixedSizeBeet=qn.isFixableBeet=qn.assertFixedSizeBeet=qn.isFixedSizeBeet=qn.BEET_TYPE_ARG_INNER=qn.BEET_TYPE_ARG_LEN=qn.BEET_PACKAGE=void 0;const pft=Ou();qn.BEET_PACKAGE="@metaplex-foundation/beet";qn.BEET_TYPE_ARG_LEN="len";qn.BEET_TYPE_ARG_INNER="Beet<{innner}>";function Mpe(t){return Object.keys(t).includes("byteSize")}qn.isFixedSizeBeet=Mpe;function gft(t,e=`${t} should have been a fixed beet`){(0,pft.strict)(Mpe(t),e)}qn.assertFixedSizeBeet=gft;function mft(t){return typeof t.toFixedFromData=="function"&&typeof t.toFixedFromValue=="function"}qn.isFixableBeet=mft;function yft(t){const e=Object.keys(t);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}qn.isElementCollectionFixedSizeBeet=yft;var yg={};(function(t){var e=Lt&&Lt.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.numbersTypeMap=t.bool=t.i512=t.i256=t.i128=t.i64=t.i32=t.i16=t.i8=t.u512=t.u256=t.u128=t.u64=t.u32=t.u16=t.u8=void 0;const r=e(Jm),n=qn;t.u8={write:function(o,a,u){o.writeUInt8(u,a)},read:function(o,a){return o.readUInt8(a)},byteSize:1,description:"u8"},t.u16={write:function(o,a,u){o.writeUInt16LE(u,a)},read:function(o,a){return o.readUInt16LE(a)},byteSize:2,description:"u16"},t.u32={write:function(o,a,u){o.writeUInt32LE(u,a)},read:function(o,a){return o.readUInt32LE(a)},byteSize:4,description:"u32"};function i(o,a){return{write:function(u,f,d){const y=(r.default.isBN(d)?d:new r.default(d)).toArray("le",this.byteSize);Ie.Buffer.from(y).copy(u,f,0,this.byteSize)},read:function(u,f){const d=u.slice(f,f+this.byteSize);return new r.default(d,"le")},byteSize:o,description:a}}t.u64=i(8,"u64"),t.u128=i(16,"u128"),t.u256=i(32,"u256"),t.u512=i(64,"u512"),t.i8={write:function(o,a,u){o.writeInt8(u,a)},read:function(o,a){return o.readInt8(a)},byteSize:1,description:"i8"},t.i16={write:function(o,a,u){o.writeInt16LE(u,a)},read:function(o,a){return o.readInt16LE(a)},byteSize:2,description:"i16"},t.i32={write:function(o,a,u){o.writeInt32LE(u,a)},read:function(o,a){return o.readInt32LE(a)},byteSize:4,description:"i32"};function s(o,a){const u=o*8;return{write:function(f,d,g){const b=(r.default.isBN(g)?g:new r.default(g)).toTwos(u).toArray("le",this.byteSize);Ie.Buffer.from(b).copy(f,d,0,this.byteSize)},read:function(f,d){const g=f.slice(d,d+this.byteSize);return new r.default(g,"le").fromTwos(u)},byteSize:o,description:a}}t.i64=s(8,"i64"),t.i128=s(16,"i128"),t.i256=s(32,"i256"),t.i512=s(64,"i512"),t.bool={write:function(o,a,u){const f=u?1:0;t.u8.write(o,a,f)},read:function(o,a){return t.u8.read(o,a)===1},byteSize:1,description:"bool"},t.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE}}})(yg);var Oi={},iD={exports:{}},D5,Lee;function bft(){if(Lee)return D5;Lee=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;D5=function(d,g){g=g||{};var y=typeof d;if(y==="string"&&d.length>0)return o(d);if(y==="number"&&isFinite(d))return g.long?u(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(g){var y=parseFloat(g[1]),b=(g[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return y*s;case"weeks":case"week":case"w":return y*i;case"days":case"day":case"d":return y*n;case"hours":case"hour":case"hrs":case"hr":case"h":return y*r;case"minutes":case"minute":case"mins":case"min":case"m":return y*e;case"seconds":case"second":case"secs":case"sec":case"s":return y*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function a(d){var g=Math.abs(d);return g>=n?Math.round(d/n)+"d":g>=r?Math.round(d/r)+"h":g>=e?Math.round(d/e)+"m":g>=t?Math.round(d/t)+"s":d+"ms"}function u(d){var g=Math.abs(d);return g>=n?f(d,g,n,"day"):g>=r?f(d,g,r,"hour"):g>=e?f(d,g,e,"minute"):g>=t?f(d,g,t,"second"):d+" ms"}function f(d,g,y,b){var A=g>=y*1.5;return Math.round(d/y)+" "+b+(A?"s":"")}return D5}function vft(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=a,r.humanize=bft(),r.destroy=f,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let g=0;for(let y=0;y<d.length;y++)g=(g<<5)-g+d.charCodeAt(y),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=e;function r(d){let g,y=null,b,A;function x(...k){if(!x.enabled)return;const R=x,C=Number(new Date),P=C-(g||C);R.diff=P,R.prev=g,R.curr=C,g=C,k[0]=r.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let O=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(Q,Y)=>{if(Q==="%%")return"%";O++;const X=r.formatters[Y];if(typeof X=="function"){const Z=k[O];Q=X.call(R,Z),k.splice(O,1),O--}return Q}),r.formatArgs.call(R,k),(R.log||r.log).apply(R,k)}return x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(b!==r.namespaces&&(b=r.namespaces,A=r.enabled(d)),A),set:k=>{y=k}}),typeof r.init=="function"&&r.init(x),x}function n(d,g){const y=r(this.namespace+(typeof g>"u"?":":g)+d);return y.log=this.log,y}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];const g=(typeof d=="string"?d:"").trim().replace(" ",",").split(",").filter(Boolean);for(const y of g)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function s(d,g){let y=0,b=0,A=-1,x=0;for(;y<d.length;)if(b<g.length&&(g[b]===d[y]||g[b]==="*"))g[b]==="*"?(A=b,x=y,b++):(y++,b++);else if(A!==-1)b=A+1,x++,y=x;else return!1;for(;b<g.length&&g[b]==="*";)b++;return b===g.length}function o(){const d=[...r.names,...r.skips.map(g=>"-"+g)].join(",");return r.enable(""),d}function a(d){for(const g of r.skips)if(s(d,g))return!1;for(const g of r.names)if(s(d,g))return!0;return!1}function u(d){return d instanceof Error?d.stack||d.message:d}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var wft=vft;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let f=!1;return()=>{f||(f=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let f;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(f=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(f[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;f.splice(1,0,d,"color: inherit");let g=0,y=0;f[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(g++,b==="%c"&&(y=g))}),f.splice(y,0,d)}e.log=console.debug||console.log||(()=>{});function s(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch{}}function o(){let f;try{f=e.storage.getItem("debug")}catch{}return!f&&typeof Ie.process<"u"&&"env"in Ie.process&&(f=r.DEBUG),f}function a(){try{return localStorage}catch{}}t.exports=wft(e);const{formatters:u}=t.exports;u.j=function(f){try{return JSON.stringify(f)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(iD,iD.exports);var Cpe=iD.exports,Dee={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},Fee={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},k$={},T$={},I2={};Object.keys(Dee).forEach(function(t){var e=k$[t]="\x1B["+Dee[t]+"m",r=T$[t]="\x1B[39m";I2[t]=function(n){return e+n+r}});Object.keys(Fee).forEach(function(t){var e=k$[t]="\x1B["+Fee[t]+"m",r=T$[t]="\x1B[49m";I2[t]=function(n){return e+n+r}});var Ppe=I2;I2.open=k$;I2.close=T$;var Npe=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.UnreachableCaseError=Oi.stringify=Oi.bytes=Oi.beetBytes=Oi.logTrace=Oi.logDebug=Oi.logInfo=Oi.logError=void 0;const oR=Npe(Cpe),Sft=Npe(Ppe),$ee=qn,{brightBlack:Bpe}=Sft.default;Oi.logError=(0,oR.default)("beet:error");Oi.logInfo=(0,oR.default)("beet:info");Oi.logDebug=(0,oR.default)("beet:debug");Oi.logTrace=(0,oR.default)("beet:trace");function _ft(t,e=!1){let r;if((0,$ee.isFixableBeet)(t))r="? B";else if((0,$ee.isElementCollectionFixedSizeBeet)(t)){const n=e?"length":t.length,i=t.lenPrefixByteSize;r=i>0?`${i} + (${t.elementByteSize} * ${n}) B  (${t.byteSize} B)`:`(${t.elementByteSize} * ${n}) B (${t.byteSize} B)`}else r=`${t.byteSize} B`;return Bpe(r)}Oi.beetBytes=_ft;function Aft(t){return Bpe(`${t} B`)}Oi.bytes=Aft;function xft(t){return t.toString==="function"?t.toString():t}Oi.stringify=xft;class Eft extends Error{constructor(e){super(`Unreachable case: ${e}`)}}Oi.UnreachableCaseError=Eft;var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.fixBeetFromValue=Hf.fixBeetFromData=void 0;const gI=qn,Ope=Oi;function kft(t,e,r){if((0,gI.isFixedSizeBeet)(t))return t;if((0,gI.isFixableBeet)(t))return t.toFixedFromData(e,r);throw new Ope.UnreachableCaseError(t)}Hf.fixBeetFromData=kft;function Tft(t,e){if((0,gI.isFixedSizeBeet)(t))return t;if((0,gI.isFixableBeet)(t))return t.toFixedFromValue(e);throw new Ope.UnreachableCaseError(t)}Hf.fixBeetFromValue=Tft;Object.defineProperty(ro,"__esModule",{value:!0});ro.collectionsTypeMap=ro.uint8Array=ro.fixedSizeUint8Array=ro.fixedSizeBuffer=ro.array=ro.fixedSizeArray=ro.uniformFixedSizeArray=void 0;const Qy=qn,Dm=Ou(),bg=yg,Jy=qn,Lpe=Oi,Uee=Hf;function Ift(t,e,r=!1){const n=t.byteSize*e,i=r?4+n:n;return{write:function(s,o,a){Dm.strict.equal(a.length,e,`array length ${a.length} should match len ${e}`),r&&(bg.u32.write(s,o,e),o+=4);for(let u=0;u<e;u++)t.write(s,o+u*t.byteSize,a[u])},read:function(s,o){if(r){const u=bg.u32.read(s,o);Dm.strict.equal(u,e,"invalid byte size"),o+=4}const a=new Array(e);for(let u=0;u<e;u++)a[u]=t.read(s,o+u*t.byteSize);return a},byteSize:i,length:e,elementByteSize:t.byteSize,lenPrefixByteSize:4,description:`Array<${t.description}>(${e})`}}ro.uniformFixedSizeArray=Ift;function sD(t,e){const r=t.length,n=r===0?"<EMPTY>":t[0].description;return{write:function(i,s,o){Dm.strict.equal(o.length,r,`array length ${o.length} should match len ${r}`),bg.u32.write(i,s,r);let a=s+4;for(let u=0;u<r;u++){const f=t[u];f.write(i,a,o[u]),a+=f.byteSize}},read:function(i,s){const o=bg.u32.read(i,s);Dm.strict.equal(o,r,"invalid byte size");let a=s+4;const u=new Array(r);for(let f=0;f<r;f++){const d=t[f];u[f]=d.read(i,a),a+=d.byteSize}return u},byteSize:4+e,length:r,description:`Array<${n}>(${r})[ 4 + ${e} ]`}}ro.fixedSizeArray=sD;function Rft(t){return{toFixedFromData(e,r){const n=bg.u32.read(e,r);(0,Lpe.logTrace)(`${this.description}[${n}]`);const i=r+4;let s=i;const o=new Array(n);for(let a=0;a<n;a++){const u=(0,Uee.fixBeetFromData)(t,e,s);o[a]=u,s+=u.byteSize}return sD(o,s-i)},toFixedFromValue(e){(0,Dm.strict)(Array.isArray(e),`${e} should be an array`);let r=0;const n=new Array(e.length);for(let i=0;i<e.length;i++){const s=(0,Uee.fixBeetFromValue)(t,e[i]);n[i]=s,r+=s.byteSize}return sD(n,r)},description:"array"}}ro.array=Rft;function Dpe(t){return{write:function(e,r,n){n.copy(e,r,0,t)},read:function(e,r){return e.slice(r,r+t)},byteSize:t,description:`Buffer(${t})`}}ro.fixedSizeBuffer=Dpe;function oD(t,e=!1){const r=Dpe(t),n=e?t+4:t;return{write:function(i,s,o){Dm.strict.equal(o.byteLength,t,`Uint8Array length ${o.byteLength} should match len ${t}`),e&&(bg.u32.write(i,s,t),s+=4);const a=Ie.Buffer.from(o);r.write(i,s,a)},read:function(i,s){if(e){const a=bg.u32.read(i,s);Dm.strict.equal(a,t,"invalid byte size"),s+=4}const o=r.read(i,s);return Uint8Array.from(o)},byteSize:n,description:`Uint8Array(${t})`}}ro.fixedSizeUint8Array=oD;ro.uint8Array={toFixedFromData(t,e){const r=bg.u32.read(t,e);return(0,Lpe.logTrace)(`${this.description}[${r}]`),oD(r,!0)},toFixedFromValue(t){const e=t.byteLength;return oD(e,!0)},description:"Uint8Array"};ro.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:Jy.BEET_PACKAGE,ts:"Array",arg:Qy.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:Jy.BEET_PACKAGE,ts:"Array",arg:Qy.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:Jy.BEET_PACKAGE,ts:"Array",arg:Qy.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:Jy.BEET_PACKAGE,ts:"Buffer",arg:Qy.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:Jy.BEET_PACKAGE,ts:"Uint8Array",arg:Qy.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:Jy.BEET_PACKAGE,ts:"Uint8Array",arg:Qy.BEET_TYPE_ARG_LEN}};var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.compositesTypeMap=pa.coption=pa.coptionSome=pa.coptionNone=pa.isNoneBuffer=pa.isSomeBuffer=void 0;const ox=Ou(),aD=qn,zee=qn,Fpe=Oi,Wee=Hf,$pe=0,Upe=1;function I$(t,e){return t[e]===Upe}pa.isSomeBuffer=I$;function R$(t,e){return t[e]===$pe}pa.isNoneBuffer=R$;function uD(t){return(0,Fpe.logTrace)(`coptionNone(${t})`),{write:function(e,r,n){(0,ox.strict)(n==null,"coptionNone can only handle `null` values"),e[r]=$pe},read:function(e,r){return(0,ox.strict)(R$(e,r),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${t})>`}}pa.coptionNone=uD;function cD(t){const e=1+t.byteSize,r={write:function(n,i,s){(0,aD.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling write`),(0,ox.strict)(s!=null,"coptionSome cannot handle `null` values"),n[i]=Upe,t.write(n,i+1,s)},read:function(n,i){return(0,aD.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling read`),(0,ox.strict)(I$(n,i),"coptionSome can only handle `SOME` data"),t.read(n,i+1)},description:`COption<${t.description}>[1 + ${t.byteSize}]`,byteSize:e,inner:t};return(0,Fpe.logTrace)(r.description),r}pa.coptionSome=cD;function Mft(t){return{toFixedFromData(e,r){if(I$(e,r)){const n=(0,Wee.fixBeetFromData)(t,e,r+1);return cD(n)}else return(0,ox.strict)(R$(e,r),`Expected ${e} to hold a COption`),uD(t.description)},toFixedFromValue(e){return e==null?uD(t.description):cD((0,Wee.fixBeetFromValue)(t,e))},description:`COption<${t.description}>`}}pa.coption=Mft;pa.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:zee.BEET_PACKAGE,ts:"COption<Inner>",arg:aD.BEET_TYPE_ARG_INNER,pack:zee.BEET_PACKAGE}};var lD={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringTypeMap=t.utf8String=t.fixedSizeUtf8String=void 0;const e=qn,r=Ou(),n=yg,i=Oi,s=o=>({write:function(a,u,f){const d=Ie.Buffer.from(f,"utf8");r.strict.equal(d.byteLength,o,`${f} has invalid byte size`),n.u32.write(a,u,o),d.copy(a,u+4,0,o)},read:function(a,u){const f=n.u32.read(a,u);return r.strict.equal(f,o,"invalid byte size"),a.slice(u+4,u+4+o).toString("utf8")},elementByteSize:1,length:o,lenPrefixByteSize:4,byteSize:4+o,description:`Utf8String(4 + ${o})`});t.fixedSizeUtf8String=s,t.utf8String={toFixedFromData(o,a){const u=n.u32.read(o,a);return(0,i.logTrace)(`${this.description}[${u}]`),(0,t.fixedSizeUtf8String)(u)},toFixedFromValue(o){const a=Ie.Buffer.from(o).byteLength;return(0,t.fixedSizeUtf8String)(a)},description:"Utf8String"},t.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:e.BEET_PACKAGE,ts:"string",arg:e.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:e.BEET_PACKAGE,ts:"string"}}})(lD);var ul={},Of={},Fm={};Object.defineProperty(Fm,"__esModule",{value:!0});Fm.BeetReader=Fm.BeetWriter=void 0;const Cft=Ou();class Pft{constructor(e){this.buf=Ie.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&Cft.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,r){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,r),this._offset+=e.byteSize}writeStruct(e,r){for(const[n,i]of r){const s=e[n];this.write(i,s)}}}Fm.BeetWriter=Pft;class Nft{constructor(e,r=0){this.buffer=e,this._offset=r}get offset(){return this._offset}read(e){const r=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,r}readStruct(e){const r={};for(const[n,i]of e)r[n]=this.read(i);return r}}Fm.BeetReader=Nft;Object.defineProperty(Of,"__esModule",{value:!0});Of.BeetArgsStruct=Of.isBeetStruct=Of.BeetStruct=void 0;const Kee=Fm,_d=Oi;class vg{constructor(e,r,n=vg.description){if(this.fields=e,this.construct=r,this.description=n,this.byteSize=this.getByteSize(),_d.logDebug.enabled){const i=e.map(([s,o])=>`${String(s)}: ${o.description} ${(0,_d.beetBytes)(o)}`).join(`
  `);(0,_d.logDebug)(`struct ${n} {
  ${i}
} ${(0,_d.beetBytes)(this)}`)}}read(e,r){const[n]=this.deserialize(e,r);return n}write(e,r,n){const[i,s]=this.serialize(n);i.copy(e,r,0,s)}deserialize(e,r=0){_d.logTrace.enabled&&((0,_d.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,_d.logTrace)(e),(0,_d.logTrace)(e.toJSON().data));const n=new Kee.BeetReader(e,r),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,r=this.byteSize){(0,_d.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,r);const n=new Kee.BeetWriter(r);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[r,n])=>e+n.byteSize,0)}get type(){return vg.TYPE}}Of.BeetStruct=vg;vg.description="BeetStruct";vg.TYPE="BeetStruct";function Bft(t){return t.type===vg.TYPE}Of.isBeetStruct=Bft;class aR extends vg{constructor(e,r=aR.description){super(e,n=>n,r)}}Of.BeetArgsStruct=aR;aR.description="BeetArgsStruct";var Ah={},Oft=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.FixableBeetArgsStruct=Ah.isFixableBeetStruct=Ah.FixableBeetStruct=void 0;const jee=Hf,Pk=Of,Lft=qn,Dft=Ou(),F5=Oi,Fft=Oft(Ppe),{brightBlack:$ft}=Fft.default;class xf{constructor(e,r,n=xf.description){this.fields=e,this.construct=r,this.description=n;let i=0;if(F5.logDebug.enabled){const s=e.map(([a,u])=>((0,Lft.isFixedSizeBeet)(u)&&(i+=u.byteSize),`${a}: ${u.description} ${(0,F5.beetBytes)(u)}`)).join(`
  `),o=`> ${i} B`;(0,F5.logDebug)(`struct ${n} {
  ${s}
} ${$ft(o)}`)}}deserialize(e,r=0){return this.toFixedFromData(e,r).deserialize(e,r)}serialize(e,r){return this.toFixedFromValue(e).serialize(e,r)}toFixedFromData(e,r){let n=r;const i=new Array(this.fields.length);for(let s=0;s<this.fields.length;s++){const[o,a]=this.fields[s],u=(0,jee.fixBeetFromData)(a,e,n);i[s]=[o,u],n+=u.byteSize}return this.description!==xf.description?new Pk.BeetStruct(i,this.construct,this.description):new Pk.BeetStruct(i,this.construct)}toFixedFromValue(e){const r=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){const[s,o]=this.fields[i];(0,Dft.strict)(r.includes(s),`Value with keys [ ${r} ] should include struct key '${s}' but doesn't.`);const a=e[s],u=(0,jee.fixBeetFromValue)(o,a);n[i]=[s,u]}return this.description!==xf.description?new Pk.BeetStruct(n,this.construct,this.description):new Pk.BeetStruct(n,this.construct)}get type(){return xf.TYPE}}Ah.FixableBeetStruct=xf;xf.description="FixableBeetStruct";xf.TYPE="FixableBeetStruct";function Uft(t){return t.type===xf.TYPE}Ah.isFixableBeetStruct=Uft;class uR extends xf{constructor(e,r=uR.description){super(e,n=>n,r)}}Ah.FixableBeetArgsStruct=uR;uR.description="FixableBeetArgsStruct";var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.unitTypeMap=wg.unit=void 0;const zft=qn;wg.unit={write:function(t,e,r){},read:function(t,e){},byteSize:0,description:"unit"};wg.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:zft.BEET_PACKAGE,ts:"void"}};Object.defineProperty(ul,"__esModule",{value:!0});ul.enumsTypeMap=ul.dataEnum=ul.uniformDataEnum=ul.fixedScalarEnum=void 0;const kp=qn,cl=yg,ab=Ou(),Wft=Of,Kft=Ah,jft=wg;function Hee(t,e){return e?`${t}`:t}function Hft(t){const e=Object.keys(t);return{write(r,n,i){const s=typeof i=="number",o=Hee(i,s);if(e.includes(o)||ab.strict.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),s)cl.u8.write(r,n,i);else{const a=t[o];cl.u8.write(r,n,a)}},read(r,n){const i=cl.u8.read(r,n),s=typeof i=="number",o=Hee(i,s);return e.includes(o)||ab.strict.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),s?i:t[o]},byteSize:cl.u8.byteSize,description:"Enum"}}ul.fixedScalarEnum=Hft;function qft(t){return{write:function(e,r,n){cl.u8.write(e,r,n.kind),t.write(e,r+1,n.data)},read:function(e,r){const n=cl.u8.read(e,r),i=t.read(e,r+1);return{kind:n,data:i}},byteSize:1+t.byteSize,description:`UniformDataEnum<${t.description}>`}}ul.uniformDataEnum=qft;function qee(t,e,r){return{write(n,i,s){cl.u8.write(n,i,e),t.write(n,i+cl.u8.byteSize,s)},read(n,i){const s=t.read(n,i+cl.u8.byteSize);return{__kind:r,...s}},byteSize:t.byteSize+cl.u8.byteSize,description:`EnumData<${t.description}>`}}function Vft(t){for(const[e,r]of t)(0,ab.strict)((0,Wft.isBeetStruct)(r)||(0,Kft.isFixableBeetStruct)(r)||r===jft.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,r){const n=cl.u8.read(e,r),i=t[n];(0,ab.strict)(i!=null,`Discriminant ${n} out of range for ${t.length} variants`);const[s,o]=i,a=(0,kp.isFixedSizeBeet)(o)?o:o.toFixedFromData(e,r+1);return qee(a,n,s)},toFixedFromValue(e){if(e.__kind==null){const f=Object.keys(e).join(", "),d=t.map(([g])=>g).join(", ");ab.strict.fail(`Value with fields [ ${f} ] is missing __kind, which needs to be set to one of [ ${d} ]`)}const r=t.findIndex(([f])=>f===e.__kind);if(r<0){const f=t.map(([d])=>d).join(", ");ab.strict.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${f} ]`)}const n=t[r],{__kind:i,...s}=e,[o,a]=n,u=(0,kp.isFixedSizeBeet)(a)?a:a.toFixedFromValue(s);return qee(u,r,o)},description:`DataEnum<${t.length} variants>`}}ul.dataEnum=Vft;ul.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:kp.BEET_PACKAGE,ts:"<TypeName>",arg:kp.BEET_TYPE_ARG_INNER,pack:kp.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:kp.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:kp.BEET_TYPE_ARG_INNER,pack:kp.BEET_PACKAGE}};var $m={};Object.defineProperty($m,"__esModule",{value:!0});$m.aliasesTypeMap=$m.bytes=void 0;const zpe=ro;$m.bytes=zpe.uint8Array;$m.aliasesTypeMap={bytes:zpe.collectionsTypeMap.Uint8Array};var xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.tuplesTypeMap=xh.tuple=xh.fixedSizeTuple=void 0;const Vee=qn,fD=Ou(),Gee=Hf;function dD(t){const e=t.length,r=t.map(s=>s.description),n=t.map(s=>s.byteSize),i=n.reduce((s,o)=>s+o,0);return{write:function(s,o,a){fD.strict.equal(a.length,e,`tuple value element size ${a.length} should match len ${e}`);let u=o;for(let f=0;f<e;f++){const d=a[f],g=t[f];g.write(s,u,d),u+=g.byteSize}},read:function(s,o){const a=[];let u=o;for(let f=0;f<e;f++){const d=t[f];a[f]=d.read(s,u),u+=d.byteSize}return a},byteSize:i,length:e,description:`FixedSizeTuple<${r.join(",")}>[ ${n.join(", ")} ]`}}xh.fixedSizeTuple=dD;function Gft(t){const e=t.length,r=t.map(n=>n.description);return{toFixedFromData(n,i){let s=i;const o=new Array(e);for(let a=0;a<e;a++){const u=(0,Gee.fixBeetFromData)(t[a],n,s);o[a]=u,s+=u.byteSize}return dD(o)},toFixedFromValue(n){(0,fD.strict)(Array.isArray(n),`${n} should be an array of tuple values`),fD.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);const i=new Array(e);for(let s=0;s<n.length;s++){const o=(0,Gee.fixBeetFromValue)(t[s],n[s]);i[s]=o}return dD(i)},description:`Tuple<${r.join(",")}>`}}xh.tuple=Gft;xh.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:Vee.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:Vee.BEET_PACKAGE,ts:"[__tuple_elements__]"}};var Um={};Object.defineProperty(Um,"__esModule",{value:!0});Um.mapsTypeMap=Um.map=void 0;const ax=qn,hD=yg,Yft=Oi,$5=Ou();function Nk(t,e,r,n){const i=(0,ax.isFixedSizeBeet)(t),s=(0,ax.isFixedSizeBeet)(e);function o(){if(i&&s){const f=t.byteSize+e.byteSize;return{elementByteSize:f,byteSize:4+n*f}}else if(i){let f=0;for(const[g,y]of r.values())f+=y.byteSize;return{elementByteSize:t.byteSize+Math.ceil(f/n),byteSize:4+t.byteSize*n+f}}else if(s){let f=0;for(const[g,y]of r.values())f+=g.byteSize;return{elementByteSize:Math.ceil(f/n)+e.byteSize,byteSize:4+f+e.byteSize*n}}else{let f=0,d=0;for(const[y,b]of r.values())f+=y.byteSize,d+=b.byteSize;return{elementByteSize:Math.ceil(f/n+d/n),byteSize:4+f+d}}}const{elementByteSize:a,byteSize:u}=o();return{write:function(f,d,g){let y=d+4,b=0;for(const[A,x]of g.entries()){let k=i?t:null,R=s?e:null;if(k==null||R==null){const C=r.get(A);(0,$5.strict)(C!=null,`Should be able to find beet els for ${(0,Yft.stringify)(A)}, but could not`),k??(k=C[0]),R??(R=C[1])}k.write(f,y,A),y+=k.byteSize,R.write(f,y,x),y+=R.byteSize,b++}hD.u32.write(f,d,b),$5.strict.equal(b,n,`Expected map to have size ${n}, but has ${b}.`)},read:function(f,d){const g=hD.u32.read(f,d);$5.strict.equal(g,n,`Expected map to have size ${n}, but has ${g}.`);let y=d+4;const b=new Map;for(let A=0;A<g;A++){const x=i?t:t.toFixedFromData(f,y),k=x.read(f,y);y+=x.byteSize;const R=s?e:e.toFixedFromData(f,y),C=R.read(f,y);y+=R.byteSize,b.set(k,C)}return b},elementByteSize:a,byteSize:u,length:n,lenPrefixByteSize:4,description:`Map<${t.description}, ${e.description}>`}}function Zft(t,e){const r=(0,ax.isFixedSizeBeet)(t),n=(0,ax.isFixedSizeBeet)(e);return{toFixedFromData(i,s){const o=hD.u32.read(i,s);let a=s+4;if(r&&n)return Nk(t,e,new Map,o);const u=new Map;for(let f=0;f<o;f++){const d=r?t:t.toFixedFromData(i,a),g=d.read(i,a);a+=d.byteSize;const y=n?e:e.toFixedFromData(i,a);a+=y.byteSize,u.set(g,[d,y])}return Nk(t,e,u,o)},toFixedFromValue(i){const s=i.size;if(r&&n)return Nk(t,e,new Map,s);const o=new Map;for(const[a,u]of i){const f=r?t:t.toFixedFromValue(a),d=n?e:e.toFixedFromValue(u);o.set(a,[f,d])}return Nk(t,e,o,s)},description:`FixableMap<${t.description}, ${e.description}>`}}Um.map=Zft;Um.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:ax.BEET_PACKAGE,ts:"Map"}};var zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.setsTypeMap=zm.set=void 0;const M$=qn,pD=yg,Xft=Oi,U5=Ou();function Bk(t,e,r){const n=(0,M$.isFixedSizeBeet)(t);function i(){if(n){const a=t.byteSize;return{elementByteSize:a,byteSize:4+r*a}}else{let a=0;for(const f of e.values())a+=f.byteSize;return{elementByteSize:Math.ceil(a/r),byteSize:4+a}}}const{elementByteSize:s,byteSize:o}=i();return{write:function(a,u,f){let d=u+4,g=0;for(const y of f.keys()){let b=n?t:null;if(b==null){const A=e.get(y);(0,U5.strict)(A!=null,`Should be able to find beet el for ${(0,Xft.stringify)(y)}, but could not`),b??(b=A)}b.write(a,d,y),d+=b.byteSize,g++}pD.u32.write(a,u,g),U5.strict.equal(g,r,`Expected set to have size ${r}, but has ${g}.`)},read:function(a,u){const f=pD.u32.read(a,u);U5.strict.equal(f,r,`Expected set to have size ${r}, but has ${f}.`);let d=u+4;const g=new Set;for(let y=0;y<f;y++){const b=n?t:t.toFixedFromData(a,d),A=b.read(a,d);d+=b.byteSize,g.add(A)}return g},elementByteSize:s,byteSize:o,length:r,lenPrefixByteSize:4,description:`Set<${t.description}>`}}function Qft(t){const e=(0,M$.isFixedSizeBeet)(t);return{toFixedFromData(r,n){const i=pD.u32.read(r,n);let s=n+4;if(e)return Bk(t,new Map,i);const o=new Map;for(let a=0;a<i;a++){const u=e?t:t.toFixedFromData(r,s),f=u.read(r,s);s+=u.byteSize,o.set(f,u)}return Bk(t,o,i)},toFixedFromValue(r){const n=r.size;if(e)return Bk(t,new Map,n);const i=new Map;for(const s of r){const o=e?t:t.toFixedFromValue(s);i.set(s,o)}return Bk(t,i,n)},description:`FixableSet<${t.description}>`}}zm.set=Qft;zm.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:M$.BEET_PACKAGE,ts:"Set"}};(function(t){var e=Lt&&Lt.__createBinding||(Object.create?function(b,A,x,k){k===void 0&&(k=x);var R=Object.getOwnPropertyDescriptor(A,x);(!R||("get"in R?!A.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return A[x]}}),Object.defineProperty(b,k,R)}:function(b,A,x,k){k===void 0&&(k=x),b[k]=A[x]}),r=Lt&&Lt.__exportStar||function(b,A){for(var x in b)x!=="default"&&!Object.prototype.hasOwnProperty.call(A,x)&&e(A,b,x)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const n=ro,i=pa,s=yg,o=lD,a=ul,u=$m,f=xh,d=Um,g=wg,y=zm;r($m,t),r(ro,t),r(pa,t),r(ul,t),r(Um,t),r(yg,t),r(zm,t),r(lD,t),r(xh,t),r(wg,t),r(Hf,t),r(Fm,t),r(Of,t),r(Ah,t),r(qn,t),t.supportedTypeMap={...n.collectionsTypeMap,...o.stringTypeMap,...i.compositesTypeMap,...a.enumsTypeMap,...s.numbersTypeMap,...u.aliasesTypeMap,...f.tuplesTypeMap,...d.mapsTypeMap,...y.setsTypeMap,...g.unitTypeMap}})(L);var We={},Wm={},Jft=kw,edt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",tdt=Jft(edt);const Eo=ea(tdt),rdt=zs.utils.randomPrivateKey,Yee=()=>{const t=zs.utils.randomPrivateKey(),e=mI(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},mI=zs.getPublicKey;function Zee(t){try{return zs.ExtendedPoint.fromHex(t),!0}catch{return!1}}const C$=(t,e)=>zs.sign(t,e.slice(0,32)),ndt=zs.verify,Xr=t=>Pe.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Pe.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Pe.Buffer.from(t);class P${constructor(e){Object.assign(this,e)}encode(){return Pe.Buffer.from(Iw(fA,this))}static decode(e){return Rw(fA,this,e)}static decodeUnchecked(e){return Tw(fA,this,e)}}class idt extends P${constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const fA=new Map;var Wpe;const Kpe=32,Lf=32;function sdt(t){return t._bn!==void 0}let Xee=1;class Ot extends P${constructor(e){if(super({}),this._bn=void 0,sdt(e))this._bn=e._bn;else{if(typeof e=="string"){const r=Eo.decode(e);if(r.length!=Lf)throw new Error("Invalid public key input");this._bn=new an(r)}else this._bn=new an(e);if(this._bn.byteLength()>Lf)throw new Error("Invalid public key input")}}static unique(){const e=new Ot(Xee);return Xee+=1,new Ot(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Eo.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Pe.Buffer);if(e.length===Lf)return e;const r=Pe.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Pe.Buffer.concat([e.toBuffer(),Pe.Buffer.from(r),n.toBuffer()]),s=ru(i);return new Ot(s)}static createProgramAddressSync(e,r){let n=Pe.Buffer.alloc(0);e.forEach(function(s){if(s.length>Kpe)throw new TypeError("Max seed length exceeded");n=Pe.Buffer.concat([n,Xr(s)])}),n=Pe.Buffer.concat([n,r.toBuffer(),Pe.Buffer.from("ProgramDerivedAddress")]);const i=ru(n);if(Zee(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ot(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Pe.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Ot(e);return Zee(r.toBytes())}}Wpe=Ot;Ot.default=new Wpe("11111111111111111111111111111111");fA.set(Ot,{kind:"struct",fields:[["_bn","u256"]]});class odt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=Xr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Xr(rdt()),this._publicKey=Xr(mI(this._secretKey))}get publicKey(){return new Ot(this._publicKey)}get secretKey(){return Pe.Buffer.concat([this._secretKey,this._publicKey],64)}}const adt=new Ot("BPFLoader1111111111111111111111111111111111"),cg=1232,cR=127,ux=64;class N$ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(N$.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class B$ extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(B$.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ub extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ub.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class cx{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const on=(t="publicKey")=>At(32,t),udt=(t="signature")=>At(64,t),B0=(t="string")=>{const e=Se([xe("length"),xe("lengthPadding"),At(En(xe(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:Pe.Buffer.from(s,"utf8")};return n(u,o,a)},i.alloc=s=>xe().span+xe().span+Pe.Buffer.from(s,"utf8").length,i},cdt=(t="authorized")=>Se([on("staker"),on("withdrawer")],t),ldt=(t="lockup")=>Se([er("unixTimestamp"),er("epoch"),on("custodian")],t),fdt=(t="voteInit")=>Se([on("nodePubkey"),on("authorizedVoter"),on("authorizedWithdrawer"),st("commission")],t),ddt=(t="voteAuthorizeWithSeedArgs")=>Se([xe("voteAuthorizationType"),on("currentAuthorityDerivedKeyOwnerPubkey"),B0("currentAuthorityDerivedKeySeed"),on("newAuthorized")],t);function jpe(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return jpe({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function qa(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function Tu(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Cn(t,e){if(!t)throw new Error(e||"Assertion failed")}class lR{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new lR(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Cn(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Cn(r.length>0,"Expected at least one writable signer key");const[u]=r[0];Cn(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([u])=>new Ot(u)),...n.map(([u])=>new Ot(u)),...i.map(([u])=>new Ot(u)),...s.map(([u])=>new Ot(u))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new Ot(s),u=e.findIndex(f=>f.equals(a));u>=0&&(Cn(u<256,"Max lookup table index exceeded"),n.push(u),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const Hpe="Reached end of buffer unexpectedly";function mf(t){if(t.length===0)throw new Error(Hpe);return t.shift()}function Va(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Hpe);return t.splice(...e)}class _l{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Ot(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Eo.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new cx(this.staticAccountKeys)}static compile(e){const r=lR.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new cx(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Eo.encode(a.data)}));return new _l({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Tu(r,e);const n=this.instructions.map(g=>{const{accounts:y,programIdIndex:b}=g,A=Array.from(Eo.decode(g.data));let x=[];Tu(x,y.length);let k=[];return Tu(k,A.length),{programIdIndex:b,keyIndicesCount:Pe.Buffer.from(x),keyIndices:y,dataLength:Pe.Buffer.from(k),data:A}});let i=[];Tu(i,n.length);let s=Pe.Buffer.alloc(cg);Pe.Buffer.from(i).copy(s);let o=i.length;n.forEach(g=>{const b=Se([st("programIdIndex"),At(g.keyIndicesCount.length,"keyIndicesCount"),Vt(st("keyIndex"),g.keyIndices.length,"keyIndices"),At(g.dataLength.length,"dataLength"),Vt(st("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=b}),s=s.slice(0,o);const a=Se([At(1,"numRequiredSignatures"),At(1,"numReadonlySignedAccounts"),At(1,"numReadonlyUnsignedAccounts"),At(r.length,"keyCount"),Vt(on("key"),e,"keys"),on("recentBlockhash")]),u={numRequiredSignatures:Pe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Pe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Pe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Pe.Buffer.from(r),keys:this.accountKeys.map(g=>Xr(g.toBytes())),recentBlockhash:Eo.decode(this.recentBlockhash)};let f=Pe.Buffer.alloc(2048);const d=a.encode(u,f);return s.copy(f,d),f.slice(0,d+s.length)}static from(e){let r=[...e];const n=mf(r);if(n!==(n&cR))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=mf(r),s=mf(r),o=qa(r);let a=[];for(let y=0;y<o;y++){const b=Va(r,0,Lf);a.push(new Ot(Pe.Buffer.from(b)))}const u=Va(r,0,Lf),f=qa(r);let d=[];for(let y=0;y<f;y++){const b=mf(r),A=qa(r),x=Va(r,0,A),k=qa(r),R=Va(r,0,k),C=Eo.encode(Pe.Buffer.from(R));d.push({programIdIndex:b,accounts:x,data:C})}const g={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Eo.encode(Pe.Buffer.from(u)),accountKeys:a,instructions:d};return new _l(g)}}class Km{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new cx(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=lR.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=r.extractTableLookup(d);if(g!==void 0){const[y,{writable:b,readonly:A}]=g;n.push(y),i.writable.push(...b),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),f=new cx(a,i).compileInstructions(e.instructions);return new Km({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:f,addressTableLookups:n})}serialize(){const e=Array();Tu(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Tu(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Tu(s,this.addressTableLookups.length);const o=Se([st("prefix"),Se([st("numRequiredSignatures"),st("numReadonlySignedAccounts"),st("numReadonlyUnsignedAccounts")],"header"),At(e.length,"staticAccountKeysLength"),Vt(on(),this.staticAccountKeys.length,"staticAccountKeys"),on("recentBlockhash"),At(n.length,"instructionsLength"),At(r.length,"serializedInstructions"),At(s.length,"addressTableLookupsLength"),At(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(cg),f=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:Eo.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,f)}serializeInstructions(){let e=0;const r=new Uint8Array(cg);for(const n of this.compiledInstructions){const i=Array();Tu(i,n.accountKeyIndexes.length);const s=Array();Tu(s,n.data.length);const o=Se([st("programIdIndex"),At(i.length,"encodedAccountKeyIndexesLength"),Vt(st(),n.accountKeyIndexes.length,"accountKeyIndexes"),At(s.length,"encodedDataLength"),At(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(cg);for(const n of this.addressTableLookups){const i=Array();Tu(i,n.writableIndexes.length);const s=Array();Tu(s,n.readonlyIndexes.length);const o=Se([on("accountKey"),At(i.length,"encodedWritableIndexesLength"),Vt(st(),n.writableIndexes.length,"writableIndexes"),At(s.length,"encodedReadonlyIndexesLength"),Vt(st(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=mf(r),i=n&cR;Cn(n!==i,"Expected versioned message but received legacy message");const s=i;Cn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:mf(r),numReadonlySignedAccounts:mf(r),numReadonlyUnsignedAccounts:mf(r)},a=[],u=qa(r);for(let A=0;A<u;A++)a.push(new Ot(Va(r,0,Lf)));const f=Eo.encode(Va(r,0,Lf)),d=qa(r),g=[];for(let A=0;A<d;A++){const x=mf(r),k=qa(r),R=Va(r,0,k),C=qa(r),P=new Uint8Array(Va(r,0,C));g.push({programIdIndex:x,accountKeyIndexes:R,data:P})}const y=qa(r),b=[];for(let A=0;A<y;A++){const x=new Ot(Va(r,0,Lf)),k=qa(r),R=Va(r,0,k),C=qa(r),P=Va(r,0,C);b.push({accountKey:x,writableIndexes:R,readonlyIndexes:P})}return new Km({header:o,staticAccountKeys:a,recentBlockhash:f,compiledInstructions:g,addressTableLookups:b})}}const O$={deserializeMessageVersion(t){const e=t[0],r=e&cR;return r===e?"legacy":r},deserialize:t=>{const e=O$.deserializeMessageVersion(t);if(e==="legacy")return _l.from(t);if(e===0)return Km.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Md=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const hdt=Pe.Buffer.alloc(ux).fill(0);class fi{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Pe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Dn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new fi(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];r.forEach(x=>{x.keys.forEach(R=>{s.push({...R})});const k=x.programId.toString();i.includes(k)||i.push(k)}),i.forEach(x=>{s.push({pubkey:new Ot(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const k=x.pubkey.toString(),R=o.findIndex(C=>C.pubkey.toString()===k);R>-1?(o[R].isWritable=o[R].isWritable||x.isWritable,o[R].isSigner=o[R].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,k){if(x.isSigner!==k.isSigner)return x.isSigner?-1:1;if(x.isWritable!==k.isWritable)return x.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",R)});const a=o.findIndex(x=>x.pubkey.equals(n));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const x of this.signatures){const k=o.findIndex(R=>R.pubkey.equals(x.publicKey));if(k>-1)o[k].isSigner||(o[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,f=0,d=0;const g=[],y=[];o.forEach(({pubkey:x,isSigner:k,isWritable:R})=>{k?(g.push(x.toString()),u+=1,R||(f+=1)):(y.push(x.toString()),R||(d+=1))});const b=g.concat(y),A=r.map(x=>{const{data:k,programId:R}=x;return{programIdIndex:b.indexOf(R.toString()),accounts:x.keys.map(C=>b.indexOf(C.pubkey.toString())),data:Eo.encode(k)}});return A.forEach(x=>{Cn(x.programIdIndex>=0),x.accounts.forEach(k=>Cn(k>=0))}),new _l({header:{numRequiredSignatures:u,numReadonlySignedAccounts:f,numReadonlyUnsignedAccounts:d},accountKeys:b,recentBlockhash:e,instructions:A})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=C$(n,i.secretKey);this._addSignature(i.publicKey,Xr(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Cn(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Pe.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):ndt(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];Tu(n,r.length);const i=n.length+r.length*64+e.length,s=Pe.Buffer.alloc(i);return Cn(r.length<256),Pe.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(Cn(o.length===64,"signature has invalid length"),Pe.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),Cn(s.length<=cg,`Transaction too large: ${s.length} > ${cg}`),s}get keys(){return Cn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Cn(this.instructions.length===1),this.instructions[0].programId}get data(){return Cn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=qa(r);let i=[];for(let s=0;s<n;s++){const o=Va(r,0,ux);i.push(Eo.encode(Pe.Buffer.from(o)))}return Dn.populate(_l.from(r),i)}static populate(e,r=[]){const n=new Dn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Eo.encode(hdt)?null:Eo.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new fi({keys:s,programId:e.accountKeys[i.programIdIndex],data:Eo.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class L${constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:u}=n,f=o-a;Cn(f>0,"Message header is invalid");const d=e.staticAccountKeys.length-o-u;Cn(d>=0,"Message header is invalid");const g=e.getAccountKeys(r),y=g.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const A of i){const x=[];for(const R of A.accountKeyIndexes){const C=g.get(R);if(C===void 0)throw new Error(`Failed to find key for account key index ${R}`);const P=R<o;let O;P?O=R<f:R<g.staticAccountKeys.length?O=R-o<d:O=R-g.staticAccountKeys.length<g.accountKeysFromLookups.writable.length,x.push({pubkey:C,isSigner:R<n.numRequiredSignatures,isWritable:O})}const k=g.get(A.programIdIndex);if(k===void 0)throw new Error(`Failed to find program id for program id index ${A.programIdIndex}`);b.push(new fi({programId:k,data:Xr(A.data),keys:x}))}return new L$({payerKey:y,instructions:b,recentBlockhash:s})}compileToLegacyMessage(){return _l.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Km.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class D${get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Cn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(ux));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();Tu(r,this.signatures.length);const n=Se([At(r.length,"encodedSignaturesLength"),Vt(udt(),this.signatures.length,"signatures"),At(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=qa(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Va(r,0,ux)));const s=O$.deserialize(new Uint8Array(r));return new D$(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));Cn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=C$(r,i.secretKey)}}addSignature(e,r){Cn(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Cn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const pdt=160,gdt=64,mdt=pdt/gdt,qpe=1e3/mdt,uf=new Ot("SysvarC1ock11111111111111111111111111111111"),ydt=new Ot("SysvarEpochSchedu1e111111111111111111111111"),bdt=new Ot("Sysvar1nstructions1111111111111111111111111"),z3=new Ot("SysvarRecentB1ockHashes11111111111111111111"),pw=new Ot("SysvarRent111111111111111111111111111111111"),vdt=new Ot("SysvarRewards111111111111111111111111111111"),wdt=new Ot("SysvarS1otHashes111111111111111111111111111"),Sdt=new Ot("SysvarS1otHistory11111111111111111111111111"),W3=new Ot("SysvarStakeHistory1111111111111111111111111");class lx extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const _dt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class sr extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function gD(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,u=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new lx({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function v0(t){return new Promise(e=>setTimeout(e,t))}function Sn(t,e){const r=t.layout.span>=0?t.layout.span:jpe(t,e),n=Pe.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function jn(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const Vpe=Bt("lamportsPerSignature"),Gpe=Se([xe("version"),xe("state"),on("authorizedPubkey"),on("nonce"),Se([Vpe],"feeCalculator")]),mD=Gpe.span;class fR{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=Gpe.decode(Xr(e),0);return new fR({authorizedPubkey:new Ot(r.authorizedPubkey),nonce:new Ot(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const Adt=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},xdt=t=>e=>{const r=At(t,e),{encode:n,decode:i}=Adt(r),s=r;return s.decode=(o,a)=>{const u=i(o,a);return Pw(Pe.Buffer.from(u))},s.encode=(o,a,u)=>{const f=Mg(o,t);return n(f,a,u)},s},gw=xdt(8);class Edt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Si))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=jn(Si.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new Ot(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=jn(Si.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=jn(Si.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new Ot(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=jn(Si.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=jn(Si.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ot(r),seed:n,space:i,programId:new Ot(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=jn(Si.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ot(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=jn(Si.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ot(r),seed:n,programId:new Ot(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=jn(Si.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ot(r),seed:n,lamports:i,space:s,programId:new Ot(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=jn(Si.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ot(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),jn(Si.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=jn(Si.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=jn(Si.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ot(r)}}static checkProgramId(e){if(!e.equals(io.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Si=Object.freeze({Create:{index:0,layout:Se([xe("instruction"),er("lamports"),er("space"),on("programId")])},Assign:{index:1,layout:Se([xe("instruction"),on("programId")])},Transfer:{index:2,layout:Se([xe("instruction"),gw("lamports")])},CreateWithSeed:{index:3,layout:Se([xe("instruction"),on("base"),B0("seed"),er("lamports"),er("space"),on("programId")])},AdvanceNonceAccount:{index:4,layout:Se([xe("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([xe("instruction"),er("lamports")])},InitializeNonceAccount:{index:6,layout:Se([xe("instruction"),on("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([xe("instruction"),on("authorized")])},Allocate:{index:8,layout:Se([xe("instruction"),er("space")])},AllocateWithSeed:{index:9,layout:Se([xe("instruction"),on("base"),B0("seed"),er("space"),on("programId")])},AssignWithSeed:{index:10,layout:Se([xe("instruction"),on("base"),B0("seed"),on("programId")])},TransferWithSeed:{index:11,layout:Se([xe("instruction"),gw("lamports"),B0("seed"),on("programId")])},UpgradeNonceAccount:{index:12,layout:Se([xe("instruction")])}});class io{constructor(){}static createAccount(e){const r=Si.Create,n=Sn(r,{lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});return new fi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=Si.TransferWithSeed;r=Sn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Xr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Si.Transfer;r=Sn(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new fi({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=Si.AssignWithSeed;r=Sn(i,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,programId:Xr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Si.Assign;r=Sn(i,{programId:Xr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new fi({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Si.CreateWithSeed,n=Sn(r,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new fi({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Dn;"basePubkey"in e&&"seed"in e?r.add(io.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:mD,programId:this.programId})):r.add(io.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:mD,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=Si.InitializeNonceAccount,n=Sn(r,{authorized:Xr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:z3,isSigner:!1,isWritable:!1},{pubkey:pw,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new fi(i)}static nonceAdvance(e){const r=Si.AdvanceNonceAccount,n=Sn(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:z3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new fi(i)}static nonceWithdraw(e){const r=Si.WithdrawNonceAccount,n=Sn(r,{lamports:e.lamports});return new fi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:z3,isSigner:!1,isWritable:!1},{pubkey:pw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=Si.AuthorizeNonceAccount,n=Sn(r,{authorized:Xr(e.newAuthorizedPubkey.toBuffer())});return new fi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=Si.AllocateWithSeed;r=Sn(i,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Xr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Si.Allocate;r=Sn(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new fi({keys:n,programId:this.programId,data:r})}}io.programId=new Ot("11111111111111111111111111111111");const kdt=cg-300;class jm{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/jm.chunkSize)+1+1)}static async load(e,r,n,i,s){{const g=await e.getMinimumBalanceForRentExemption(s.length),y=await e.getAccountInfo(n.publicKey,"confirmed");let b=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==s.length&&(b=b||new Dn,b.add(io.allocate({accountPubkey:n.publicKey,space:s.length}))),y.owner.equals(i)||(b=b||new Dn,b.add(io.assign({accountPubkey:n.publicKey,programId:i}))),y.lamports<g&&(b=b||new Dn,b.add(io.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:g-y.lamports})))}else b=new Dn().add(io.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:g>0?g:1,space:s.length,programId:i}));b!==null&&await gD(e,b,[r,n],{commitment:"confirmed"})}const o=Se([xe("instruction"),xe("offset"),xe("bytesLength"),xe("bytesLengthPadding"),Vt(st("byte"),En(xe(),-8),"bytes")]),a=jm.chunkSize;let u=0,f=s,d=[];for(;f.length>0;){const g=f.slice(0,a),y=Pe.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:g,bytesLength:0,bytesLengthPadding:0},y);const b=new Dn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:y});d.push(gD(e,b,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await v0(1e3/4),u+=a,f=f.slice(a)}await Promise.all(d);{const g=Se([xe("instruction")]),y=Pe.Buffer.alloc(g.span);g.encode({instruction:1},y);const b=new Dn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:pw,isSigner:!1,isWritable:!1}],programId:i,data:y}),A="processed",x=await e.sendTransaction(b,[r,n],{preflightCommitment:A}),{context:k,value:R}=await e.confirmTransaction({signature:x,lastValidBlockHeight:b.lastValidBlockHeight,blockhash:b.recentBlockhash},A);if(R.err)throw new Error(`Transaction ${x} failed (${JSON.stringify(R)})`);for(;;){try{if(await e.getSlot({commitment:A})>k.slot)break}catch{}await new Promise(C=>setTimeout(C,Math.round(qpe/2)))}}return!0}}jm.chunkSize=kdt;const Tdt=new Ot("BPFLoader2111111111111111111111111111111111");class Idt{static getMinNumSignatures(e){return jm.getMinNumSignatures(e)}static load(e,r,n,i,s){return jm.load(e,r,n,s,i)}}function Rdt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z5,Qee;function Mdt(){if(Qee)return z5;Qee=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,u,f,d,g;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(g=t.call(n),g==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(g==="[object Object]"){for(u=e(n).sort(),o=u.length,a="",s=0;s<o;)f=u[s],d=r(n[f],!1),d!==void 0&&(a&&(a+=","),a+=JSON.stringify(f)+":"+d),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return z5=function(n){var i=r(n,!1);if(i!==void 0)return""+i},z5}var Cdt=Mdt(),Jee=Rdt(Cdt);const i_=32;function W5(t){let e=0;for(;t>1;)t/=2,e++;return e}function Pdt(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class Ype{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=W5(Pdt(e+i_+1))-W5(i_)-1,n=this.getSlotsInEpoch(r),i=e-(n-i_);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*i_:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+W5(i_)):this.slotsPerEpoch}}var Ndt=globalThis.fetch;class Bdt extends m7{constructor(e,r,n){const i=s=>{const o=g7(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function Odt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const ete=56;class yD{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=Odt(Ldt,e),n=e.length-ete;Cn(n>=0,"lookup table is invalid"),Cn(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=Se([Vt(on(),i,"addresses")]).decode(e.slice(ete));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Ot(r.authority[0]):void 0,addresses:s.map(o=>new Ot(o))}}}const Ldt={index:1,layout:Se([xe("typeIndex"),gw("deactivationSlot"),Bt("lastExtendedSlot"),st("lastExtendedStartIndex"),st(),Vt(on(),En(st(),-1),"authority")])},Ddt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Fdt(t){const e=t.match(Ddt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${n}${u}${s}`}const Xi=Cs(Tc(Ot),ve(),t=>new Ot(t)),Zpe=Ic([ve(),Rt("base64")]),F$=Cs(Tc(Pe.Buffer),Zpe,t=>Pe.Buffer.from(t[0],"base64")),Xpe=30*1e3;function $dt(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function bi(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function tte(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Qpe(t){return rr([pe({jsonrpc:Rt("2.0"),id:ve(),result:t}),pe({jsonrpc:Rt("2.0"),id:ve(),error:pe({code:Wi(),message:ve(),data:De(a6())})})])}const Udt=Qpe(Wi());function Yr(t){return Cs(Qpe(t),Udt,e=>"error"in e?e:{...e,result:Ve(e.result,t)})}function fs(t){return Yr(pe({context:pe({slot:ee()}),value:t}))}function dR(t){return pe({context:pe({slot:ee()}),value:t})}function K5(t,e){return t===0?new Km({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Ot(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Eo.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new _l(e)}const zdt=pe({foundation:ee(),foundationTerm:ee(),initial:ee(),taper:ee(),terminal:ee()}),Wdt=Yr(Ee(ke(pe({epoch:ee(),effectiveSlot:ee(),amount:ee(),postBalance:ee(),commission:De(ke(ee()))})))),Kdt=Ee(pe({slot:ee(),prioritizationFee:ee()})),jdt=pe({total:ee(),validator:ee(),foundation:ee(),epoch:ee()}),Hdt=pe({epoch:ee(),slotIndex:ee(),slotsInEpoch:ee(),absoluteSlot:ee(),blockHeight:De(ee()),transactionCount:De(ee())}),qdt=pe({slotsPerEpoch:ee(),leaderScheduleSlotOffset:ee(),warmup:Qr(),firstNormalEpoch:ee(),firstNormalSlot:ee()}),Vdt=Tg(ve(),Ee(ee())),yy=ke(rr([pe({}),ve()])),Gdt=pe({err:yy}),Ydt=Rt("receivedSignature"),Zdt=pe({"solana-core":ve(),"feature-set":De(ee())}),Xdt=pe({program:ve(),programId:Xi,parsed:Wi()}),Qdt=pe({programId:Xi,accounts:Ee(Xi),data:ve()}),rte=fs(pe({err:ke(rr([pe({}),ve()])),logs:ke(Ee(ve())),accounts:De(ke(Ee(ke(pe({executable:Qr(),owner:ve(),lamports:ee(),data:Ee(ve()),rentEpoch:De(ee())}))))),unitsConsumed:De(ee()),returnData:De(ke(pe({programId:ve(),data:Ic([ve(),Rt("base64")])}))),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(rr([Xdt,Qdt]))}))))})),Jdt=fs(pe({byIdentity:Tg(ve(),Ee(ee())),range:pe({firstSlot:ee(),lastSlot:ee()})}));function eht(t,e,r,n,i,s){const o=r||Ndt;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(d,g)=>{const y=await new Promise((b,A)=>{try{n(d,g,(x,k)=>b([x,k]))}catch(x){A(x)}});return await o(...y)}),new p7(async(d,g)=>{const y={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},ept)};try{let b=5,A,x=500;for(;u?A=await u(t,y):A=await o(t,y),!(A.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${x}ms delay...`),await v0(x),x*=2;const k=await A.text();A.ok?g(null,k):g(new Error(`${A.status} ${A.statusText}: ${k}`))}catch(b){b instanceof Error&&g(b)}},{})}function tht(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function rht(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const nht=Yr(zdt),iht=Yr(jdt),sht=Yr(Kdt),oht=Yr(Hdt),aht=Yr(qdt),uht=Yr(Vdt),cht=Yr(ee()),lht=fs(pe({total:ee(),circulating:ee(),nonCirculating:ee(),nonCirculatingAccounts:Ee(Xi)})),bD=pe({amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())}),fht=fs(Ee(pe({address:Xi,amount:ve(),uiAmount:ke(ee()),decimals:ee(),uiAmountString:De(ve())}))),dht=fs(Ee(pe({pubkey:Xi,account:pe({executable:Qr(),owner:Xi,lamports:ee(),data:F$,rentEpoch:ee()})}))),vD=pe({program:ve(),parsed:Wi(),space:ee()}),hht=fs(Ee(pe({pubkey:Xi,account:pe({executable:Qr(),owner:Xi,lamports:ee(),data:vD,rentEpoch:ee()})}))),pht=fs(Ee(pe({lamports:ee(),address:Xi}))),fx=pe({executable:Qr(),owner:Xi,lamports:ee(),data:F$,rentEpoch:ee()}),ght=pe({pubkey:Xi,account:fx}),mht=Cs(rr([Tc(Pe.Buffer),vD]),rr([Zpe,vD]),t=>Array.isArray(t)?Ve(t,F$):t),wD=pe({executable:Qr(),owner:Xi,lamports:ee(),data:mht,rentEpoch:ee()}),yht=pe({pubkey:Xi,account:wD}),bht=pe({state:rr([Rt("active"),Rt("inactive"),Rt("activating"),Rt("deactivating")]),active:ee(),inactive:ee()}),vht=Yr(Ee(pe({signature:ve(),slot:ee(),err:yy,memo:ke(ve()),blockTime:De(ke(ee()))}))),wht=Yr(Ee(pe({signature:ve(),slot:ee(),err:yy,memo:ke(ve()),blockTime:De(ke(ee()))}))),Sht=pe({subscription:ee(),result:dR(fx)}),_ht=pe({pubkey:Xi,account:fx}),Aht=pe({subscription:ee(),result:dR(_ht)}),xht=pe({parent:ee(),slot:ee(),root:ee()}),Eht=pe({subscription:ee(),result:xht}),kht=rr([pe({type:rr([Rt("firstShredReceived"),Rt("completed"),Rt("optimisticConfirmation"),Rt("root")]),slot:ee(),timestamp:ee()}),pe({type:Rt("createdBank"),parent:ee(),slot:ee(),timestamp:ee()}),pe({type:Rt("frozen"),slot:ee(),timestamp:ee(),stats:pe({numTransactionEntries:ee(),numSuccessfulTransactions:ee(),numFailedTransactions:ee(),maxTransactionsPerEntry:ee()})}),pe({type:Rt("dead"),slot:ee(),timestamp:ee(),err:ve()})]),Tht=pe({subscription:ee(),result:kht}),Iht=pe({subscription:ee(),result:dR(rr([Gdt,Ydt]))}),Rht=pe({subscription:ee(),result:ee()}),Mht=pe({pubkey:ve(),gossip:ke(ve()),tpu:ke(ve()),rpc:ke(ve()),version:ke(ve())}),nte=pe({votePubkey:ve(),nodePubkey:ve(),activatedStake:ee(),epochVoteAccount:Qr(),epochCredits:Ee(Ic([ee(),ee(),ee()])),commission:ee(),lastVote:ee(),rootSlot:ke(ee())}),Cht=Yr(pe({current:Ee(nte),delinquent:Ee(nte)})),Pht=rr([Rt("processed"),Rt("confirmed"),Rt("finalized")]),Nht=pe({slot:ee(),confirmations:ke(ee()),err:yy,confirmationStatus:De(Pht)}),Bht=fs(Ee(ke(Nht))),Oht=Yr(ee()),Jpe=pe({accountKey:Xi,writableIndexes:Ee(ee()),readonlyIndexes:Ee(ee())}),$$=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(ve()),header:pe({numRequiredSignatures:ee(),numReadonlySignedAccounts:ee(),numReadonlyUnsignedAccounts:ee()}),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()})),recentBlockhash:ve(),addressTableLookups:De(Ee(Jpe))})}),ege=pe({pubkey:Xi,signer:Qr(),writable:Qr(),source:De(rr([Rt("transaction"),Rt("lookupTable")]))}),tge=pe({accountKeys:Ee(ege),signatures:Ee(ve())}),rge=pe({parsed:Wi(),program:ve(),programId:Xi}),nge=pe({accounts:Ee(Xi),data:ve(),programId:Xi}),Lht=rr([nge,rge]),Dht=rr([pe({parsed:Wi(),program:ve(),programId:ve()}),pe({accounts:Ee(ve()),data:ve(),programId:ve()})]),ige=Cs(Lht,Dht,t=>"accounts"in t?Ve(t,nge):Ve(t,rge)),sge=pe({signatures:Ee(ve()),message:pe({accountKeys:Ee(ege),instructions:Ee(ige),recentBlockhash:ve(),addressTableLookups:De(ke(Ee(Jpe)))})}),yI=pe({accountIndex:ee(),mint:ve(),owner:De(ve()),programId:De(ve()),uiTokenAmount:bD}),oge=pe({writable:Ee(Xi),readonly:Ee(Xi)}),hR=pe({err:yy,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(pe({accounts:Ee(ee()),data:ve(),programIdIndex:ee()}))})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(yI))),postTokenBalances:De(ke(Ee(yI))),loadedAddresses:De(oge),computeUnitsConsumed:De(ee())}),U$=pe({err:yy,fee:ee(),innerInstructions:De(ke(Ee(pe({index:ee(),instructions:Ee(ige)})))),preBalances:Ee(ee()),postBalances:Ee(ee()),logMessages:De(ke(Ee(ve()))),preTokenBalances:De(ke(Ee(yI))),postTokenBalances:De(ke(Ee(yI))),loadedAddresses:De(oge),computeUnitsConsumed:De(ee())}),iS=rr([Rt(0),Rt("legacy")]),by=pe({pubkey:ve(),lamports:ee(),postBalance:ke(ee()),rewardType:ke(ve()),commission:De(ke(ee()))}),Fht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:$$,meta:ke(hR),version:De(iS)})),rewards:De(Ee(by)),blockTime:ke(ee()),blockHeight:ke(ee())}))),$ht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(by)),blockTime:ke(ee()),blockHeight:ke(ee())}))),Uht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:tge,meta:ke(hR),version:De(iS)})),rewards:De(Ee(by)),blockTime:ke(ee()),blockHeight:ke(ee())}))),zht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:sge,meta:ke(U$),version:De(iS)})),rewards:De(Ee(by)),blockTime:ke(ee()),blockHeight:ke(ee())}))),Wht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:tge,meta:ke(U$),version:De(iS)})),rewards:De(Ee(by)),blockTime:ke(ee()),blockHeight:ke(ee())}))),Kht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),rewards:De(Ee(by)),blockTime:ke(ee()),blockHeight:ke(ee())}))),jht=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),transactions:Ee(pe({transaction:$$,meta:ke(hR)})),rewards:De(Ee(by)),blockTime:ke(ee())}))),ite=Yr(ke(pe({blockhash:ve(),previousBlockhash:ve(),parentSlot:ee(),signatures:Ee(ve()),blockTime:ke(ee())}))),j5=Yr(ke(pe({slot:ee(),meta:ke(hR),blockTime:De(ke(ee())),transaction:$$,version:De(iS)}))),Ok=Yr(ke(pe({slot:ee(),transaction:sge,meta:ke(U$),blockTime:De(ke(ee())),version:De(iS)}))),Hht=fs(pe({blockhash:ve(),lastValidBlockHeight:ee()})),qht=fs(Qr()),Vht=pe({slot:ee(),numTransactions:ee(),numSlots:ee(),samplePeriodSecs:ee()}),Ght=Yr(Ee(Vht)),Yht=fs(ke(pe({feeCalculator:pe({lamportsPerSignature:ee()})}))),Zht=Yr(ve()),Xht=Yr(ve()),Qht=pe({err:yy,logs:Ee(ve()),signature:ve()}),Jht=pe({result:dR(Qht),subscription:ee()}),ept={"solana-client":"js/1.0.0-maintenance"};class tpt{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const f={};return async d=>{const{commitment:g,config:y}=bi(d),b=this._buildArgs([],g,void 0,y),A=Jee(b);return f[A]=f[A]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",b),k=Ve(x,Yr(ee()));if("error"in k)throw new sr(k.error,"failed to get block height information");return k.result}finally{delete f[A]}})(),await f[A]}})();let n,i,s,o,a,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=$dt(e),this._rpcWsEndpoint=n||Fdt(e),this._rpcClient=eht(e,i,s,o,a,u),this._rpcRequest=tht(this._rpcClient),this._rpcBatchRequest=rht(this._rpcClient),this._rpcWebSocket=new Bdt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Ve(o,fs(ee()));if("error"in a)throw new sr(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=Ve(r,Yr(ke(ee())));if("error"in n)throw new sr(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=Ve(e,Yr(ee()));if("error"in r)throw new sr(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=Ve(e,cht);if("error"in r)throw new sr(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Ve(n,lht);if("error"in i)throw new sr(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Ve(i,fs(bD));if("error"in s)throw new sr(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Ve(i,fs(bD));if("error"in s)throw new sr(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=bi(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),f=Ve(u,dht);if("error"in f)throw new sr(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Ve(o,hht);if("error"in a)throw new sr(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Ve(i,pht);if("error"in s)throw new sr(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Ve(i,fht);if("error"in s)throw new sr(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Ve(o,fs(ke(fx)));if("error"in a)throw new sr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Ve(o,fs(ke(wD)));if("error"in a)throw new sr(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=bi(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Ve(a,fs(Ee(ke(wD))));if("error"in u)throw new sr(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=bi(r),s=e.map(f=>f.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=Ve(a,fs(Ee(ke(fx))));if("error"in u)throw new sr(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=bi(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=Ve(a,Yr(bht));if("error"in u)throw new sr(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=bi(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:tte(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),f=Ee(ght),d=o.withContext===!0?Ve(u,fs(f)):Ve(u,Yr(f));if("error"in d)throw new sr(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Ve(o,Yr(Ee(yht)));if("error"in a)throw new sr(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=Eo.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Cn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((u,f)=>{try{n=this.onSignature(r,(g,y)=>{n=void 0;const b={context:y,value:g};u({__type:Md.PROCESSED,response:b})},e);const d=new Promise(g=>{n==null?g():i=this._onSubscriptionStateChange(n,y=>{y==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(r);if(s||g==null)return;const{context:y,value:b}=g;if(b!=null)if(b!=null&&b.err)f(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:Md.PROCESSED,response:{context:y,value:b}})}})()}catch(d){f(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(g=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await y();if(!s){for(;b<=n;)if(await v0(1e3),s||(b=await y(),s))return;g({__type:Md.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),f=this.getCancellationPromise(r);let d;try{const g=await Promise.race([f,u,o]);if(g.__type===Md.PROCESSED)d=g.response;else throw new N$(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(b=>{let A=s,x=null;const k=async()=>{try{const{context:R,value:C}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return x=R.slot,C==null?void 0:C.nonce}catch{return A}};(async()=>{if(A=await k(),!a)for(;;){if(s!==A){b({__type:Md.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await v0(2e3),a||(A=await k(),a))return}})()}),{abortConfirmation:f,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(r);let y;try{const b=await Promise.race([g,d,u]);if(b.__type===Md.PROCESSED)y=b.response;else{let A;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(b.slotInWhichNonceDidAdvance??n)){await v0(400);continue}A=x;break}if(A!=null&&A.value){const x=e||"finalized",{confirmationStatus:k}=A.value;switch(x){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new ub(o);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new ub(o);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new ub(o);break;default:}y={context:A.context,value:{err:A.value.err}}}else throw new ub(o)}}finally{a=!0,f()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(u=>{let f=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{f=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:Md.TIMED_OUT,timeoutMs:f}),f)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const u=await Promise.race([o,i]);if(u.__type===Md.PROCESSED)a=u.response;else throw new B$(r,u.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=Ve(e,Yr(Ee(Mht)));if("error"in r)throw new sr(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=Ve(n,Cht);if("error"in i)throw new sr(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=bi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Ve(s,Yr(ee()));if("error"in o)throw new sr(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=bi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Ve(s,Yr(ve()));if("error"in o)throw new sr(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=Ve(i,Yr(Ee(Xi)));if("error"in s)throw new sr(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);Cn(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Ve(i,Bht);if("error"in s)throw new sr(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=bi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Ve(s,Yr(ee()));if("error"in o)throw new sr(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=Ve(n,nht);if("error"in i)throw new sr(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=bi(n),o=this._buildArgs([e.map(f=>f.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=Ve(a,Wdt);if("error"in u)throw new sr(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=Ve(e,iht);if("error"in r)throw new sr(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=bi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Ve(s,oht);if("error"in o)throw new sr(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=Ve(e,aht);if("error"in r)throw new sr(r.error,"failed to get epoch schedule");const n=r.result;return new Ype(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=Ve(e,uht);if("error"in r)throw new sr(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Ve(i,Oht);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=Ve(r,Ght);if("error"in n)throw new sr(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Ve(i,Yht);if("error"in s)throw new sr(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=Xr(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Ve(s,fs(ke(ee())));if("error"in o)throw new sr(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Ve(i,sht);if("error"in s)throw new sr(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=bi(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Ve(s,Hht);if("error"in o)throw new sr(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Ve(o,qht);if("error"in a)throw new sr(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=Ve(e,Yr(Zdt));if("error"in r)throw new sr(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=Ve(e,Yr(ve()));if("error"in r)throw new sr(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ve(o,Uht);if("error"in a)throw a.error;return a.result}case"none":{const a=Ve(o,$ht);if("error"in a)throw a.error;return a.result}default:{const a=Ve(o,Fht);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:f,meta:d,version:g})=>({meta:d,transaction:{...f,message:K5(g,f.message)},version:g}))}:null}}}catch(a){throw new sr(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ve(o,Wht);if("error"in a)throw a.error;return a.result}case"none":{const a=Ve(o,Kht);if("error"in a)throw a.error;return a.result}default:{const a=Ve(o,zht);if("error"in a)throw a.error;return a.result}}}catch(a){throw new sr(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...u}=e;n=a,r=u}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Ve(s,Jdt);if("error"in o)throw new sr(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Ve(o,j5);if("error"in a)throw new sr(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:K5(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=bi(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Ve(o,Ok);if("error"in a)throw new sr(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=bi(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Ve(u,Ok);if("error"in f)throw new sr(f.error,"failed to get transactions");return f.result})}async getTransactions(e,r){const{commitment:n,config:i}=bi(r),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const f=Ve(u,j5);if("error"in f)throw new sr(f.error,"failed to get transactions");const d=f.result;return d&&{...d,transaction:{...d.transaction,message:K5(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getBlock",n),s=Ve(i,jht);if("error"in s)throw new sr(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:f})=>{const d=new _l(u.message);return{meta:f,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:f})=>({meta:f,transaction:Dn.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=Ve(s,Yr(Ee(ee())));if("error"in o)throw new sr(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ve(i,ite);if("error"in s)throw new sr(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Ve(i,ite);if("error"in s)throw new sr(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getTransaction",n),s=Ve(i,j5);if("error"in s)throw new sr(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new _l(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:Dn.populate(a,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),s=Ve(i,Ok);if("error"in s)throw new sr(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Ve(o,Ok);if("error"in a)throw new sr(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ve(s,vht);if("error"in o)throw new sr(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ve(s,wht);if("error"in o)throw new sr(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new yD({key:e,state:yD.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=fR.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=Ve(n,Zht);if("error"in i)throw new sr(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await v0(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Xpe;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await v0(qpe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=bi(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ve(s,fs(ee()));if("error"in o)throw new sr(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const x=e.serialize(),k=Pe.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const R=r||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(R.innerInstructions=r.innerInstructions);const C=[k,R],P=await this._rpcRequest("simulateTransaction",C),O=Ve(P,rte);if("error"in O)throw new Error("failed to simulate transaction: "+O.error.message);return O.result}let i;if(e instanceof Dn){let A=e;i=new Dn,i.feePayer=A.feePayer,i.instructions=e.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=Dn.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const k=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else A=!0}}const o=i._compile(),a=o.serialize(),f=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:A}}s&&(d.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(d.innerInstructions=r.innerInstructions);const g=[f,d],y=await this._rpcRequest("simulateTransaction",g),b=Ve(y,rte);if("error"in b){let A;if("data"in b.error&&(A=b.error.data.logs,A&&Array.isArray(A))){const x=`
    `,k=x+A.join(x);console.error(b.error.message,k)}throw new lx({action:"simulate",signature:"",transactionMessage:b.error.message,logs:A})}return b.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=Xr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),u=Ve(a,Xht);if("error"in u){let f;throw"data"in u.error&&(f=u.error.data.logs),new lx({action:i?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:f})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=Ve(e,Sht);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=Jee([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];Cn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=bi(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=Ve(e,Aht);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=bi(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:tte(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=Ve(e,Jht);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=Ve(e,Eht);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=Ve(e,Tht);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=Ve(e,Iht);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,f)=>{r(u,f);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=Ve(e,Rht);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Db{constructor(e){this._keypair=void 0,this._keypair=e??Yee()}static generate(){return new Db(Yee())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=mI(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Db({publicKey:n,secretKey:e})}static fromSeed(e){const r=mI(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Db({publicKey:r,secretKey:n})}get publicKey(){return new Ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const ch=Object.freeze({CreateLookupTable:{index:0,layout:Se([xe("instruction"),gw("recentSlot"),st("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([xe("instruction")])},ExtendLookupTable:{index:2,layout:Se([xe("instruction"),gw(),Vt(on(),En(xe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([xe("instruction")])},CloseLookupTable:{index:4,layout:Se([xe("instruction")])}});class rpt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(ch))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=jn(ch.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=jn(ch.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new Ot(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(z$.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class z${constructor(){}static createLookupTable(e){const[r,n]=Ot.findProgramAddressSync([e.authority.toBuffer(),Mg(BigInt(e.recentSlot),8)],this.programId),i=ch.CreateLookupTable,s=Sn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:io.programId,isSigner:!1,isWritable:!1}];return[new fi({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=ch.FreezeLookupTable,n=Sn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new fi({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=ch.ExtendLookupTable,n=Sn(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:io.programId,isSigner:!1,isWritable:!1}),new fi({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=ch.DeactivateLookupTable,n=Sn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new fi({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=ch.CloseLookupTable,n=Sn(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new fi({programId:this.programId,keys:i,data:n})}}z$.programId=new Ot("AddressLookupTab1e1111111111111111111111111");class npt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=st("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(yf))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=jn(yf.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=jn(yf.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=jn(yf.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=jn(yf.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(W$.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const yf=Object.freeze({RequestUnits:{index:0,layout:Se([st("instruction"),xe("units"),xe("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([st("instruction"),xe("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([st("instruction"),xe("units")])},SetComputeUnitPrice:{index:3,layout:Se([st("instruction"),gw("microLamports")])}});class W${constructor(){}static requestUnits(e){const r=yf.RequestUnits,n=Sn(r,e);return new fi({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=yf.RequestHeapFrame,n=Sn(r,e);return new fi({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=yf.SetComputeUnitLimit,n=Sn(r,e);return new fi({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=yf.SetComputeUnitPrice,n=Sn(r,{microLamports:BigInt(e.microLamports)});return new fi({keys:[],programId:this.programId,data:n})}}W$.programId=new Ot("ComputeBudget111111111111111111111111111111");const ste=64,ote=32,ate=64,ute=Se([st("numSignatures"),st("padding"),cr("signatureOffset"),cr("signatureInstructionIndex"),cr("publicKeyOffset"),cr("publicKeyInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),cr("messageInstructionIndex")]);class pR{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;Cn(r.length===ote,`Public Key must be ${ote} bytes but received ${r.length} bytes`),Cn(i.length===ate,`Signature must be ${ate} bytes but received ${i.length} bytes`);const o=ute.span,a=o+r.length,u=a+i.length,f=1,d=Pe.Buffer.alloc(u+n.length),g=s??65535;return ute.encode({numSignatures:f,padding:0,signatureOffset:a,signatureInstructionIndex:g,publicKeyOffset:o,publicKeyInstructionIndex:g,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:g},d),d.fill(r,o),d.fill(i,a),d.fill(n,u),new fi({keys:[],programId:pR.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Cn(r.length===ste,`Private key must be ${ste} bytes but received ${r.length} bytes`);try{const s=Db.fromSecretKey(r),o=s.publicKey.toBytes(),a=C$(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}pR.programId=new Ot("Ed25519SigVerify111111111111111111111111111");const ipt=(t,e)=>{const r=Uu.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};Uu.utils.isValidPrivateKey;const spt=Uu.getPublicKey,cte=32,H5=20,lte=64,opt=11,q5=Se([st("numSignatures"),cr("signatureOffset"),st("signatureInstructionIndex"),cr("ethAddressOffset"),st("ethAddressInstructionIndex"),cr("messageDataOffset"),cr("messageDataSize"),st("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),st("recoveryId")]);class Fb{constructor(){}static publicKeyToEthAddress(e){Cn(e.length===lte,`Public key must be ${lte} bytes but received ${e.length} bytes`);try{return Pe.Buffer.from(ST(Xr(e))).slice(-H5)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return Fb.createInstructionWithEthAddress({ethAddress:Fb.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=Pe.Buffer.from(r.substr(2),"hex"):a=Pe.Buffer.from(r,"hex"):a=r,Cn(a.length===H5,`Address must be ${H5} bytes but received ${a.length} bytes`);const u=1+opt,f=u,d=u+a.length,g=d+i.length+1,y=1,b=Pe.Buffer.alloc(q5.span+n.length);return q5.encode({numSignatures:y,signatureOffset:d,signatureInstructionIndex:o,ethAddressOffset:f,ethAddressInstructionIndex:o,messageDataOffset:g,messageDataSize:n.length,messageInstructionIndex:o,signature:Xr(i),ethAddress:Xr(a),recoveryId:s},b),b.fill(Xr(n),q5.span),new fi({keys:[],programId:Fb.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;Cn(r.length===cte,`Private key must be ${cte} bytes but received ${r.length} bytes`);try{const s=Xr(r),o=spt(s,!1).slice(1),a=Pe.Buffer.from(ST(Xr(n))),[u,f]=ipt(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:f,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Fb.programId=new Ot("KeccakSecp256k11111111111111111111111111111");var age;const uge=new Ot("StakeConfig11111111111111111111111111111111");class cge{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class R2{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}age=R2;R2.default=new age(0,0,Ot.default);class apt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(eo))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=jn(eo.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new cge(new Ot(r.staker),new Ot(r.withdrawer)),lockup:new R2(n.unixTimestamp,n.epoch,new Ot(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),jn(eo.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=jn(eo.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ot(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=jn(eo.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Ot(s),newAuthorizedPubkey:new Ot(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=jn(eo.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),jn(eo.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=jn(eo.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),jn(eo.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(gR.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const eo=Object.freeze({Initialize:{index:0,layout:Se([xe("instruction"),cdt(),ldt()])},Authorize:{index:1,layout:Se([xe("instruction"),on("newAuthorized"),xe("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([xe("instruction")])},Split:{index:3,layout:Se([xe("instruction"),er("lamports")])},Withdraw:{index:4,layout:Se([xe("instruction"),er("lamports")])},Deactivate:{index:5,layout:Se([xe("instruction")])},Merge:{index:7,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([xe("instruction"),on("newAuthorized"),xe("stakeAuthorizationType"),B0("authoritySeed"),on("authorityOwner")])}}),upt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class gR{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||R2.default,o=eo.Initialize,a=Sn(o,{authorized:{staker:Xr(n.staker.toBuffer()),withdrawer:Xr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Xr(s.custodian.toBuffer())}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new fi(u)}static createAccountWithSeed(e){const r=new Dn;r.add(io.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new Dn;r.add(io.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=eo.Delegate,o=Sn(s);return new Dn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:W3,isSigner:!1,isWritable:!1},{pubkey:uge,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=eo.Authorize,u=Sn(a,{newAuthorized:Xr(i.toBuffer()),stakeAuthorizationType:s.index}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:u}=e,f=eo.AuthorizeWithSeed,d=Sn(f,{newAuthorized:Xr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Xr(s.toBuffer())}),g=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1}];return u&&g.push({pubkey:u,isSigner:!0,isWritable:!1}),new Dn().add({keys:g,programId:this.programId,data:d})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=eo.Split,a=Sn(o,{lamports:s});return new fi({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new Dn;return n.add(io.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:u}=e,f=new Dn;return f.add(io.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&f.add(io.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),f.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=eo.Merge,o=Sn(s);return new Dn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:W3,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=eo.Withdraw,u=Sn(a,{lamports:s}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:W3,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&f.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:f,programId:this.programId,data:u})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=eo.Deactivate,s=Sn(i);return new Dn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}gR.programId=new Ot("Stake11111111111111111111111111111111111111");gR.space=200;class lge{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class cpt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=xe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(bf))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=jn(bf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new lge(new Ot(r.nodePubkey),new Ot(r.authorizedVoter),new Ot(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=jn(bf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ot(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=jn(bf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ot(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Ot(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=jn(bf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(sS.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const bf=Object.freeze({InitializeAccount:{index:0,layout:Se([xe("instruction"),fdt()])},Authorize:{index:1,layout:Se([xe("instruction"),on("newAuthorized"),xe("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([xe("instruction"),er("lamports")])},UpdateValidatorIdentity:{index:4,layout:Se([xe("instruction")])},AuthorizeWithSeed:{index:10,layout:Se([xe("instruction"),ddt()])}}),lpt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class sS{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=bf.InitializeAccount,o=Sn(s,{voteInit:{nodePubkey:Xr(i.nodePubkey.toBuffer()),authorizedVoter:Xr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Xr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pw,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new fi(a)}static createAccount(e){const r=new Dn;return r.add(io.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=bf.Authorize,a=Sn(o,{newAuthorized:Xr(i.toBuffer()),voteAuthorizationType:s.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Dn().add({keys:u,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,u=bf.AuthorizeWithSeed,f=Sn(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Xr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Xr(s.toBuffer()),voteAuthorizationType:o.index}}),d=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:d,programId:this.programId,data:f})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=bf.Withdraw,a=Sn(o,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Dn().add({keys:u,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return sS.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=bf.UpdateValidatorIdentity,o=Sn(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Dn().add({keys:a,programId:this.programId,data:o})}}sS.programId=new Ot("Vote111111111111111111111111111111111111111");sS.space=3762;const fge=new Ot("Va1idator1nfo111111111111111111111111111111"),fpt=pe({name:ve(),website:De(ve()),details:De(ve()),iconUrl:De(ve()),keybaseUsername:De(ve())});class K${constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(qa(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Ot(Va(r,0,Lf)),a=mf(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(fge)&&i[1].isSigner){const s=B0().decode(Pe.Buffer.from(r)),o=JSON.parse(s);return cne(o,fpt),new K$(i[1].publicKey,o)}return null}}const dpt=new Ot("Vote111111111111111111111111111111111111111"),hpt=Se([on("nodePubkey"),on("authorizedWithdrawer"),st("commission"),Bt(),Vt(Se([Bt("slot"),xe("confirmationCount")]),En(xe(),-8),"votes"),st("rootSlotValid"),Bt("rootSlot"),Bt(),Vt(Se([Bt("epoch"),on("authorizedVoter")]),En(xe(),-8),"authorizedVoters"),Se([Vt(Se([on("authorizedPubkey"),Bt("epochOfLastAuthorizedSwitch"),Bt("targetEpoch")]),32,"buf"),Bt("idx"),st("isEmpty")],"priorVoters"),Bt(),Vt(Se([Bt("epoch"),Bt("credits"),Bt("prevCredits")]),En(xe(),-8),"epochCredits"),Se([Bt("slot"),Bt("timestamp")],"lastTimestamp")]);class j${constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=hpt.decode(Xr(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new j$({nodePubkey:new Ot(n.nodePubkey),authorizedWithdrawer:new Ot(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(ppt),priorVoters:gpt(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function ppt({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Ot(t)}}function fte({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new Ot(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function gpt({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(fte),...t.slice(0,e).map(fte)]}const dte={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function mpt(t,e){const r=e===!1?"http":"https";if(!t)return dte[r].devnet;const n=dte[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function ypt(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),u=s&&s.commitment,d=(await(i?t.confirmTransaction(i,u):t.confirmTransaction(a,u))).value;if(d.err)throw a!=null?new lx({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(d)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const bpt=1e9,vpt=Object.freeze(Object.defineProperty({__proto__:null,Account:odt,AddressLookupTableAccount:yD,AddressLookupTableInstruction:rpt,AddressLookupTableProgram:z$,Authorized:cge,BLOCKHASH_CACHE_TIMEOUT_MS:Xpe,BPF_LOADER_DEPRECATED_PROGRAM_ID:adt,BPF_LOADER_PROGRAM_ID:Tdt,BpfLoader:Idt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:yf,ComputeBudgetInstruction:npt,ComputeBudgetProgram:W$,Connection:tpt,Ed25519Program:pR,Enum:idt,EpochSchedule:Ype,FeeCalculatorLayout:Vpe,Keypair:Db,LAMPORTS_PER_SOL:bpt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:ch,Loader:jm,Lockup:R2,MAX_SEED_LENGTH:Kpe,Message:_l,MessageAccountKeys:cx,MessageV0:Km,NONCE_ACCOUNT_LENGTH:mD,NonceAccount:fR,PACKET_DATA_SIZE:cg,PUBLIC_KEY_LENGTH:Lf,PublicKey:Ot,SIGNATURE_LENGTH_IN_BYTES:ux,SOLANA_SCHEMA:fA,STAKE_CONFIG_ID:uge,STAKE_INSTRUCTION_LAYOUTS:eo,SYSTEM_INSTRUCTION_LAYOUTS:Si,SYSVAR_CLOCK_PUBKEY:uf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:ydt,SYSVAR_INSTRUCTIONS_PUBKEY:bdt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:z3,SYSVAR_RENT_PUBKEY:pw,SYSVAR_REWARDS_PUBKEY:vdt,SYSVAR_SLOT_HASHES_PUBKEY:wdt,SYSVAR_SLOT_HISTORY_PUBKEY:Sdt,SYSVAR_STAKE_HISTORY_PUBKEY:W3,Secp256k1Program:Fb,SendTransactionError:lx,SolanaJSONRPCError:sr,SolanaJSONRPCErrorCode:_dt,StakeAuthorizationLayout:upt,StakeInstruction:apt,StakeProgram:gR,Struct:P$,SystemInstruction:Edt,SystemProgram:io,Transaction:Dn,TransactionExpiredBlockheightExceededError:N$,TransactionExpiredNonceInvalidError:ub,TransactionExpiredTimeoutError:B$,TransactionInstruction:fi,TransactionMessage:L$,TransactionStatus:Md,VALIDATOR_INFO_KEY:fge,VERSION_PREFIX_MASK:cR,VOTE_PROGRAM_ID:dpt,ValidatorInfo:K$,VersionedMessage:O$,VersionedTransaction:D$,VoteAccount:j$,VoteAuthorizationLayout:lpt,VoteInit:lge,VoteInstruction:cpt,VoteProgram:sS,clusterApiUrl:mpt,sendAndConfirmRawTransaction:ypt,sendAndConfirmTransaction:gD},Symbol.toStringTag,{value:"Module"})),wpt=Ox(vpt);Object.defineProperty(Wm,"__esModule",{value:!0});Wm.keysTypeMap=Wm.publicKey=void 0;const Spt=wpt,_pt=L,Apt="@metaplex-foundation/beet-solana",xpt="@solana/web3.js",V5=(0,_pt.fixedSizeUint8Array)(32);Wm.publicKey={write:function(t,e,r){const n=r.toBytes();V5.write(t,e,n)},read:function(t,e){const r=V5.read(t,e);return new Spt.PublicKey(r)},byteSize:V5.byteSize,description:"PublicKey"};Wm.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:Apt,ts:"PublicKey",pack:xpt}};var mR={},Ef={},Ept=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.logTrace=Ef.logDebug=Ef.logInfo=Ef.logError=void 0;const yR=Ept(Cpe);Ef.logError=(0,yR.default)("beet:error");Ef.logInfo=(0,yR.default)("beet:info");Ef.logDebug=(0,yR.default)("beet:debug");Ef.logTrace=(0,yR.default)("beet:trace");var bR={},kpt=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bR,"__esModule",{value:!0});bR.encodeFixedBeet=void 0;const Tpt=kpt(Xx);function Ipt(t,e){const r=Ie.Buffer.alloc(t.byteSize);return t.write(r,0,e),Tpt.default.encode(r)}bR.encodeFixedBeet=Ipt;Object.defineProperty(mR,"__esModule",{value:!0});mR.GpaBuilder=void 0;const G5=L,s_=Ou(),Rpt=Ef,hte=bR;class bI{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return this.config.filters==null&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,Rpt.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);const i=this.beets.get(e);(0,s_.strict)(i!=null,"Outer filter key needs to be an existing field name");const s=i.beet;let o=i.offset;const a=(0,G5.isFixedSizeBeet)(s)?s:s.toFixedFromValue(n);let u;for(const[d,g]of a.fields){if(d===r){u=g;break}o+=g.byteSize}(0,s_.strict)(u!=null,`${r} is not a field of the ${e} struct`);const f=(0,hte.encodeFixedBeet)(u,n);return this._addFilter({memcmp:{offset:o,bytes:f}}),this}addInnerFilter(e,r){const n=e.split(".");s_.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[i,s]=n;return this._addInnerFilter(i,s,r)}addFilter(e,r){const n=this.beets.get(e);(0,s_.strict)(n!=null,"Filter key needs to be an existing field name");const i=(0,G5.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),s=(0,hte.encodeFixedBeet)(i,r);return this._addFilter({memcmp:{offset:n.offset,bytes:s}}),this}dataSize(e){return e=e??this.accountSize,(0,s_.strict)(e!=null,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){const n=new Map;let i=0,s=!1;for(const[a,u]of r){if(n.set(a,{beet:u,offset:i}),!(0,G5.isFixedSizeBeet)(u)){s=!0;break}i+=u.byteSize}const o=s?void 0:i;return new bI(e,n,o)}static fromStruct(e,r){return bI.fromBeetFields(e,r.fields)}}mR.GpaBuilder=bI;(function(t){var e=Lt&&Lt.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,u)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=Lt&&Lt.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const n=Wm;r(Wm,t),r(mR,t),t.supportedTypeMap=n.keysTypeMap})(We);const vR=new mt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new mt("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new mt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new mt("So11111111111111111111111111111111111111112");new mt("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var dge=(t=>(t.APTOS="aptos",t))(dge||{}),hge=(t=>(t.ETHEREUM="ethereum",t.BSC="bsc",t.AVALANCHE="avalanche",t.POLYGON="polygon",t.ZKPOLYGON="zkpolygon",t.ARBITRUM="arbitrum",t.OPTIMISM="optimism",t.FANTOM="fantom",t.SWIMMER="swimmer",t.DFK="dfk",t.HARMONY="harmony",t.ARCANA="arcana",t.DEXALOT="dexalot",t.CASTLECRUSH="castlecrush",t.GNOSIS="gnosis",t.CELO="celo",t.MOONBEAM="moonbeam",t.BOBA="boba",t.PORTAL="portal",t.INTAIN="intain",t.FUSE="fuse",t.ASTAR="astar",t.ZKSYNC="zksync",t.SHRAPNEL="shrapnel",t.DOS="dos",t.KLAYTN="klaytn",t.METIS="metis",t.COREDAO="coredao",t.OKX="okx",t.METER="meter",t.GOERLI="goerli",t.BASE="base",t.ZKCONSENSYS="zkconsensys",t.SEPOLIA="sepolia",t.MOONRIVER="moonriver",t.AAVEGOTCHI="aavegotchi",t.SCROLL="scroll",t.CATHAY="cathay",t.KAVA="kava",t.TENET="tenet",t.CANTO="canto",t.ORDERLY="orderly",t.NOVA="nova",t.BLOCKGEN="blockgen",t.MERITCIRCLE="meritcircle",t.MANTLE="mantle",t.HUBBLE="hubble",t.ZORA="zora",t.TOMO="tomo",t.LOOT="loot",t.TELOS="telos",t.AURORA="aurora",t.OPBNB="opbnb",t.SHIMMER="shimmer",t.MONAD="monad",t.LIF3="lif3",t.SPRUCE="spruce",t.PGJJTK="pgjjtk",t.ODA="oda",t.KIWI="kiwi",t.CONFLUX="conflux",t.EON="eon",t.XPLA="xpla",t.HOLESKY="holesky",t.INJECTIVE="injective",t.IDEX="idex",t.ZKATANA="zkatana",t.MANTA="manta",t.FRAME="frame",t.PGN="pgn",t.POLYGONCDK="polygoncdk",t.ARBSEP="arbsep",t.OPTSEP="optsep",t.BERA="bera",t.VENN="venn",t.RARIBLE="rarible",t.GUNZILLA="gunzilla",t.RC1="rc1",t.ETHERLINK="etherlink",t.KIWI2="kiwi2",t.BB1="bb1",t.JOC="joc",t.BLAST="blast",t.TRON="tron",t.TRONDEV="trondev",t.XAI="xai",t.TANGIBLE="tangible",t.BASESEP="basesep",t.MANTLESEP="mantlesep",t.ZKPOLYGONSEP="zkpolygonsep",t.ZKSYNCSEP="zksyncsep",t.ZORASEP="zorasep",t.EXOCORE="exocore",t.REAL="real",t.TILTYARD="tiltyard",t.SKALE="skale",t.FRAXTAL="fraxtal",t.SEI="sei",t.MODE="mode",t.HEDERA="hedera",t.UNREAL="unreal",t.MASA="masa",t.MERLIN="merlin",t.HOMEVERSE="homeverse",t.ZKASTAR="zkastar",t.AMOY="amoy",t.DEGEN="degen",t.XLAYER="xlayer",t.FORM="form",t.LL1="ll1",t.MANTASEP="mantasep",t.TAIKO="taiko",t.ZIRCUIT="zircuit",t.CAMP="camp",t.OLIVE="olive",t.SANKO="sanko",t.BOB="bob",t.CYBER="cyber",t.BOTANIX="botanix",t.XCHAIN="xchain",t.ZKLINK="zklink",t.EBI="ebi",t.KINTO="kinto",t.LINEASEP="lineasep",t.IOTA="iota",t.BESU1="besu1",t.BOUNCEBIT="bouncebit",t.MORPH="morph",t.GRAVITY="gravity",t.BARTIO="bartio",t.METISSEP="metissep",t.FLARE="flare",t.GLUE="glue",t.OPENCAMPUS="opencampus",t.VANAR="vanar",t.PEAQ="peaq",t.FI="fi",t.PLUME="plume",t.CURTIS="curtis",t.LYRA="lyra",t.LIGHTLINK="lightlink",t.BAHAMUT="bahamut",t.CODEX="codex",t.OTHERWORLD="otherworld",t.ABSTRACT="abstract",t.ROOT="root",t.STORY="story",t.TREASURE="treasure",t.REYA="reya",t.BITLAYER="bitlayer",t.DM2VERSE="dm2verse",t.APE="ape",t.OZEAN="ozean",t.BEVM="bevm",t))(hge||{}),pge=(t=>(t.SOLANA="solana",t))(pge||{});({...hge,...dge,...pge});var gge=(t=>(t[t.ETHEREUM_MAINNET=101]="ETHEREUM_MAINNET",t[t.BSC_MAINNET=102]="BSC_MAINNET",t[t.AVALANCHE_MAINNET=106]="AVALANCHE_MAINNET",t[t.POLYGON_MAINNET=109]="POLYGON_MAINNET",t[t.ARBITRUM_MAINNET=110]="ARBITRUM_MAINNET",t[t.OPTIMISM_MAINNET=111]="OPTIMISM_MAINNET",t[t.FANTOM_MAINNET=112]="FANTOM_MAINNET",t[t.SWIMMER_MAINNET=114]="SWIMMER_MAINNET",t[t.DFK_MAINNET=115]="DFK_MAINNET",t[t.HARMONY_MAINNET=116]="HARMONY_MAINNET",t[t.DEXALOT_MAINNET=118]="DEXALOT_MAINNET",t[t.CELO_MAINNET=125]="CELO_MAINNET",t[t.MOONBEAM_MAINNET=126]="MOONBEAM_MAINNET",t[t.INTAIN_MAINNET=152]="INTAIN_MAINNET",t[t.FUSE_MAINNET=138]="FUSE_MAINNET",t[t.GNOSIS_MAINNET=145]="GNOSIS_MAINNET",t[t.APTOS_MAINNET=108]="APTOS_MAINNET",t[t.KLAYTN_MAINNET=150]="KLAYTN_MAINNET",t[t.METIS_MAINNET=151]="METIS_MAINNET",t[t.COREDAO_MAINNET=153]="COREDAO_MAINNET",t[t.GOERLI_MAINNET=154]="GOERLI_MAINNET",t[t.OKX_MAINNET=155]="OKX_MAINNET",t[t.CANTO_MAINNET=159]="CANTO_MAINNET",t[t.ZKSYNC_MAINNET=165]="ZKSYNC_MAINNET",t[t.SHRAPNEL_MAINNET=148]="SHRAPNEL_MAINNET",t[t.DOS_MAINNET=149]="DOS_MAINNET",t[t.ZKPOLYGON_MAINNET=158]="ZKPOLYGON_MAINNET",t[t.SEPOLIA_MAINNET=161]="SEPOLIA_MAINNET",t[t.MOONRIVER_MAINNET=167]="MOONRIVER_MAINNET",t[t.SOLANA_MAINNET=168]="SOLANA_MAINNET",t[t.TENET_MAINNET=173]="TENET_MAINNET",t[t.NOVA_MAINNET=175]="NOVA_MAINNET",t[t.METER_MAINNET=176]="METER_MAINNET",t[t.KAVA_MAINNET=177]="KAVA_MAINNET",t[t.MANTLE_MAINNET=181]="MANTLE_MAINNET",t[t.HUBBLE_MAINNET=182]="HUBBLE_MAINNET",t[t.ZKCONSENSYS_MAINNET=183]="ZKCONSENSYS_MAINNET",t[t.BASE_MAINNET=184]="BASE_MAINNET",t[t.ZORA_MAINNET=195]="ZORA_MAINNET",t[t.TOMO_MAINNET=196]="TOMO_MAINNET",t[t.LOOT_MAINNET=197]="LOOT_MAINNET",t[t.MERITCIRCLE_MAINNET=198]="MERITCIRCLE_MAINNET",t[t.TELOS_MAINNET=199]="TELOS_MAINNET",t[t.OPBNB_MAINNET=202]="OPBNB_MAINNET",t[t.LIF3_MAINNET=205]="LIF3_MAINNET",t[t.ASTAR_MAINNET=210]="ASTAR_MAINNET",t[t.AURORA_MAINNET=211]="AURORA_MAINNET",t[t.CONFLUX_MAINNET=212]="CONFLUX_MAINNET",t[t.ORDERLY_MAINNET=213]="ORDERLY_MAINNET",t[t.SCROLL_MAINNET=214]="SCROLL_MAINNET",t[t.EON_MAINNET=215]="EON_MAINNET",t[t.XPLA_MAINNET=216]="XPLA_MAINNET",t[t.MANTA_MAINNET=217]="MANTA_MAINNET",t[t.PGN_MAINNET=218]="PGN_MAINNET",t[t.SHIMMER_MAINNET=230]="SHIMMER_MAINNET",t[t.BB1_MAINNET=234]="BB1_MAINNET",t[t.RARIBLE_MAINNET=235]="RARIBLE_MAINNET",t[t.XAI_MAINNET=236]="XAI_MAINNET",t[t.REAL_MAINNET=237]="REAL_MAINNET",t[t.TILTYARD_MAINNET=238]="TILTYARD_MAINNET",t[t.FRAXTAL_MAINNET=255]="FRAXTAL_MAINNET",t[t.TRON_MAINNET=420]="TRON_MAINNET",t[t.ZKATANA_MAINNET=257]="ZKATANA_MAINNET",t[t.BLAST_MAINNET=243]="BLAST_MAINNET",t[t.MODE_MAINNET=260]="MODE_MAINNET",t[t.MASA_MAINNET=263]="MASA_MAINNET",t[t.HOMEVERSE_MAINNET=265]="HOMEVERSE_MAINNET",t[t.MERLIN_MAINNET=266]="MERLIN_MAINNET",t[t.DEGEN_MAINNET=267]="DEGEN_MAINNET",t[t.SKALE_MAINNET=273]="SKALE_MAINNET",t[t.XLAYER_MAINNET=274]="XLAYER_MAINNET",t[t.SANKO_MAINNET=278]="SANKO_MAINNET",t[t.BOB_MAINNET=279]="BOB_MAINNET",t[t.SEI_MAINNET=280]="SEI_MAINNET",t[t.EBI_MAINNET=282]="EBI_MAINNET",t[t.CYBER_MAINNET=283]="CYBER_MAINNET",t[t.IOTA_MAINNET=284]="IOTA_MAINNET",t[t.KINTO_MAINNET=281]="KINTO_MAINNET",t[t.JOC_MAINNET=285]="JOC_MAINNET",t[t.TAIKO_MAINNET=290]="TAIKO_MAINNET",t[t.XCHAIN_MAINNET=291]="XCHAIN_MAINNET",t[t.ETHERLINK_MAINNET=292]="ETHERLINK_MAINNET",t[t.BOUNCEBIT_MAINNET=293]="BOUNCEBIT_MAINNET",t[t.GRAVITY_MAINNET=294]="GRAVITY_MAINNET",t[t.FLARE_MAINNET=295]="FLARE_MAINNET",t[t.ZKLINK_MAINNET=301]="ZKLINK_MAINNET",t[t.PEAQ_MAINNET=302]="PEAQ_MAINNET",t[t.ZIRCUIT_MAINNET=303]="ZIRCUIT_MAINNET",t[t.LIGHTLINK_MAINNET=309]="LIGHTLINK_MAINNET",t[t.CODEX_MAINNET=310]="CODEX_MAINNET",t[t.LYRA_MAINNET=311]="LYRA_MAINNET",t[t.APE_MAINNET=312]="APE_MAINNET",t[t.REYA_MAINNET=313]="REYA_MAINNET",t[t.BITLAYER_MAINNET=314]="BITLAYER_MAINNET",t[t.DM2VERSE_MAINNET=315]="DM2VERSE_MAINNET",t[t.HEDERA_MAINNET=316]="HEDERA_MAINNET",t))(gge||{}),mge=(t=>(t[t.BSC_TESTNET=10102]="BSC_TESTNET",t[t.AVALANCHE_TESTNET=10106]="AVALANCHE_TESTNET",t[t.POLYGON_TESTNET=10109]="POLYGON_TESTNET",t[t.FANTOM_TESTNET=10112]="FANTOM_TESTNET",t[t.SWIMMER_TESTNET=10130]="SWIMMER_TESTNET",t[t.DFK_TESTNET=10115]="DFK_TESTNET",t[t.HARMONY_TESTNET=10133]="HARMONY_TESTNET",t[t.DEXALOT_TESTNET=10118]="DEXALOT_TESTNET",t[t.CELO_TESTNET=10125]="CELO_TESTNET",t[t.MOONBEAM_TESTNET=10126]="MOONBEAM_TESTNET",t[t.INTAIN_TESTNET=10152]="INTAIN_TESTNET",t[t.ETHEREUM_TESTNET=10121]="ETHEREUM_TESTNET",t[t.ARBITRUM_TESTNET=10143]="ARBITRUM_TESTNET",t[t.OPTIMISM_TESTNET=10132]="OPTIMISM_TESTNET",t[t.FUSE_TESTNET=10138]="FUSE_TESTNET",t[t.GNOSIS_TESTNET=10145]="GNOSIS_TESTNET",t[t.ZKSYNC_TESTNET=10165]="ZKSYNC_TESTNET",t[t.SHRAPNEL_TESTNET=10164]="SHRAPNEL_TESTNET",t[t.DOS_TESTNET=10162]="DOS_TESTNET",t[t.APTOS_TESTNET=10108]="APTOS_TESTNET",t[t.KLAYTN_TESTNET=10150]="KLAYTN_TESTNET",t[t.METIS_TESTNET=10151]="METIS_TESTNET",t[t.COREDAO_TESTNET=10153]="COREDAO_TESTNET",t[t.OKX_TESTNET=10155]="OKX_TESTNET",t[t.METER_TESTNET=10156]="METER_TESTNET",t[t.ZKCONSENSYS_TESTNET=10157]="ZKCONSENSYS_TESTNET",t[t.ZKPOLYGON_TESTNET=10158]="ZKPOLYGON_TESTNET",t[t.CANTO_TESTNET=10159]="CANTO_TESTNET",t[t.BASE_TESTNET=10160]="BASE_TESTNET",t[t.SEPOLIA_TESTNET=10161]="SEPOLIA_TESTNET",t[t.SOLANA_TESTNET=10168]="SOLANA_TESTNET",t[t.CATHAY_TESTNET=10171]="CATHAY_TESTNET",t[t.KAVA_TESTNET=10172]="KAVA_TESTNET",t[t.TENET_TESTNET=10173]="TENET_TESTNET",t[t.BLOCKGEN_TESTNET=10177]="BLOCKGEN_TESTNET",t[t.MERITCIRCLE_TESTNET=10178]="MERITCIRCLE_TESTNET",t[t.MANTLE_TESTNET=10181]="MANTLE_TESTNET",t[t.HUBBLE_TESTNET=10182]="HUBBLE_TESTNET",t[t.AAVEGOTCHI_TESTNET=10191]="AAVEGOTCHI_TESTNET",t[t.ZORA_TESTNET=10195]="ZORA_TESTNET",t[t.TOMO_TESTNET=10196]="TOMO_TESTNET",t[t.LOOT_TESTNET=10197]="LOOT_TESTNET",t[t.TELOS_TESTNET=10199]="TELOS_TESTNET",t[t.ORDERLY_TESTNET=10200]="ORDERLY_TESTNET",t[t.AURORA_TESTNET=10201]="AURORA_TESTNET",t[t.OPBNB_TESTNET=10202]="OPBNB_TESTNET",t[t.MONAD_TESTNET=10204]="MONAD_TESTNET",t[t.SPRUCE_TESTNET=10206]="SPRUCE_TESTNET",t[t.PGJJTK_TESTNET=10207]="PGJJTK_TESTNET",t[t.ODA_TESTNET=10208]="ODA_TESTNET",t[t.KIWI_TESTNET=10209]="KIWI_TESTNET",t[t.ASTAR_TESTNET=10210]="ASTAR_TESTNET",t[t.CONFLUX_TESTNET=10211]="CONFLUX_TESTNET",t[t.SCROLL_TESTNET=10214]="SCROLL_TESTNET",t[t.EON_TESTNET=10215]="EON_TESTNET",t[t.HOLESKY_TESTNET=10217]="HOLESKY_TESTNET",t[t.INJECTIVE_TESTNET=10218]="INJECTIVE_TESTNET",t[t.IDEX_TESTNET=10219]="IDEX_TESTNET",t[t.ZKATANA_TESTNET=10220]="ZKATANA_TESTNET",t[t.MANTA_TESTNET=10221]="MANTA_TESTNET",t[t.FRAME_TESTNET=10222]="FRAME_TESTNET",t[t.PGN_TESTNET=10223]="PGN_TESTNET",t[t.POLYGONCDK_TESTNET=10224]="POLYGONCDK_TESTNET",t[t.SHIMMER_TESTNET=10230]="SHIMMER_TESTNET",t[t.ARBSEP_TESTNET=10231]="ARBSEP_TESTNET",t[t.OPTSEP_TESTNET=10232]="OPTSEP_TESTNET",t[t.VENN_TESTNET=10234]="VENN_TESTNET",t[t.RARIBLE_TESTNET=10235]="RARIBLE_TESTNET",t[t.GUNZILLA_TESTNET=10236]="GUNZILLA_TESTNET",t[t.RC1_TESTNET=10238]="RC1_TESTNET",t[t.ETHERLINK_TESTNET=10239]="ETHERLINK_TESTNET",t[t.KIWI2_TESTNET=10241]="KIWI2_TESTNET",t[t.JOC_TESTNET=10242]="JOC_TESTNET",t[t.BLAST_TESTNET=10243]="BLAST_TESTNET",t[t.BASESEP_TESTNET=10245]="BASESEP_TESTNET",t[t.MANTLESEP_TESTNET=10246]="MANTLESEP_TESTNET",t[t.ZKPOLYGONSEP_TESTNET=10247]="ZKPOLYGONSEP_TESTNET",t[t.ZKSYNCSEP_TESTNET=10248]="ZKSYNCSEP_TESTNET",t[t.ZORASEP_TESTNET=10249]="ZORASEP_TESTNET",t[t.XAI_TESTNET=10251]="XAI_TESTNET",t[t.TANGIBLE_TESTNET=10252]="TANGIBLE_TESTNET",t[t.TRON_TESTNET=10420]="TRON_TESTNET",t[t.FRAXTAL_TESTNET=10255]="FRAXTAL_TESTNET",t[t.BERA_TESTNET=10256]="BERA_TESTNET",t[t.SEI_TESTNET=10258]="SEI_TESTNET",t[t.EXOCORE_TESTNET=10259]="EXOCORE_TESTNET",t[t.MODE_TESTNET=10260]="MODE_TESTNET",t[t.UNREAL_TESTNET=10262]="UNREAL_TESTNET",t[t.MASA_TESTNET=10263]="MASA_TESTNET",t[t.MERLIN_TESTNET=10264]="MERLIN_TESTNET",t[t.HOMEVERSE_TESTNET=10265]="HOMEVERSE_TESTNET",t[t.ZKASTAR_TESTNET=10266]="ZKASTAR_TESTNET",t[t.AMOY_TESTNET=10267]="AMOY_TESTNET",t[t.DEGEN_TESTNET=10268]="DEGEN_TESTNET",t[t.XLAYER_TESTNET=10269]="XLAYER_TESTNET",t[t.FORM_TESTNET=10270]="FORM_TESTNET",t[t.LL1_TESTNET=10271]="LL1_TESTNET",t[t.MANTASEP_TESTNET=10272]="MANTASEP_TESTNET",t[t.SKALE_TESTNET=10273]="SKALE_TESTNET",t[t.TAIKO_TESTNET=10274]="TAIKO_TESTNET",t[t.ZIRCUIT_TESTNET=10275]="ZIRCUIT_TESTNET",t[t.OLIVE_TESTNET=10277]="OLIVE_TESTNET",t[t.SANKO_TESTNET=10278]="SANKO_TESTNET",t[t.BOB_TESTNET=10279]="BOB_TESTNET",t[t.CYBER_TESTNET=10280]="CYBER_TESTNET",t[t.BOTANIX_TESTNET=10281]="BOTANIX_TESTNET",t[t.XCHAIN_TESTNET=10282]="XCHAIN_TESTNET",t[t.ZKLINK_TESTNET=10283]="ZKLINK_TESTNET",t[t.EBI_TESTNET=10284]="EBI_TESTNET",t[t.HEDERA_TESTNET=10285]="HEDERA_TESTNET",t[t.LINEASEP_TESTNET=10286]="LINEASEP_TESTNET",t[t.BESU1_TESTNET=10288]="BESU1_TESTNET",t[t.BOUNCEBIT_TESTNET=10289]="BOUNCEBIT_TESTNET",t[t.BARTIO_TESTNET=10291]="BARTIO_TESTNET",t[t.METISSEP_TESTNET=10292]="METISSEP_TESTNET",t[t.XPLA_TESTNET=10216]="XPLA_TESTNET",t[t.FLARE_TESTNET=10294]="FLARE_TESTNET",t[t.CAMP_TESTNET=10295]="CAMP_TESTNET",t[t.GLUE_TESTNET=10296]="GLUE_TESTNET",t[t.OPENCAMPUS_TESTNET=10297]="OPENCAMPUS_TESTNET",t[t.VANAR_TESTNET=10298]="VANAR_TESTNET",t[t.PEAQ_TESTNET=10299]="PEAQ_TESTNET",t[t.FI_TESTNET=10301]="FI_TESTNET",t[t.PLUME_TESTNET=10304]="PLUME_TESTNET",t[t.CURTIS_TESTNET=10306]="CURTIS_TESTNET",t[t.LIF3_TESTNET=10300]="LIF3_TESTNET",t[t.IOTA_TESTNET=10307]="IOTA_TESTNET",t[t.LYRA_TESTNET=10308]="LYRA_TESTNET",t[t.LIGHTLINK_TESTNET=10309]="LIGHTLINK_TESTNET",t[t.BAHAMUT_TESTNET=10310]="BAHAMUT_TESTNET",t[t.CODEX_TESTNET=10311]="CODEX_TESTNET",t[t.OTHERWORLD_TESTNET=10312]="OTHERWORLD_TESTNET",t[t.ABSTRACT_TESTNET=10313]="ABSTRACT_TESTNET",t[t.STORY_TESTNET=10315]="STORY_TESTNET",t[t.TREASURE_TESTNET=10316]="TREASURE_TESTNET",t[t.ROOT_TESTNET=10318]="ROOT_TESTNET",t[t.REYA_TESTNET=10319]="REYA_TESTNET",t[t.BITLAYER_TESTNET=10320]="BITLAYER_TESTNET",t[t.DM2VERSE_TESTNET=10321]="DM2VERSE_TESTNET",t[t.MORPH_TESTNET=10322]="MORPH_TESTNET",t[t.OZEAN_TESTNET=10323]="OZEAN_TESTNET",t[t.BEVM_TESTNET=10324]="BEVM_TESTNET",t))(mge||{}),yge=(t=>(t[t.BSC_SANDBOX=20102]="BSC_SANDBOX",t[t.AVALANCHE_SANDBOX=20106]="AVALANCHE_SANDBOX",t[t.POLYGON_SANDBOX=20109]="POLYGON_SANDBOX",t[t.ETHEREUM_SANDBOX=20121]="ETHEREUM_SANDBOX",t[t.APTOS_SANDBOX=20008]="APTOS_SANDBOX",t[t.OPTIMISM_SANDBOX=20132]="OPTIMISM_SANDBOX",t[t.TRON_SANDBOX=20420]="TRON_SANDBOX",t[t.TRONDEV_SANDBOX=20421]="TRONDEV_SANDBOX",t[t.ARBITRUM_SANDBOX=20231]="ARBITRUM_SANDBOX",t[t.FANTOM_SANDBOX=20112]="FANTOM_SANDBOX",t[t.METIS_SANDBOX=20151]="METIS_SANDBOX",t))(yge||{}),bge=(t=>(t[t.ETHEREUM_V2_MAINNET=30101]="ETHEREUM_V2_MAINNET",t[t.BSC_V2_MAINNET=30102]="BSC_V2_MAINNET",t[t.AVALANCHE_V2_MAINNET=30106]="AVALANCHE_V2_MAINNET",t[t.POLYGON_V2_MAINNET=30109]="POLYGON_V2_MAINNET",t[t.ARBITRUM_V2_MAINNET=30110]="ARBITRUM_V2_MAINNET",t[t.OPTIMISM_V2_MAINNET=30111]="OPTIMISM_V2_MAINNET",t[t.FANTOM_V2_MAINNET=30112]="FANTOM_V2_MAINNET",t[t.SWIMMER_V2_MAINNET=30114]="SWIMMER_V2_MAINNET",t[t.DFK_V2_MAINNET=30115]="DFK_V2_MAINNET",t[t.HARMONY_V2_MAINNET=30116]="HARMONY_V2_MAINNET",t[t.DEXALOT_V2_MAINNET=30118]="DEXALOT_V2_MAINNET",t[t.CELO_V2_MAINNET=30125]="CELO_V2_MAINNET",t[t.MOONBEAM_V2_MAINNET=30126]="MOONBEAM_V2_MAINNET",t[t.INTAIN_V2_MAINNET=30152]="INTAIN_V2_MAINNET",t[t.FUSE_V2_MAINNET=30138]="FUSE_V2_MAINNET",t[t.GNOSIS_V2_MAINNET=30145]="GNOSIS_V2_MAINNET",t[t.KLAYTN_V2_MAINNET=30150]="KLAYTN_V2_MAINNET",t[t.METIS_V2_MAINNET=30151]="METIS_V2_MAINNET",t[t.COREDAO_V2_MAINNET=30153]="COREDAO_V2_MAINNET",t[t.GOERLI_V2_MAINNET=30154]="GOERLI_V2_MAINNET",t[t.OKX_V2_MAINNET=30155]="OKX_V2_MAINNET",t[t.CANTO_V2_MAINNET=30159]="CANTO_V2_MAINNET",t[t.ZKSYNC_V2_MAINNET=30165]="ZKSYNC_V2_MAINNET",t[t.SHRAPNEL_V2_MAINNET=30148]="SHRAPNEL_V2_MAINNET",t[t.DOS_V2_MAINNET=30149]="DOS_V2_MAINNET",t[t.ZKPOLYGON_V2_MAINNET=30158]="ZKPOLYGON_V2_MAINNET",t[t.SEPOLIA_V2_MAINNET=30161]="SEPOLIA_V2_MAINNET",t[t.MOONRIVER_V2_MAINNET=30167]="MOONRIVER_V2_MAINNET",t[t.TENET_V2_MAINNET=30173]="TENET_V2_MAINNET",t[t.NOVA_V2_MAINNET=30175]="NOVA_V2_MAINNET",t[t.METER_V2_MAINNET=30176]="METER_V2_MAINNET",t[t.KAVA_V2_MAINNET=30177]="KAVA_V2_MAINNET",t[t.MANTLE_V2_MAINNET=30181]="MANTLE_V2_MAINNET",t[t.HUBBLE_V2_MAINNET=30182]="HUBBLE_V2_MAINNET",t[t.ZKCONSENSYS_V2_MAINNET=30183]="ZKCONSENSYS_V2_MAINNET",t[t.BASE_V2_MAINNET=30184]="BASE_V2_MAINNET",t[t.ZORA_V2_MAINNET=30195]="ZORA_V2_MAINNET",t[t.TOMO_V2_MAINNET=30196]="TOMO_V2_MAINNET",t[t.LOOT_V2_MAINNET=30197]="LOOT_V2_MAINNET",t[t.MERITCIRCLE_V2_MAINNET=30198]="MERITCIRCLE_V2_MAINNET",t[t.TELOS_V2_MAINNET=30199]="TELOS_V2_MAINNET",t[t.OPBNB_V2_MAINNET=30202]="OPBNB_V2_MAINNET",t[t.LIF3_V2_MAINNET=30205]="LIF3_V2_MAINNET",t[t.ASTAR_V2_MAINNET=30210]="ASTAR_V2_MAINNET",t[t.AURORA_V2_MAINNET=30211]="AURORA_V2_MAINNET",t[t.CONFLUX_V2_MAINNET=30212]="CONFLUX_V2_MAINNET",t[t.ORDERLY_V2_MAINNET=30213]="ORDERLY_V2_MAINNET",t[t.SCROLL_V2_MAINNET=30214]="SCROLL_V2_MAINNET",t[t.EON_V2_MAINNET=30215]="EON_V2_MAINNET",t[t.XPLA_V2_MAINNET=30216]="XPLA_V2_MAINNET",t[t.MANTA_V2_MAINNET=30217]="MANTA_V2_MAINNET",t[t.PGN_V2_MAINNET=30218]="PGN_V2_MAINNET",t[t.SHIMMER_V2_MAINNET=30230]="SHIMMER_V2_MAINNET",t[t.BB1_V2_MAINNET=30234]="BB1_V2_MAINNET",t[t.RARIBLE_V2_MAINNET=30235]="RARIBLE_V2_MAINNET",t[t.XAI_V2_MAINNET=30236]="XAI_V2_MAINNET",t[t.REAL_V2_MAINNET=30237]="REAL_V2_MAINNET",t[t.TILTYARD_V2_MAINNET=30238]="TILTYARD_V2_MAINNET",t[t.FRAXTAL_V2_MAINNET=30255]="FRAXTAL_V2_MAINNET",t[t.TRON_V2_MAINNET=30420]="TRON_V2_MAINNET",t[t.ZKATANA_V2_MAINNET=30257]="ZKATANA_V2_MAINNET",t[t.BLAST_V2_MAINNET=30243]="BLAST_V2_MAINNET",t[t.MODE_V2_MAINNET=30260]="MODE_V2_MAINNET",t[t.MASA_V2_MAINNET=30263]="MASA_V2_MAINNET",t[t.HOMEVERSE_V2_MAINNET=30265]="HOMEVERSE_V2_MAINNET",t[t.MERLIN_V2_MAINNET=30266]="MERLIN_V2_MAINNET",t[t.DEGEN_V2_MAINNET=30267]="DEGEN_V2_MAINNET",t[t.SKALE_V2_MAINNET=30273]="SKALE_V2_MAINNET",t[t.XLAYER_V2_MAINNET=30274]="XLAYER_V2_MAINNET",t[t.SANKO_V2_MAINNET=30278]="SANKO_V2_MAINNET",t[t.BOB_V2_MAINNET=30279]="BOB_V2_MAINNET",t[t.SEI_V2_MAINNET=30280]="SEI_V2_MAINNET",t[t.EBI_V2_MAINNET=30282]="EBI_V2_MAINNET",t[t.CYBER_V2_MAINNET=30283]="CYBER_V2_MAINNET",t[t.IOTA_V2_MAINNET=30284]="IOTA_V2_MAINNET",t[t.SOLANA_V2_MAINNET=30168]="SOLANA_V2_MAINNET",t[t.KINTO_V2_MAINNET=30281]="KINTO_V2_MAINNET",t[t.JOC_V2_MAINNET=30285]="JOC_V2_MAINNET",t[t.TAIKO_V2_MAINNET=30290]="TAIKO_V2_MAINNET",t[t.XCHAIN_V2_MAINNET=30291]="XCHAIN_V2_MAINNET",t[t.ETHERLINK_V2_MAINNET=30292]="ETHERLINK_V2_MAINNET",t[t.BOUNCEBIT_V2_MAINNET=30293]="BOUNCEBIT_V2_MAINNET",t[t.GRAVITY_V2_MAINNET=30294]="GRAVITY_V2_MAINNET",t[t.FLARE_V2_MAINNET=30295]="FLARE_V2_MAINNET",t[t.ZKLINK_V2_MAINNET=30301]="ZKLINK_V2_MAINNET",t[t.PEAQ_V2_MAINNET=30302]="PEAQ_V2_MAINNET",t[t.ZIRCUIT_V2_MAINNET=30303]="ZIRCUIT_V2_MAINNET",t[t.LIGHTLINK_V2_MAINNET=30309]="LIGHTLINK_V2_MAINNET",t[t.CODEX_V2_MAINNET=30310]="CODEX_V2_MAINNET",t[t.LYRA_V2_MAINNET=30311]="LYRA_V2_MAINNET",t[t.APE_V2_MAINNET=30312]="APE_V2_MAINNET",t[t.REYA_V2_MAINNET=30313]="REYA_V2_MAINNET",t[t.BITLAYER_V2_MAINNET=30314]="BITLAYER_V2_MAINNET",t[t.DM2VERSE_V2_MAINNET=30315]="DM2VERSE_V2_MAINNET",t[t.HEDERA_V2_MAINNET=30316]="HEDERA_V2_MAINNET",t))(bge||{}),vge=(t=>(t[t.AVALANCHE_V2_TESTNET=40106]="AVALANCHE_V2_TESTNET",t[t.POLYGON_V2_TESTNET=40109]="POLYGON_V2_TESTNET",t[t.ETHEREUM_V2_TESTNET=40121]="ETHEREUM_V2_TESTNET",t[t.OPTIMISM_V2_TESTNET=40132]="OPTIMISM_V2_TESTNET",t[t.ARBITRUM_V2_TESTNET=40143]="ARBITRUM_V2_TESTNET",t[t.BSC_V2_TESTNET=40102]="BSC_V2_TESTNET",t[t.FANTOM_V2_TESTNET=40112]="FANTOM_V2_TESTNET",t[t.DFK_V2_TESTNET=40115]="DFK_V2_TESTNET",t[t.HARMONY_V2_TESTNET=40133]="HARMONY_V2_TESTNET",t[t.DEXALOT_V2_TESTNET=40118]="DEXALOT_V2_TESTNET",t[t.CELO_V2_TESTNET=40125]="CELO_V2_TESTNET",t[t.MOONBEAM_V2_TESTNET=40126]="MOONBEAM_V2_TESTNET",t[t.FUSE_V2_TESTNET=40138]="FUSE_V2_TESTNET",t[t.GNOSIS_V2_TESTNET=40145]="GNOSIS_V2_TESTNET",t[t.ZKSYNC_V2_TESTNET=40165]="ZKSYNC_V2_TESTNET",t[t.SHRAPNEL_V2_TESTNET=40164]="SHRAPNEL_V2_TESTNET",t[t.KLAYTN_V2_TESTNET=40150]="KLAYTN_V2_TESTNET",t[t.METIS_V2_TESTNET=40151]="METIS_V2_TESTNET",t[t.COREDAO_V2_TESTNET=40153]="COREDAO_V2_TESTNET",t[t.OKX_V2_TESTNET=40155]="OKX_V2_TESTNET",t[t.METER_V2_TESTNET=40156]="METER_V2_TESTNET",t[t.ZKCONSENSYS_V2_TESTNET=40157]="ZKCONSENSYS_V2_TESTNET",t[t.ZKPOLYGON_V2_TESTNET=40158]="ZKPOLYGON_V2_TESTNET",t[t.CANTO_V2_TESTNET=40159]="CANTO_V2_TESTNET",t[t.BASE_V2_TESTNET=40160]="BASE_V2_TESTNET",t[t.SEPOLIA_V2_TESTNET=40161]="SEPOLIA_V2_TESTNET",t[t.AAVEGOTCHI_V2_TESTNET=40179]="AAVEGOTCHI_V2_TESTNET",t[t.SCROLL_V2_TESTNET=40170]="SCROLL_V2_TESTNET",t[t.CATHAY_V2_TESTNET=40171]="CATHAY_V2_TESTNET",t[t.KAVA_V2_TESTNET=40172]="KAVA_V2_TESTNET",t[t.TENET_V2_TESTNET=40173]="TENET_V2_TESTNET",t[t.BLOCKGEN_V2_TESTNET=40177]="BLOCKGEN_V2_TESTNET",t[t.MERITCIRCLE_V2_TESTNET=40178]="MERITCIRCLE_V2_TESTNET",t[t.MANTLE_V2_TESTNET=40181]="MANTLE_V2_TESTNET",t[t.HUBBLE_V2_TESTNET=40182]="HUBBLE_V2_TESTNET",t[t.ZORA_V2_TESTNET=40195]="ZORA_V2_TESTNET",t[t.TOMO_V2_TESTNET=40196]="TOMO_V2_TESTNET",t[t.LOOT_V2_TESTNET=40197]="LOOT_V2_TESTNET",t[t.TELOS_V2_TESTNET=40199]="TELOS_V2_TESTNET",t[t.ORDERLY_V2_TESTNET=40200]="ORDERLY_V2_TESTNET",t[t.AURORA_V2_TESTNET=40201]="AURORA_V2_TESTNET",t[t.OPBNB_V2_TESTNET=40202]="OPBNB_V2_TESTNET",t[t.SHIMMER_V2_TESTNET=40203]="SHIMMER_V2_TESTNET",t[t.MONAD_V2_TESTNET=40204]="MONAD_V2_TESTNET",t[t.SPRUCE_V2_TESTNET=40206]="SPRUCE_V2_TESTNET",t[t.PGJJTK_V2_TESTNET=40207]="PGJJTK_V2_TESTNET",t[t.ODA_V2_TESTNET=40208]="ODA_V2_TESTNET",t[t.KIWI_V2_TESTNET=40209]="KIWI_V2_TESTNET",t[t.ASTAR_V2_TESTNET=40210]="ASTAR_V2_TESTNET",t[t.CONFLUX_V2_TESTNET=40211]="CONFLUX_V2_TESTNET",t[t.EON_V2_TESTNET=40215]="EON_V2_TESTNET",t[t.HOLESKY_V2_TESTNET=40217]="HOLESKY_V2_TESTNET",t[t.INJECTIVE_V2_TESTNET=40218]="INJECTIVE_V2_TESTNET",t[t.IDEX_V2_TESTNET=40219]="IDEX_V2_TESTNET",t[t.ZKATANA_V2_TESTNET=40220]="ZKATANA_V2_TESTNET",t[t.MANTA_V2_TESTNET=40221]="MANTA_V2_TESTNET",t[t.FRAME_V2_TESTNET=40222]="FRAME_V2_TESTNET",t[t.PGN_V2_TESTNET=40223]="PGN_V2_TESTNET",t[t.POLYGONCDK_V2_TESTNET=40224]="POLYGONCDK_V2_TESTNET",t[t.ARBSEP_V2_TESTNET=40231]="ARBSEP_V2_TESTNET",t[t.OPTSEP_V2_TESTNET=40232]="OPTSEP_V2_TESTNET",t[t.VENN_V2_TESTNET=40234]="VENN_V2_TESTNET",t[t.RARIBLE_V2_TESTNET=40235]="RARIBLE_V2_TESTNET",t[t.GUNZILLA_V2_TESTNET=40236]="GUNZILLA_V2_TESTNET",t[t.RC1_V2_TESTNET=40238]="RC1_V2_TESTNET",t[t.ETHERLINK_V2_TESTNET=40239]="ETHERLINK_V2_TESTNET",t[t.KIWI2_V2_TESTNET=40241]="KIWI2_V2_TESTNET",t[t.JOC_V2_TESTNET=40242]="JOC_V2_TESTNET",t[t.BLAST_V2_TESTNET=40243]="BLAST_V2_TESTNET",t[t.BASESEP_V2_TESTNET=40245]="BASESEP_V2_TESTNET",t[t.MANTLESEP_V2_TESTNET=40246]="MANTLESEP_V2_TESTNET",t[t.ZKPOLYGONSEP_V2_TESTNET=40247]="ZKPOLYGONSEP_V2_TESTNET",t[t.ZORASEP_V2_TESTNET=40249]="ZORASEP_V2_TESTNET",t[t.XAI_V2_TESTNET=40251]="XAI_V2_TESTNET",t[t.TANGIBLE_V2_TESTNET=40252]="TANGIBLE_V2_TESTNET",t[t.EXOCORE_V2_TESTNET=40259]="EXOCORE_V2_TESTNET",t[t.TRON_V2_TESTNET=40420]="TRON_V2_TESTNET",t[t.FRAXTAL_V2_TESTNET=40255]="FRAXTAL_V2_TESTNET",t[t.BERA_V2_TESTNET=40256]="BERA_V2_TESTNET",t[t.SEI_V2_TESTNET=40258]="SEI_V2_TESTNET",t[t.MODE_V2_TESTNET=40260]="MODE_V2_TESTNET",t[t.UNREAL_V2_TESTNET=40262]="UNREAL_V2_TESTNET",t[t.MASA_V2_TESTNET=40263]="MASA_V2_TESTNET",t[t.MERLIN_V2_TESTNET=40264]="MERLIN_V2_TESTNET",t[t.HOMEVERSE_V2_TESTNET=40265]="HOMEVERSE_V2_TESTNET",t[t.ZKASTAR_V2_TESTNET=40266]="ZKASTAR_V2_TESTNET",t[t.AMOY_V2_TESTNET=40267]="AMOY_V2_TESTNET",t[t.DEGEN_V2_TESTNET=40268]="DEGEN_V2_TESTNET",t[t.XLAYER_V2_TESTNET=40269]="XLAYER_V2_TESTNET",t[t.FORM_V2_TESTNET=40270]="FORM_V2_TESTNET",t[t.LL1_V2_TESTNET=40271]="LL1_V2_TESTNET",t[t.MANTASEP_V2_TESTNET=40272]="MANTASEP_V2_TESTNET",t[t.SKALE_V2_TESTNET=40273]="SKALE_V2_TESTNET",t[t.TAIKO_V2_TESTNET=40274]="TAIKO_V2_TESTNET",t[t.ZIRCUIT_V2_TESTNET=40275]="ZIRCUIT_V2_TESTNET",t[t.OLIVE_V2_TESTNET=40277]="OLIVE_V2_TESTNET",t[t.SANKO_V2_TESTNET=40278]="SANKO_V2_TESTNET",t[t.BOB_V2_TESTNET=40279]="BOB_V2_TESTNET",t[t.CYBER_V2_TESTNET=40280]="CYBER_V2_TESTNET",t[t.BOTANIX_V2_TESTNET=40281]="BOTANIX_V2_TESTNET",t[t.XCHAIN_V2_TESTNET=40282]="XCHAIN_V2_TESTNET",t[t.ZKLINK_V2_TESTNET=40283]="ZKLINK_V2_TESTNET",t[t.EBI_V2_TESTNET=40284]="EBI_V2_TESTNET",t[t.HEDERA_V2_TESTNET=40285]="HEDERA_V2_TESTNET",t[t.DOS_V2_TESTNET=40286]="DOS_V2_TESTNET",t[t.LINEASEP_V2_TESTNET=40287]="LINEASEP_V2_TESTNET",t[t.BESU1_V2_TESTNET=40288]="BESU1_V2_TESTNET",t[t.BOUNCEBIT_V2_TESTNET=40289]="BOUNCEBIT_V2_TESTNET",t[t.SOLANA_V2_TESTNET=40168]="SOLANA_V2_TESTNET",t[t.BARTIO_V2_TESTNET=40291]="BARTIO_V2_TESTNET",t[t.METISSEP_V2_TESTNET=40292]="METISSEP_V2_TESTNET",t[t.XPLA_V2_TESTNET=40216]="XPLA_V2_TESTNET",t[t.FLARE_V2_TESTNET=40294]="FLARE_V2_TESTNET",t[t.CAMP_V2_TESTNET=40295]="CAMP_V2_TESTNET",t[t.GLUE_V2_TESTNET=40296]="GLUE_V2_TESTNET",t[t.OPENCAMPUS_V2_TESTNET=40297]="OPENCAMPUS_V2_TESTNET",t[t.VANAR_V2_TESTNET=40298]="VANAR_V2_TESTNET",t[t.PEAQ_V2_TESTNET=40299]="PEAQ_V2_TESTNET",t[t.FI_V2_TESTNET=40301]="FI_V2_TESTNET",t[t.PLUME_V2_TESTNET=40304]="PLUME_V2_TESTNET",t[t.ZKSYNCSEP_V2_TESTNET=40305]="ZKSYNCSEP_V2_TESTNET",t[t.CURTIS_V2_TESTNET=40306]="CURTIS_V2_TESTNET",t[t.LIF3_V2_TESTNET=40300]="LIF3_V2_TESTNET",t[t.IOTA_V2_TESTNET=40307]="IOTA_V2_TESTNET",t[t.LYRA_V2_TESTNET=40308]="LYRA_V2_TESTNET",t[t.LIGHTLINK_V2_TESTNET=40309]="LIGHTLINK_V2_TESTNET",t[t.BAHAMUT_V2_TESTNET=40310]="BAHAMUT_V2_TESTNET",t[t.CODEX_V2_TESTNET=40311]="CODEX_V2_TESTNET",t[t.OTHERWORLD_V2_TESTNET=40312]="OTHERWORLD_V2_TESTNET",t[t.ABSTRACT_V2_TESTNET=40313]="ABSTRACT_V2_TESTNET",t[t.STORY_V2_TESTNET=40315]="STORY_V2_TESTNET",t[t.TREASURE_V2_TESTNET=40316]="TREASURE_V2_TESTNET",t[t.ROOT_V2_TESTNET=40318]="ROOT_V2_TESTNET",t[t.REYA_V2_TESTNET=40319]="REYA_V2_TESTNET",t[t.BITLAYER_V2_TESTNET=40320]="BITLAYER_V2_TESTNET",t[t.DM2VERSE_V2_TESTNET=40321]="DM2VERSE_V2_TESTNET",t[t.MORPH_V2_TESTNET=40322]="MORPH_V2_TESTNET",t[t.OZEAN_V2_TESTNET=40323]="OZEAN_V2_TESTNET",t[t.BEVM_V2_TESTNET=40324]="BEVM_V2_TESTNET",t))(vge||{}),wge=(t=>(t[t.ETHEREUM_V2_SANDBOX=50121]="ETHEREUM_V2_SANDBOX",t[t.POLYGON_V2_SANDBOX=50109]="POLYGON_V2_SANDBOX",t[t.SOLANA_V2_SANDBOX=50168]="SOLANA_V2_SANDBOX",t[t.BSC_V2_SANDBOX=50102]="BSC_V2_SANDBOX",t[t.AVALANCHE_V2_SANDBOX=50106]="AVALANCHE_V2_SANDBOX",t[t.OPTIMISM_V2_SANDBOX=50132]="OPTIMISM_V2_SANDBOX",t[t.METIS_V2_SANDBOX=50151]="METIS_V2_SANDBOX",t))(wge||{}),Mpt={...gge,...mge,...yge,...bge,...vge,...wge},P_=(t=>(t.LOCAL="local",t.DEVNET="devnet",t.TESTNET="testnet",t.MAINNET="mainnet",t))(P_||{}),Sge=Object.defineProperty,Cpt=(t,e,r)=>e in t?Sge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_n=(t,e)=>{for(var r in e)Sge(t,r,{get:e[r],enumerable:!0})},Ppt=(t,e,r)=>(Cpt(t,e+"",r),r),_ge="Endpoint",Sg="MessageLib",vI="SendLibraryConfig",pte="ReceiveLibraryConfig",Age="Nonce",Npt="PendingNonce",Bpt="PayloadHash",Opt="ComposedMessageHash",H$="OApp",gte="LzReceiveTypes",mte="LzComposeTypes",xge=Sg,Lpt="UlnConfig",wR="SendConfig",Ege="ReceiveConfig",Dpt="Options",Fpt="Confirmations",$pt="Worker",kge="DvnConfig",q$="__event_authority",Tge="ExecutorConfig",Ige="PriceFeed",Upt="Peer",zpt="EnforcedOptions",wI=class{constructor(t){this.program=t}setting(){return mt.findProgramAddressSync([Ie.Buffer.from(_ge,"utf8")],this.program)}defaultSendLibraryConfig(t){return mt.findProgramAddressSync([Ie.Buffer.from(vI,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4)],this.program)}sendLibraryConfig(t,e){return mt.findProgramAddressSync([Ie.Buffer.from(vI,"utf8"),t.toBytes(),new an(e).toArrayLike(Ie.Buffer,"be",4)],this.program)}messageLibraryInfo(t){return mt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8"),t.toBytes()],this.program)}defaultReceiveLibraryConfig(t){return mt.findProgramAddressSync([Ie.Buffer.from(pte,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4)],this.program)}receiveLibraryConfig(t,e){return mt.findProgramAddressSync([Ie.Buffer.from(pte,"utf8"),t.toBytes(),new an(e).toArrayLike(Ie.Buffer,"be",4)],this.program)}receiveLibraryTimeout(t){return[this.program,0]}defaultMessageLib(){return this.messageLibraryInfo(mt.default)}blockMessageLib(t){return mt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8"),t.toBytes()],this.program)}nonce(t,e,r){return mt.findProgramAddressSync([Ie.Buffer.from(Age,"utf8"),t.toBytes(),new an(e).toArrayLike(Ie.Buffer,"be",4),r],this.program)}pendingNonce(t,e,r){return mt.findProgramAddressSync([Ie.Buffer.from(Npt,"utf8"),t.toBytes(),new an(e).toArrayLike(Ie.Buffer,"be",4),r],this.program)}oappRegistry(t){return mt.findProgramAddressSync([Ie.Buffer.from(H$,"utf8"),t.toBytes()],this.program)}payloadHash(t,e,r,n){return mt.findProgramAddressSync([Ie.Buffer.from(Bpt,"utf8"),t.toBytes(),new an(e).toArrayLike(Ie.Buffer,"be",4),r,new an(n).toArrayLike(Ie.Buffer,"be",8)],this.program)}composedMessage(t,e,r,n,i){return mt.findProgramAddressSync([Ie.Buffer.from(Opt,"utf8"),t.toBytes(),n.toBytes(),e,new an(r).toArrayLike(Ie.Buffer,"be",2),i],this.program)}},gu=class{constructor(t){this.program=t}messageLib(){return mt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8")],this.program)}sendConfig(t,e){return mt.findProgramAddressSync([Ie.Buffer.from(wR,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4),e.toBuffer()],this.program)}receiveConfig(t,e){return mt.findProgramAddressSync([Ie.Buffer.from(Ege,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4),e.toBuffer()],this.program)}},Wpt=class extends gu{setting(){return mt.findProgramAddressSync([Ie.Buffer.from(xge,"utf8")],this.program)}config(t){return mt.findProgramAddressSync([Ie.Buffer.from(Lpt,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4)],this.program)}defaultSendConfig(t){return mt.findProgramAddressSync([Ie.Buffer.from(wR,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4)],this.program)}defaultReceiveConfig(t){return mt.findProgramAddressSync([Ie.Buffer.from(Ege,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4)],this.program)}options(t){return mt.findProgramAddressSync([Ie.Buffer.from(Dpt,"utf8"),new an(t).toArrayLike(Ie.Buffer,"be",4)],this.program)}workerConfig(t){return mt.findProgramAddressSync([Ie.Buffer.from($pt,"utf8"),t.toBuffer()],this.program)}confirmations(t,e,r){return mt.findProgramAddressSync([Ie.Buffer.from(Fpt,"utf8"),t,e,r.toBytes()],this.program)}},Kpt=class{constructor(t){this.program=t}authority(){return mt.findProgramAddressSync([Ie.Buffer.from("dvn","utf8")],this.program)}config(){return mt.findProgramAddressSync([Ie.Buffer.from(kge,"utf8")],this.program)}executeHash(t){return mt.findProgramAddressSync([Ie.Buffer.from("ExecuteHash","utf8"),t],this.program)}},O0=class{constructor(t){this.program=t}eventAuthority(){return mt.findProgramAddressSync([Ie.Buffer.from(q$,"utf8")],this.program)}},jpt=class{constructor(t){this.program=t}config(){return mt.findProgramAddressSync([Ie.Buffer.from(Tge,"utf8")],this.program)}},V$=class{constructor(t){this.program=t}priceFeed(){return mt.findProgramAddressSync([Ie.Buffer.from(Ige,"utf8")],this.program)}},SI={};_n(SI,{DefaultMessageLib:()=>K3,Endpoint:()=>d0t,EventEmitDiscriminator:()=>f0t,PROGRAM_ID:()=>Wgt,accounts:()=>Rge,errors:()=>Lge,events:()=>hye,instructions:()=>t0e,types:()=>fye});function Hpt(t){return Ihe(t,32)}function yte(t){return t instanceof Uint8Array&&(t=A2(t)),Lat(t.slice(-40))}function Y5(t){return t.replace(/^0x/,"")}function Ip(t){if(Vpt(t))return Wue.decode(t);if(t.startsWith("0x")&&t.length<=66)return Ts(Hpt(t));throw new Error("Invalid address")}var qpt=/^([1-9A-HJ-NP-Za-km-z]{32,44})$/;function Vpt(t){return qpt.test(t)}ua.from("0xffffffffffffffffffffffffffffffff");var bte=0,vte=1,wte=9,Ste=13,Z5=45,_te=49,o_=81,Lk=113,_1=class SD{constructor(e){Ppt(this,"buffer"),this.buffer=Ie.Buffer.from(Y5(e),"hex")}static from(e){return new SD(e)}static fromBytes(e){return new SD("0x"+Ie.Buffer.from(e).toString("hex"))}static encode(e){const r=this.encodeBytes(e);return"0x"+Ie.Buffer.from(r).toString("hex")}static encodeBytes(e){const r=Y5(e.message),n=Ie.Buffer.alloc(Lk+r.length/2);return n.writeUInt8(e.version,bte),n.writeBigUInt64BE(BigInt(e.nonce),vte),n.writeUInt32BE(e.srcEid,wte),n.write(Ie.Buffer.from(Ip(e.sender)).toString("hex"),Ste,32,"hex"),n.writeUInt32BE(e.dstEid,Z5),n.write(Ie.Buffer.from(Ip(e.receiver)).toString("hex"),_te,32,"hex"),n.write(Y5(e.guid),o_,32,"hex"),n.write(r,Lk,r.length/2,"hex"),new Uint8Array(n)}version(){return this.buffer.readUInt8(bte)}nonce(){return this.buffer.readBigUint64BE(vte).toString()}srcEid(){return this.buffer.readUint32BE(wte)}sender(){return"0x"+this.buffer.slice(Ste,Z5).toString("hex")}senderAddressB20(){return yte(this.sender())}dstEid(){return this.buffer.readUint32BE(Z5)}receiver(){return"0x"+this.buffer.slice(_te,o_).toString("hex")}receiverAddressB20(){return yte(this.receiver())}guid(){return"0x"+this.buffer.slice(o_,Lk).toString("hex")}message(){return"0x"+this.buffer.slice(Lk).toString("hex")}payloadHash(){return ix(this.payload())}payload(){return"0x"+this.buffer.slice(o_).toString("hex")}header(){return"0x"+this.buffer.slice(0,o_).toString("hex")}headerHash(){return ix(this.header())}decode(){return this.toPacket()}toPacket(){return{version:this.version(),nonce:this.nonce(),srcEid:this.srcEid(),sender:this.sender(),dstEid:this.dstEid(),receiver:this.receiver(),guid:this.guid(),message:this.message(),payload:this.payload()}}},Rge={};_n(Rge,{ComposeMessageState:()=>SR,EndpointSettings:()=>dx,MessageLibInfo:()=>AR,Nonce:()=>xR,OAppRegistry:()=>Y$,PayloadHash:()=>ER,PendingInboundNonce:()=>kR,ReceiveLibraryConfig:()=>L0,SendLibraryConfig:()=>D0,accountProviders:()=>Gpt,composeMessageStateBeet:()=>N_,composeMessageStateDiscriminator:()=>Mge,endpointSettingsBeet:()=>B_,endpointSettingsDiscriminator:()=>_D,messageLibInfoBeet:()=>O_,messageLibInfoDiscriminator:()=>Cge,nonceBeet:()=>L_,nonceDiscriminator:()=>Pge,oAppRegistryBeet:()=>D_,oAppRegistryDiscriminator:()=>Nge,payloadHashBeet:()=>F_,payloadHashDiscriminator:()=>Bge,pendingInboundNonceBeet:()=>$_,pendingInboundNonceDiscriminator:()=>AD,receiveLibraryConfigBeet:()=>U_,receiveLibraryConfigDiscriminator:()=>xD,sendLibraryConfigBeet:()=>z_,sendLibraryConfigDiscriminator:()=>Oge});var Mge=[55,107,79,254,243,22,172,240],SR=class A1{constructor(e,r){this.received=e,this.bump=r}static fromArgs(e){return new A1(e.received,e.bump)}static fromAccountInfo(e,r=0){return A1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ComposeMessageState account at ${r}`);return A1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,N_)}static deserialize(e,r=0){return N_.deserialize(e,r)}serialize(){return N_.serialize({accountDiscriminator:Mge,...this})}static get byteSize(){return N_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(A1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===A1.byteSize}pretty(){return{received:this.received,bump:this.bump}}},N_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["received",L.bool],["bump",L.u8]],SR.fromArgs,"ComposeMessageState"),_D=[221,232,73,56,10,66,72,14],dx=class x1{constructor(e,r,n,i){this.eid=e,this.bump=r,this.admin=n,this.lzTokenMint=i}static fromArgs(e){return new x1(e.eid,e.bump,e.admin,e.lzTokenMint)}static fromAccountInfo(e,r=0){return x1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find EndpointSettings account at ${r}`);return x1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,B_)}static deserialize(e,r=0){return B_.deserialize(e,r)}serialize(){return B_.serialize({accountDiscriminator:_D,...this})}static byteSize(e){const r=x1.fromArgs(e);return B_.toFixedFromValue({accountDiscriminator:_D,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(x1.byteSize(e),n)}pretty(){return{eid:this.eid,bump:this.bump,admin:this.admin.toBase58(),lzTokenMint:this.lzTokenMint}}},B_=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["eid",L.u32],["bump",L.u8],["admin",We.publicKey],["lzTokenMint",L.coption(We.publicKey)]],dx.fromArgs,"EndpointSettings"),_R=(t=>(t[t.Send=0]="Send",t[t.Receive=1]="Receive",t[t.SendAndReceive=2]="SendAndReceive",t))(_R||{}),G$=L.fixedScalarEnum(_R),Cge=[103,102,218,28,204,135,71,14],AR=class E1{constructor(e,r,n){this.messageLibType=e,this.bump=r,this.messageLibBump=n}static fromArgs(e){return new E1(e.messageLibType,e.bump,e.messageLibBump)}static fromAccountInfo(e,r=0){return E1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MessageLibInfo account at ${r}`);return E1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,O_)}static deserialize(e,r=0){return O_.deserialize(e,r)}serialize(){return O_.serialize({accountDiscriminator:Cge,...this})}static get byteSize(){return O_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(E1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===E1.byteSize}pretty(){return{messageLibType:"MessageLibType."+_R[this.messageLibType],bump:this.bump,messageLibBump:this.messageLibBump}}},O_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["messageLibType",G$],["bump",L.u8],["messageLibBump",L.u8]],AR.fromArgs,"MessageLibInfo"),Pge=[143,197,147,95,106,165,50,43],xR=class k1{constructor(e,r,n){this.bump=e,this.outboundNonce=r,this.inboundNonce=n}static fromArgs(e){return new k1(e.bump,e.outboundNonce,e.inboundNonce)}static fromAccountInfo(e,r=0){return k1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Nonce account at ${r}`);return k1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,L_)}static deserialize(e,r=0){return L_.deserialize(e,r)}serialize(){return L_.serialize({accountDiscriminator:Pge,...this})}static get byteSize(){return L_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(k1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===k1.byteSize}pretty(){return{bump:this.bump,outboundNonce:(()=>{const e=this.outboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),inboundNonce:(()=>{const e=this.inboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}},L_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["outboundNonce",L.u64],["inboundNonce",L.u64]],xR.fromArgs,"Nonce"),Nge=[6,152,199,30,217,50,69,149],Y$=class T1{constructor(e,r){this.delegate=e,this.bump=r}static fromArgs(e){return new T1(e.delegate,e.bump)}static fromAccountInfo(e,r=0){return T1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find OAppRegistry account at ${r}`);return T1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,D_)}static deserialize(e,r=0){return D_.deserialize(e,r)}serialize(){return D_.serialize({accountDiscriminator:Nge,...this})}static get byteSize(){return D_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(T1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===T1.byteSize}pretty(){return{delegate:this.delegate.toBase58(),bump:this.bump}}},D_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["delegate",We.publicKey],["bump",L.u8]],Y$.fromArgs,"OAppRegistry"),Bge=[96,28,106,145,103,32,186,70],ER=class I1{constructor(e,r){this.hash=e,this.bump=r}static fromArgs(e){return new I1(e.hash,e.bump)}static fromAccountInfo(e,r=0){return I1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find PayloadHash account at ${r}`);return I1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,F_)}static deserialize(e,r=0){return F_.deserialize(e,r)}serialize(){return F_.serialize({accountDiscriminator:Bge,...this})}static get byteSize(){return F_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(I1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===I1.byteSize}pretty(){return{hash:this.hash,bump:this.bump}}},F_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["hash",L.uniformFixedSizeArray(L.u8,32)],["bump",L.u8]],ER.fromArgs,"PayloadHash"),AD=[170,176,95,240,120,231,241,218],kR=class R1{constructor(e,r){this.nonces=e,this.bump=r}static fromArgs(e){return new R1(e.nonces,e.bump)}static fromAccountInfo(e,r=0){return R1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find PendingInboundNonce account at ${r}`);return R1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,$_)}static deserialize(e,r=0){return $_.deserialize(e,r)}serialize(){return $_.serialize({accountDiscriminator:AD,...this})}static byteSize(e){const r=R1.fromArgs(e);return $_.toFixedFromValue({accountDiscriminator:AD,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(R1.byteSize(e),n)}pretty(){return{nonces:this.nonces,bump:this.bump}}},$_=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["nonces",L.array(L.u64)],["bump",L.u8]],kR.fromArgs,"PendingInboundNonce"),TR=new L.BeetArgsStruct([["messageLib",We.publicKey],["expiry",L.u64]],"ReceiveLibraryTimeout"),xD=[142,226,251,138,1,206,91,193],L0=class M1{constructor(e,r,n){this.messageLib=e,this.timeout=r,this.bump=n}static fromArgs(e){return new M1(e.messageLib,e.timeout,e.bump)}static fromAccountInfo(e,r=0){return M1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveLibraryConfig account at ${r}`);return M1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,U_)}static deserialize(e,r=0){return U_.deserialize(e,r)}serialize(){return U_.serialize({accountDiscriminator:xD,...this})}static byteSize(e){const r=M1.fromArgs(e);return U_.toFixedFromValue({accountDiscriminator:xD,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(M1.byteSize(e),n)}pretty(){return{messageLib:this.messageLib.toBase58(),timeout:this.timeout,bump:this.bump}}},U_=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["messageLib",We.publicKey],["timeout",L.coption(TR)],["bump",L.u8]],L0.fromArgs,"ReceiveLibraryConfig"),Oge=[61,238,31,72,251,117,66,176],D0=class C1{constructor(e,r){this.messageLib=e,this.bump=r}static fromArgs(e){return new C1(e.messageLib,e.bump)}static fromAccountInfo(e,r=0){return C1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find SendLibraryConfig account at ${r}`);return C1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6")){return We.GpaBuilder.fromStruct(e,z_)}static deserialize(e,r=0){return z_.deserialize(e,r)}serialize(){return z_.serialize({accountDiscriminator:Oge,...this})}static get byteSize(){return z_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(C1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===C1.byteSize}pretty(){return{messageLib:this.messageLib.toBase58(),bump:this.bump}}},z_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["messageLib",We.publicKey],["bump",L.u8]],D0.fromArgs,"SendLibraryConfig"),Gpt={ComposeMessageState:SR,EndpointSettings:dx,OAppRegistry:Y$,MessageLibInfo:AR,ReceiveLibraryConfig:L0,SendLibraryConfig:D0,Nonce:xR,PayloadHash:ER,PendingInboundNonce:kR},Lge={};_n(Lge,{AccountNotFoundError:()=>J$,ComposeNotFoundError:()=>uU,InvalidAmountError:()=>iU,InvalidExpiryError:()=>rU,InvalidMessageLibError:()=>dU,InvalidNonceError:()=>sU,InvalidPayloadHashError:()=>cU,InvalidReceiveLibraryError:()=>X$,InvalidSendLibraryError:()=>Z$,LzTokenUnavailableError:()=>lU,OnlyNonDefaultLibError:()=>nU,OnlyReceiveLibError:()=>tU,OnlySendLibError:()=>eU,PayloadHashNotFoundError:()=>aU,ReadOnlyAccountError:()=>fU,SameValueError:()=>Q$,UnauthorizedError:()=>oU,WritableAccountNotAllowedError:()=>hU,errorFromCode:()=>Ypt,errorFromName:()=>Zpt});var Ws=new Map,Ks=new Map,Z$=class Dge extends Error{constructor(){super(""),this.code=6e3,this.name="InvalidSendLibrary",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Dge)}};Ws.set(6e3,()=>new Z$);Ks.set("InvalidSendLibrary",()=>new Z$);var X$=class Fge extends Error{constructor(){super(""),this.code=6001,this.name="InvalidReceiveLibrary",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Fge)}};Ws.set(6001,()=>new X$);Ks.set("InvalidReceiveLibrary",()=>new X$);var Q$=class $ge extends Error{constructor(){super(""),this.code=6002,this.name="SameValue",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$ge)}};Ws.set(6002,()=>new Q$);Ks.set("SameValue",()=>new Q$);var J$=class Uge extends Error{constructor(){super(""),this.code=6003,this.name="AccountNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Uge)}};Ws.set(6003,()=>new J$);Ks.set("AccountNotFound",()=>new J$);var eU=class zge extends Error{constructor(){super(""),this.code=6004,this.name="OnlySendLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zge)}};Ws.set(6004,()=>new eU);Ks.set("OnlySendLib",()=>new eU);var tU=class Wge extends Error{constructor(){super(""),this.code=6005,this.name="OnlyReceiveLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Wge)}};Ws.set(6005,()=>new tU);Ks.set("OnlyReceiveLib",()=>new tU);var rU=class Kge extends Error{constructor(){super(""),this.code=6006,this.name="InvalidExpiry",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Kge)}};Ws.set(6006,()=>new rU);Ks.set("InvalidExpiry",()=>new rU);var nU=class jge extends Error{constructor(){super(""),this.code=6007,this.name="OnlyNonDefaultLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,jge)}};Ws.set(6007,()=>new nU);Ks.set("OnlyNonDefaultLib",()=>new nU);var iU=class Hge extends Error{constructor(){super(""),this.code=6008,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Hge)}};Ws.set(6008,()=>new iU);Ks.set("InvalidAmount",()=>new iU);var sU=class qge extends Error{constructor(){super(""),this.code=6009,this.name="InvalidNonce",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qge)}};Ws.set(6009,()=>new sU);Ks.set("InvalidNonce",()=>new sU);var oU=class Vge extends Error{constructor(){super(""),this.code=6010,this.name="Unauthorized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Vge)}};Ws.set(6010,()=>new oU);Ks.set("Unauthorized",()=>new oU);var aU=class Gge extends Error{constructor(){super(""),this.code=6011,this.name="PayloadHashNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gge)}};Ws.set(6011,()=>new aU);Ks.set("PayloadHashNotFound",()=>new aU);var uU=class Yge extends Error{constructor(){super(""),this.code=6012,this.name="ComposeNotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Yge)}};Ws.set(6012,()=>new uU);Ks.set("ComposeNotFound",()=>new uU);var cU=class Zge extends Error{constructor(){super(""),this.code=6013,this.name="InvalidPayloadHash",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Zge)}};Ws.set(6013,()=>new cU);Ks.set("InvalidPayloadHash",()=>new cU);var lU=class Xge extends Error{constructor(){super(""),this.code=6014,this.name="LzTokenUnavailable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Xge)}};Ws.set(6014,()=>new lU);Ks.set("LzTokenUnavailable",()=>new lU);var fU=class Qge extends Error{constructor(){super(""),this.code=6015,this.name="ReadOnlyAccount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Qge)}};Ws.set(6015,()=>new fU);Ks.set("ReadOnlyAccount",()=>new fU);var dU=class Jge extends Error{constructor(){super(""),this.code=6016,this.name="InvalidMessageLib",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Jge)}};Ws.set(6016,()=>new dU);Ks.set("InvalidMessageLib",()=>new dU);var hU=class e0e extends Error{constructor(){super(""),this.code=6017,this.name="WritableAccountNotAllowed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e0e)}};Ws.set(6017,()=>new hU);Ks.set("WritableAccountNotAllowed",()=>new hU);function Ypt(t){const e=Ws.get(t);return e!=null?e():null}function Zpt(t){const e=Ks.get(t);return e!=null?e():null}var t0e={};_n(t0e,{burnInstructionDiscriminator:()=>i0e,burnStruct:()=>n0e,clearComposeInstructionDiscriminator:()=>l0e,clearComposeStruct:()=>c0e,clearInstructionDiscriminator:()=>a0e,clearStruct:()=>o0e,createBurnInstruction:()=>Xpt,createBurnInstructionAccounts:()=>Qpt,createClearComposeInstruction:()=>tgt,createClearComposeInstructionAccounts:()=>rgt,createClearInstruction:()=>Jpt,createClearInstructionAccounts:()=>egt,createInitConfigInstruction:()=>p0e,createInitConfigInstructionAccounts:()=>ngt,createInitDefaultReceiveLibraryInstruction:()=>b0e,createInitDefaultReceiveLibraryInstructionAccounts:()=>igt,createInitDefaultSendLibraryInstruction:()=>_0e,createInitDefaultSendLibraryInstructionAccounts:()=>sgt,createInitEndpointInstruction:()=>k0e,createInitEndpointInstructionAccounts:()=>ogt,createInitNonceInstruction:()=>M0e,createInitNonceInstructionAccounts:()=>agt,createInitReceiveLibraryInstruction:()=>B0e,createInitReceiveLibraryInstructionAccounts:()=>ugt,createInitSendLibraryInstruction:()=>F0e,createInitSendLibraryInstructionAccounts:()=>cgt,createInitVerifyInstruction:()=>W0e,createInitVerifyInstructionAccounts:()=>lgt,createLzComposeAlertInstruction:()=>fgt,createLzComposeAlertInstructionAccounts:()=>dgt,createLzReceiveAlertInstruction:()=>hgt,createLzReceiveAlertInstructionAccounts:()=>pgt,createNilifyInstruction:()=>ggt,createNilifyInstructionAccounts:()=>mgt,createQuoteInstruction:()=>ygt,createQuoteInstructionAccounts:()=>tme,createRegisterLibraryInstruction:()=>sme,createRegisterLibraryInstructionAccounts:()=>bgt,createRegisterOappInstruction:()=>vgt,createRegisterOappInstructionAccounts:()=>cme,createSendComposeInstruction:()=>Sgt,createSendComposeInstructionAccounts:()=>_gt,createSendInstruction:()=>wgt,createSendInstructionAccounts:()=>hme,createSetConfigInstruction:()=>wme,createSetConfigInstructionAccounts:()=>Agt,createSetDefaultReceiveLibraryInstruction:()=>xme,createSetDefaultReceiveLibraryInstructionAccounts:()=>xgt,createSetDefaultReceiveLibraryTimeoutInstruction:()=>Egt,createSetDefaultReceiveLibraryTimeoutInstructionAccounts:()=>kgt,createSetDefaultSendLibraryInstruction:()=>Cme,createSetDefaultSendLibraryInstructionAccounts:()=>Tgt,createSetDelegateInstruction:()=>Igt,createSetDelegateInstructionAccounts:()=>Rgt,createSetLzTokenInstruction:()=>Mgt,createSetLzTokenInstructionAccounts:()=>Cgt,createSetReceiveLibraryInstruction:()=>zme,createSetReceiveLibraryInstructionAccounts:()=>Pgt,createSetReceiveLibraryTimeoutInstruction:()=>Ngt,createSetReceiveLibraryTimeoutInstructionAccounts:()=>Bgt,createSetSendLibraryInstruction:()=>Gme,createSetSendLibraryInstructionAccounts:()=>Ogt,createSkipInstruction:()=>Qme,createSkipInstructionAccounts:()=>Jme,createTransferAdminInstruction:()=>nye,createTransferAdminInstructionAccounts:()=>Lgt,createVerifyInstruction:()=>Dgt,createVerifyInstructionAccounts:()=>aye,createWithdrawRentInstruction:()=>Fgt,createWithdrawRentInstructionAccounts:()=>$gt,initConfigInstructionDiscriminator:()=>h0e,initConfigStruct:()=>d0e,initDefaultReceiveLibraryInstructionDiscriminator:()=>y0e,initDefaultReceiveLibraryStruct:()=>m0e,initDefaultSendLibraryInstructionDiscriminator:()=>S0e,initDefaultSendLibraryStruct:()=>w0e,initEndpointInstructionDiscriminator:()=>E0e,initEndpointStruct:()=>x0e,initNonceInstructionDiscriminator:()=>R0e,initNonceStruct:()=>I0e,initReceiveLibraryInstructionDiscriminator:()=>N0e,initReceiveLibraryStruct:()=>P0e,initSendLibraryInstructionDiscriminator:()=>D0e,initSendLibraryStruct:()=>L0e,initVerifyInstructionDiscriminator:()=>z0e,initVerifyStruct:()=>U0e,lzComposeAlertInstructionDiscriminator:()=>H0e,lzComposeAlertStruct:()=>j0e,lzReceiveAlertInstructionDiscriminator:()=>G0e,lzReceiveAlertStruct:()=>V0e,nilifyInstructionDiscriminator:()=>X0e,nilifyStruct:()=>Z0e,quoteInstructionDiscriminator:()=>eme,quoteStruct:()=>J0e,registerLibraryInstructionDiscriminator:()=>ime,registerLibraryStruct:()=>nme,registerOappInstructionDiscriminator:()=>ume,registerOappStruct:()=>ame,sendComposeInstructionDiscriminator:()=>mme,sendComposeStruct:()=>gme,sendInstructionDiscriminator:()=>dme,sendStruct:()=>fme,setConfigInstructionDiscriminator:()=>vme,setConfigStruct:()=>bme,setDefaultReceiveLibraryInstructionDiscriminator:()=>Ame,setDefaultReceiveLibraryStruct:()=>_me,setDefaultReceiveLibraryTimeoutInstructionDiscriminator:()=>Tme,setDefaultReceiveLibraryTimeoutStruct:()=>kme,setDefaultSendLibraryInstructionDiscriminator:()=>Mme,setDefaultSendLibraryStruct:()=>Rme,setDelegateInstructionDiscriminator:()=>Bme,setDelegateStruct:()=>Nme,setLzTokenInstructionDiscriminator:()=>Dme,setLzTokenStruct:()=>Lme,setReceiveLibraryInstructionDiscriminator:()=>Ume,setReceiveLibraryStruct:()=>$me,setReceiveLibraryTimeoutInstructionDiscriminator:()=>jme,setReceiveLibraryTimeoutStruct:()=>Kme,setSendLibraryInstructionDiscriminator:()=>Vme,setSendLibraryStruct:()=>qme,skipInstructionDiscriminator:()=>Xme,skipStruct:()=>Zme,transferAdminInstructionDiscriminator:()=>rye,transferAdminStruct:()=>tye,verifyInstructionDiscriminator:()=>oye,verifyStruct:()=>sye,withdrawRentInstructionDiscriminator:()=>lye,withdrawRentStruct:()=>cye});var r0e=new L.BeetArgsStruct([["receiver",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"BurnParams"),n0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",r0e]],"BurnInstructionArgs"),i0e=[116,110,29,56,107,219,42,93];function Xpt(t,e,r){const[n]=n0e.serialize({instructionDiscriminator:i0e,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Qpt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var s0e=new L.FixableBeetArgsStruct([["receiver",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["guid",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes]],"ClearParams"),o0e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",s0e]],"ClearInstructionArgs"),a0e=[250,39,28,213,123,163,133,5];function Jpt(t,e,r){const[n]=o0e.serialize({instructionDiscriminator:a0e,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function egt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var u0e=new L.FixableBeetArgsStruct([["from",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["message",L.bytes]],"ClearComposeParams"),c0e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",u0e]],"ClearComposeInstructionArgs"),l0e=[118,1,18,142,95,175,21,125];function tgt(t,e,r){const[n]=c0e.serialize({instructionDiscriminator:l0e,...e}),i=[{pubkey:t.to,isWritable:!1,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function rgt(t,e){const r=[{pubkey:t.to,isWritable:!1,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var f0e=new L.BeetArgsStruct([["oapp",We.publicKey],["eid",L.u32]],"InitConfigParams"),d0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",f0e]],"InitConfigInstructionArgs"),h0e=[23,235,115,232,168,96,1,231];function p0e(t,e,r){const[n]=d0e.serialize({instructionDiscriminator:h0e,...e}),i=[{pubkey:t.delegate,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function ngt(t,e){const r=[{pubkey:t.delegate,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var g0e=new L.BeetArgsStruct([["eid",L.u32],["newLib",We.publicKey]],"InitDefaultReceiveLibraryParams"),m0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",g0e]],"InitDefaultReceiveLibraryInstructionArgs"),y0e=[32,202,76,22,42,249,227,109];function b0e(t,e,r){const[n]=m0e.serialize({instructionDiscriminator:y0e,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function igt(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var v0e=new L.BeetArgsStruct([["eid",L.u32],["newLib",We.publicKey]],"InitDefaultSendLibraryParams"),w0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",v0e]],"InitDefaultSendLibraryInstructionArgs"),S0e=[120,187,15,31,174,97,138,58];function _0e(t,e,r){const[n]=w0e.serialize({instructionDiscriminator:S0e,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function sgt(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var A0e=new L.BeetArgsStruct([["eid",L.u32],["admin",We.publicKey]],"InitEndpointParams"),x0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",A0e]],"InitEndpointInstructionArgs"),E0e=[178,30,29,207,120,225,246,134];function k0e(t,e,r){const[n]=x0e.serialize({instructionDiscriminator:E0e,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function ogt(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var T0e=new L.BeetArgsStruct([["localOapp",We.publicKey],["remoteEid",L.u32],["remoteOapp",L.uniformFixedSizeArray(L.u8,32)]],"InitNonceParams"),I0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",T0e]],"InitNonceInstructionArgs"),R0e=[204,171,16,214,182,191,27,196];function M0e(t,e,r){const[n]=I0e.serialize({instructionDiscriminator:R0e,...e}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function agt(t,e){const r=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var C0e=new L.BeetArgsStruct([["receiver",We.publicKey],["eid",L.u32]],"InitReceiveLibraryParams"),P0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",C0e]],"InitReceiveLibraryInstructionArgs"),N0e=[197,114,81,100,45,233,36,230];function B0e(t,e,r){const[n]=P0e.serialize({instructionDiscriminator:N0e,...e}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function ugt(t,e){const r=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var O0e=new L.BeetArgsStruct([["sender",We.publicKey],["eid",L.u32]],"InitSendLibraryParams"),L0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",O0e]],"InitSendLibraryInstructionArgs"),D0e=[156,24,235,120,73,193,144,19];function F0e(t,e,r){const[n]=L0e.serialize({instructionDiscriminator:D0e,...e}),i=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function cgt(t,e){const r=[{pubkey:t.delegate,isWritable:!0,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var $0e=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64]],"InitVerifyParams"),U0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",$0e]],"InitVerifyInstructionArgs"),z0e=[76,246,244,124,115,17,235,91];function W0e(t,e,r){const[n]=U0e.serialize({instructionDiscriminator:z0e,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function lgt(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var K0e=new L.FixableBeetArgsStruct([["from",We.publicKey],["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["computeUnits",L.u64],["value",L.u64],["message",L.bytes],["extraData",L.bytes],["reason",L.bytes]],"LzComposeAlertParams"),j0e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",K0e]],"LzComposeAlertInstructionArgs"),H0e=[27,91,198,77,66,92,122,167];function fgt(t,e,r){const[n]=j0e.serialize({instructionDiscriminator:H0e,...e}),i=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function dgt(t,e){const r=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var q0e=new L.FixableBeetArgsStruct([["receiver",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["guid",L.uniformFixedSizeArray(L.u8,32)],["computeUnits",L.u64],["value",L.u64],["message",L.bytes],["extraData",L.bytes],["reason",L.bytes]],"LzReceiveAlertParams"),V0e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",q0e]],"LzReceiveAlertInstructionArgs"),G0e=[131,141,48,222,15,235,141,160];function hgt(t,e,r){const[n]=V0e.serialize({instructionDiscriminator:G0e,...e}),i=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function pgt(t,e){const r=[{pubkey:t.executor,isWritable:!1,isSigner:!0},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Y0e=new L.BeetArgsStruct([["receiver",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"NilifyParams"),Z0e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Y0e]],"NilifyInstructionArgs"),X0e=[143,136,129,199,36,35,160,85];function ggt(t,e,r){const[n]=Z0e.serialize({instructionDiscriminator:X0e,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function mgt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Q0e=new L.FixableBeetArgsStruct([["sender",We.publicKey],["dstEid",L.u32],["receiver",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes],["options",L.bytes],["payInLzToken",L.bool]],"QuoteParams"),J0e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Q0e]],"QuoteInstructionArgs"),eme=[149,42,109,247,134,146,213,123];function ygt(t,e,r){const[n]=J0e.serialize({instructionDiscriminator:eme,...e}),i=[{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function tme(t,e){const r=[{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var rme=new L.BeetArgsStruct([["libProgram",We.publicKey],["libType",G$]],"RegisterLibraryParams"),nme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",rme]],"RegisterLibraryInstructionArgs"),ime=[23,171,28,116,111,193,238,142];function sme(t,e,r){const[n]=nme.serialize({instructionDiscriminator:ime,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function bgt(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ome=new L.BeetArgsStruct([["delegate",We.publicKey]],"RegisterOAppParams"),ame=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",ome]],"RegisterOappInstructionArgs"),ume=[129,89,71,68,11,82,210,125];function vgt(t,e,r){const[n]=ame.serialize({instructionDiscriminator:ume,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function cme(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var lme=new L.FixableBeetArgsStruct([["dstEid",L.u32],["receiver",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes],["options",L.bytes],["nativeFee",L.u64],["lzTokenFee",L.u64]],"SendParams"),fme=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",lme]],"SendInstructionArgs"),dme=[102,251,20,187,65,75,12,69];function wgt(t,e,r){const[n]=fme.serialize({instructionDiscriminator:dme,...e}),i=[{pubkey:t.sender,isWritable:!1,isSigner:!0},{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function hme(t,e){const r=[{pubkey:t.sender,isWritable:!1,isSigner:!0},{pubkey:t.sendLibraryProgram,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryInfo,isWritable:!1,isSigner:!1},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var pme=new L.FixableBeetArgsStruct([["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["message",L.bytes]],"SendComposeParams"),gme=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",pme]],"SendComposeInstructionArgs"),mme=[75,38,228,168,43,39,238,229];function Sgt(t,e,r){const[n]=gme.serialize({instructionDiscriminator:mme,...e}),i=[{pubkey:t.from,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function _gt(t,e){const r=[{pubkey:t.from,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.composeMessage,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var yme=new L.FixableBeetArgsStruct([["oapp",We.publicKey],["eid",L.u32],["configType",L.u32],["config",L.bytes]],"SetConfigParams"),bme=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",yme]],"SetConfigInstructionArgs"),vme=[108,158,154,175,212,98,52,66];function wme(t,e,r){const[n]=bme.serialize({instructionDiscriminator:vme,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Agt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.messageLibProgram,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Sme=new L.BeetArgsStruct([["eid",L.u32],["newLib",We.publicKey],["gracePeriod",L.u64]],"SetDefaultReceiveLibraryParams"),_me=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Sme]],"SetDefaultReceiveLibraryInstructionArgs"),Ame=[14,162,167,212,13,20,151,129];function xme(t,e,r){const[n]=_me.serialize({instructionDiscriminator:Ame,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function xgt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Eme=new L.BeetArgsStruct([["eid",L.u32],["lib",We.publicKey],["expiry",L.u64]],"SetDefaultReceiveLibraryTimeoutParams"),kme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Eme]],"SetDefaultReceiveLibraryTimeoutInstructionArgs"),Tme=[118,32,94,51,25,247,16,232];function Egt(t,e,r){const[n]=kme.serialize({instructionDiscriminator:Tme,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function kgt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Ime=new L.BeetArgsStruct([["eid",L.u32],["newLib",We.publicKey]],"SetDefaultSendLibraryParams"),Rme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Ime]],"SetDefaultSendLibraryInstructionArgs"),Mme=[220,215,110,127,237,178,215,170];function Cme(t,e,r){const[n]=Rme.serialize({instructionDiscriminator:Mme,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Tgt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Pme=new L.BeetArgsStruct([["delegate",We.publicKey]],"SetDelegateParams"),Nme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Pme]],"SetDelegateInstructionArgs"),Bme=[242,30,46,76,108,235,128,181];function Igt(t,e,r){const[n]=Nme.serialize({instructionDiscriminator:Bme,...e}),i=[{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Rgt(t,e){const r=[{pubkey:t.oapp,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Ome=new L.FixableBeetArgsStruct([["lzToken",L.coption(We.publicKey)]],"SetLzTokenParams"),Lme=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Ome]],"SetLzTokenInstructionArgs"),Dme=[22,151,112,174,213,225,223,72];function Mgt(t,e,r){const[n]=Lme.serialize({instructionDiscriminator:Dme,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Cgt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Fme=new L.BeetArgsStruct([["receiver",We.publicKey],["eid",L.u32],["newLib",We.publicKey],["gracePeriod",L.u64]],"SetReceiveLibraryParams"),$me=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Fme]],"SetReceiveLibraryInstructionArgs"),Ume=[223,172,180,105,165,161,147,228];function zme(t,e,r){const[n]=$me.serialize({instructionDiscriminator:Ume,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??r,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Pgt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??e,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Wme=new L.BeetArgsStruct([["receiver",We.publicKey],["eid",L.u32],["lib",We.publicKey],["expiry",L.u64]],"SetReceiveLibraryTimeoutParams"),Kme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Wme]],"SetReceiveLibraryTimeoutInstructionArgs"),jme=[33,159,29,53,218,156,41,192];function Ngt(t,e,r){const[n]=Kme.serialize({instructionDiscriminator:jme,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Bgt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.receiveLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Hme=new L.BeetArgsStruct([["sender",We.publicKey],["eid",L.u32],["newLib",We.publicKey]],"SetSendLibraryParams"),qme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Hme]],"SetSendLibraryInstructionArgs"),Vme=[251,118,78,158,134,149,129,5];function Gme(t,e,r){const[n]=qme.serialize({instructionDiscriminator:Vme,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??r,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Ogt(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.sendLibraryConfig,isWritable:!0,isSigner:!1},{pubkey:t.messageLibInfo??e,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Yme=new L.BeetArgsStruct([["receiver",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64]],"SkipParams"),Zme=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Yme]],"SkipInstructionArgs"),Xme=[154,63,181,53,19,26,117,45];function Qme(t,e,r){const[n]=Zme.serialize({instructionDiscriminator:Xme,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Jme(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.oappRegistry,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var eye=new L.BeetArgsStruct([["admin",We.publicKey]],"TransferAdminParams"),tye=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",eye]],"TransferAdminInstructionArgs"),rye=[42,242,66,106,228,10,111,156];function nye(t,e,r){const[n]=tye.serialize({instructionDiscriminator:rye,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Lgt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var iye=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"VerifyParams"),sye=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",iye]],"VerifyInstructionArgs"),oye=[133,161,141,48,120,198,88,150];function Dgt(t,e,r){const[n]=sye.serialize({instructionDiscriminator:oye,...e}),i=[{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function aye(t,e){const r=[{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveLibraryConfig,isWritable:!1,isSigner:!1},{pubkey:t.nonce,isWritable:!0,isSigner:!1},{pubkey:t.pendingInboundNonce,isWritable:!0,isSigner:!1},{pubkey:t.payloadHash,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var uye=new L.BeetArgsStruct([["amount",L.u64]],"WithdrawRentParams"),cye=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",uye]],"WithdrawRentInstructionArgs"),lye=[226,7,41,158,173,111,192,107];function Fgt(t,e,r){const[n]=cye.serialize({instructionDiscriminator:lye,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function $gt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.endpoint,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var fye={};_n(fye,{MessageLibType:()=>_R,burnParamsBeet:()=>r0e,clearComposeParamsBeet:()=>u0e,clearParamsBeet:()=>s0e,initConfigParamsBeet:()=>f0e,initDefaultReceiveLibraryParamsBeet:()=>g0e,initDefaultSendLibraryParamsBeet:()=>v0e,initEndpointParamsBeet:()=>A0e,initNonceParamsBeet:()=>T0e,initReceiveLibraryParamsBeet:()=>C0e,initSendLibraryParamsBeet:()=>O0e,initVerifyParamsBeet:()=>$0e,lzComposeAlertParamsBeet:()=>K0e,lzReceiveAlertParamsBeet:()=>q0e,messageLibTypeBeet:()=>G$,messagingFeeBeet:()=>dye,messagingReceiptBeet:()=>Ugt,nilifyParamsBeet:()=>Y0e,quoteParamsBeet:()=>Q0e,receiveLibraryTimeoutBeet:()=>TR,registerLibraryParamsBeet:()=>rme,registerOAppParamsBeet:()=>ome,sendComposeParamsBeet:()=>pme,sendParamsBeet:()=>lme,setConfigParamsBeet:()=>yme,setDefaultReceiveLibraryParamsBeet:()=>Sme,setDefaultReceiveLibraryTimeoutParamsBeet:()=>Eme,setDefaultSendLibraryParamsBeet:()=>Ime,setDelegateParamsBeet:()=>Pme,setLzTokenParamsBeet:()=>Ome,setReceiveLibraryParamsBeet:()=>Fme,setReceiveLibraryTimeoutParamsBeet:()=>Wme,setSendLibraryParamsBeet:()=>Hme,skipParamsBeet:()=>Yme,transferAdminParamsBeet:()=>eye,verifyParamsBeet:()=>iye,withdrawRentParamsBeet:()=>uye});var dye=new L.BeetArgsStruct([["nativeFee",L.u64],["lzTokenFee",L.u64]],"MessagingFee"),Ugt=new L.BeetArgsStruct([["guid",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["fee",dye]],"MessagingReceipt"),zgt="76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6",Wgt=new mt(zgt),hye={};_n(hye,{adminTransferredEventBeet:()=>Kgt,composeDeliveredEventBeet:()=>jgt,composeSentEventBeet:()=>Hgt,defaultReceiveLibrarySetEventBeet:()=>qgt,defaultReceiveLibraryTimeoutSetEventBeet:()=>Vgt,defaultSendLibrarySetEventBeet:()=>Ggt,delegateSetEventBeet:()=>Ygt,inboundNonceSkippedEventBeet:()=>Zgt,libraryRegisteredEventBeet:()=>Xgt,lzComposeAlertEventBeet:()=>Qgt,lzReceiveAlertEventBeet:()=>Jgt,lzTokenSetEventBeet:()=>e0t,oAppRegisteredEventBeet:()=>t0t,packetBurntEventBeet:()=>r0t,packetDeliveredEventBeet:()=>n0t,packetNilifiedEventBeet:()=>i0t,packetSentEventBeet:()=>s0t,packetVerifiedEventBeet:()=>o0t,receiveLibrarySetEventBeet:()=>a0t,receiveLibraryTimeoutSetEventBeet:()=>u0t,rentWithdrawnEventBeet:()=>c0t,sendLibrarySetEventBeet:()=>l0t});var Kgt=new L.BeetArgsStruct([["newAdmin",We.publicKey]],"AdminTransferredEvent"),jgt=new L.BeetArgsStruct([["from",We.publicKey],["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16]],"ComposeDeliveredEvent"),Hgt=new L.FixableBeetArgsStruct([["from",We.publicKey],["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["message",L.bytes]],"ComposeSentEvent"),qgt=new L.BeetArgsStruct([["eid",L.u32],["newLib",We.publicKey]],"DefaultReceiveLibrarySetEvent"),Vgt=new L.FixableBeetArgsStruct([["eid",L.u32],["timeout",L.coption(TR)]],"DefaultReceiveLibraryTimeoutSetEvent"),Ggt=new L.BeetArgsStruct([["eid",L.u32],["newLib",We.publicKey]],"DefaultSendLibrarySetEvent"),Ygt=new L.BeetArgsStruct([["newDelegate",We.publicKey]],"DelegateSetEvent"),Zgt=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64]],"InboundNonceSkippedEvent"),Xgt=new L.BeetArgsStruct([["newLib",We.publicKey],["newLibProgram",We.publicKey]],"LibraryRegisteredEvent"),Qgt=new L.FixableBeetArgsStruct([["executor",We.publicKey],["from",We.publicKey],["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["computeUnits",L.u64],["value",L.u64],["message",L.bytes],["extraData",L.bytes],["reason",L.bytes]],"LzComposeAlertEvent"),Jgt=new L.FixableBeetArgsStruct([["receiver",We.publicKey],["executor",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["guid",L.uniformFixedSizeArray(L.u8,32)],["computeUnits",L.u64],["value",L.u64],["message",L.bytes],["extraData",L.bytes],["reason",L.bytes]],"LzReceiveAlertEvent"),e0t=new L.FixableBeetArgsStruct([["token",L.coption(We.publicKey)]],"LzTokenSetEvent"),t0t=new L.BeetArgsStruct([["oapp",We.publicKey],["delegate",We.publicKey]],"OAppRegisteredEvent"),r0t=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"PacketBurntEvent"),n0t=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64]],"PacketDeliveredEvent"),i0t=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"PacketNilifiedEvent"),s0t=new L.FixableBeetArgsStruct([["encodedPacket",L.bytes],["options",L.bytes],["sendLibrary",We.publicKey]],"PacketSentEvent"),o0t=new L.BeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["receiver",We.publicKey],["nonce",L.u64],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"PacketVerifiedEvent"),a0t=new L.BeetArgsStruct([["receiver",We.publicKey],["eid",L.u32],["newLib",We.publicKey]],"ReceiveLibrarySetEvent"),u0t=new L.FixableBeetArgsStruct([["receiver",We.publicKey],["eid",L.u32],["timeout",L.coption(TR)]],"ReceiveLibraryTimeoutSetEvent"),c0t=new L.BeetArgsStruct([["receiver",We.publicKey],["amount",L.u64]],"RentWithdrawnEvent"),l0t=new L.BeetArgsStruct([["sender",We.publicKey],["eid",L.u32],["newLib",We.publicKey]],"SendLibrarySetEvent"),f0t="e445a52e51cb9a1d",K3=mt.default,d0t=class{constructor(t){this.program=t,this.deriver=new wI(t);const[e]=new O0(t).eventAuthority();this.eventAuthorityPDA=e}initEndpoint(t,e,r){const[n]=this.deriver.setting();return k0e({payer:e,endpoint:n},{params:{eid:t,admin:r}},this.program)}registerLibrary(t,e,r=2){const[n]=new gu(e).messageLib(),[i]=this.deriver.messageLibraryInfo(n),[s]=this.deriver.setting();return sme({admin:t,endpoint:s,messageLibInfo:i,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{libProgram:e,libType:r}},this.program)}async setDefaultSendLibrary(t,e,r,n,i){const[s]=new gu(r).messageLib(),[o]=this.deriver.defaultSendLibraryConfig(n),[a]=this.deriver.setting(),[u]=this.deriver.messageLibraryInfo(s);return await t.getAccountInfo(o,i)?(await D0.fromAccountAddress(t,o,i)).messageLib.toBase58()===s.toBase58()?null:Cme({admin:e,endpoint:a,defaultSendLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s}},this.program):_0e({admin:e,endpoint:a,defaultSendLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s}},this.program)}async setDefaultReceiveLibrary(t,e,r,n,i){const[s]=new gu(r).messageLib(),[o]=this.deriver.defaultReceiveLibraryConfig(n),[a]=this.deriver.setting(),[u]=this.deriver.messageLibraryInfo(s);return await t.getAccountInfo(o,i)?(await L0.fromAccountAddress(t,o,i)).messageLib.toBase58()===s.toBase58()?null:xme({admin:e,endpoint:a,defaultReceiveLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s,gracePeriod:0}},this.program):b0e({admin:e,endpoint:a,defaultReceiveLibraryConfig:o,messageLibInfo:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{eid:n,newLib:s}},this.program)}initOAppConfig(t,e,r,n,i){const[s]=new gu(e.program).messageLib(),[o]=this.deriver.oappRegistry(n),[a]=this.deriver.messageLibraryInfo(s);return p0e({delegate:t,oappRegistry:o,messageLib:s,messageLibInfo:a,messageLibProgram:e.program,anchorRemainingAccounts:e.getInitConfigIXAccountMetaForCPI(r,n,i)},{params:{eid:i,oapp:n}},this.program)}initOAppNonce(t,e,r,n){const[i]=this.deriver.nonce(r,e,n),[s]=this.deriver.pendingNonce(r,e,n),[o]=this.deriver.oappRegistry(r);return M0e({nonce:i,pendingInboundNonce:s,oappRegistry:o,delegate:t},{params:{localOapp:r,remoteOapp:Array.from(n),remoteEid:e}},this.program)}initSendLibrary(t,e,r){const[n]=this.deriver.oappRegistry(e),[i]=this.deriver.sendLibraryConfig(e,r);return F0e({delegate:t,oappRegistry:n,sendLibraryConfig:i},{params:{sender:e,eid:r}},this.program)}setSendLibrary(t,e,r,n){const[i]=new gu(r).messageLib(),[s]=this.deriver.sendLibraryConfig(e,n),[o]=this.deriver.messageLibraryInfo(i),[a]=this.deriver.oappRegistry(e);return Gme({signer:t,sendLibraryConfig:s,messageLibInfo:o,oappRegistry:a,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{sender:e,eid:n,newLib:i}},this.program)}initReceiveLibrary(t,e,r){const[n]=this.deriver.oappRegistry(e),[i]=this.deriver.receiveLibraryConfig(e,r);return B0e({delegate:t,oappRegistry:n,receiveLibraryConfig:i},{params:{receiver:e,eid:r}},this.program)}setReceiveLibrary(t,e,r,n,i){const[s]=new gu(r).messageLib(),[o]=this.deriver.receiveLibraryConfig(e,n),[a]=this.deriver.messageLibraryInfo(s),[u]=this.deriver.oappRegistry(e);return zme({signer:t,receiveLibraryConfig:o,messageLibInfo:a,oappRegistry:u,program:this.program,eventAuthority:this.eventAuthorityPDA},{params:{receiver:e,eid:n,newLib:s,gracePeriod:i===void 0?0:new an(i.toString())}},this.program)}async setOappConfig(t,e,r,n,i,s,o="confirmed"){const[a]=new gu(n).messageLib(),[u]=this.deriver.messageLibraryInfo(a),f=await this.getMessageLibVersion(t,e,n,o);let d;if((f==null?void 0:f.major.toString())==="0"&&f.minor==0&&f.endpointVersion==2)d=new W_.SimpleMessageLib(n);else if((f==null?void 0:f.major.toString())==="3"&&f.minor==0&&f.endpointVersion==2)d=new TD.Uln(n);else throw new Error(`unsupported message lib version ${f==null?void 0:f.major.toString()}.${f==null?void 0:f.minor.toString()}`);const[g]=this.deriver.oappRegistry(r);return wme({signer:e,messageLibInfo:u,messageLib:a,messageLibProgram:n,oappRegistry:g,anchorRemainingAccounts:await d.getSetConfigIXAccountMetaForCPI(this.program,r,i)},{params:{eid:i,configType:s.configType,config:n.toBase58()===W_.PROGRAM_ID.toBase58()?new Uint8Array(10):TD.Uln.constructSetConfigData(s.configType,s.value),oapp:r}},this.program)}async getQuoteIXAccountMetaForCPI(t,e,r,n){const{sender:i,dstEid:s,receiver:o}=r,a=new mt(Ts(i)),u=Ip(o),f=await this.getSendLibrary(t,a,s);if(!(f!=null&&f.programId))throw new Error("default send library not initialized or blocked message lib");const{msgLib:d,programId:g}=f,[y]=this.deriver.messageLibraryInfo(d),b=await n.getQuoteIXAccountMetaForCPI(t,e,r),[A]=this.deriver.setting(),[x]=this.deriver.defaultSendLibraryConfig(s),[k]=this.deriver.sendLibraryConfig(a,s),[R]=this.deriver.nonce(a,s,u),C=tme({sendLibraryConfig:k,sendLibraryProgram:g,defaultSendLibraryConfig:x,endpoint:A,nonce:R,sendLibraryInfo:y,anchorRemainingAccounts:b},this.program);return Promise.resolve([{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(C))}async getSendIXAccountMetaForCPI(t,e,r,n,i){const{sender:s,dstEid:o,receiver:a}=r,u=new mt(Ts(s)),f=Ip(a),d=await this.getSendLibrary(t,u,o,i);if(!(d!=null&&d.programId))throw new Error("default send library not initialized or blocked message lib");const g=d.msgLib,[y]=this.deriver.messageLibraryInfo(g),b=await n.getSendIXAccountMetaForCPI(t,e,r),[A]=this.deriver.defaultSendLibraryConfig(o),[x]=this.deriver.sendLibraryConfig(u,o),[k]=this.deriver.nonce(u,o,f),R=hme({sender:u,sendLibraryProgram:d.programId,sendLibraryConfig:x,defaultSendLibraryConfig:A,sendLibraryInfo:y,endpoint:this.deriver.setting()[0],program:this.program,nonce:k,eventAuthority:this.eventAuthorityPDA,anchorRemainingAccounts:b},this.program);return R.forEach(C=>{C.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(R)}async skip(t,e,r,n,i){const[s]=this.deriver.nonce(r,n,Ip(e.toBase58())),[o]=this.deriver.payloadHash(r,n,e.toBytes(),parseInt(i)),[a]=this.deriver.pendingNonce(r,n,e.toBytes()),[u]=mt.findProgramAddressSync([Ie.Buffer.from(H$,"utf-8"),r.toBuffer()],this.program),f=Qme({signer:t,oappRegistry:u,nonce:s,pendingInboundNonce:a,payloadHash:o,endpoint:this.deriver.setting()[0],eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{receiver:r,srcEid:n,sender:Array.from(e.toBytes()),nonce:new an(i)}},this.program);return Promise.resolve(f)}async initVerify(t,e,r,n,i,s,o){const[a]=this.deriver.nonce(n,i,Ip(r.toBase58())),[u]=this.deriver.payloadHash(n,i,r.toBytes(),parseInt(s));return await t.getAccountInfo(u,o)?null:W0e({payer:e,nonce:a,payloadHash:u},{params:{srcEid:i,sender:Array.from(r.toBytes()),receiver:n,nonce:new an(s)}},this.program)}getVerifyIXAccountMetaForCPI(t,e){const r=new mt(Ie.Buffer.from(t.receiver().slice(2),"hex")),n=t.srcEid(),i=Ip(t.sender()),[s]=this.deriver.payloadHash(r,n,i,parseInt(t.nonce())),[o]=this.deriver.defaultReceiveLibraryConfig(n),[a]=this.deriver.receiveLibraryConfig(r,n),[u]=this.deriver.nonce(r,n,i),[f]=this.deriver.pendingNonce(r,n,i),d=aye({receiveLibrary:e,receiveLibraryConfig:a,defaultReceiveLibraryConfig:o,nonce:u,pendingInboundNonce:f,payloadHash:s,program:this.program,eventAuthority:this.eventAuthorityPDA},this.program);return d.forEach(y=>{y.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1},...d]}getRegisterOappIxAccountMetaForCPI(t,e){const[r]=this.deriver.oappRegistry(e),n=this.eventAuthorityPDA,i=cme({payer:t,oapp:e,oappRegistry:r,eventAuthority:n,program:this.program},this.program);return i.forEach(s=>{s.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(i)}getSkipIxAccountMetaForCPI(t,e,r,n){const[i]=this.deriver.nonce(t,r,e),[s]=this.deriver.pendingNonce(t,r,e),[o]=this.deriver.payloadHash(t,r,e,n),[a]=this.deriver.oappRegistry(t),u=Jme({signer:t,oappRegistry:a,nonce:i,pendingInboundNonce:s,payloadHash:o,endpoint:this.deriver.setting()[0],program:this.program,eventAuthority:this.eventAuthorityPDA},this.program);return u.forEach(f=>{f.isSigner=!1}),[{pubkey:this.program,isSigner:!1,isWritable:!1}].concat(u)}async isDefaultSendLibrary(t,e,r,n){const[i]=new gu(e).messageLib(),s=await this.getDefaultSendLibrary(t,r,n);return s?s.msgLib.equals(i):!1}async isDefaultReceiveLibrary(t,e,r,n){const[i]=new gu(e).messageLib(),s=await this.getDefaultReceiveLibrary(t,r,n);return s?s.msgLib.equals(i):!1}async getSetting(t,e){const[r]=this.deriver.setting();try{return await dx.fromAccountAddress(t,r,e)}catch{return null}}async getMessageLibInfo(t,e,r){const[n]=new gu(e).messageLib(),[i]=this.deriver.messageLibraryInfo(n);try{return await AR.fromAccountAddress(t,i,r)}catch{return null}}async getDefaultReceiveLibrary(t,e,r){const[n]=this.deriver.defaultReceiveLibraryConfig(e);try{const i=await L0.fromAccountAddress(t,n,r),s=await t.getAccountInfo(i.messageLib,r);return s?{owner:s.owner,msgLib:i.messageLib}:{msgLib:i.messageLib}}catch{return null}}async getDefaultSendLibrary(t,e,r){const[n]=this.deriver.defaultSendLibraryConfig(e);try{const i=await D0.fromAccountAddress(t,n,r),s=await t.getAccountInfo(i.messageLib,r);return s?{owner:s.owner,msgLib:i.messageLib}:{msgLib:i.messageLib}}catch{return null}}async getSendLibrary(t,e,r,n="confirmed"){const[i]=this.deriver.sendLibraryConfig(e,r),[s]=this.deriver.defaultSendLibraryConfig(r),[o,a]=await t.getMultipleAccountsInfo([s,i],n);if(!o||!a)return console.warn("send library not initialized, return empty array"),null;const[u]=D0.fromAccountInfo(a,0),[f]=D0.fromAccountInfo(o,0),d=u.messageLib.toString()===K3.toString()?f.messageLib:u.messageLib,g=u.messageLib.toString()===K3.toString(),y=await t.getAccountInfo(d,n);return y?{programId:y.owner,msgLib:d,isDefault:g}:{programId:void 0,msgLib:d,isDefault:g}}async getReceiveLibrary(t,e,r,n){const[i]=this.deriver.receiveLibraryConfig(e,r),s=await t.getAccountInfo(i,n);if(s==null)return null;const[o]=L0.fromAccountInfo(s,0);if(o.messageLib.toString()==K3.toString()){const[f]=this.deriver.defaultReceiveLibraryConfig(r),d=await L0.fromAccountAddress(t,f,n),g=await t.getAccountInfo(d.messageLib,n);if(g){const{timeout:y}=d;if(y)return{programId:d.messageLib,msgLib:d.messageLib,isDefault:!0,timeout:{msgLib:y.messageLib,expiry:BigInt(y.expiry.toString())}}}return{programId:g==null?void 0:g.owner,msgLib:d.messageLib,isDefault:!0,timeout:null}}const a=await t.getAccountInfo(o.messageLib,n);C_(a);const{timeout:u}=o;return u?{programId:a.owner,msgLib:o.messageLib,isDefault:!1,timeout:{msgLib:u.messageLib,expiry:BigInt(u.expiry.toString())}}:{programId:a.owner,msgLib:o.messageLib,isDefault:!1,timeout:null}}async getInboundPayloadHash(t,e,r,n,i,s,o){const[a]=this.deriver.payloadHash(e,r,n,i),u=await t.getAccountInfo(a,o);return u?ER.fromAccountInfo(u,0)[0]:null}async getComposedMessageState(t,e,r,n){const i=Ts(ix(r.message)),[s]=this.deriver.composedMessage(e,Uint8Array.from(r.guid),r.index,r.to,i),o=await t.getAccountInfo(s,n);return o?SR.fromAccountInfo(o,0)[0]:null}async getNonce(t,e,r,n,i){const[s]=this.deriver.nonce(e,r,n);try{return await xR.fromAccountAddress(t,s,i)}catch{return null}}async getPendingInboundNonce(t,e,r,n,i){const[s]=this.deriver.pendingNonce(e,r,n);try{return await kR.fromAccountAddress(t,s,i)}catch{return null}}async getMessageLibVersion(t,e,r,n="confirmed"){const i=W_.instructions.createVersionInstruction(r),s=await Fz(t,[i],r,e,n);return W_.types.versionBeet.read(s,0)}async transferAdmin(t,e,r,n="confirmed"){const[i]=this.deriver.setting();return(await dx.fromAccountAddress(t,i,n)).admin.toBase58()===r.toBase58()?(console.warn("endpoint admin not need change"),null):nye({admin:e,endpoint:i,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{admin:r}},this.program)}},W_={};_n(W_,{PROGRAM_ID:()=>W0t,SimpleMessageLib:()=>K0t,accounts:()=>pye,errors:()=>mye,instructions:()=>Eye,types:()=>_1e});var pye={};_n(pye,{MessageLib:()=>IR,ReceiveConfigStore:()=>pU,SendConfigStore:()=>gU,accountProviders:()=>h0t,messageLibBeet:()=>K_,messageLibDiscriminator:()=>gye,receiveConfigStoreBeet:()=>j_,receiveConfigStoreDiscriminator:()=>ED,sendConfigStoreBeet:()=>H_,sendConfigStoreDiscriminator:()=>kD});var gye=[141,191,244,48,52,174,199,209],IR=class P1{constructor(e,r,n,i,s,o,a,u){this.eid=e,this.endpoint=r,this.endpointProgram=n,this.bump=i,this.admin=s,this.fee=o,this.lzTokenFee=a,this.wlCaller=u}static fromArgs(e){return new P1(e.eid,e.endpoint,e.endpointProgram,e.bump,e.admin,e.fee,e.lzTokenFee,e.wlCaller)}static fromAccountInfo(e,r=0){return P1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find MessageLib account at ${r}`);return P1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy")){return We.GpaBuilder.fromStruct(e,K_)}static deserialize(e,r=0){return K_.deserialize(e,r)}serialize(){return K_.serialize({accountDiscriminator:gye,...this})}static get byteSize(){return K_.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(P1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===P1.byteSize}pretty(){return{eid:this.eid,endpoint:this.endpoint.toBase58(),endpointProgram:this.endpointProgram.toBase58(),bump:this.bump,admin:this.admin.toBase58(),fee:(()=>{const e=this.fee;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),lzTokenFee:(()=>{const e=this.lzTokenFee;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),wlCaller:this.wlCaller.toBase58()}}},K_=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["eid",L.u32],["endpoint",We.publicKey],["endpointProgram",We.publicKey],["bump",L.u8],["admin",We.publicKey],["fee",L.u64],["lzTokenFee",L.u64],["wlCaller",We.publicKey]],IR.fromArgs,"MessageLib"),ED=[70,73,30,1,248,48,93,125],pU=class N1{constructor(e,r){this.bump=e,this.data=r}static fromArgs(e){return new N1(e.bump,e.data)}static fromAccountInfo(e,r=0){return N1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveConfigStore account at ${r}`);return N1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy")){return We.GpaBuilder.fromStruct(e,j_)}static deserialize(e,r=0){return j_.deserialize(e,r)}serialize(){return j_.serialize({accountDiscriminator:ED,...this})}static byteSize(e){const r=N1.fromArgs(e);return j_.toFixedFromValue({accountDiscriminator:ED,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(N1.byteSize(e),n)}pretty(){return{bump:this.bump,data:this.data}}},j_=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["data",L.bytes]],pU.fromArgs,"ReceiveConfigStore"),kD=[246,55,104,200,90,164,50,196],gU=class B1{constructor(e,r){this.bump=e,this.data=r}static fromArgs(e){return new B1(e.bump,e.data)}static fromAccountInfo(e,r=0){return B1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find SendConfigStore account at ${r}`);return B1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy")){return We.GpaBuilder.fromStruct(e,H_)}static deserialize(e,r=0){return H_.deserialize(e,r)}serialize(){return H_.serialize({accountDiscriminator:kD,...this})}static byteSize(e){const r=B1.fromArgs(e);return H_.toFixedFromValue({accountDiscriminator:kD,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(B1.byteSize(e),n)}pretty(){return{bump:this.bump,data:this.data}}},H_=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["data",L.bytes]],gU.fromArgs,"SendConfigStore"),h0t={MessageLib:IR,ReceiveConfigStore:pU,SendConfigStore:gU},mye={};_n(mye,{InsufficientFeeError:()=>yU,InvalidAmountError:()=>bU,InvalidConfigTypeError:()=>vU,InvalidLzTokenMintError:()=>wU,LzTokenUnavailableError:()=>SU,OnlyRevertError:()=>AU,OnlyWhitelistedCallerError:()=>mU,SendReentrancyError:()=>_U,errorFromCode:()=>p0t,errorFromName:()=>g0t});var jh=new Map,Hh=new Map,mU=class yye extends Error{constructor(){super(""),this.code=6e3,this.name="OnlyWhitelistedCaller",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,yye)}};jh.set(6e3,()=>new mU);Hh.set("OnlyWhitelistedCaller",()=>new mU);var yU=class bye extends Error{constructor(){super(""),this.code=6001,this.name="InsufficientFee",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,bye)}};jh.set(6001,()=>new yU);Hh.set("InsufficientFee",()=>new yU);var bU=class vye extends Error{constructor(){super(""),this.code=6002,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,vye)}};jh.set(6002,()=>new bU);Hh.set("InvalidAmount",()=>new bU);var vU=class wye extends Error{constructor(){super(""),this.code=6003,this.name="InvalidConfigType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,wye)}};jh.set(6003,()=>new vU);Hh.set("InvalidConfigType",()=>new vU);var wU=class Sye extends Error{constructor(){super(""),this.code=6004,this.name="InvalidLzTokenMint",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Sye)}};jh.set(6004,()=>new wU);Hh.set("InvalidLzTokenMint",()=>new wU);var SU=class _ye extends Error{constructor(){super(""),this.code=6005,this.name="LzTokenUnavailable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,_ye)}};jh.set(6005,()=>new SU);Hh.set("LzTokenUnavailable",()=>new SU);var _U=class Aye extends Error{constructor(){super(""),this.code=6006,this.name="SendReentrancy",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Aye)}};jh.set(6006,()=>new _U);Hh.set("SendReentrancy",()=>new _U);var AU=class xye extends Error{constructor(){super(""),this.code=6007,this.name="OnlyRevert",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xye)}};jh.set(6007,()=>new AU);Hh.set("OnlyRevert",()=>new AU);function p0t(t){const e=jh.get(t);return e!=null?e():null}function g0t(t){const e=Hh.get(t);return e!=null?e():null}var Eye={};_n(Eye,{createInitConfigInstruction:()=>m0t,createInitConfigInstructionAccounts:()=>Rye,createInitDefaultConfigInstruction:()=>y0t,createInitDefaultConfigInstructionAccounts:()=>b0t,createInitMessageLibInstruction:()=>Lye,createInitMessageLibInstructionAccounts:()=>v0t,createQuoteInstruction:()=>w0t,createQuoteInstructionAccounts:()=>Uye,createRevertCallInstruction:()=>S0t,createRevertCallInstructionAccounts:()=>_0t,createSendInstruction:()=>A0t,createSendInstructionAccounts:()=>qye,createSendWithLzTokenInstruction:()=>x0t,createSendWithLzTokenInstructionAccounts:()=>E0t,createSetConfigInstruction:()=>k0t,createSetConfigInstructionAccounts:()=>Jye,createSetDefaultConfigInstruction:()=>T0t,createSetDefaultConfigInstructionAccounts:()=>I0t,createSetFeeInstruction:()=>R0t,createSetFeeInstructionAccounts:()=>M0t,createSetWlCallerInstruction:()=>c1e,createSetWlCallerInstructionAccounts:()=>C0t,createTransferAdminInstruction:()=>P0t,createTransferAdminInstructionAccounts:()=>N0t,createValidatePacketInstruction:()=>m1e,createValidatePacketInstructionAccounts:()=>B0t,createVersionInstruction:()=>O0t,createVersionInstructionAccounts:()=>L0t,createWithdrawFeesInstruction:()=>D0t,createWithdrawFeesInstructionAccounts:()=>F0t,initConfigInstructionDiscriminator:()=>Iye,initConfigStruct:()=>Tye,initDefaultConfigInstructionDiscriminator:()=>Pye,initDefaultConfigStruct:()=>Cye,initMessageLibInstructionDiscriminator:()=>Oye,initMessageLibStruct:()=>Bye,quoteInstructionDiscriminator:()=>$ye,quoteStruct:()=>Fye,revertCallInstructionDiscriminator:()=>Wye,revertCallStruct:()=>zye,sendInstructionDiscriminator:()=>Hye,sendStruct:()=>jye,sendWithLzTokenInstructionDiscriminator:()=>Yye,sendWithLzTokenStruct:()=>Gye,setConfigInstructionDiscriminator:()=>Qye,setConfigStruct:()=>Xye,setDefaultConfigInstructionDiscriminator:()=>r1e,setDefaultConfigStruct:()=>t1e,setFeeInstructionDiscriminator:()=>s1e,setFeeStruct:()=>i1e,setWlCallerInstructionDiscriminator:()=>u1e,setWlCallerStruct:()=>a1e,transferAdminInstructionDiscriminator:()=>d1e,transferAdminStruct:()=>f1e,validatePacketInstructionDiscriminator:()=>g1e,validatePacketStruct:()=>p1e,versionInstructionDiscriminator:()=>b1e,versionStruct:()=>y1e,withdrawFeesInstructionDiscriminator:()=>S1e,withdrawFeesStruct:()=>w1e});var kye=new L.BeetArgsStruct([["oapp",We.publicKey],["eid",L.u32]],"InitConfigParams"),Tye=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",kye]],"InitConfigInstructionArgs"),Iye=[23,235,115,232,168,96,1,231];function m0t(t,e,r){const[n]=Tye.serialize({instructionDiscriminator:Iye,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Rye(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Mye=new L.FixableBeetArgsStruct([["eid",L.u32],["sendConfig",L.coption(L.bytes)],["receiveConfig",L.coption(L.bytes)]],"InitDefaultConfigParams"),Cye=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Mye]],"InitDefaultConfigInstructionArgs"),Pye=[98,218,197,194,173,179,112,21];function y0t(t,e,r){const[n]=Cye.serialize({instructionDiscriminator:Pye,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function b0t(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Nye=new L.BeetArgsStruct([["eid",L.u32],["endpoint",We.publicKey],["endpointProgram",We.publicKey],["admin",We.publicKey],["fee",L.u64],["lzTokenFee",L.u64]],"InitMessageLibParams"),Bye=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Nye]],"InitMessageLibInstructionArgs"),Oye=[184,93,59,206,98,238,225,54];function Lye(t,e,r){const[n]=Bye.serialize({instructionDiscriminator:Oye,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function v0t(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var RR=new L.FixableBeetArgsStruct([["nonce",L.u64],["srcEid",L.u32],["sender",We.publicKey],["dstEid",L.u32],["receiver",L.uniformFixedSizeArray(L.u8,32)],["guid",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes]],"Packet"),Dye=new L.FixableBeetArgsStruct([["packet",RR],["options",L.bytes],["payInLzToken",L.bool]],"QuoteParams"),Fye=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Dye]],"QuoteInstructionArgs"),$ye=[149,42,109,247,134,146,213,123];function w0t(t,e,r){const[n]=Fye.serialize({instructionDiscriminator:$ye,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Uye(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var zye=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)]],"RevertCallInstructionArgs"),Wye=[124,243,145,116,106,203,93,114];function S0t(t){const[e]=zye.serialize({instructionDiscriminator:Wye}),r=[];return new _t({programId:t,keys:r,data:e})}function _0t(t){return[]}var Kye=new L.FixableBeetArgsStruct([["packet",RR],["options",L.bytes],["nativeFee",L.u64]],"SendParams"),jye=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Kye]],"SendInstructionArgs"),Hye=[102,251,20,187,65,75,12,69];function A0t(t,e,r){const[n]=jye.serialize({instructionDiscriminator:Hye,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function qye(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Vye=new L.FixableBeetArgsStruct([["packet",RR],["options",L.bytes],["nativeFee",L.u64],["lzTokenFee",L.u64],["lzTokenMint",We.publicKey]],"SendWithLzTokenParams"),Gye=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Vye]],"SendWithLzTokenInstructionArgs"),Yye=[165,161,84,48,129,26,193,19];function x0t(t,e,r){const[n]=Gye.serialize({instructionDiscriminator:Yye,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.messageLibLzToken,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??vR,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function E0t(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.messageLibLzToken,isWritable:!0,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??vR,isWritable:!1,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Zye=new L.FixableBeetArgsStruct([["oapp",We.publicKey],["eid",L.u32],["configType",L.u32],["config",L.bytes]],"SetConfigParams"),Xye=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Zye]],"SetConfigInstructionArgs"),Qye=[108,158,154,175,212,98,52,66];function k0t(t,e,r){const[n]=Xye.serialize({instructionDiscriminator:Qye,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Jye(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var e1e=new L.FixableBeetArgsStruct([["eid",L.u32],["sendConfig",L.coption(L.bytes)],["receiveConfig",L.coption(L.bytes)]],"SetDefaultConfigParams"),t1e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",e1e]],"SetDefaultConfigInstructionArgs"),r1e=[111,228,17,75,5,76,213,169];function T0t(t,e,r){const[n]=t1e.serialize({instructionDiscriminator:r1e,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function I0t(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var n1e=new L.BeetArgsStruct([["fee",L.u64],["lzTokenFee",L.u64]],"SetFeeParams"),i1e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",n1e]],"SetFeeInstructionArgs"),s1e=[18,154,24,18,237,214,19,80];function R0t(t,e,r){const[n]=i1e.serialize({instructionDiscriminator:s1e,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function M0t(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var o1e=new L.BeetArgsStruct([["newCaller",We.publicKey]],"SetWlCallerParams"),a1e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",o1e]],"SetWlCallerInstructionArgs"),u1e=[153,41,240,37,126,107,14,253];function c1e(t,e,r){const[n]=a1e.serialize({instructionDiscriminator:u1e,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function C0t(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var l1e=new L.BeetArgsStruct([["admin",We.publicKey]],"TransferAdminParams"),f1e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",l1e]],"TransferAdminInstructionArgs"),d1e=[42,242,66,106,228,10,111,156];function P0t(t,e,r){const[n]=f1e.serialize({instructionDiscriminator:d1e,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function N0t(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var h1e=new L.FixableBeetArgsStruct([["packet",L.bytes]],"ValidatePacketParams"),p1e=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",h1e]],"ValidatePacketInstructionArgs"),g1e=[34,146,107,76,157,98,105,211];function m1e(t,e,r){const[n]=p1e.serialize({instructionDiscriminator:g1e,...e}),i=[{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function B0t(t,e){const r=[{pubkey:t.payer,isWritable:!1,isSigner:!0},{pubkey:t.receiveLibrary,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var y1e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)]],"VersionInstructionArgs"),b1e=[118,65,195,198,129,216,252,192];function O0t(t){const[e]=y1e.serialize({instructionDiscriminator:b1e}),r=[];return new _t({programId:t,keys:r,data:e})}function L0t(t){return[]}var v1e=new L.BeetArgsStruct([["amount",L.u64]],"WithdrawFeesParams"),w1e=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",v1e]],"WithdrawFeesInstructionArgs"),S1e=[198,212,171,109,144,215,174,89];function D0t(t,e,r){const[n]=w1e.serialize({instructionDiscriminator:S1e,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function F0t(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.messageLib,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var _1e={};_n(_1e,{initConfigParamsBeet:()=>kye,initDefaultConfigParamsBeet:()=>Mye,initMessageLibParamsBeet:()=>Nye,messagingFeeBeet:()=>$0t,packetBeet:()=>RR,quoteParamsBeet:()=>Dye,sendParamsBeet:()=>Kye,sendWithLzTokenParamsBeet:()=>Vye,setConfigParamsBeet:()=>Zye,setDefaultConfigParamsBeet:()=>e1e,setFeeParamsBeet:()=>n1e,setWlCallerParamsBeet:()=>o1e,transferAdminParamsBeet:()=>l1e,validatePacketParamsBeet:()=>h1e,versionBeet:()=>U0t,withdrawFeesParamsBeet:()=>v1e});var $0t=new L.BeetArgsStruct([["nativeFee",L.u64],["lzTokenFee",L.u64]],"MessagingFee"),U0t=new L.BeetArgsStruct([["major",L.u64],["minor",L.u8],["endpointVersion",L.u8]],"Version"),z0t="6GsmxMTHAAiFKfemuM4zBjumTjNSX5CAiw4xSSXM2Toy",W0t=new mt(z0t),K0t=class{constructor(t){this.program=t,this.deriver=new gu(t)}initSimpleMessageLib(t,e,r,n,i,s=0){const[o]=this.deriver.messageLib(),[a]=new wI(t).messageLibraryInfo(o);return Lye({payer:e,messageLib:o},{params:{endpointProgram:t,endpoint:a,eid:n,admin:r,fee:i,lzTokenFee:s}},this.program)}setWhitelistCaller(t,e){const[r]=this.deriver.messageLib();return c1e({admin:t,messageLib:r},{params:{newCaller:e}},this.program)}async isWhiteListed(t,e,r){try{return(await this.getWhiteListCaller(t,r)).equals(e)}catch{return!1}}async getWhiteListCaller(t,e){const[r]=this.deriver.messageLib();return(await IR.fromAccountAddress(t,r,e)).wlCaller}validatePacket(t,e,r,n){const i=_1.fromBytes(n),[s]=this.deriver.messageLib(),o=new SI.Endpoint(e);return m1e({payer:r,receiveLibrary:s,anchorRemainingAccounts:o.getVerifyIXAccountMetaForCPI(i,s)},{params:{packet:n}},this.program)}async getSendIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.messageLib(),i=qye({endpoint:mt.default,messageLib:n,payer:e},this.program);return i.forEach(s=>{e.equals(s.pubkey)||(s.isSigner=!1)}),Promise.resolve(i.slice(1))}async getQuoteIXAccountMetaForCPI(t,e,r,n){const[i]=this.deriver.messageLib(),s=Uye({endpoint:mt.default,messageLib:i},this.program);return Promise.resolve(s.slice(1))}getInitConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.messageLib(),o=Rye({endpoint:mt.default,payer:t,messageLib:s,sendConfig:n,receiveConfig:i},this.program);return o.forEach(a=>{t.equals(a.pubkey)||(a.isSigner=!1)}),o.slice(1)}async getSetConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.messageLib(),o=Jye({endpoint:mt.default,sendConfig:n,receiveConfig:i,messageLib:s},this.program);return Promise.resolve(o.slice(1))}},TD={};_n(TD,{AtLeastOneDVNError:()=>fM,Confirmations:()=>N2,ExceededMaxMessageSizeError:()=>wM,ExceededU128Error:()=>NM,InsufficientFeeError:()=>kM,InvalidAccountLengthError:()=>_M,InvalidAmountError:()=>iM,InvalidBpsError:()=>vM,InvalidConfigTypeError:()=>RM,InvalidConfirmationError:()=>MM,InvalidConfirmationsError:()=>lM,InvalidDvnError:()=>xM,InvalidDvnProgramError:()=>AM,InvalidEidError:()=>gM,InvalidExecutorError:()=>sM,InvalidExecutorProgramError:()=>SM,InvalidLzTokenMintError:()=>IM,InvalidOptionTypeError:()=>bM,InvalidOptionalDVNCountError:()=>uM,InvalidOptionalDVNThresholdError:()=>cM,InvalidPacketVersionError:()=>pM,InvalidPayerError:()=>OM,InvalidRequiredDVNCountError:()=>aM,InvalidTreasuryError:()=>TM,InvalidTreasuryFeeCapError:()=>hM,InvalidType1SizeError:()=>CM,InvalidType2SizeError:()=>PM,InvalidWorkerIdError:()=>yM,LzTokenUnavailableError:()=>EM,NonSignerError:()=>BM,PROGRAM_ADDRESS:()=>xwe,PROGRAM_ID:()=>gmt,ReceiveConfig:()=>lh,SendConfig:()=>Xp,Uln:()=>mmt,UlnSettings:()=>B2,UnauthorizedError:()=>nM,UnsortedError:()=>dM,VerifyingError:()=>mM,ZeroMessageSizeError:()=>oM,accountProviders:()=>bve,accounts:()=>yve,closeVerifyInstructionDiscriminator:()=>sW,closeVerifyParamsBeet:()=>nW,closeVerifyStruct:()=>iW,commitVerificationInstructionDiscriminator:()=>cW,commitVerificationParamsBeet:()=>aW,commitVerificationStruct:()=>uW,configBeet:()=>Oz,confirmationsBeet:()=>gb,confirmationsDiscriminator:()=>kI,createCloseVerifyInstruction:()=>oW,createCloseVerifyInstructionAccounts:()=>rwe,createCommitVerificationInstruction:()=>lW,createCommitVerificationInstructionAccounts:()=>nwe,createInitConfigInstruction:()=>iwe,createInitConfigInstructionAccounts:()=>pW,createInitDefaultConfigInstruction:()=>bW,createInitDefaultConfigInstructionAccounts:()=>swe,createInitUlnInstruction:()=>_W,createInitUlnInstructionAccounts:()=>owe,createInitVerifyInstruction:()=>kW,createInitVerifyInstructionAccounts:()=>awe,createQuoteInstruction:()=>uwe,createQuoteInstructionAccounts:()=>MW,createSendInstruction:()=>cwe,createSendInstructionAccounts:()=>BW,createSendWithLzTokenInstruction:()=>lwe,createSendWithLzTokenInstructionAccounts:()=>fwe,createSetConfigInstruction:()=>dwe,createSetConfigInstructionAccounts:()=>zW,createSetDefaultConfigInstruction:()=>HW,createSetDefaultConfigInstructionAccounts:()=>hwe,createSetTreasuryInstruction:()=>YW,createSetTreasuryInstructionAccounts:()=>pwe,createTransferAdminInstruction:()=>JW,createTransferAdminInstructionAccounts:()=>gwe,createVerifyInstruction:()=>nK,createVerifyInstructionAccounts:()=>mwe,createVersionInstruction:()=>ywe,createVersionInstructionAccounts:()=>bwe,createWithdrawRentInstruction:()=>vwe,createWithdrawRentInstructionAccounts:()=>wwe,errorFromCode:()=>Jve,errorFromName:()=>ewe,errors:()=>vve,events:()=>Hbe,executorConfigBeet:()=>Lg,initConfigInstructionDiscriminator:()=>hW,initConfigParamsBeet:()=>fW,initConfigStruct:()=>dW,initDefaultConfigInstructionDiscriminator:()=>yW,initDefaultConfigParamsBeet:()=>gW,initDefaultConfigStruct:()=>mW,initUlnInstructionDiscriminator:()=>SW,initUlnParamsBeet:()=>vW,initUlnStruct:()=>wW,initVerifyInstructionDiscriminator:()=>EW,initVerifyParamsBeet:()=>AW,initVerifyStruct:()=>xW,instructions:()=>twe,isConfigExecutor:()=>Gbe,isConfigReceiveUln:()=>Vbe,isConfigSendUln:()=>qbe,lzTokenTreasuryBeet:()=>Dz,messagingFeeBeet:()=>_we,packetBeet:()=>O2,quoteInstructionDiscriminator:()=>RW,quoteParamsBeet:()=>TW,quoteStruct:()=>IW,receiveConfigBeet:()=>mb,receiveConfigDiscriminator:()=>TI,sendConfigBeet:()=>yb,sendConfigDiscriminator:()=>II,sendInstructionDiscriminator:()=>NW,sendParamsBeet:()=>CW,sendStruct:()=>PW,sendWithLzTokenInstructionDiscriminator:()=>DW,sendWithLzTokenParamsBeet:()=>OW,sendWithLzTokenStruct:()=>LW,setConfigInstructionDiscriminator:()=>UW,setConfigParamsBeet:()=>FW,setConfigStruct:()=>$W,setDefaultConfigInstructionDiscriminator:()=>jW,setDefaultConfigParamsBeet:()=>WW,setDefaultConfigStruct:()=>KW,setTreasuryInstructionDiscriminator:()=>GW,setTreasuryParamsBeet:()=>qW,setTreasuryStruct:()=>VW,transferAdminInstructionDiscriminator:()=>QW,transferAdminParamsBeet:()=>ZW,transferAdminStruct:()=>XW,treasuryBeet:()=>P2,treasuryFeeBeet:()=>Lz,types:()=>Swe,ulnConfigBeet:()=>Lu,ulnSettingsBeet:()=>bb,ulnSettingsDiscriminator:()=>RI,verifyInstructionDiscriminator:()=>rK,verifyParamsBeet:()=>eK,verifyStruct:()=>tK,versionBeet:()=>Awe,versionInstructionDiscriminator:()=>sK,versionStruct:()=>iK,withdrawRentInstructionDiscriminator:()=>uK,withdrawRentParamsBeet:()=>oK,withdrawRentStruct:()=>aK,workerFeeBeet:()=>EI});var j0t={};_n(j0t,{DVN:()=>bbe,PROGRAM_ID:()=>gbe,SolanaSignerExt:()=>Y0t,accounts:()=>xU,errors:()=>x1e,events:()=>mbe,instructions:()=>j1e,types:()=>sbe});var H0t={};_n(H0t,{DuplicateSignatureError:()=>KR,DvnConfig:()=>M2,EidNotSupportedError:()=>YR,ExecuteHash:()=>CR,ExpiredError:()=>jR,InvalidAmountError:()=>GR,InvalidQuorumError:()=>LR,InvalidSignatureLenError:()=>NR,InvalidSignersLenError:()=>DR,InvalidVidError:()=>HR,MsgLibNotAllowedError:()=>OR,NotAdminError:()=>BR,PROGRAM_ADDRESS:()=>pbe,PROGRAM_ID:()=>gbe,PausedError:()=>qR,ReceiveConfig:()=>PR,SignatureErrorError:()=>$R,SignerNotInCommitteeError:()=>UR,TooManyAdminsError:()=>zR,TooManyOptionTypesError:()=>WR,UnexpiredExecuteHashError:()=>VR,UniqueOwnersError:()=>FR,VerificationState:()=>QR,accountProviders:()=>A1e,aclBeet:()=>kU,adminConfigBeet:()=>XR,closeExecuteInstructionDiscriminator:()=>CU,closeExecuteParamsBeet:()=>RU,closeExecuteStruct:()=>MU,createCloseExecuteInstruction:()=>H1e,createCloseExecuteInstructionAccounts:()=>q1e,createInitDvnInstruction:()=>OU,createInitDvnInstructionAccounts:()=>V1e,createInvokeInstruction:()=>UU,createInvokeInstructionAccounts:()=>G1e,createQuoteDvnInstruction:()=>Y1e,createQuoteDvnInstructionAccounts:()=>HU,createSetConfigInstruction:()=>db,createSetConfigInstructionAccounts:()=>ebe,createVerifiableInstruction:()=>tbe,createVerifiableInstructionAccounts:()=>rbe,createWithdrawFeeInstruction:()=>nbe,createWithdrawFeeInstructionAccounts:()=>ibe,dstConfigBeet:()=>MR,dvnConfigBeet:()=>cb,dvnConfigDiscriminator:()=>_I,errorFromCode:()=>W1e,errorFromName:()=>K1e,executeHashBeet:()=>lb,executeHashDiscriminator:()=>TU,executeTransactionDigestBeet:()=>ZR,initDvnInstructionDiscriminator:()=>BU,initDvnParamsBeet:()=>PU,initDvnStruct:()=>NU,invokeInstructionDiscriminator:()=>$U,invokeParamsBeet:()=>DU,invokeStruct:()=>FU,isAdminConfigAdmins:()=>Z1e,isAdminConfigDefaultMultiplierBps:()=>X1e,isAdminConfigDstConfigs:()=>Q1e,isAdminConfigPriceFeed:()=>J1e,isMultisigConfigAdmins:()=>obe,isMultisigConfigAllowlist:()=>abe,isMultisigConfigDenylist:()=>ube,isMultisigConfigMsglibs:()=>cbe,isMultisigConfigPaused:()=>lbe,isMultisigConfigQuorum:()=>fbe,isMultisigConfigSigners:()=>dbe,lzOptionBeet:()=>zU,multisigBeet:()=>EU,multisigConfigBeet:()=>Ql,quoteDvnInstructionDiscriminator:()=>jU,quoteDvnParamsBeet:()=>WU,quoteDvnStruct:()=>KU,receiveConfigBeet:()=>fb,receiveConfigDiscriminator:()=>AI,setConfigInstructionDiscriminator:()=>GU,setConfigParamsBeet:()=>qU,setConfigStruct:()=>VU,transactionAccountBeet:()=>LU,ulnConfigBeet:()=>IU,verifiableInstructionDiscriminator:()=>XU,verifiableParamsBeet:()=>YU,verifiableStruct:()=>ZU,verificationStateBeet:()=>hbe,withdrawFeeInstructionDiscriminator:()=>ez,withdrawFeeParamsBeet:()=>QU,withdrawFeeStruct:()=>JU});var xU={};_n(xU,{DvnConfig:()=>M2,ExecuteHash:()=>CR,ReceiveConfig:()=>PR,accountProviders:()=>A1e,dvnConfigBeet:()=>cb,dvnConfigDiscriminator:()=>_I,executeHashBeet:()=>lb,executeHashDiscriminator:()=>TU,receiveConfigBeet:()=>fb,receiveConfigDiscriminator:()=>AI});var EU=new L.FixableBeetArgsStruct([["signers",L.array(L.uniformFixedSizeArray(L.u8,64))],["quorum",L.u8]],"Multisig"),kU=new L.FixableBeetArgsStruct([["allowList",L.array(We.publicKey)],["denyList",L.array(We.publicKey)]],"Acl"),MR=new L.FixableBeetArgsStruct([["eid",L.u32],["dstGas",L.u32],["multiplierBps",L.coption(L.u16)],["floorMarginUsd",L.coption(L.u128)]],"DstConfig"),_I=[49,81,33,98,234,168,93,73],M2=class O1{constructor(e,r,n,i,s,o,a,u,f,d){this.vid=e,this.bump=r,this.multisig=n,this.acl=i,this.paused=s,this.msglibs=o,this.admins=a,this.priceFeed=u,this.dstConfigs=f,this.defaultMultiplierBps=d}static fromArgs(e){return new O1(e.vid,e.bump,e.multisig,e.acl,e.paused,e.msglibs,e.admins,e.priceFeed,e.dstConfigs,e.defaultMultiplierBps)}static fromAccountInfo(e,r=0){return O1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find DvnConfig account at ${r}`);return O1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW")){return We.GpaBuilder.fromStruct(e,cb)}static deserialize(e,r=0){return cb.deserialize(e,r)}serialize(){return cb.serialize({accountDiscriminator:_I,...this})}static byteSize(e){const r=O1.fromArgs(e);return cb.toFixedFromValue({accountDiscriminator:_I,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(O1.byteSize(e),n)}pretty(){return{vid:this.vid,bump:this.bump,multisig:this.multisig,acl:this.acl,paused:this.paused,msglibs:this.msglibs,admins:this.admins,priceFeed:this.priceFeed.toBase58(),dstConfigs:this.dstConfigs,defaultMultiplierBps:this.defaultMultiplierBps}}},cb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["vid",L.u32],["bump",L.u8],["multisig",EU],["acl",kU],["paused",L.bool],["msglibs",L.array(We.publicKey)],["admins",L.array(We.publicKey)],["priceFeed",We.publicKey],["dstConfigs",L.array(MR)],["defaultMultiplierBps",L.u16]],M2.fromArgs,"DvnConfig"),TU=[34,17,137,123,62,25,205,155],CR=class L1{constructor(e,r){this.expiration=e,this.bump=r}static fromArgs(e){return new L1(e.expiration,e.bump)}static fromAccountInfo(e,r=0){return L1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ExecuteHash account at ${r}`);return L1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW")){return We.GpaBuilder.fromStruct(e,lb)}static deserialize(e,r=0){return lb.deserialize(e,r)}serialize(){return lb.serialize({accountDiscriminator:TU,...this})}static get byteSize(){return lb.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(L1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===L1.byteSize}pretty(){return{expiration:(()=>{const e=this.expiration;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump}}},lb=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["expiration",L.i64],["bump",L.u8]],CR.fromArgs,"ExecuteHash"),IU=new L.FixableBeetArgsStruct([["confirmations",L.u64],["requiredDvnCount",L.u8],["optionalDvnCount",L.u8],["optionalDvnThreshold",L.u8],["requiredDvns",L.array(We.publicKey)],["optionalDvns",L.array(We.publicKey)]],"UlnConfig"),AI=[162,159,153,188,56,65,245,58],PR=class D1{constructor(e,r){this.bump=e,this.uln=r}static fromArgs(e){return new D1(e.bump,e.uln)}static fromAccountInfo(e,r=0){return D1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveConfig account at ${r}`);return D1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW")){return We.GpaBuilder.fromStruct(e,fb)}static deserialize(e,r=0){return fb.deserialize(e,r)}serialize(){return fb.serialize({accountDiscriminator:AI,...this})}static byteSize(e){const r=D1.fromArgs(e);return fb.toFixedFromValue({accountDiscriminator:AI,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(D1.byteSize(e),n)}pretty(){return{bump:this.bump,uln:this.uln}}},fb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["uln",IU]],PR.fromArgs,"ReceiveConfig"),A1e={DvnConfig:M2,ExecuteHash:CR,ReceiveConfig:PR},x1e={};_n(x1e,{DuplicateSignatureError:()=>KR,EidNotSupportedError:()=>YR,ExpiredError:()=>jR,InvalidAmountError:()=>GR,InvalidQuorumError:()=>LR,InvalidSignatureLenError:()=>NR,InvalidSignersLenError:()=>DR,InvalidVidError:()=>HR,MsgLibNotAllowedError:()=>OR,NotAdminError:()=>BR,PausedError:()=>qR,SignatureErrorError:()=>$R,SignerNotInCommitteeError:()=>UR,TooManyAdminsError:()=>zR,TooManyOptionTypesError:()=>WR,UnexpiredExecuteHashError:()=>VR,UniqueOwnersError:()=>FR,errorFromCode:()=>W1e,errorFromName:()=>K1e});var ho=new Map,po=new Map,NR=class E1e extends Error{constructor(){super(""),this.code=6e3,this.name="InvalidSignatureLen",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,E1e)}};ho.set(6e3,()=>new NR);po.set("InvalidSignatureLen",()=>new NR);var BR=class k1e extends Error{constructor(){super(""),this.code=6001,this.name="NotAdmin",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,k1e)}};ho.set(6001,()=>new BR);po.set("NotAdmin",()=>new BR);var OR=class T1e extends Error{constructor(){super(""),this.code=6002,this.name="MsgLibNotAllowed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,T1e)}};ho.set(6002,()=>new OR);po.set("MsgLibNotAllowed",()=>new OR);var LR=class I1e extends Error{constructor(){super(""),this.code=6003,this.name="InvalidQuorum",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,I1e)}};ho.set(6003,()=>new LR);po.set("InvalidQuorum",()=>new LR);var DR=class R1e extends Error{constructor(){super(""),this.code=6004,this.name="InvalidSignersLen",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,R1e)}};ho.set(6004,()=>new DR);po.set("InvalidSignersLen",()=>new DR);var FR=class M1e extends Error{constructor(){super(""),this.code=6005,this.name="UniqueOwners",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,M1e)}};ho.set(6005,()=>new FR);po.set("UniqueOwners",()=>new FR);var $R=class C1e extends Error{constructor(){super(""),this.code=6006,this.name="SignatureError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,C1e)}};ho.set(6006,()=>new $R);po.set("SignatureError",()=>new $R);var UR=class P1e extends Error{constructor(){super(""),this.code=6007,this.name="SignerNotInCommittee",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,P1e)}};ho.set(6007,()=>new UR);po.set("SignerNotInCommittee",()=>new UR);var zR=class N1e extends Error{constructor(){super(""),this.code=6008,this.name="TooManyAdmins",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,N1e)}};ho.set(6008,()=>new zR);po.set("TooManyAdmins",()=>new zR);var WR=class B1e extends Error{constructor(){super(""),this.code=6009,this.name="TooManyOptionTypes",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,B1e)}};ho.set(6009,()=>new WR);po.set("TooManyOptionTypes",()=>new WR);var KR=class O1e extends Error{constructor(){super(""),this.code=6010,this.name="DuplicateSignature",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,O1e)}};ho.set(6010,()=>new KR);po.set("DuplicateSignature",()=>new KR);var jR=class L1e extends Error{constructor(){super(""),this.code=6011,this.name="Expired",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,L1e)}};ho.set(6011,()=>new jR);po.set("Expired",()=>new jR);var HR=class D1e extends Error{constructor(){super(""),this.code=6012,this.name="InvalidVid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,D1e)}};ho.set(6012,()=>new HR);po.set("InvalidVid",()=>new HR);var qR=class F1e extends Error{constructor(){super(""),this.code=6013,this.name="Paused",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,F1e)}};ho.set(6013,()=>new qR);po.set("Paused",()=>new qR);var VR=class $1e extends Error{constructor(){super(""),this.code=6014,this.name="UnexpiredExecuteHash",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$1e)}};ho.set(6014,()=>new VR);po.set("UnexpiredExecuteHash",()=>new VR);var GR=class U1e extends Error{constructor(){super(""),this.code=6015,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,U1e)}};ho.set(6015,()=>new GR);po.set("InvalidAmount",()=>new GR);var YR=class z1e extends Error{constructor(){super(""),this.code=6016,this.name="EidNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,z1e)}};ho.set(6016,()=>new YR);po.set("EidNotSupported",()=>new YR);function W1e(t){const e=ho.get(t);return e!=null?e():null}function K1e(t){const e=po.get(t);return e!=null?e():null}var j1e={};_n(j1e,{closeExecuteInstructionDiscriminator:()=>CU,closeExecuteStruct:()=>MU,createCloseExecuteInstruction:()=>H1e,createCloseExecuteInstructionAccounts:()=>q1e,createInitDvnInstruction:()=>OU,createInitDvnInstructionAccounts:()=>V1e,createInvokeInstruction:()=>UU,createInvokeInstructionAccounts:()=>G1e,createQuoteDvnInstruction:()=>Y1e,createQuoteDvnInstructionAccounts:()=>HU,createSetConfigInstruction:()=>db,createSetConfigInstructionAccounts:()=>ebe,createVerifiableInstruction:()=>tbe,createVerifiableInstructionAccounts:()=>rbe,createWithdrawFeeInstruction:()=>nbe,createWithdrawFeeInstructionAccounts:()=>ibe,initDvnInstructionDiscriminator:()=>BU,initDvnStruct:()=>NU,invokeInstructionDiscriminator:()=>$U,invokeStruct:()=>FU,quoteDvnInstructionDiscriminator:()=>jU,quoteDvnStruct:()=>KU,setConfigInstructionDiscriminator:()=>GU,setConfigStruct:()=>VU,verifiableInstructionDiscriminator:()=>XU,verifiableStruct:()=>ZU,withdrawFeeInstructionDiscriminator:()=>ez,withdrawFeeStruct:()=>JU});var RU=new L.BeetArgsStruct([["digestHash",L.uniformFixedSizeArray(L.u8,32)]],"CloseExecuteParams"),MU=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",RU]],"CloseExecuteInstructionArgs"),CU=[253,220,23,127,15,171,189,226];function H1e(t,e,r){const[n]=MU.serialize({instructionDiscriminator:CU,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function q1e(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var PU=new L.FixableBeetArgsStruct([["vid",L.u32],["msglibs",L.array(We.publicKey)],["priceFeed",We.publicKey],["signers",L.array(L.uniformFixedSizeArray(L.u8,64))],["quorum",L.u8],["admins",L.array(We.publicKey)]],"InitDvnParams"),NU=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",PU]],"InitDvnInstructionArgs"),BU=[58,108,132,12,20,10,215,210];function OU(t,e,r){const[n]=NU.serialize({instructionDiscriminator:BU,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function V1e(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var LU=new L.BeetArgsStruct([["pubkey",We.publicKey],["isSigner",L.bool],["isWritable",L.bool]],"TransactionAccount"),ZR=new L.FixableBeetArgsStruct([["vid",L.u32],["programId",We.publicKey],["accounts",L.array(LU)],["data",L.bytes],["expiration",L.i64]],"ExecuteTransactionDigest"),DU=new L.FixableBeetArgsStruct([["digest",ZR],["signatures",L.array(L.uniformFixedSizeArray(L.u8,65))]],"InvokeParams"),FU=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",DU]],"InvokeInstructionArgs"),$U=[26,16,169,7,21,202,242,25];function UU(t,e,r){const[n]=FU.serialize({instructionDiscriminator:$U,...e}),i=[{pubkey:t.signer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function G1e(t,e){const r=[{pubkey:t.signer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.executeHash,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var zU=new L.FixableBeetArgsStruct([["optionType",L.u8],["params",L.bytes]],"LzOption"),WU=new L.FixableBeetArgsStruct([["msglib",We.publicKey],["dstEid",L.u32],["sender",We.publicKey],["packetHeader",L.bytes],["payloadHash",L.uniformFixedSizeArray(L.u8,32)],["confirmations",L.u64],["options",L.array(zU)]],"QuoteDvnParams"),KU=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",WU]],"QuoteDvnInstructionArgs"),jU=[223,98,51,200,123,133,132,194];function Y1e(t,e,r){const[n]=KU.serialize({instructionDiscriminator:jU,...e}),i=[{pubkey:t.dvnConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function HU(t,e){const r=[{pubkey:t.dvnConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Z1e=t=>t.__kind==="Admins",X1e=t=>t.__kind==="DefaultMultiplierBps",Q1e=t=>t.__kind==="DstConfigs",J1e=t=>t.__kind==="PriceFeed",XR=L.dataEnum([["Admins",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'AdminConfigRecord["Admins"]')],["DefaultMultiplierBps",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([L.u16])]],'AdminConfigRecord["DefaultMultiplierBps"]')],["DstConfigs",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(MR)])]],'AdminConfigRecord["DstConfigs"]')],["PriceFeed",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([We.publicKey])]],'AdminConfigRecord["PriceFeed"]')]]),qU=new L.FixableBeetArgsStruct([["config",XR]],"SetConfigParams"),VU=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",qU]],"SetConfigInstructionArgs"),GU=[108,158,154,175,212,98,52,66];function db(t,e,r){const[n]=VU.serialize({instructionDiscriminator:GU,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function ebe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var YU=new L.BeetArgsStruct([["packetHeader",L.uniformFixedSizeArray(L.u8,81)],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"VerifiableParams"),ZU=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",YU]],"VerifiableInstructionArgs"),XU=[249,50,227,157,238,249,211,90];function tbe(t,e,r){const[n]=ZU.serialize({instructionDiscriminator:XU,...e}),i=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function rbe(t,e){const r=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var QU=new L.BeetArgsStruct([["amount",L.u64]],"WithdrawFeeParams"),JU=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",QU]],"WithdrawFeeInstructionArgs"),ez=[14,122,231,218,31,238,223,150];function nbe(t,e,r){const[n]=JU.serialize({instructionDiscriminator:ez,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function ibe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var sbe={};_n(sbe,{VerificationState:()=>QR,aclBeet:()=>kU,adminConfigBeet:()=>XR,closeExecuteParamsBeet:()=>RU,dstConfigBeet:()=>MR,executeTransactionDigestBeet:()=>ZR,initDvnParamsBeet:()=>PU,invokeParamsBeet:()=>DU,isAdminConfigAdmins:()=>Z1e,isAdminConfigDefaultMultiplierBps:()=>X1e,isAdminConfigDstConfigs:()=>Q1e,isAdminConfigPriceFeed:()=>J1e,isMultisigConfigAdmins:()=>obe,isMultisigConfigAllowlist:()=>abe,isMultisigConfigDenylist:()=>ube,isMultisigConfigMsglibs:()=>cbe,isMultisigConfigPaused:()=>lbe,isMultisigConfigQuorum:()=>fbe,isMultisigConfigSigners:()=>dbe,lzOptionBeet:()=>zU,multisigBeet:()=>EU,multisigConfigBeet:()=>Ql,quoteDvnParamsBeet:()=>WU,setConfigParamsBeet:()=>qU,transactionAccountBeet:()=>LU,ulnConfigBeet:()=>IU,verifiableParamsBeet:()=>YU,verificationStateBeet:()=>hbe,withdrawFeeParamsBeet:()=>QU});var obe=t=>t.__kind==="Admins",abe=t=>t.__kind==="Allowlist",ube=t=>t.__kind==="Denylist",cbe=t=>t.__kind==="Msglibs",lbe=t=>t.__kind==="Paused",fbe=t=>t.__kind==="Quorum",dbe=t=>t.__kind==="Signers",Ql=L.dataEnum([["Admins",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'MultisigConfigRecord["Admins"]')],["Allowlist",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'MultisigConfigRecord["Allowlist"]')],["Denylist",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'MultisigConfigRecord["Denylist"]')],["Msglibs",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'MultisigConfigRecord["Msglibs"]')],["Paused",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([L.bool])]],'MultisigConfigRecord["Paused"]')],["Quorum",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([L.u8])]],'MultisigConfigRecord["Quorum"]')],["Signers",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(L.uniformFixedSizeArray(L.u8,64))])]],'MultisigConfigRecord["Signers"]')]]),QR=(t=>(t[t.Verifying=0]="Verifying",t[t.Verifiable=1]="Verifiable",t[t.Verified=2]="Verified",t[t.NotInitializable=3]="NotInitializable",t[t.VerifiableButCapExceeded=4]="VerifiableButCapExceeded",t))(QR||{}),hbe=L.fixedScalarEnum(QR),pbe="HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW",gbe=new mt(pbe),mbe={};_n(mbe,{adminConfigSetEventBeet:()=>q0t,feeWithdrawnEventBeet:()=>V0t,multisigConfigSetEventBeet:()=>G0t});var q0t=new L.FixableBeetArgsStruct([["config",XR]],"AdminConfigSetEvent"),V0t=new L.BeetArgsStruct([["receiver",We.publicKey],["amount",L.u64]],"FeeWithdrawnEvent"),G0t=new L.FixableBeetArgsStruct([["config",Ql]],"MultisigConfigSetEvent"),Y0t=class ybe{constructor(e){this.signers=e}static from(e){return new ybe(e)}async sign(e){const{signWithECDSA:r}=await jat(async()=>{const{signWithECDSA:n}=await import("./index-CFTjAhxA.js");return{signWithECDSA:n}},__vite__mapDeps([0,1]));return Promise.all(this.signers.map(async n=>r(e,n.ECDSAPrivateKey)))}},bbe=class{constructor(t,e=Mpt.SOLANA_V2_SANDBOX){this.programId=t,this.dvnDeriver=new Kpt(t),this.vid=e%3e4,this.eventAuthority=new O0(t).eventAuthority()[0]}async initDVN(t,e,r){const[n]=this.dvnDeriver.config();if(await t.getAccountInfo(n))throw new Error("DVN already initialized");return OU({payer:e,config:n},{params:r},this.programId)}getDigest(t,e,r){return{vid:t,programId:e.programId,accounts:e.keys.map(n=>({pubkey:n.pubkey,isSigner:n.isSigner,isWritable:n.isWritable})),data:e.data,expiration:r}}getExecuteHash(t){const[e]=this.dvnDeriver.executeHash(t);return e}getHashBytes(t){const[e]=ZR.serialize(t),r=ix(e);return Ie.Buffer.from(r.slice(2),"hex")}async invoke(t,e,r,n,i,s){if(!await this.getConfigState(t,"confirmed"))throw new Error("DVN not initialized");const[a]=this.dvnDeriver.config(),u=this.getDigest(e,n,i),f=this.getHashBytes(u),d=this.getExecuteHash(f),g=[],y=await s.sign(f);g.push(...y.map(x=>Array.from(x.signature).concat([x.recoveryId])));const b={digest:u,signatures:g},A=n.keys.map(x=>(x.isSigner=!1,x));return UU({signer:r,config:a,executeHash:d,program:this.programId,eventAuthority:this.eventAuthority,anchorRemainingAccounts:[{pubkey:n.programId,isSigner:!1,isWritable:!1}].concat(A)},{params:b},this.programId)}createSetQuorumInstruction(t){const e={fields:[t],__kind:"Quorum"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}createSetAdminsInstruction(t){const e={fields:[t],__kind:"Admins"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}createSetSignersInstruction(t){const e={fields:[t.map(i=>Array.from(i))],__kind:"Signers"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}createSetAllowlistInstruction(t){const e={fields:[t],__kind:"Allowlist"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}createSetDenylistInstruction(t){const e={fields:[t],__kind:"Denylist"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}createSetPauseInstruction(t){const e={fields:[t],__kind:"Paused"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}createSetDefaultMultiplierBpsInstruction(t,e){const[r]=this.dvnDeriver.config();return db({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[e],__kind:"DefaultMultiplierBps"}}},this.programId)}createChangeAdminsInstruction(t,e){const[r]=this.dvnDeriver.config();return db({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[e],__kind:"Admins"}}},this.programId)}createSetDstConfigInstruction(t,e){const[r]=this.dvnDeriver.config();return db({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[e],__kind:"DstConfigs"}}},this.programId)}createSetMsgLibsInstruction(t){const e={fields:[t],__kind:"Msglibs"},r=Ql.toFixedFromValue(e),n=Ie.Buffer.alloc(r.byteSize);return r.write(n,0,e),new _t({programId:this.programId,keys:[],data:n})}_getExpiration(){return new Date().getTime()/1e3+120}async setMsgLibs(t,e,r,n){const i=this._getExpiration();return this.invoke(t,this.vid,e,this.createSetMsgLibsInstruction(r),i,n)}createSetPriceFeedInstruction(t,e){const[r]=this.dvnDeriver.config(),[n]=new V$(e).priceFeed();return db({admin:t,config:r,program:this.programId,eventAuthority:this.eventAuthority},{params:{config:{fields:[n],__kind:"PriceFeed"}}},this.programId)}getQuoteIXAccountMetaForCPI(t,e,r){const[n]=this.dvnDeriver.config(),i=HU({dvnConfig:n,priceFeedConfig:t,priceFeedProgram:e},this.programId);return r&&(i[0].isWritable=!0),[{pubkey:this.programId,isWritable:!1,isSigner:!1}].concat(i)}async getConfigState(t,e="confirmed"){const[r]=this.dvnDeriver.config();try{return await M2.fromAccountAddress(t,r,e)}catch{return null}}},Z0t={};_n(Z0t,{EidNotSupportedError:()=>eW,ExecutionState:()=>rM,Executor:()=>mve,ExecutorConfig:()=>C2,ExecutorIsAdminError:()=>tW,InsufficientBalanceError:()=>Jz,InvalidNativeDropReceiverError:()=>Qz,InvalidNativeDropRequestsLengthError:()=>Xz,InvalidOwnerError:()=>rW,InvalidSizeError:()=>$z,MsgLibNotAllowedError:()=>Vz,NativeAmountExceedsCapError:()=>jz,Nonce:()=>eM,NotAdminError:()=>Hz,NotExecutorError:()=>qz,PROGRAM_ADDRESS:()=>gve,PROGRAM_ID:()=>pmt,PausedError:()=>Uz,TooManyAdminsError:()=>Gz,TooManyExecutorsError:()=>Yz,TooManyOptionTypesError:()=>Zz,UnsupportedOptionTypeError:()=>zz,ZeroLzComposeGasProvidedError:()=>Wz,ZeroLzReceiveGasProvidedError:()=>Kz,accountProviders:()=>vbe,accounts:()=>tz,aclBeet:()=>rz,adminSetConfigInstructionDiscriminator:()=>oz,adminSetConfigParamsBeet:()=>iz,adminSetConfigStruct:()=>sz,composeInstructionDiscriminator:()=>lz,composeParamsBeet:()=>uz,composeStruct:()=>cz,createAdminSetConfigInstruction:()=>dA,createAdminSetConfigInstructionAccounts:()=>Ebe,createComposeInstruction:()=>fz,createComposeInstructionAccounts:()=>kbe,createExecutableInstruction:()=>Tbe,createExecutableInstructionAccounts:()=>Ibe,createExecuteInstruction:()=>vz,createExecuteInstructionAccounts:()=>Rbe,createInitExecutorInstruction:()=>Az,createInitExecutorInstructionAccounts:()=>Mbe,createNativeDropInstruction:()=>Cbe,createNativeDropInstructionAccounts:()=>Pbe,createOwnerSetConfigInstruction:()=>Od,createOwnerSetConfigInstructionAccounts:()=>Ube,createQuoteExecutorInstruction:()=>zbe,createQuoteExecutorInstructionAccounts:()=>Bz,dstConfigBeet:()=>JR,errorFromCode:()=>dmt,errorFromName:()=>hmt,events:()=>wbe,executableInstructionDiscriminator:()=>pz,executableParamsBeet:()=>dz,executableStruct:()=>hz,executeInstructionDiscriminator:()=>bz,executeParamsBeet:()=>mz,executeStruct:()=>yz,executionStateBeet:()=>Kbe,executorConfigBeet:()=>hb,executorConfigDiscriminator:()=>xI,initExecutorInstructionDiscriminator:()=>_z,initExecutorParamsBeet:()=>wz,initExecutorStruct:()=>Sz,instructions:()=>Sbe,isAdminSetConfigParamsDefaultMultiplierBps:()=>Abe,isAdminSetConfigParamsDstConfigs:()=>xbe,isAdminSetConfigParamsPriceFeed:()=>_be,isOwnerSetConfigParamsAdmins:()=>Nbe,isOwnerSetConfigParamsAllowlist:()=>Fbe,isOwnerSetConfigParamsDenylist:()=>$be,isOwnerSetConfigParamsExecutors:()=>Bbe,isOwnerSetConfigParamsMsglibs:()=>Obe,isOwnerSetConfigParamsOwner:()=>Lbe,isOwnerSetConfigParamsPaused:()=>Dbe,lzComposeParamsBeet:()=>az,lzOptionBeet:()=>Mz,lzReceiveParamsBeet:()=>gz,nativeDropInstructionDiscriminator:()=>kz,nativeDropParamsBeet:()=>xz,nativeDropRequestBeet:()=>tM,nativeDropStruct:()=>Ez,nonceBeet:()=>pb,nonceDiscriminator:()=>nz,ownerSetConfigInstructionDiscriminator:()=>Rz,ownerSetConfigParamsBeet:()=>Tz,ownerSetConfigStruct:()=>Iz,quoteExecutorInstructionDiscriminator:()=>Nz,quoteExecutorParamsBeet:()=>Cz,quoteExecutorStruct:()=>Pz,types:()=>Wbe});var tz={};_n(tz,{ExecutorConfig:()=>C2,Nonce:()=>eM,accountProviders:()=>vbe,executorConfigBeet:()=>hb,executorConfigDiscriminator:()=>xI,nonceBeet:()=>pb,nonceDiscriminator:()=>nz});var rz=new L.FixableBeetArgsStruct([["allowList",L.array(We.publicKey)],["denyList",L.array(We.publicKey)]],"Acl"),JR=new L.FixableBeetArgsStruct([["eid",L.u32],["lzReceiveBaseGas",L.u32],["lzComposeBaseGas",L.u32],["multiplierBps",L.coption(L.u16)],["floorMarginUsd",L.coption(L.u128)],["nativeDropCap",L.u128]],"DstConfig"),xI=[134,17,226,24,10,173,157,78],C2=class F1{constructor(e,r,n,i,s,o,a,u,f,d){this.bump=e,this.owner=r,this.acl=n,this.admins=i,this.executors=s,this.msglibs=o,this.paused=a,this.defaultMultiplierBps=u,this.priceFeed=f,this.dstConfigs=d}static fromArgs(e){return new F1(e.bump,e.owner,e.acl,e.admins,e.executors,e.msglibs,e.paused,e.defaultMultiplierBps,e.priceFeed,e.dstConfigs)}static fromAccountInfo(e,r=0){return F1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ExecutorConfig account at ${r}`);return F1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn")){return We.GpaBuilder.fromStruct(e,hb)}static deserialize(e,r=0){return hb.deserialize(e,r)}serialize(){return hb.serialize({accountDiscriminator:xI,...this})}static byteSize(e){const r=F1.fromArgs(e);return hb.toFixedFromValue({accountDiscriminator:xI,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(F1.byteSize(e),n)}pretty(){return{bump:this.bump,owner:this.owner.toBase58(),acl:this.acl,admins:this.admins,executors:this.executors,msglibs:this.msglibs,paused:this.paused,defaultMultiplierBps:this.defaultMultiplierBps,priceFeed:this.priceFeed.toBase58(),dstConfigs:this.dstConfigs}}},hb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["owner",We.publicKey],["acl",rz],["admins",L.array(We.publicKey)],["executors",L.array(We.publicKey)],["msglibs",L.array(We.publicKey)],["paused",L.bool],["defaultMultiplierBps",L.u16],["priceFeed",We.publicKey],["dstConfigs",L.array(JR)]],C2.fromArgs,"ExecutorConfig"),nz=[143,197,147,95,106,165,50,43],eM=class $1{constructor(e,r,n){this.bump=e,this.outboundNonce=r,this.inboundNonce=n}static fromArgs(e){return new $1(e.bump,e.outboundNonce,e.inboundNonce)}static fromAccountInfo(e,r=0){return $1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Nonce account at ${r}`);return $1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn")){return We.GpaBuilder.fromStruct(e,pb)}static deserialize(e,r=0){return pb.deserialize(e,r)}serialize(){return pb.serialize({accountDiscriminator:nz,...this})}static get byteSize(){return pb.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption($1.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===$1.byteSize}pretty(){return{bump:this.bump,outboundNonce:(()=>{const e=this.outboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),inboundNonce:(()=>{const e=this.inboundNonce;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})()}}},pb=new L.BeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["outboundNonce",L.u64],["inboundNonce",L.u64]],eM.fromArgs,"Nonce"),vbe={Nonce:eM,ExecutorConfig:C2},wbe={};_n(wbe,{nativeDropAppliedEventBeet:()=>X0t});var tM=new L.BeetArgsStruct([["receiver",We.publicKey],["amount",L.u64]],"NativeDropRequest"),X0t=new L.FixableBeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["dstEid",L.u32],["oapp",We.publicKey],["nativeDropRequests",L.array(tM)],["successes",L.array(L.bool)]],"NativeDropAppliedEvent"),Sbe={};_n(Sbe,{adminSetConfigInstructionDiscriminator:()=>oz,adminSetConfigStruct:()=>sz,composeInstructionDiscriminator:()=>lz,composeStruct:()=>cz,createAdminSetConfigInstruction:()=>dA,createAdminSetConfigInstructionAccounts:()=>Ebe,createComposeInstruction:()=>fz,createComposeInstructionAccounts:()=>kbe,createExecutableInstruction:()=>Tbe,createExecutableInstructionAccounts:()=>Ibe,createExecuteInstruction:()=>vz,createExecuteInstructionAccounts:()=>Rbe,createInitExecutorInstruction:()=>Az,createInitExecutorInstructionAccounts:()=>Mbe,createNativeDropInstruction:()=>Cbe,createNativeDropInstructionAccounts:()=>Pbe,createOwnerSetConfigInstruction:()=>Od,createOwnerSetConfigInstructionAccounts:()=>Ube,createQuoteExecutorInstruction:()=>zbe,createQuoteExecutorInstructionAccounts:()=>Bz,executableInstructionDiscriminator:()=>pz,executableStruct:()=>hz,executeInstructionDiscriminator:()=>bz,executeStruct:()=>yz,initExecutorInstructionDiscriminator:()=>_z,initExecutorStruct:()=>Sz,nativeDropInstructionDiscriminator:()=>kz,nativeDropStruct:()=>Ez,ownerSetConfigInstructionDiscriminator:()=>Rz,ownerSetConfigStruct:()=>Iz,quoteExecutorInstructionDiscriminator:()=>Nz,quoteExecutorStruct:()=>Pz});var _be=t=>t.__kind==="PriceFeed",Abe=t=>t.__kind==="DefaultMultiplierBps",xbe=t=>t.__kind==="DstConfigs",iz=L.dataEnum([["PriceFeed",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([We.publicKey])]],'AdminSetConfigParamsRecord["PriceFeed"]')],["DefaultMultiplierBps",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([L.u16])]],'AdminSetConfigParamsRecord["DefaultMultiplierBps"]')],["DstConfigs",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(JR)])]],'AdminSetConfigParamsRecord["DstConfigs"]')]]),sz=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",iz]],"AdminSetConfigInstructionArgs"),oz=[35,56,160,84,132,156,27,79];function dA(t,e,r){const[n]=sz.serialize({instructionDiscriminator:oz,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Ebe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var az=new L.FixableBeetArgsStruct([["from",We.publicKey],["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["message",L.bytes],["extraData",L.bytes]],"LzComposeParams"),uz=new L.FixableBeetArgsStruct([["lzCompose",az],["computeUnits",L.u64],["value",L.u64]],"ComposeParams"),cz=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",uz]],"ComposeInstructionArgs"),lz=[106,64,131,142,7,159,42,15];function fz(t,e,r){const[n]=cz.serialize({instructionDiscriminator:lz,...e}),i=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function kbe(t,e){const r=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var dz=new L.BeetArgsStruct([["receiver",We.publicKey],["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64]],"ExecutableParams"),hz=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",dz]],"ExecutableInstructionArgs"),pz=[57,165,171,234,157,191,156,25];function Tbe(t,e,r){const[n]=hz.serialize({instructionDiscriminator:pz,...e}),i=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Ibe(t,e){const r=[{pubkey:t.nonce,isWritable:!1,isSigner:!1},{pubkey:t.payloadHash,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var gz=new L.FixableBeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["guid",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes],["extraData",L.bytes]],"LzReceiveParams"),mz=new L.FixableBeetArgsStruct([["receiver",We.publicKey],["lzReceive",gz],["value",L.u64],["computeUnits",L.u64]],"ExecuteParams"),yz=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",mz]],"ExecuteInstructionArgs"),bz=[130,221,242,154,13,193,189,29];function vz(t,e,r){const[n]=yz.serialize({instructionDiscriminator:bz,...e}),i=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Rbe(t,e){const r=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!1,isSigner:!1},{pubkey:t.endpointProgram,isWritable:!1,isSigner:!1},{pubkey:t.endpointEventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var wz=new L.FixableBeetArgsStruct([["owner",We.publicKey],["admins",L.array(We.publicKey)],["executors",L.array(We.publicKey)],["msglibs",L.array(We.publicKey)],["priceFeed",We.publicKey]],"InitExecutorParams"),Sz=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",wz]],"InitExecutorInstructionArgs"),_z=[195,68,116,173,55,173,159,31];function Az(t,e,r){const[n]=Sz.serialize({instructionDiscriminator:_z,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Mbe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var xz=new L.FixableBeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["dstEid",L.u32],["oapp",We.publicKey],["nativeDropRequests",L.array(tM)]],"NativeDropParams"),Ez=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",xz]],"NativeDropInstructionArgs"),kz=[105,30,218,121,155,234,85,12];function Cbe(t,e,r){const[n]=Ez.serialize({instructionDiscriminator:kz,...e}),i=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Pbe(t,e){const r=[{pubkey:t.executor,isWritable:!0,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Nbe=t=>t.__kind==="Admins",Bbe=t=>t.__kind==="Executors",Obe=t=>t.__kind==="Msglibs",Lbe=t=>t.__kind==="Owner",Dbe=t=>t.__kind==="Paused",Fbe=t=>t.__kind==="Allowlist",$be=t=>t.__kind==="Denylist",Tz=L.dataEnum([["Admins",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'OwnerSetConfigParamsRecord["Admins"]')],["Executors",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'OwnerSetConfigParamsRecord["Executors"]')],["Msglibs",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'OwnerSetConfigParamsRecord["Msglibs"]')],["Owner",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([We.publicKey])]],'OwnerSetConfigParamsRecord["Owner"]')],["Paused",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([L.bool])]],'OwnerSetConfigParamsRecord["Paused"]')],["Allowlist",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'OwnerSetConfigParamsRecord["Allowlist"]')],["Denylist",new L.FixableBeetArgsStruct([["fields",L.tuple([L.array(We.publicKey)])]],'OwnerSetConfigParamsRecord["Denylist"]')]]),Iz=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Tz]],"OwnerSetConfigInstructionArgs"),Rz=[99,197,129,19,164,164,183,123];function Od(t,e,r){const[n]=Iz.serialize({instructionDiscriminator:Rz,...e}),i=[{pubkey:t.owner,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Ube(t,e){const r=[{pubkey:t.owner,isWritable:!1,isSigner:!0},{pubkey:t.config,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Mz=new L.FixableBeetArgsStruct([["optionType",L.u8],["params",L.bytes]],"LzOption"),Cz=new L.FixableBeetArgsStruct([["msglib",We.publicKey],["dstEid",L.u32],["sender",We.publicKey],["calldataSize",L.u64],["options",L.array(Mz)]],"QuoteExecutorParams"),Pz=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Cz]],"QuoteExecutorInstructionArgs"),Nz=[84,246,255,191,82,65,164,92];function zbe(t,e,r){const[n]=Pz.serialize({instructionDiscriminator:Nz,...e}),i=[{pubkey:t.executorConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Bz(t,e){const r=[{pubkey:t.executorConfig,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedProgram,isWritable:!1,isSigner:!1},{pubkey:t.priceFeedConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Wbe={};_n(Wbe,{ExecutionState:()=>rM,aclBeet:()=>rz,adminSetConfigParamsBeet:()=>iz,composeParamsBeet:()=>uz,dstConfigBeet:()=>JR,executableParamsBeet:()=>dz,executeParamsBeet:()=>mz,executionStateBeet:()=>Kbe,initExecutorParamsBeet:()=>wz,isAdminSetConfigParamsDefaultMultiplierBps:()=>Abe,isAdminSetConfigParamsDstConfigs:()=>xbe,isAdminSetConfigParamsPriceFeed:()=>_be,isOwnerSetConfigParamsAdmins:()=>Nbe,isOwnerSetConfigParamsAllowlist:()=>Fbe,isOwnerSetConfigParamsDenylist:()=>$be,isOwnerSetConfigParamsExecutors:()=>Bbe,isOwnerSetConfigParamsMsglibs:()=>Obe,isOwnerSetConfigParamsOwner:()=>Lbe,isOwnerSetConfigParamsPaused:()=>Dbe,lzComposeParamsBeet:()=>az,lzOptionBeet:()=>Mz,lzReceiveParamsBeet:()=>gz,nativeDropParamsBeet:()=>xz,nativeDropRequestBeet:()=>tM,ownerSetConfigParamsBeet:()=>Tz,quoteExecutorParamsBeet:()=>Cz});var rM=(t=>(t[t.NotExecutable=0]="NotExecutable",t[t.VerifiedButNotExecutable=1]="VerifiedButNotExecutable",t[t.Executable=2]="Executable",t[t.Executed=3]="Executed",t))(rM||{}),Kbe=L.fixedScalarEnum(rM),jbe=L.uniformFixedSizeArray(L.u8,32),Q0t=new L.FixableBeetArgsStruct([["srcEid",L.u32],["sender",L.uniformFixedSizeArray(L.u8,32)],["nonce",L.u64],["guid",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes],["callerParams",L.bytes]],"LzReceiveParams"),J0t=new L.FixableBeetArgsStruct([["from",We.publicKey],["to",We.publicKey],["guid",L.uniformFixedSizeArray(L.u8,32)],["index",L.u16],["message",L.bytes],["extraData",L.bytes]],"LzComposeParams"),emt=new L.BeetArgsStruct([["pubkey",We.publicKey],["isSigner",L.bool],["isWritable",L.bool]],"LzReceiveAccount"),Hbe={};_n(Hbe,{adminTransferredEventBeet:()=>tmt,configSetEventBeet:()=>rmt,defaultConfigSetEventBeet:()=>nmt,feesPaidEventBeet:()=>imt,payloadVerifiedEventBeet:()=>smt,rentWithdrawnEventBeet:()=>omt,treasurySetEventBeet:()=>amt});var tmt=new L.BeetArgsStruct([["newAdmin",We.publicKey]],"AdminTransferredEvent"),Lu=new L.FixableBeetArgsStruct([["confirmations",L.u64],["requiredDvnCount",L.u8],["optionalDvnCount",L.u8],["optionalDvnThreshold",L.u8],["requiredDvns",L.array(We.publicKey)],["optionalDvns",L.array(We.publicKey)]],"UlnConfig"),Lg=new L.BeetArgsStruct([["maxMessageSize",L.u32],["executor",We.publicKey]],"ExecutorConfig"),qbe=t=>t.__kind==="SendUln",Vbe=t=>t.__kind==="ReceiveUln",Gbe=t=>t.__kind==="Executor",Oz=L.dataEnum([["SendUln",new L.FixableBeetArgsStruct([["fields",L.tuple([Lu])]],'ConfigRecord["SendUln"]')],["ReceiveUln",new L.FixableBeetArgsStruct([["fields",L.tuple([Lu])]],'ConfigRecord["ReceiveUln"]')],["Executor",new L.BeetArgsStruct([["fields",L.fixedSizeTuple([Lg])]],'ConfigRecord["Executor"]')]]),rmt=new L.FixableBeetArgsStruct([["oapp",We.publicKey],["eid",L.u32],["config",Oz]],"ConfigSetEvent"),nmt=new L.FixableBeetArgsStruct([["eid",L.u32],["sendUlnConfig",L.coption(Lu)],["receiveUlnConfig",L.coption(Lu)],["executorConfig",L.coption(Lg)]],"DefaultConfigSetEvent"),EI=new L.BeetArgsStruct([["worker",We.publicKey],["fee",L.u64]],"WorkerFee"),Lz=new L.BeetArgsStruct([["treasury",We.publicKey],["fee",L.u64],["payInLzToken",L.bool]],"TreasuryFee"),imt=new L.FixableBeetArgsStruct([["executor",EI],["dvns",L.array(EI)],["treasury",L.coption(Lz)]],"FeesPaidEvent"),smt=new L.BeetArgsStruct([["dvn",We.publicKey],["header",L.uniformFixedSizeArray(L.u8,81)],["confirmations",L.u64],["proofHash",L.uniformFixedSizeArray(L.u8,32)]],"PayloadVerifiedEvent"),omt=new L.BeetArgsStruct([["receiver",We.publicKey],["amount",L.u64]],"RentWithdrawnEvent"),Dz=new L.BeetArgsStruct([["receiver",We.publicKey],["fee",L.u64]],"LzTokenTreasury"),P2=new L.FixableBeetArgsStruct([["admin",L.coption(We.publicKey)],["nativeReceiver",We.publicKey],["nativeFeeBps",L.u64],["lzToken",L.coption(Dz)]],"Treasury"),amt=new L.FixableBeetArgsStruct([["treasury",L.coption(P2)]],"TreasurySetEvent");async function umt(t,e,r,n="confirmed",i){return new sut({payerKey:e,recentBlockhash:(await t.getLatestBlockhash(n)).blockhash,instructions:r}).compileToV0Message()}async function cmt(t,e,r,n="confirmed",i,s){return new out(await umt(t,e,r,n))}function Ybe(t){return Ie.Buffer.from(Dat(Ie.Buffer.from(`global:${t}`)).substring(2),"hex").subarray(0,8)}async function Fz(t,e,r,n,i="confirmed",s,o){var g,y;const a=await cmt(t,n,e,i),u=await t.simulateTransaction(a,{sigVerify:!1,commitment:i}),f=`Program return: ${r.toBase58()} `,d=(g=u.value.logs)==null?void 0:g.find(b=>b.startsWith(f));if(d===void 0||((y=u.value.returnData)==null?void 0:y.programId)!==r.toBase58())throw new Error(`Simulate Fail: ${JSON.stringify(u)}`);return Ie.Buffer.from(d.slice(f.length),"base64")}async function lmt(t,e,r,n,i,s="confirmed"){const o=await(async()=>{const[g]=Cmt(n,r),y=await t.getAccountInfo(g,s),b=[];if(y){const A=Ie.Buffer.from(y.data),x=A.length-8;if(x%32!==0)throw new Error(`Invalid length of AccountInfo.data. The length must be a multiple of 32 plus 8.(n*32+8). Current length is ${A.length}`);for(let k=8;k<x;k+=32){const R=jbe.read(A,k);b.push({pubkey:new mt(R),isSigner:!1,isWritable:!1})}}return b})(),[a]=Q0t.serialize(i),u=new _t({programId:n,keys:o,data:Ie.Buffer.concat([Ybe("lz_receive_types"),a])}),f=await Fz(t,[u],n,e);return Zbe(f,e)}async function fmt(t,e,r,n,i,s="confirmed"){const o=await(async()=>{const[g]=Pmt(n,r),y=await t.getAccountInfo(g,s),b=[];if(y){const A=Ie.Buffer.from(y.data),x=A.length-8;if(x%32!==0)throw new Error(`Invalid length of AccountInfo.data. The length must be a multiple of 32 plus 8.(n*32+8). Current length is ${A.length}`);for(let k=8;k<x;k+=32){const R=jbe.read(A,k);b.push({pubkey:new mt(R),isSigner:!1,isWritable:!1})}}return b})(),[a]=J0t.serialize(i),u=new _t({programId:n,keys:o,data:Ie.Buffer.concat([Ybe("lz_compose_types"),a])}),f=await Fz(t,[u],n,e);return Zbe(f,e)}function Zbe(t,e){return L.array(emt).toFixedFromData(t,0).read(t,0).map(s=>{if(s.pubkey.toBase58()==mt.default.toBase58()&&s.isSigner){if(!e)throw new Error("payer is required");return{pubkey:e,isSigner:!0,isWritable:s.isWritable}}else return{pubkey:s.pubkey,isSigner:s.isSigner,isWritable:s.isWritable}})}var js=new Map,Hs=new Map,$z=class Xbe extends Error{constructor(){super(""),this.code=6e3,this.name="InvalidSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Xbe)}};js.set(6e3,()=>new $z);Hs.set("InvalidSize",()=>new $z);var Uz=class Qbe extends Error{constructor(){super(""),this.code=6001,this.name="Paused",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Qbe)}};js.set(6001,()=>new Uz);Hs.set("Paused",()=>new Uz);var zz=class Jbe extends Error{constructor(){super(""),this.code=6002,this.name="UnsupportedOptionType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Jbe)}};js.set(6002,()=>new zz);Hs.set("UnsupportedOptionType",()=>new zz);var Wz=class eve extends Error{constructor(){super(""),this.code=6003,this.name="ZeroLzComposeGasProvided",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,eve)}};js.set(6003,()=>new Wz);Hs.set("ZeroLzComposeGasProvided",()=>new Wz);var Kz=class tve extends Error{constructor(){super(""),this.code=6004,this.name="ZeroLzReceiveGasProvided",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,tve)}};js.set(6004,()=>new Kz);Hs.set("ZeroLzReceiveGasProvided",()=>new Kz);var jz=class rve extends Error{constructor(){super(""),this.code=6005,this.name="NativeAmountExceedsCap",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rve)}};js.set(6005,()=>new jz);Hs.set("NativeAmountExceedsCap",()=>new jz);var Hz=class nve extends Error{constructor(){super(""),this.code=6006,this.name="NotAdmin",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,nve)}};js.set(6006,()=>new Hz);Hs.set("NotAdmin",()=>new Hz);var qz=class ive extends Error{constructor(){super(""),this.code=6007,this.name="NotExecutor",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ive)}};js.set(6007,()=>new qz);Hs.set("NotExecutor",()=>new qz);var Vz=class sve extends Error{constructor(){super(""),this.code=6008,this.name="MsgLibNotAllowed",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,sve)}};js.set(6008,()=>new Vz);Hs.set("MsgLibNotAllowed",()=>new Vz);var Gz=class ove extends Error{constructor(){super(""),this.code=6009,this.name="TooManyAdmins",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ove)}};js.set(6009,()=>new Gz);Hs.set("TooManyAdmins",()=>new Gz);var Yz=class ave extends Error{constructor(){super(""),this.code=6010,this.name="TooManyExecutors",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ave)}};js.set(6010,()=>new Yz);Hs.set("TooManyExecutors",()=>new Yz);var Zz=class uve extends Error{constructor(){super(""),this.code=6011,this.name="TooManyOptionTypes",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,uve)}};js.set(6011,()=>new Zz);Hs.set("TooManyOptionTypes",()=>new Zz);var Xz=class cve extends Error{constructor(){super(""),this.code=6012,this.name="InvalidNativeDropRequestsLength",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,cve)}};js.set(6012,()=>new Xz);Hs.set("InvalidNativeDropRequestsLength",()=>new Xz);var Qz=class lve extends Error{constructor(){super(""),this.code=6013,this.name="InvalidNativeDropReceiver",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,lve)}};js.set(6013,()=>new Qz);Hs.set("InvalidNativeDropReceiver",()=>new Qz);var Jz=class fve extends Error{constructor(){super(""),this.code=6014,this.name="InsufficientBalance",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fve)}};js.set(6014,()=>new Jz);Hs.set("InsufficientBalance",()=>new Jz);var eW=class dve extends Error{constructor(){super(""),this.code=6015,this.name="EidNotSupported",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,dve)}};js.set(6015,()=>new eW);Hs.set("EidNotSupported",()=>new eW);var tW=class hve extends Error{constructor(){super(""),this.code=6016,this.name="ExecutorIsAdmin",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,hve)}};js.set(6016,()=>new tW);Hs.set("ExecutorIsAdmin",()=>new tW);var rW=class pve extends Error{constructor(){super(""),this.code=6017,this.name="InvalidOwner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,pve)}};js.set(6017,()=>new rW);Hs.set("InvalidOwner",()=>new rW);function dmt(t){const e=js.get(t);return e!=null?e():null}function hmt(t){const e=Hs.get(t);return e!=null?e():null}var gve="6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn",pmt=new mt(gve),mve=class{constructor(t){this.program=t,this.deriver=new jpt(this.program)}initExecutor(t,e,r,n,i,s){const[o]=this.deriver.config();return Az({payer:t,config:o},{params:{owner:e,admins:r,executors:n,msglibs:i,priceFeed:s}},this.program)}setOwner(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Owner"}},this.program)}setAdmins(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Admins"}},this.program)}setAllowList(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Allowlist"}},this.program)}setDenyList(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Denylist"}},this.program)}setPaused(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Paused"}},this.program)}setExecutors(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Executors"}},this.program)}setMsglibByPrograms(t,e){this.deriver.config();const r=e.map(n=>new gu(n).messageLib()[0]);return this.setMsglibByPDAs(t,r)}setMsglibByPDAs(t,e){const[r]=this.deriver.config();return Od({owner:t,config:r},{params:{fields:[e],__kind:"Msglibs"}},this.program)}setDefaultMultiplierBps(t,e){const[r]=this.deriver.config();return dA({admin:t,config:r},{params:{fields:[e],__kind:"DefaultMultiplierBps"}},this.program)}setDstConfig(t,e){const[r]=this.deriver.config();return dA({admin:t,config:r},{params:{fields:[e],__kind:"DstConfigs"}},this.program)}setPriceFeed(t,e){const[r]=this.deriver.config(),[n]=new V$(e).priceFeed();return dA({admin:t,config:r},{params:{fields:[n],__kind:"PriceFeed"}},this.program)}async getExecutorConfig(t,e){const[r]=this.deriver.config();try{return await C2.fromAccountAddress(t,r,e)}catch{return null}}getQuoteIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.config(),i=Bz({executorConfig:n,priceFeedConfig:t,priceFeedProgram:e},this.program);return r&&(i[0].isWritable=!0),[{pubkey:this.program,isWritable:!1,isSigner:!1}].concat(i)}async execute(t,e,r,n,i,s=new an(0),o=2e5,a){const[u]=this.deriver.config(),f=new O0(r),d=new O0(this.program),{message:g,sender:y,srcEid:b,guid:A,receiver:x,nonce:k}=n,R=new mt(Ip(x)),C=await t.getParsedAccountInfo(R,a),P=new mt(C.value.owner),O=Ts(g),q=await lmt(t,e,R,P,{srcEid:b,sender:Array.from(Ts(y)),guid:Array.from(Ts(A)),message:O,callerParams:i,nonce:parseInt(n.nonce)},a);return vz({executor:e,config:u,endpointProgram:r,endpointEventAuthority:f.eventAuthority()[0],program:this.program,eventAuthority:d.eventAuthority()[0],anchorRemainingAccounts:[{pubkey:P,isWritable:!1,isSigner:!1},...q]},{params:{receiver:R,lzReceive:{srcEid:b,sender:Array.from(Ts(y)),nonce:parseInt(k),guid:Array.from(Ts(A)),message:O,extraData:i},value:s,computeUnits:o}},this.program)}async compose(t,e,r,n,i,s=new an(0),o=4e5,a){const[u]=this.deriver.config(),f=new O0(r),d=new O0(this.program),{to:g,from:y,guid:b,index:A,message:x}=n,k=await t.getParsedAccountInfo(g,a),R=new mt(k.value.owner),C=await fmt(t,e,g,R,{from:y,to:g,guid:b,index:A,message:x,extraData:i},a);return fz({executor:e,config:u,endpointProgram:r,endpointEventAuthority:f.eventAuthority()[0],program:this.program,eventAuthority:d.eventAuthority()[0],anchorRemainingAccounts:[{pubkey:R,isWritable:!1,isSigner:!1},...C]},{params:{lzCompose:{to:g,from:y,guid:b,index:A,message:x,extraData:i},computeUnits:o,value:s}},this.program)}},yve={};_n(yve,{Confirmations:()=>N2,ReceiveConfig:()=>lh,SendConfig:()=>Xp,UlnSettings:()=>B2,accountProviders:()=>bve,confirmationsBeet:()=>gb,confirmationsDiscriminator:()=>kI,receiveConfigBeet:()=>mb,receiveConfigDiscriminator:()=>TI,sendConfigBeet:()=>yb,sendConfigDiscriminator:()=>II,ulnSettingsBeet:()=>bb,ulnSettingsDiscriminator:()=>RI});var kI=[206,57,50,8,124,133,138,112],N2=class U1{constructor(e,r){this.value=e,this.bump=r}static fromArgs(e){return new U1(e.value,e.bump)}static fromAccountInfo(e,r=0){return U1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find Confirmations account at ${r}`);return U1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return We.GpaBuilder.fromStruct(e,gb)}static deserialize(e,r=0){return gb.deserialize(e,r)}serialize(){return gb.serialize({accountDiscriminator:kI,...this})}static byteSize(e){const r=U1.fromArgs(e);return gb.toFixedFromValue({accountDiscriminator:kI,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(U1.byteSize(e),n)}pretty(){return{value:this.value,bump:this.bump}}},gb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["value",L.coption(L.u64)],["bump",L.u8]],N2.fromArgs,"Confirmations"),TI=[162,159,153,188,56,65,245,58],lh=class z1{constructor(e,r){this.bump=e,this.uln=r}static fromArgs(e){return new z1(e.bump,e.uln)}static fromAccountInfo(e,r=0){return z1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find ReceiveConfig account at ${r}`);return z1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return We.GpaBuilder.fromStruct(e,mb)}static deserialize(e,r=0){return mb.deserialize(e,r)}serialize(){return mb.serialize({accountDiscriminator:TI,...this})}static byteSize(e){const r=z1.fromArgs(e);return mb.toFixedFromValue({accountDiscriminator:TI,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(z1.byteSize(e),n)}pretty(){return{bump:this.bump,uln:this.uln}}},mb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["uln",Lu]],lh.fromArgs,"ReceiveConfig"),II=[91,221,135,137,131,199,174,25],Xp=class W1{constructor(e,r,n){this.bump=e,this.uln=r,this.executor=n}static fromArgs(e){return new W1(e.bump,e.uln,e.executor)}static fromAccountInfo(e,r=0){return W1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find SendConfig account at ${r}`);return W1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return We.GpaBuilder.fromStruct(e,yb)}static deserialize(e,r=0){return yb.deserialize(e,r)}serialize(){return yb.serialize({accountDiscriminator:II,...this})}static byteSize(e){const r=W1.fromArgs(e);return yb.toFixedFromValue({accountDiscriminator:II,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(W1.byteSize(e),n)}pretty(){return{bump:this.bump,uln:this.uln,executor:this.executor}}},yb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["bump",L.u8],["uln",Lu],["executor",Lg]],Xp.fromArgs,"SendConfig"),RI=[226,199,100,253,38,115,167,154],B2=class K1{constructor(e,r,n,i,s,o){this.eid=e,this.endpoint=r,this.endpointProgram=n,this.bump=i,this.admin=s,this.treasury=o}static fromArgs(e){return new K1(e.eid,e.endpoint,e.endpointProgram,e.bump,e.admin,e.treasury)}static fromAccountInfo(e,r=0){return K1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find UlnSettings account at ${r}`);return K1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH")){return We.GpaBuilder.fromStruct(e,bb)}static deserialize(e,r=0){return bb.deserialize(e,r)}serialize(){return bb.serialize({accountDiscriminator:RI,...this})}static byteSize(e){const r=K1.fromArgs(e);return bb.toFixedFromValue({accountDiscriminator:RI,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(K1.byteSize(e),n)}pretty(){return{eid:this.eid,endpoint:this.endpoint.toBase58(),endpointProgram:this.endpointProgram.toBase58(),bump:this.bump,admin:this.admin.toBase58(),treasury:this.treasury}}},bb=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["eid",L.u32],["endpoint",We.publicKey],["endpointProgram",We.publicKey],["bump",L.u8],["admin",We.publicKey],["treasury",L.coption(P2)]],B2.fromArgs,"UlnSettings"),bve={Confirmations:N2,ReceiveConfig:lh,SendConfig:Xp,UlnSettings:B2},vve={};_n(vve,{AtLeastOneDVNError:()=>fM,ExceededMaxMessageSizeError:()=>wM,ExceededU128Error:()=>NM,InsufficientFeeError:()=>kM,InvalidAccountLengthError:()=>_M,InvalidAmountError:()=>iM,InvalidBpsError:()=>vM,InvalidConfigTypeError:()=>RM,InvalidConfirmationError:()=>MM,InvalidConfirmationsError:()=>lM,InvalidDvnError:()=>xM,InvalidDvnProgramError:()=>AM,InvalidEidError:()=>gM,InvalidExecutorError:()=>sM,InvalidExecutorProgramError:()=>SM,InvalidLzTokenMintError:()=>IM,InvalidOptionTypeError:()=>bM,InvalidOptionalDVNCountError:()=>uM,InvalidOptionalDVNThresholdError:()=>cM,InvalidPacketVersionError:()=>pM,InvalidPayerError:()=>OM,InvalidRequiredDVNCountError:()=>aM,InvalidTreasuryError:()=>TM,InvalidTreasuryFeeCapError:()=>hM,InvalidType1SizeError:()=>CM,InvalidType2SizeError:()=>PM,InvalidWorkerIdError:()=>yM,LzTokenUnavailableError:()=>EM,NonSignerError:()=>BM,UnauthorizedError:()=>nM,UnsortedError:()=>dM,VerifyingError:()=>mM,ZeroMessageSizeError:()=>oM,errorFromCode:()=>Jve,errorFromName:()=>ewe});var An=new Map,xn=new Map,nM=class wve extends Error{constructor(){super(""),this.code=6e3,this.name="Unauthorized",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,wve)}};An.set(6e3,()=>new nM);xn.set("Unauthorized",()=>new nM);var iM=class Sve extends Error{constructor(){super(""),this.code=6001,this.name="InvalidAmount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Sve)}};An.set(6001,()=>new iM);xn.set("InvalidAmount",()=>new iM);var sM=class _ve extends Error{constructor(){super(""),this.code=6002,this.name="InvalidExecutor",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,_ve)}};An.set(6002,()=>new sM);xn.set("InvalidExecutor",()=>new sM);var oM=class Ave extends Error{constructor(){super(""),this.code=6003,this.name="ZeroMessageSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ave)}};An.set(6003,()=>new oM);xn.set("ZeroMessageSize",()=>new oM);var aM=class xve extends Error{constructor(){super(""),this.code=6004,this.name="InvalidRequiredDVNCount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xve)}};An.set(6004,()=>new aM);xn.set("InvalidRequiredDVNCount",()=>new aM);var uM=class Eve extends Error{constructor(){super(""),this.code=6005,this.name="InvalidOptionalDVNCount",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Eve)}};An.set(6005,()=>new uM);xn.set("InvalidOptionalDVNCount",()=>new uM);var cM=class kve extends Error{constructor(){super(""),this.code=6006,this.name="InvalidOptionalDVNThreshold",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,kve)}};An.set(6006,()=>new cM);xn.set("InvalidOptionalDVNThreshold",()=>new cM);var lM=class Tve extends Error{constructor(){super(""),this.code=6007,this.name="InvalidConfirmations",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Tve)}};An.set(6007,()=>new lM);xn.set("InvalidConfirmations",()=>new lM);var fM=class Ive extends Error{constructor(){super(""),this.code=6008,this.name="AtLeastOneDVN",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ive)}};An.set(6008,()=>new fM);xn.set("AtLeastOneDVN",()=>new fM);var dM=class Rve extends Error{constructor(){super(""),this.code=6009,this.name="Unsorted",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Rve)}};An.set(6009,()=>new dM);xn.set("Unsorted",()=>new dM);var hM=class Mve extends Error{constructor(){super(""),this.code=6010,this.name="InvalidTreasuryFeeCap",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Mve)}};An.set(6010,()=>new hM);xn.set("InvalidTreasuryFeeCap",()=>new hM);var pM=class Cve extends Error{constructor(){super(""),this.code=6011,this.name="InvalidPacketVersion",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Cve)}};An.set(6011,()=>new pM);xn.set("InvalidPacketVersion",()=>new pM);var gM=class Pve extends Error{constructor(){super(""),this.code=6012,this.name="InvalidEid",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Pve)}};An.set(6012,()=>new gM);xn.set("InvalidEid",()=>new gM);var mM=class Nve extends Error{constructor(){super(""),this.code=6013,this.name="Verifying",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Nve)}};An.set(6013,()=>new mM);xn.set("Verifying",()=>new mM);var yM=class Bve extends Error{constructor(){super(""),this.code=6014,this.name="InvalidWorkerId",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Bve)}};An.set(6014,()=>new yM);xn.set("InvalidWorkerId",()=>new yM);var bM=class Ove extends Error{constructor(){super(""),this.code=6015,this.name="InvalidOptionType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ove)}};An.set(6015,()=>new bM);xn.set("InvalidOptionType",()=>new bM);var vM=class Lve extends Error{constructor(){super(""),this.code=6016,this.name="InvalidBps",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Lve)}};An.set(6016,()=>new vM);xn.set("InvalidBps",()=>new vM);var wM=class Dve extends Error{constructor(){super(""),this.code=6017,this.name="ExceededMaxMessageSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Dve)}};An.set(6017,()=>new wM);xn.set("ExceededMaxMessageSize",()=>new wM);var SM=class Fve extends Error{constructor(){super(""),this.code=6018,this.name="InvalidExecutorProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Fve)}};An.set(6018,()=>new SM);xn.set("InvalidExecutorProgram",()=>new SM);var _M=class $ve extends Error{constructor(){super(""),this.code=6019,this.name="InvalidAccountLength",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$ve)}};An.set(6019,()=>new _M);xn.set("InvalidAccountLength",()=>new _M);var AM=class Uve extends Error{constructor(){super(""),this.code=6020,this.name="InvalidDvnProgram",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Uve)}};An.set(6020,()=>new AM);xn.set("InvalidDvnProgram",()=>new AM);var xM=class zve extends Error{constructor(){super(""),this.code=6021,this.name="InvalidDvn",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,zve)}};An.set(6021,()=>new xM);xn.set("InvalidDvn",()=>new xM);var EM=class Wve extends Error{constructor(){super(""),this.code=6022,this.name="LzTokenUnavailable",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Wve)}};An.set(6022,()=>new EM);xn.set("LzTokenUnavailable",()=>new EM);var kM=class Kve extends Error{constructor(){super(""),this.code=6023,this.name="InsufficientFee",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Kve)}};An.set(6023,()=>new kM);xn.set("InsufficientFee",()=>new kM);var TM=class jve extends Error{constructor(){super(""),this.code=6024,this.name="InvalidTreasury",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,jve)}};An.set(6024,()=>new TM);xn.set("InvalidTreasury",()=>new TM);var IM=class Hve extends Error{constructor(){super(""),this.code=6025,this.name="InvalidLzTokenMint",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Hve)}};An.set(6025,()=>new IM);xn.set("InvalidLzTokenMint",()=>new IM);var RM=class qve extends Error{constructor(){super(""),this.code=6026,this.name="InvalidConfigType",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,qve)}};An.set(6026,()=>new RM);xn.set("InvalidConfigType",()=>new RM);var MM=class Vve extends Error{constructor(){super(""),this.code=6027,this.name="InvalidConfirmation",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Vve)}};An.set(6027,()=>new MM);xn.set("InvalidConfirmation",()=>new MM);var CM=class Gve extends Error{constructor(){super(""),this.code=6028,this.name="InvalidType1Size",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Gve)}};An.set(6028,()=>new CM);xn.set("InvalidType1Size",()=>new CM);var PM=class Yve extends Error{constructor(){super(""),this.code=6029,this.name="InvalidType2Size",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Yve)}};An.set(6029,()=>new PM);xn.set("InvalidType2Size",()=>new PM);var NM=class Zve extends Error{constructor(){super(""),this.code=6030,this.name="ExceededU128",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Zve)}};An.set(6030,()=>new NM);xn.set("ExceededU128",()=>new NM);var BM=class Xve extends Error{constructor(){super(""),this.code=6031,this.name="NonSigner",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Xve)}};An.set(6031,()=>new BM);xn.set("NonSigner",()=>new BM);var OM=class Qve extends Error{constructor(){super(""),this.code=6032,this.name="InvalidPayer",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Qve)}};An.set(6032,()=>new OM);xn.set("InvalidPayer",()=>new OM);function Jve(t){const e=An.get(t);return e!=null?e():null}function ewe(t){const e=xn.get(t);return e!=null?e():null}var twe={};_n(twe,{closeVerifyInstructionDiscriminator:()=>sW,closeVerifyStruct:()=>iW,commitVerificationInstructionDiscriminator:()=>cW,commitVerificationStruct:()=>uW,createCloseVerifyInstruction:()=>oW,createCloseVerifyInstructionAccounts:()=>rwe,createCommitVerificationInstruction:()=>lW,createCommitVerificationInstructionAccounts:()=>nwe,createInitConfigInstruction:()=>iwe,createInitConfigInstructionAccounts:()=>pW,createInitDefaultConfigInstruction:()=>bW,createInitDefaultConfigInstructionAccounts:()=>swe,createInitUlnInstruction:()=>_W,createInitUlnInstructionAccounts:()=>owe,createInitVerifyInstruction:()=>kW,createInitVerifyInstructionAccounts:()=>awe,createQuoteInstruction:()=>uwe,createQuoteInstructionAccounts:()=>MW,createSendInstruction:()=>cwe,createSendInstructionAccounts:()=>BW,createSendWithLzTokenInstruction:()=>lwe,createSendWithLzTokenInstructionAccounts:()=>fwe,createSetConfigInstruction:()=>dwe,createSetConfigInstructionAccounts:()=>zW,createSetDefaultConfigInstruction:()=>HW,createSetDefaultConfigInstructionAccounts:()=>hwe,createSetTreasuryInstruction:()=>YW,createSetTreasuryInstructionAccounts:()=>pwe,createTransferAdminInstruction:()=>JW,createTransferAdminInstructionAccounts:()=>gwe,createVerifyInstruction:()=>nK,createVerifyInstructionAccounts:()=>mwe,createVersionInstruction:()=>ywe,createVersionInstructionAccounts:()=>bwe,createWithdrawRentInstruction:()=>vwe,createWithdrawRentInstructionAccounts:()=>wwe,initConfigInstructionDiscriminator:()=>hW,initConfigStruct:()=>dW,initDefaultConfigInstructionDiscriminator:()=>yW,initDefaultConfigStruct:()=>mW,initUlnInstructionDiscriminator:()=>SW,initUlnStruct:()=>wW,initVerifyInstructionDiscriminator:()=>EW,initVerifyStruct:()=>xW,quoteInstructionDiscriminator:()=>RW,quoteStruct:()=>IW,sendInstructionDiscriminator:()=>NW,sendStruct:()=>PW,sendWithLzTokenInstructionDiscriminator:()=>DW,sendWithLzTokenStruct:()=>LW,setConfigInstructionDiscriminator:()=>UW,setConfigStruct:()=>$W,setDefaultConfigInstructionDiscriminator:()=>jW,setDefaultConfigStruct:()=>KW,setTreasuryInstructionDiscriminator:()=>GW,setTreasuryStruct:()=>VW,transferAdminInstructionDiscriminator:()=>QW,transferAdminStruct:()=>XW,verifyInstructionDiscriminator:()=>rK,verifyStruct:()=>tK,versionInstructionDiscriminator:()=>sK,versionStruct:()=>iK,withdrawRentInstructionDiscriminator:()=>uK,withdrawRentStruct:()=>aK});var nW=new L.BeetArgsStruct([["packetHeaderHash",L.uniformFixedSizeArray(L.u8,32)],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"CloseVerifyParams"),iW=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",nW]],"CloseVerifyInstructionArgs"),sW=[44,133,228,138,169,242,53,36];function oW(t,e,r){const[n]=iW.serialize({instructionDiscriminator:sW,...e}),i=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.confirmations,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function rwe(t,e){const r=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.confirmations,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var aW=new L.BeetArgsStruct([["packetHeader",L.uniformFixedSizeArray(L.u8,81)],["payloadHash",L.uniformFixedSizeArray(L.u8,32)]],"CommitVerificationParams"),uW=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",aW]],"CommitVerificationInstructionArgs"),cW=[194,120,44,252,140,215,139,103];function lW(t,e,r){const[n]=uW.serialize({instructionDiscriminator:cW,...e}),i=[{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.uln,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function nwe(t,e){const r=[{pubkey:t.receiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.uln,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var fW=new L.BeetArgsStruct([["oapp",We.publicKey],["eid",L.u32]],"InitConfigParams"),dW=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",fW]],"InitConfigInstructionArgs"),hW=[23,235,115,232,168,96,1,231];function iwe(t,e,r){const[n]=dW.serialize({instructionDiscriminator:hW,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function pW(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var gW=new L.FixableBeetArgsStruct([["eid",L.u32],["sendUlnConfig",Lu],["receiveUlnConfig",Lu],["executorConfig",Lg]],"InitDefaultConfigParams"),mW=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",gW]],"InitDefaultConfigInstructionArgs"),yW=[98,218,197,194,173,179,112,21];function bW(t,e,r){const[n]=mW.serialize({instructionDiscriminator:yW,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function swe(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var vW=new L.BeetArgsStruct([["eid",L.u32],["endpoint",We.publicKey],["endpointProgram",We.publicKey],["admin",We.publicKey]],"InitUlnParams"),wW=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",vW]],"InitUlnInstructionArgs"),SW=[19,215,207,92,197,112,119,240];function _W(t,e,r){const[n]=wW.serialize({instructionDiscriminator:SW,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function owe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var AW=new L.BeetArgsStruct([["packetHeader",L.uniformFixedSizeArray(L.u8,81)],["payloadHash",L.uniformFixedSizeArray(L.u8,32)],["dvn",We.publicKey]],"InitVerifyParams"),xW=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",AW]],"InitVerifyInstructionArgs"),EW=[76,246,244,124,115,17,235,91];function kW(t,e,r){const[n]=xW.serialize({instructionDiscriminator:EW,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function awe(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var O2=new L.FixableBeetArgsStruct([["nonce",L.u64],["srcEid",L.u32],["sender",We.publicKey],["dstEid",L.u32],["receiver",L.uniformFixedSizeArray(L.u8,32)],["guid",L.uniformFixedSizeArray(L.u8,32)],["message",L.bytes]],"Packet"),TW=new L.FixableBeetArgsStruct([["packet",O2],["options",L.bytes],["payInLzToken",L.bool]],"QuoteParams"),IW=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",TW]],"QuoteInstructionArgs"),RW=[149,42,109,247,134,146,213,123];function uwe(t,e,r){const[n]=IW.serialize({instructionDiscriminator:RW,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function MW(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var CW=new L.FixableBeetArgsStruct([["packet",O2],["options",L.bytes],["nativeFee",L.u64]],"SendParams"),PW=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",CW]],"SendInstructionArgs"),NW=[102,251,20,187,65,75,12,69];function cwe(t,e,r){const[n]=PW.serialize({instructionDiscriminator:NW,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.treasury??r,isWritable:t.treasury!=null,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function BW(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.treasury??e,isWritable:t.treasury!=null,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var OW=new L.FixableBeetArgsStruct([["packet",O2],["options",L.bytes],["nativeFee",L.u64],["lzTokenFee",L.u64],["lzTokenMint",We.publicKey]],"SendWithLzTokenParams"),LW=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",OW]],"SendWithLzTokenInstructionArgs"),DW=[165,161,84,48,129,26,193,19];function lwe(t,e,r){const[n]=LW.serialize({instructionDiscriminator:DW,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenTreasury,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??vR,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function fwe(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1},{pubkey:t.lzTokenSource,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenTreasury,isWritable:!0,isSigner:!1},{pubkey:t.lzTokenMint,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??vR,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var FW=new L.FixableBeetArgsStruct([["oapp",We.publicKey],["eid",L.u32],["configType",L.u32],["config",L.bytes]],"SetConfigParams"),$W=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",FW]],"SetConfigInstructionArgs"),UW=[108,158,154,175,212,98,52,66];function dwe(t,e,r){const[n]=$W.serialize({instructionDiscriminator:UW,...e}),i=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function zW(t,e){const r=[{pubkey:t.endpoint,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.defaultSendConfig,isWritable:!1,isSigner:!1},{pubkey:t.defaultReceiveConfig,isWritable:!1,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var WW=new L.FixableBeetArgsStruct([["eid",L.u32],["sendUlnConfig",L.coption(Lu)],["receiveUlnConfig",L.coption(Lu)],["executorConfig",L.coption(Lg)]],"SetDefaultConfigParams"),KW=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",WW]],"SetDefaultConfigInstructionArgs"),jW=[111,228,17,75,5,76,213,169];function HW(t,e,r){const[n]=KW.serialize({instructionDiscriminator:jW,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function hwe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!1,isSigner:!1},{pubkey:t.sendConfig,isWritable:!0,isSigner:!1},{pubkey:t.receiveConfig,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var qW=new L.FixableBeetArgsStruct([["treasury",L.coption(P2)]],"SetTreasuryParams"),VW=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",qW]],"SetTreasuryInstructionArgs"),GW=[57,97,196,95,195,206,106,136];function YW(t,e,r){const[n]=VW.serialize({instructionDiscriminator:GW,...e}),i=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function pwe(t,e){const r=[{pubkey:t.signer,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var ZW=new L.BeetArgsStruct([["admin",We.publicKey]],"TransferAdminParams"),XW=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",ZW]],"TransferAdminInstructionArgs"),QW=[42,242,66,106,228,10,111,156];function JW(t,e,r){const[n]=XW.serialize({instructionDiscriminator:QW,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function gwe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var eK=new L.BeetArgsStruct([["packetHeader",L.uniformFixedSizeArray(L.u8,81)],["payloadHash",L.uniformFixedSizeArray(L.u8,32)],["confirmations",L.u64]],"VerifyParams"),tK=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",eK]],"VerifyInstructionArgs"),rK=[133,161,141,48,120,198,88,150];function nK(t,e,r){const[n]=tK.serialize({instructionDiscriminator:rK,...e}),i=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function mwe(t,e){const r=[{pubkey:t.dvn,isWritable:!1,isSigner:!0},{pubkey:t.confirmations,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var iK=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)]],"VersionInstructionArgs"),sK=[118,65,195,198,129,216,252,192];function ywe(t){const[e]=iK.serialize({instructionDiscriminator:sK}),r=[];return new _t({programId:t,keys:r,data:e})}function bwe(t){return[]}var oK=new L.BeetArgsStruct([["amount",L.u64]],"WithdrawRentParams"),aK=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",oK]],"WithdrawRentInstructionArgs"),uK=[226,7,41,158,173,111,192,107];function vwe(t,e,r){const[n]=aK.serialize({instructionDiscriminator:uK,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function wwe(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.uln,isWritable:!0,isSigner:!1},{pubkey:t.receiver,isWritable:!0,isSigner:!1},{pubkey:t.eventAuthority,isWritable:!1,isSigner:!1},{pubkey:t.program,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Swe={};_n(Swe,{closeVerifyParamsBeet:()=>nW,commitVerificationParamsBeet:()=>aW,configBeet:()=>Oz,executorConfigBeet:()=>Lg,initConfigParamsBeet:()=>fW,initDefaultConfigParamsBeet:()=>gW,initUlnParamsBeet:()=>vW,initVerifyParamsBeet:()=>AW,isConfigExecutor:()=>Gbe,isConfigReceiveUln:()=>Vbe,isConfigSendUln:()=>qbe,lzTokenTreasuryBeet:()=>Dz,messagingFeeBeet:()=>_we,packetBeet:()=>O2,quoteParamsBeet:()=>TW,sendParamsBeet:()=>CW,sendWithLzTokenParamsBeet:()=>OW,setConfigParamsBeet:()=>FW,setDefaultConfigParamsBeet:()=>WW,setTreasuryParamsBeet:()=>qW,transferAdminParamsBeet:()=>ZW,treasuryBeet:()=>P2,treasuryFeeBeet:()=>Lz,ulnConfigBeet:()=>Lu,verifyParamsBeet:()=>eK,versionBeet:()=>Awe,withdrawRentParamsBeet:()=>oK,workerFeeBeet:()=>EI});var _we=new L.BeetArgsStruct([["nativeFee",L.u64],["lzTokenFee",L.u64]],"MessagingFee"),Awe=new L.BeetArgsStruct([["major",L.u64],["minor",L.u8],["endpointVersion",L.u8]],"Version"),xwe="7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH",gmt=new mt(xwe),mmt=class{constructor(t){this.program=t,this.deriver=new Wpt(t);const[e]=new O0(t).eventAuthority();this.eventAuthorityPDA=e}initUln(t,e,r,n){const[i]=this.deriver.setting(),[s]=this.deriver.messageLib(),[o]=new wI(t).messageLibraryInfo(s);return _W({payer:e,uln:i},{params:{eid:n,admin:r,endpoint:o,endpointProgram:t}},this.program)}async initOrUpdateDefaultConfig(t,e,r,n,i,s,o){const[a]=this.deriver.setting(),[u]=this.deriver.defaultSendConfig(r),[f]=this.deriver.defaultReceiveConfig(r);return await t.getAccountInfo(u,o)?HW({admin:e,uln:a,sendConfig:u,receiveConfig:f,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{eid:r,sendUlnConfig:n,receiveUlnConfig:i,executorConfig:s}},this.program):bW({admin:e,uln:a,sendConfig:u,receiveConfig:f,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{eid:r,sendUlnConfig:n,receiveUlnConfig:i,executorConfig:s}},this.program)}async setTreasury(t,e){const[r]=this.deriver.setting(),n=YW({signer:t,uln:r,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{treasury:e}},this.program);return Promise.resolve(n)}async transferAdmin(t,e,r,n){const[i]=this.deriver.setting();if(!await t.getAccountInfo(i,n))throw new Error("uln not initialized");return JW({admin:e,uln:i,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{admin:r}},this.program)}async getQuoteIXAccountMetaForCPI(t,e,r,n){const{sender:i,dstEid:s}=r,o=new mt(Ts(i)),[a]=this.deriver.defaultSendConfig(s),[u]=this.deriver.sendConfig(s,o),[f]=this.deriver.setting(),d=await this.getSendIxRemainingAccounts(t,o,s,!1,n);return MW({endpoint:mt.default,uln:f,sendConfig:u,defaultSendConfig:a,anchorRemainingAccounts:d},this.program).slice(1)}async getSendIXAccountMetaForCPI(t,e,r,n="confirmed"){var A;const{sender:i,dstEid:s}=r,o=new mt(Ts(i)),[a]=this.deriver.sendConfig(s,o),[u]=this.deriver.defaultSendConfig(s),[f]=this.deriver.setting(),d=await this.getSetting(t,n),g=(A=d==null?void 0:d.treasury)==null?void 0:A.nativeReceiver,y=await this.getSendIxRemainingAccounts(t,o,s,!0,n),b=BW({endpoint:mt.default,uln:f,sendConfig:a,defaultSendConfig:u,payer:e,treasury:g,eventAuthority:this.eventAuthorityPDA,program:this.program,anchorRemainingAccounts:y},this.program);if(b.forEach(x=>{e.equals(x.pubkey)||(x.isSigner=!1)}),g){const x=b.findIndex(k=>k.pubkey.toBase58()==g.toBase58());b[x].isWritable=!0}return b.slice(1)}async getSendIxRemainingAccounts(t,e,r,n,i="confirmed"){const{executor:s,dvns:o}=await this.getWorkers(t,e,r,i),a=new Array;[s.config,...o.map(y=>y.config)].forEach(y=>{a.find(b=>b.equals(y.priceFeed))||a.push(y.priceFeed)});const f=(await t.getMultipleAccountsInfo(a,i)).reduce((y,b,A)=>(C_(b,`priceFeed:${a[A].toBase58()} not initialized`),y.set(a[A].toBase58(),b.owner),y),new Map),d=new mve(s.owner).getQuoteIXAccountMetaForCPI(s.config.priceFeed,f.get(s.config.priceFeed.toBase58()),n),g=o.map((y,b)=>new bbe(y.owner).getQuoteIXAccountMetaForCPI(y.config.priceFeed,f.get(y.config.priceFeed.toBase58()),n));return d.concat(g.flat())}async getWorkers(t,e,r,n="confirmed"){const[i]=this.deriver.defaultSendConfig(r),[s]=this.deriver.sendConfig(r,e),[o,a]=await t.getMultipleAccountsInfo([i,s],n);C_(o);const[u]=Xp.fromAccountInfo(o);let{executor:f,uln:{requiredDvns:d,optionalDvns:g}}=u;const y=a?Xp.fromAccountInfo(a)[0]:null;y!=null&&y.executor&&!y.executor.executor.equals(mt.default)&&({executor:f}=y),y&&y.uln.requiredDvns.length>0&&(d=y.uln.requiredDvns.filter(k=>!k.equals(mt.default))),y&&y.uln.optionalDvns.length>0&&(g=y.uln.optionalDvns.filter(k=>!k.equals(mt.default)));const b=d.concat(g),[A,...x]=await t.getMultipleAccountsInfo([f.executor,...b],n);return C_(A,`executor:${f.executor.toBase58()} not initialized`),{executor:{config:tz.ExecutorConfig.fromAccountInfo(A)[0],owner:A.owner},dvns:x.map((k,R)=>(C_(k,`dvn:${b[R].toBase58()} not initialized`),{config:xU.DvnConfig.fromAccountInfo(k)[0],owner:k.owner}))}}async initVerify(t,e,r,n,i){const s=_1.fromBytes(n),o=s.headerHash(),a=Uint8Array.from(Ie.Buffer.from(o.slice(2),"hex")),u=s.payloadHash(),f=Uint8Array.from(Ie.Buffer.from(u.slice(2),"hex")),[d]=this.deriver.confirmations(a,f,r);return await t.getAccountInfo(d,i)?null:kW({payer:e,confirmations:d},{params:{packetHeader:Array.from(Uint8Array.from(Ie.Buffer.from(s.header().slice(2),"hex"))),payloadHash:Array.from(f),dvn:r}},this.program)}verify(t,e,r){const n=_1.fromBytes(e),i=n.headerHash(),s=Uint8Array.from(Ie.Buffer.from(i.slice(2),"hex")),o=n.payloadHash(),a=Uint8Array.from(Ie.Buffer.from(o.slice(2),"hex")),[u]=this.deriver.confirmations(s,a,t);return nK({dvn:t,confirmations:u,eventAuthority:this.eventAuthorityPDA,program:this.program},{params:{packetHeader:Array.from(Uint8Array.from(Ie.Buffer.from(n.header().slice(2),"hex"))),payloadHash:Array.from(a),confirmations:typeof r=="string"?new an(r):r}},this.program)}closeVerify(t,e,r){const n=_1.fromBytes(r),i=n.headerHash(),s=Uint8Array.from(Ie.Buffer.from(i.slice(2),"hex")),o=n.payloadHash(),a=Uint8Array.from(Ie.Buffer.from(o.slice(2),"hex")),[u]=this.deriver.confirmations(s,a,t);return oW({dvn:t,receiver:e,confirmations:u},{params:{packetHeaderHash:Array.from(s),payloadHash:Array.from(a)}},this.program)}async isDvnVerified(t,e,r,n,i="confirmed"){const s=_1.fromBytes(n),o=s.headerHash(),a=Uint8Array.from(Ie.Buffer.from(o.slice(2),"hex")),u=s.payloadHash(),f=Uint8Array.from(Ie.Buffer.from(u.slice(2),"hex")),[d]=this.deriver.confirmations(a,f,r),g=new SI.Endpoint(e),y=new mt(Ts(s.receiver())),b=Ts(s.sender()),A=await g.getNonce(t,y,s.srcEid(),b,i),x=await g.getPendingInboundNonce(t,y,s.srcEid(),b,i);if(!A||!x)return!1;if(parseInt(A.inboundNonce.toString())>=parseInt(s.nonce())||x.nonces.find(k=>k.toString()===s.nonce())!==void 0)return!0;try{return(await N2.fromAccountAddress(t,d,i)).value!==null}catch{return!1}}async commitVerification(t,e,r){const n=_1.fromBytes(r),i=n.payloadHash(),s=n.srcEid(),o=new mt(Ts(n.receiver())),a=Uint8Array.from(Ie.Buffer.from(i.slice(2),"hex")),[u]=this.deriver.defaultReceiveConfig(s),[f]=this.deriver.receiveConfig(s,o),[d]=this.deriver.setting(),[g]=this.deriver.messageLib(),y=await this.getFinalReceiveConfigState(t,o,s),b=n.headerHash(),A=Uint8Array.from(Ie.Buffer.from(b.slice(2),"hex")),x=y.uln.requiredDvns.concat(y.uln.optionalDvns).map(C=>{const[P]=this.deriver.confirmations(A,a,C);return{pubkey:P,isSigner:!1,isWritable:!0}}),R=new SI.Endpoint(e).getVerifyIXAccountMetaForCPI(n,g);return lW({uln:d,defaultReceiveConfig:u,receiveConfig:f,anchorRemainingAccounts:x.concat(R)},{params:{packetHeader:Array.from(Ts(n.header())),payloadHash:Array.from(a)}},this.program)}getInitConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.setting(),o=pW({endpoint:mt.default,payer:t,uln:s,sendConfig:n,receiveConfig:i},this.program);return o.forEach(a=>{t.equals(a.pubkey)||(a.isSigner=!1)}),o.slice(1)}static constructSetConfigData(t,e){switch(t){case 1:{const[r]=Lg.serialize(e);return Uint8Array.from(r)}case 2:case 3:{const[r]=Lu.serialize(e);return Uint8Array.from(r)}default:throw new Error(`invalid config type: ${t}`)}}async getSetConfigIXAccountMetaForCPI(t,e,r){const[n]=this.deriver.sendConfig(r,e),[i]=this.deriver.receiveConfig(r,e),[s]=this.deriver.defaultSendConfig(r),[o]=this.deriver.defaultReceiveConfig(r),[a]=this.deriver.setting(),[u]=this.deriver.messageLib(),[f]=new wI(t).messageLibraryInfo(u),d=zW({endpoint:f,uln:a,sendConfig:n,defaultSendConfig:s,defaultReceiveConfig:o,receiveConfig:i,eventAuthority:this.eventAuthorityPDA,program:this.program},this.program);return Promise.resolve(d.slice(1))}async getSetting(t,e){const[r]=this.deriver.setting();try{return await B2.fromAccountAddress(t,r,e)}catch{return null}}async getDefaultSendConfigState(t,e,r){const[n]=this.deriver.defaultSendConfig(e);try{return await Xp.fromAccountAddress(t,n,r)}catch{return null}}async getSendConfigState(t,e,r,n){const[i]=this.deriver.sendConfig(r,e);try{return await Xp.fromAccountAddress(t,i,n)}catch{return null}}async getDefaultReceiveConfigState(t,e,r){const[n]=this.deriver.defaultReceiveConfig(e);try{return await lh.fromAccountAddress(t,n,r)}catch{return null}}async getReceiveConfigState(t,e,r,n){const[i]=this.deriver.receiveConfig(r,e);try{return await lh.fromAccountAddress(t,i,n)}catch{return null}}async getFinalReceiveConfigState(t,e,r,n="confirmed"){const i="18446744073709551615",s="255",o={confirmations:0,requiredDvnCount:0,optionalDvnCount:0,optionalDvnThreshold:0,requiredDvns:[],optionalDvns:[]},[a]=this.deriver.defaultReceiveConfig(r),[u]=this.deriver.receiveConfig(r,e),[f,d]=await t.getMultipleAccountsInfo([a,u],n);if(f==null)throw new Error(`please init default receive config first. ${a.toBase58()}`);const g=lh.fromAccountInfo(f)[0],y=d?lh.fromAccountInfo(d)[0]:null;if(y==null||y.uln.confirmations==0?o.confirmations=g.uln.confirmations:y.uln.confirmations.toString()!==i&&(o.confirmations=y.uln.confirmations),y==null||y.uln.requiredDvnCount==0?g.uln.requiredDvnCount>0&&(o.requiredDvns=g.uln.requiredDvns,o.requiredDvnCount=g.uln.requiredDvnCount):y.uln.requiredDvnCount.toString()!==s&&(o.requiredDvns=y.uln.requiredDvns,o.requiredDvnCount=y.uln.requiredDvnCount),y==null||y.uln.optionalDvnCount==0?g.uln.optionalDvnCount>0&&(o.optionalDvns=g.uln.optionalDvns,o.optionalDvnCount=g.uln.optionalDvnCount,o.optionalDvnThreshold=g.uln.optionalDvnThreshold):y.uln.optionalDvnCount.toString()!==s&&(o.optionalDvns=y.uln.optionalDvns,o.optionalDvnCount=y.uln.optionalDvnCount,o.optionalDvnThreshold=y.uln.optionalDvnThreshold),o.requiredDvnCount===0&&o.optionalDvnCount===0)throw new Error("no dvn");return lh.fromArgs({bump:g.bump,uln:o})}},ymt={};_n(ymt,{PROGRAM_ID:()=>Rmt,PriceFeed:()=>Mmt,accounts:()=>Ewe,instructions:()=>Twe,types:()=>Qwe});var Ewe={};_n(Ewe,{PriceFeed:()=>LM,accountProviders:()=>wmt,priceFeedBeet:()=>q_,priceFeedDiscriminator:()=>ID});var bmt=t=>t.__kind==="Arbitrum",vmt=t=>t.__kind==="Optimism",cK=L.dataEnum([["Arbitrum",new L.BeetArgsStruct([["gasPerL2Tx",L.u64],["gasPerL1CalldataByte",L.u32]],'ModelTypeRecord["Arbitrum"]')],["Optimism",new L.BeetArgsStruct([["l1Eid",L.u32]],'ModelTypeRecord["Optimism"]')]]),kwe=new L.FixableBeetArgsStruct([["eid",L.u32],["priceRatio",L.u128],["gasPriceInUnit",L.u64],["gasPerByte",L.u32],["modelType",L.coption(cK)]],"Price"),ID=[189,103,252,23,152,35,243,156],LM=class j1{constructor(e,r,n,i,s,o,a){this.admin=e,this.updaters=r,this.priceRatioDenominator=n,this.arbitrumCompressionPercent=i,this.nativeTokenPriceUsd=s,this.prices=o,this.bump=a}static fromArgs(e){return new j1(e.admin,e.updaters,e.priceRatioDenominator,e.arbitrumCompressionPercent,e.nativeTokenPriceUsd,e.prices,e.bump)}static fromAccountInfo(e,r=0){return j1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(i==null)throw new Error(`Unable to find PriceFeed account at ${r}`);return j1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new mt("8ahPGPjEbpgGaZx2NV1iG5Shj7TDwvsjkEDcGWjt94TP")){return We.GpaBuilder.fromStruct(e,q_)}static deserialize(e,r=0){return q_.deserialize(e,r)}serialize(){return q_.serialize({accountDiscriminator:ID,...this})}static byteSize(e){const r=j1.fromArgs(e);return q_.toFixedFromValue({accountDiscriminator:ID,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(j1.byteSize(e),n)}pretty(){return{admin:this.admin.toBase58(),updaters:this.updaters,priceRatioDenominator:(()=>{const e=this.priceRatioDenominator;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),arbitrumCompressionPercent:(()=>{const e=this.arbitrumCompressionPercent;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),nativeTokenPriceUsd:this.nativeTokenPriceUsd,prices:this.prices,bump:this.bump}}},q_=new L.FixableBeetStruct([["accountDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["admin",We.publicKey],["updaters",L.array(We.publicKey)],["priceRatioDenominator",L.u128],["arbitrumCompressionPercent",L.u128],["nativeTokenPriceUsd",L.coption(L.u128)],["prices",L.array(kwe)],["bump",L.u8]],LM.fromArgs,"PriceFeed"),wmt={PriceFeed:LM},Twe={};_n(Twe,{createGetFeeInstruction:()=>Smt,createGetFeeInstructionAccounts:()=>_mt,createInitPriceFeedInstruction:()=>Bwe,createInitPriceFeedInstructionAccounts:()=>Amt,createSetPriceFeedInstruction:()=>Kwe,createSetPriceFeedInstructionAccounts:()=>Emt,createSetPriceInstruction:()=>$we,createSetPriceInstructionAccounts:()=>xmt,createSetSolPriceInstruction:()=>Vwe,createSetSolPriceInstructionAccounts:()=>kmt,createTransferAdminInstruction:()=>Xwe,createTransferAdminInstructionAccounts:()=>Tmt,getFeeInstructionDiscriminator:()=>Mwe,getFeeStruct:()=>Rwe,initPriceFeedInstructionDiscriminator:()=>Nwe,initPriceFeedStruct:()=>Pwe,setPriceFeedInstructionDiscriminator:()=>Wwe,setPriceFeedStruct:()=>zwe,setPriceInstructionDiscriminator:()=>Fwe,setPriceStruct:()=>Dwe,setSolPriceInstructionDiscriminator:()=>qwe,setSolPriceStruct:()=>Hwe,transferAdminInstructionDiscriminator:()=>Zwe,transferAdminStruct:()=>Ywe});var Iwe=new L.BeetArgsStruct([["dstEid",L.u32],["calldataSize",L.u64],["totalGas",L.u128]],"GetFeeParams"),Rwe=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Iwe]],"GetFeeInstructionArgs"),Mwe=[115,195,235,161,25,219,60,29];function Smt(t,e,r){const[n]=Rwe.serialize({instructionDiscriminator:Mwe,...e}),i=[{pubkey:t.priceFeed,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function _mt(t,e){const r=[{pubkey:t.priceFeed,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Cwe=new L.FixableBeetArgsStruct([["admin",We.publicKey],["updaters",L.array(We.publicKey)]],"InitPriceFeedParams"),Pwe=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Cwe]],"InitPriceFeedInstructionArgs"),Nwe=[27,209,184,5,152,116,136,16];function Bwe(t,e,r){const[n]=Pwe.serialize({instructionDiscriminator:Nwe,...e}),i=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Amt(t,e){const r=[{pubkey:t.payer,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1},{pubkey:t.systemProgram??lr.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Owe=new L.FixableBeetArgsStruct([["priceRatio",L.u128],["gasPriceInUnit",L.u64],["gasPerByte",L.u32],["modelType",L.coption(cK)]],"PriceParams"),Lwe=new L.FixableBeetArgsStruct([["dstEid",L.u32],["params",L.coption(Owe)]],"SetPriceParams"),Dwe=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Lwe]],"SetPriceInstructionArgs"),Fwe=[16,19,182,8,149,83,72,181];function $we(t,e,r){const[n]=Dwe.serialize({instructionDiscriminator:Fwe,...e}),i=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function xmt(t,e){const r=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Uwe=new L.FixableBeetArgsStruct([["updaters",L.array(We.publicKey)],["priceRatioDenominator",L.u128],["arbitrumCompressionPercent",L.u128]],"SetPriceFeedParams"),zwe=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Uwe]],"SetPriceFeedInstructionArgs"),Wwe=[13,15,231,129,61,7,28,122];function Kwe(t,e,r){const[n]=zwe.serialize({instructionDiscriminator:Wwe,...e}),i=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Emt(t,e){const r=[{pubkey:t.admin,isWritable:!0,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var jwe=new L.FixableBeetArgsStruct([["nativeTokenPriceUsd",L.coption(L.u128)]],"SetSolPriceParams"),Hwe=new L.FixableBeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",jwe]],"SetSolPriceInstructionArgs"),qwe=[151,237,70,191,232,81,138,214];function Vwe(t,e,r){const[n]=Hwe.serialize({instructionDiscriminator:qwe,...e}),i=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function kmt(t,e){const r=[{pubkey:t.updater,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Gwe=new L.BeetArgsStruct([["admin",We.publicKey]],"TransferAdminParams"),Ywe=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)],["params",Gwe]],"TransferAdminInstructionArgs"),Zwe=[42,242,66,106,228,10,111,156];function Xwe(t,e,r){const[n]=Ywe.serialize({instructionDiscriminator:Zwe,...e}),i=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const o of t.anchorRemainingAccounts)i.push(o);return new _t({programId:r,keys:i,data:n})}function Tmt(t,e){const r=[{pubkey:t.admin,isWritable:!1,isSigner:!0},{pubkey:t.priceFeed,isWritable:!0,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const n of t.anchorRemainingAccounts)r.push(n);return r}var Qwe={};_n(Qwe,{getFeeParamsBeet:()=>Iwe,initPriceFeedParamsBeet:()=>Cwe,isModelTypeArbitrum:()=>bmt,isModelTypeOptimism:()=>vmt,modelTypeBeet:()=>cK,priceBeet:()=>kwe,priceParamsBeet:()=>Owe,setPriceFeedParamsBeet:()=>Uwe,setPriceParamsBeet:()=>Lwe,setSolPriceParamsBeet:()=>jwe,transferAdminParamsBeet:()=>Gwe});var DM=new Map,FM=new Map,Jwe=class eSe extends Error{constructor(){super(""),this.code=6e3,this.name="TooManyUpdaters",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,eSe)}};DM.set(6e3,()=>new Jwe);FM.set("TooManyUpdaters",()=>new Jwe);var tSe=class rSe extends Error{constructor(){super(""),this.code=6001,this.name="InvalidUpdater",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rSe)}};DM.set(6001,()=>new tSe);FM.set("InvalidUpdater",()=>new tSe);var nSe=class iSe extends Error{constructor(){super(""),this.code=6002,this.name="NotFound",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,iSe)}};DM.set(6002,()=>new nSe);FM.set("NotFound",()=>new nSe);var sSe=class oSe extends Error{constructor(){super(""),this.code=6003,this.name="InvalidSize",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,oSe)}};DM.set(6003,()=>new sSe);FM.set("InvalidSize",()=>new sSe);var Imt="8ahPGPjEbpgGaZx2NV1iG5Shj7TDwvsjkEDcGWjt94TP",Rmt=new mt(Imt),Mmt=class{constructor(t){this.program=t,this.deriver=new V$(this.program)}async initPriceFeed(t,e,r,n,i){const[s]=this.deriver.priceFeed();if(await t.getAccountInfo(s,i))throw new Error("Pricefeed already initialized");return Bwe({payer:e,priceFeed:s},{params:{admin:r,updaters:n}},this.program)}setPriceFeed(t,e,r,n){const[i]=this.deriver.priceFeed();return Kwe({admin:t,priceFeed:i},{params:{updaters:e,priceRatioDenominator:r,arbitrumCompressionPercent:n}},this.program)}setPrice(t,e,r,n,i,s){e=e%3e4;const[a]=this.deriver.priceFeed();return $we({updater:t,priceFeed:a},{params:{dstEid:e,params:{priceRatio:r,gasPriceInUnit:n,gasPerByte:i,modelType:s}}},this.program)}setSolPrice(t,e){const[r]=this.deriver.priceFeed();return Vwe({priceFeed:r,updater:t},{params:{nativeTokenPriceUsd:e}},this.program)}transferAdmin(t,e){const[r]=this.deriver.priceFeed();return Xwe({admin:t,priceFeed:r},{params:{admin:e}},this.program)}async getPriceFeed(t,e){const[r]=this.deriver.priceFeed();try{return await LM.fromAccountAddress(t,r,e)}catch{return null}}};function Cmt(t,e){return e!=null?mt.findProgramAddressSync([Ie.Buffer.from(gte,"utf8"),e.toBytes()],t):mt.findProgramAddressSync([Ie.Buffer.from(gte,"utf8")],t)}function Pmt(t,e){return e!=null?mt.findProgramAddressSync([Ie.Buffer.from(mte,"utf8"),e.toBytes()],t):mt.findProgramAddressSync([Ie.Buffer.from(mte,"utf8")],t)}P_.MAINNET+"",P_.TESTNET+"",P_.DEVNET+"",P_.LOCAL+"";var Nmt={};_n(Nmt,{PROGRAM_ADDRESS:()=>cSe,PROGRAM_ID:()=>Lmt,createVersionInstruction:()=>Bmt,createVersionInstructionAccounts:()=>Omt,versionInstructionDiscriminator:()=>uSe,versionStruct:()=>aSe});var aSe=new L.BeetArgsStruct([["instructionDiscriminator",L.uniformFixedSizeArray(L.u8,8)]],"VersionInstructionArgs"),uSe=[118,65,195,198,129,216,252,192];function Bmt(t){const[e]=aSe.serialize({instructionDiscriminator:uSe}),r=[];return new _t({programId:t,keys:r,data:e})}function Omt(t){return[]}var cSe="2XrYqmhBMPJgDsb4SVbjV1PnJBprurd5bzRCkHwiFCJB",Lmt=new mt(cSe),RD;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(RD||(RD={}));var Dmt=Object.defineProperty,Fmt=Object.defineProperties,$mt=Object.getOwnPropertyDescriptors,Ate=Object.getOwnPropertySymbols,Umt=Object.prototype.hasOwnProperty,zmt=Object.prototype.propertyIsEnumerable,MD=(t,e,r)=>e in t?Dmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cd=(t,e)=>{for(var r in e||(e={}))Umt.call(e,r)&&MD(t,r,e[r]);if(Ate)for(var r of Ate(e))zmt.call(e,r)&&MD(t,r,e[r]);return t},Pd=(t,e)=>Fmt(t,$mt(e)),a_=(t,e,r)=>(MD(t,typeof e!="symbol"?e+"":e,r),r),La=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/default-solana-adapter"]="2.1.0");var lSe={version:"0.1.0",name:"solana_vault",instructions:[{name:"initVault",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"InitVaultParams"}}]},{name:"deposit",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"userTokenAccount",isMut:!0,isSigner:!1},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"vaultTokenAccount",isMut:!0,isSigner:!1},{name:"depositToken",isMut:!1,isSigner:!1},{name:"peer",isMut:!1,isSigner:!1},{name:"enforcedOptions",isMut:!1,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"allowedBroker",isMut:!1,isSigner:!1},{name:"allowedToken",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"depositParams",type:{defined:"DepositParams"}},{name:"oappParams",type:{defined:"OAppSendParams"}}],returns:{defined:"MessagingReceipt"}},{name:"initOapp",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1},{name:"lzReceiveTypes",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"InitOAppParams"}}]},{name:"resetOapp",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1}],args:[]},{name:"reinitOapp",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1},{name:"vaultAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"ReinitOAppParams"}}]},{name:"resetVault",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1}],args:[]},{name:"reinitVault",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"ReinitVaultParams"}}]},{name:"setBroker",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"allowedBroker",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetBrokerParams"}}]},{name:"setToken",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"allowedToken",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"mintAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetTokenParams"}}]},{name:"setOrderDelivery",accounts:[{name:"owner",isMut:!0,isSigner:!0},{name:"vaultAuthority",isMut:!0,isSigner:!1}],args:[{name:"params",type:{defined:"SetOrderDeliveryParams"}}]},{name:"oappQuote",accounts:[{name:"oappConfig",isMut:!1,isSigner:!1},{name:"peer",isMut:!1,isSigner:!1},{name:"enforcedOptions",isMut:!1,isSigner:!1},{name:"vaultAuthority",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"DepositParams"}}],returns:{defined:"MessagingFee"}},{name:"lzReceive",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"peer",isMut:!1,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"user",isMut:!1,isSigner:!1,docs:["CHECK"]},{name:"userDepositWallet",isMut:!0,isSigner:!1},{name:"vaultAuthority",isMut:!0,isSigner:!1},{name:"vaultDepositWallet",isMut:!0,isSigner:!1},{name:"depositToken",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"eventAuthority",isMut:!1,isSigner:!1},{name:"program",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"OAppLzReceiveParams"}}]},{name:"lzReceiveTypes",accounts:[{name:"oappConfig",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"OAppLzReceiveParams"}}],returns:{vec:{defined:"oapp::endpoint_cpi::LzAccount"}}},{name:"setRateLimit",accounts:[{name:"admin",isMut:!1,isSigner:!0},{name:"peer",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetRateLimitParams"}}]},{name:"setDelegate",accounts:[{name:"admin",isMut:!1,isSigner:!0},{name:"oappConfig",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetDelegateParams"}}]},{name:"transferAdmin",accounts:[{name:"admin",isMut:!1,isSigner:!0},{name:"oappConfig",isMut:!0,isSigner:!1}],args:[{name:"params",type:{defined:"TransferAdminParams"}}]},{name:"setPeer",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"peer",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetPeerParams"}}]},{name:"setEnforcedOptions",accounts:[{name:"admin",isMut:!0,isSigner:!0},{name:"enforcedOptions",isMut:!0,isSigner:!1},{name:"oappConfig",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"params",type:{defined:"SetEnforcedOptionsParams"}}]}],accounts:[{name:"enforcedOptions",type:{kind:"struct",fields:[{name:"send",type:"bytes"},{name:"sendAndCall",type:"bytes"},{name:"bump",type:"u8"}]}},{name:"oAppConfig",type:{kind:"struct",fields:[{name:"endpointProgram",type:"publicKey"},{name:"bump",type:"u8"},{name:"admin",type:"publicKey"},{name:"usdcHash",type:{array:["u8",32]}},{name:"usdcMint",type:"publicKey"}]}},{name:"oAppLzReceiveTypesAccounts",type:{kind:"struct",fields:[{name:"oappConfig",type:"publicKey"}]}},{name:"peer",type:{kind:"struct",fields:[{name:"address",type:{array:["u8",32]}},{name:"rateLimiter",type:{option:{defined:"RateLimiter"}}},{name:"bump",type:"u8"}]}},{name:"allowedBroker",type:{kind:"struct",fields:[{name:"brokerHash",type:{array:["u8",32]}},{name:"allowed",type:"bool"},{name:"bump",type:"u8"}]}},{name:"allowedToken",type:{kind:"struct",fields:[{name:"mintAccount",type:"publicKey"},{name:"tokenHash",type:{array:["u8",32]}},{name:"tokenDecimals",type:"u8"},{name:"allowed",type:"bool"},{name:"bump",type:"u8"}]}},{name:"vaultAuthority",type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed for the vault authority PDA"],type:"u8"},{name:"owner",type:"publicKey"},{name:"depositNonce",type:"u64"},{name:"orderDelivery",type:"bool"},{name:"inboundNonce",type:"u64"},{name:"dstEid",type:"u32"},{name:"solChainId",type:"u128"}]}}],types:[{name:"VaultDepositParams",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"userAddress",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"srcChainId",type:"u128"},{name:"tokenAmount",type:"u128"},{name:"srcChainDepositNonce",type:"u64"}]}},{name:"LzMessage",type:{kind:"struct",fields:[{name:"msgType",type:"u8"},{name:"payload",type:"bytes"}]}},{name:"InitOAppParams",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"endpointProgram",type:{option:"publicKey"}},{name:"usdcHash",type:{array:["u8",32]}},{name:"usdcMint",type:"publicKey"}]}},{name:"OAppLzReceiveParams",type:{kind:"struct",fields:[{name:"srcEid",type:"u32"},{name:"sender",type:{array:["u8",32]}},{name:"nonce",type:"u64"},{name:"guid",type:{array:["u8",32]}},{name:"message",type:"bytes"},{name:"extraData",type:"bytes"}]}},{name:"AccountWithdrawSol",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"sender",type:{array:["u8",32]}},{name:"receiver",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"tokenAmount",type:"u64"},{name:"fee",type:"u64"},{name:"chainId",type:"u64"},{name:"withdrawNonce",type:"u64"}]}},{name:"VaultWithdrawParams",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"sender",type:{array:["u8",32]}},{name:"receiver",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"tokenAmount",type:"u64"},{name:"fee",type:"u128"},{name:"chainId",type:"u128"},{name:"withdrawNonce",type:"u64"}]}},{name:"MessagingFee",type:{kind:"struct",fields:[{name:"nativeFee",type:"u64"},{name:"lzTokenFee",type:"u64"}]}},{name:"ReinitOAppParams",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"},{name:"endpointProgram",type:{option:"publicKey"}},{name:"usdcHash",type:{array:["u8",32]}},{name:"usdcMint",type:"publicKey"}]}},{name:"SetDelegateParams",type:{kind:"struct",fields:[{name:"delegate",type:"publicKey"}]}},{name:"SetEnforcedOptionsParams",type:{kind:"struct",fields:[{name:"dstEid",type:"u32"},{name:"send",type:"bytes"},{name:"sendAndCall",type:"bytes"}]}},{name:"SetPeerParams",type:{kind:"struct",fields:[{name:"dstEid",type:"u32"},{name:"peer",type:{array:["u8",32]}}]}},{name:"SetRateLimitParams",type:{kind:"struct",fields:[{name:"dstEid",type:"u32"},{name:"refillPerSecond",type:{option:"u64"}},{name:"capacity",type:{option:"u64"}},{name:"enabled",type:"bool"}]}},{name:"TransferAdminParams",type:{kind:"struct",fields:[{name:"admin",type:"publicKey"}]}},{name:"DepositParams",type:{kind:"struct",fields:[{name:"accountId",type:{array:["u8",32]}},{name:"brokerHash",type:{array:["u8",32]}},{name:"tokenHash",type:{array:["u8",32]}},{name:"userAddress",type:{array:["u8",32]}},{name:"tokenAmount",type:"u64"}]}},{name:"OAppSendParams",type:{kind:"struct",fields:[{name:"nativeFee",type:"u64"},{name:"lzTokenFee",type:"u64"}]}},{name:"InitVaultParams",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"orderDelivery",type:"bool"},{name:"dstEid",type:"u32"},{name:"solChainId",type:"u128"}]}},{name:"ReinitVaultParams",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"dstEid",type:"u32"},{name:"depositNonce",type:"u64"},{name:"orderDelivery",type:"bool"},{name:"inboundNonce",type:"u64"},{name:"solChainId",type:"u128"}]}},{name:"SetBrokerParams",type:{kind:"struct",fields:[{name:"brokerHash",type:{array:["u8",32]}},{name:"allowed",type:"bool"}]}},{name:"SetOrderDeliveryParams",type:{kind:"struct",fields:[{name:"orderDelivery",type:"bool"},{name:"nonce",type:"u64"}]}},{name:"SetTokenParams",type:{kind:"struct",fields:[{name:"mintAccount",type:"publicKey"},{name:"tokenHash",type:{array:["u8",32]}},{name:"allowed",type:"bool"}]}},{name:"RateLimiter",type:{kind:"struct",fields:[{name:"capacity",type:"u64"},{name:"tokens",type:"u64"},{name:"refillPerSecond",type:"u64"},{name:"lastRefillTime",type:"u64"}]}},{name:"OAppError",type:{kind:"enum",variants:[{name:"Unauthorized"},{name:"InvalidSender"},{name:"InvalidOptions"},{name:"InvalidEndpointProgram"},{name:"RateLimitExceeded"},{name:"WithdrawFailed"},{name:"InvalidInboundNonce"}]}},{name:"MsgType",type:{kind:"enum",variants:[{name:"Deposit"},{name:"Withdraw"},{name:"RebalanceBurn"},{name:"RebalanceMint"}]}}],events:[{name:"SetAllowedBroker",fields:[{name:"brokerHash",type:{array:["u8",32]},index:!1}]},{name:"ResetAllowedBroker",fields:[{name:"brokerHash",type:{array:["u8",32]},index:!1}]},{name:"SetAllowedToken",fields:[{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"mintAccount",type:"publicKey",index:!1}]},{name:"ResetAllowedToken",fields:[{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"mintAccount",type:"publicKey",index:!1}]},{name:"Deposited",fields:[{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"Withdrawn",fields:[{name:"user",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VaultDeposited",fields:[{name:"accountId",type:{array:["u8",32]},index:!1},{name:"brokerHash",type:{array:["u8",32]},index:!1},{name:"userAddress",type:{array:["u8",32]},index:!1},{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"srcChainId",type:"u128",index:!1},{name:"tokenAmount",type:"u64",index:!1},{name:"srcChainDepositNonce",type:"u64",index:!1}]},{name:"VaultWithdrawn",fields:[{name:"accountId",type:{array:["u8",32]},index:!1},{name:"sender",type:{array:["u8",32]},index:!1},{name:"receiver",type:{array:["u8",32]},index:!1},{name:"brokerHash",type:{array:["u8",32]},index:!1},{name:"tokenHash",type:{array:["u8",32]},index:!1},{name:"tokenAmount",type:"u64",index:!1},{name:"fee",type:"u128",index:!1},{name:"chainId",type:"u128",index:!1},{name:"withdrawNonce",type:"u64",index:!1}]},{name:"OAppSent",fields:[{name:"guid",type:{array:["u8",32]},index:!1},{name:"dstEid",type:"u32",index:!1}]},{name:"OAppReceived",fields:[{name:"guid",type:{array:["u8",32]},index:!1},{name:"srcEid",type:"u32",index:!1}]}],errors:[{code:6e3,name:"InsufficientFunds",msg:"Deposited funds are insufficient for withdrawal"},{code:6001,name:"UserInfoBelongsToAnotherUser",msg:"User info pda belongs to another user"},{code:6002,name:"BrokerNotAllowed",msg:"Broker is not allowed"},{code:6003,name:"TokenNotAllowed",msg:"Token is not allowed"},{code:6004,name:"InvalidAccountId",msg:"AccountId is invalid"},{code:6005,name:"InvalidVaultOwner",msg:"Vault owner is not the same as the payer"}]},qf=new Tt("76y77prsiCMvXMjuoZ5VRrhG5qYBrUMYTE5WgHqgjEn6"),Al=new Tt("7a4WjyR8VZ7yZz5XJAKm39BUGn5iT9CKcv2pmG9tdXVH"),lK=new Tt("6doghB248px58JSSwG4qejQ46kFMW4AMj7vzJnWZHNZn"),hx=new Tt("8ahPGPjEbpgGaZx2NV1iG5Shj7TDwvsjkEDcGWjt94TP"),Wmt=Al,Kmt=Al,fK=new Tt("HtEYV4xB4wvsj5fgTkcfuChYpvGYzgzwvNhgDZQNh7wW"),jmt="VaultAuthority",Hmt="Broker",qmt="Token",xte=Q4("0x9Dc724b24146BeDD2dA28b8C4B74126169B8f312"),Vmt=Q4("0x45b6C6266A7A2170617d8A27A50C642fd68b91c4"),Gmt=Q4("0x5Bf771A65d057e778C5f0Ed52A0003316f94322D"),Ymt=Q4("0xCecAe061aa078e13b5e70D5F9eCee90a3F2B6AeA"),Zmt=40200,Xmt=30213,X5=new Tt("BWp8HaYYhiNHekt3zgQhqoCrRftneGxxfgKmCZ6svHN"),Qmt=new Tt("BswrQQoPKAFojTuJutZcBMtigAgTghEH4M8ofn3EG2X2"),Jmt=new Tt("BbGKfxuPwDmu58BjPpd7PMG69TqnZjSpKaLDMgf9E9Dr"),eyt=new Tt("8iq7xCQt3bLdRRn4A46d5GuaXYinBoiAhbe2sUmZVzwg"),fSe=new Tt("EYJq9eU4GMRUriUJBgGoZ8YLQBXcWaciXuSsEXE7ieQS"),dSe=new Tt("5zBjLor7vEraAt4zp2H82sy9MSqFoDnNa1Lx6EYKTYRZ"),hSe=new Tt("9shwxWDUNhtwkHocsUAmrNAQfBH2DHh4njdAEdHZZkF2"),dK=new Tt("ErBmAD61mGFKvrFNaTJuxoPwqrS8GgtwtqJTJVjFWx9Q"),CD=(t,e)=>vJe(t,e,!0);function pSe(t){return Tt.findProgramAddressSync([Ie.Buffer.from(jmt,"utf8")],t)[0]}function tyt(t,e){let r=Array.from(Ie.Buffer.from(e.slice(2),"hex"));return Tt.findProgramAddressSync([Ie.Buffer.from(Hmt,"utf8"),Ie.Buffer.from(r)],t)[0]}function ryt(t,e){let r=Array.from(Ie.Buffer.from(e.slice(2),"hex"));return Tt.findProgramAddressSync([Ie.Buffer.from(qmt,"utf8"),Ie.Buffer.from(r)],t)[0]}function gSe(t){return Tt.findProgramAddressSync([Ie.Buffer.from(H$,"utf8")],t)[0]}function mSe(t,e,r){let n=Ie.Buffer.alloc(4);return n.writeUInt32BE(r),Tt.findProgramAddressSync([Ie.Buffer.from(Upt,"utf8"),e.toBuffer(),n],t)[0]}function ySe(t,e,r){let n=Ie.Buffer.alloc(4);return n.writeUInt32BE(r),Tt.findProgramAddressSync([Ie.Buffer.from(zpt,"utf8"),e.toBuffer(),n],t)[0]}function nyt(){return Tt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8")],Al)[0]}function bSe(t,e){let r=Ie.Buffer.alloc(4);return r.writeUInt32BE(e),Tt.findProgramAddressSync([Ie.Buffer.from(vI,"utf8"),t.toBuffer(),r],qf)[0]}function vSe(t){let e=Ie.Buffer.alloc(4);return e.writeUInt32BE(t),Tt.findProgramAddressSync([Ie.Buffer.from(vI,"utf8"),e],qf)[0]}function iyt(t){return Tt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8"),t.toBuffer()],qf)[0]}function wSe(){return Tt.findProgramAddressSync([Ie.Buffer.from(_ge,"utf8")],qf)[0]}function syt(t){let e=xte;return t.toBase58()===fSe.toBase58()&&(e=xte),t.toBase58()===dSe.toBase58()&&(e=Vmt),t.toBase58()===hSe.toBase58()&&(e=Gmt),t.toBase58()===dK.toBase58()&&(e=Ymt),e}function SSe(t,e,r){let n=Ie.Buffer.alloc(4),i=syt(t);return n.writeUInt32BE(r),Tt.findProgramAddressSync([Ie.Buffer.from(Age,"utf8"),e.toBuffer(),n,i],qf)[0]}function oyt(){return Tt.findProgramAddressSync([Ie.Buffer.from(q$,"utf8")],qf)[0]}function ayt(){return Tt.findProgramAddressSync([Ie.Buffer.from(xge,"utf8")],Al)[0]}function _Se(t,e){let r=Ie.Buffer.alloc(4);return r.writeUInt32BE(e),Tt.findProgramAddressSync([Ie.Buffer.from(wR,"utf8"),r,t.toBuffer()],Al)[0]}function ASe(t){let e=Ie.Buffer.alloc(4);return e.writeUInt32BE(t),Tt.findProgramAddressSync([Ie.Buffer.from(wR,"utf8"),e],Wmt)[0]}function uyt(){return Tt.findProgramAddressSync([Ie.Buffer.from(q$,"utf8")],Al)[0]}function xSe(){return Tt.findProgramAddressSync([Ie.Buffer.from(Tge,"utf8")],lK)[0]}function ESe(){return Tt.findProgramAddressSync([Ie.Buffer.from(Ige,"utf8")],hx)[0]}function kSe(){return Tt.findProgramAddressSync([Ie.Buffer.from(kge,"utf8")],fK)[0]}function TSe(t){return t.toBase58()===dK.toBase58()?Xmt:Zmt}function ISe(t){return t.toBase58()===fSe.toBase58()?(console.log("DEV_LOOKUP_TABLE_ADDRESS: ",X5.toBase58()),X5):t.toBase58()===dSe.toBase58()?Qmt:t.toBase58()===hSe.toBase58()?Jmt:t.toBase58()===dK.toBase58()?eyt:X5}function cyt(t){return Tt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8")],t||Al)[0]}function lyt(t,e){return Tt.findProgramAddressSync([Ie.Buffer.from(Sg,"utf8"),t.toBytes()],qf)[0]}function RSe(t,e){return La(this,null,function*(){return(yield t.getAddressLookupTable(e)).value})}function fyt(t){let{publicKey:e,brokerId:r,expiration:n=365,timestamp:i=Date.now(),scope:s,tag:o,chainId:a}=t,u=Pd(Cd({brokerId:r,chainType:"SOL",orderlyKey:e,scope:s||"read,trading",chainId:a,timestamp:i},typeof o<"u"?{tag:o}:{}),{expiration:i+1e3*60*60*24*n}),f=eg(["string"],[u.brokerId]),d=eg(["string"],[u.orderlyKey]),g=eg(["string"],[u.scope]),y=yl.defaultAbiCoder(),b=HA(s4(y.encode(["bytes32","bytes32","bytes32","uint256","uint256","uint256"],[f,d,g,u.chainId,u.timestamp,u.expiration]))),A=Jx(b),x=new TextEncoder().encode(A);return[u,x]}function dyt(t){let{chainId:e,registrationNonce:r,brokerId:n,timestamp:i}=t,s={brokerId:n,chainId:e,timestamp:i,registrationNonce:r},o=eg(["string"],[s.brokerId]),a=yl.defaultAbiCoder(),u=HA(s4(a.encode(["bytes32","uint256","uint256","uint256"],[o,s.chainId,s.timestamp,s.registrationNonce]))),f=Jx(u),d=new TextEncoder().encode(f);return[s,d]}function hyt(t){let{chainId:e,receiver:r,token:n,amount:i,nonce:s,brokerId:o}=t,a=Date.now(),u={brokerId:o,chainId:e,receiver:r,token:n,amount:i,withdrawNonce:s,timestamp:a,chainType:"SOL"},f=eg(["string"],[u.brokerId]),d=eg(["string"],[u.token]),g=HA(Ie.Buffer.from("Orderly Network")),y=yl.defaultAbiCoder(),b=HA(s4(y.encode(["bytes32","bytes32","uint256","bytes32","uint256","uint64","uint64","bytes32"],[f,d,e,Xx.decode(u.receiver),u.amount,u.withdrawNonce,a,g]))),A=Jx(b),x=new TextEncoder().encode(A);return[u,x]}function pyt(t){let{settlePnlNonce:e,brokerId:r,chainId:n,timestamp:i}=t,s={brokerId:r,chainId:n,timestamp:i,chainType:"SOL",settleNonce:e},o=eg(["string"],[r]),a=yl.defaultAbiCoder(),u=HA(s4(a.encode(["bytes32","uint256","uint64","uint64"],[o,s.chainId,s.settleNonce,s.timestamp]))),f=Jx(u),d=new TextEncoder().encode(f);return[s,d]}function MSe(t){return La(this,arguments,function*({vaultAddress:e,userAddress:r,connection:n,depositData:i}){console.log("-- vaultAddress",e);let s=new Tt(e),o=TSe(s),a=new Pm(lSe,s,{connection:n}),u=new Tt(r),f=gSe(s),d=mSe(s,f,o),g=ySe(s,f,o),y=bSe(f,o),b=vSe(o),A=wSe(),x=SSe(s,f,o),k=_Se(f,o),R=ASe(o),C=xSe(),P=ESe(),O=kSe(),q=cyt(Al),Q=lyt(q),Y=pSe(s),X=CSe(r,i),Z=yield a.methods.oappQuote(X).accounts({oappConfig:f,peer:d,enforcedOptions:g,vaultAuthority:Y}).remainingAccounts([{pubkey:qf,isWritable:!1,isSigner:!1},{pubkey:Al,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:b,isWritable:!1,isSigner:!1},{pubkey:Q,isWritable:!1,isSigner:!1},{pubkey:A,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!1,isSigner:!1},{pubkey:q,isWritable:!1,isSigner:!1},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:R,isWritable:!1,isSigner:!1},{pubkey:lK,isWritable:!1,isSigner:!1},{pubkey:C,isWritable:!1,isSigner:!1},{pubkey:hx,isWritable:!1,isSigner:!1},{pubkey:P,isWritable:!1,isSigner:!1},{pubkey:fK,isWritable:!1,isSigner:!1},{pubkey:O,isWritable:!1,isSigner:!1},{pubkey:hx,isWritable:!1,isSigner:!1},{pubkey:P,isWritable:!1,isSigner:!1}]).instruction(),le=yield n.getLatestBlockhash(),I=ISe(s),c=yield RSe(n,I);if(!c)throw console.log("-- lookup table account error"),new Error("-- lookup table account error");let h=new Coe({payerKey:u,recentBlockhash:le.blockhash,instructions:[Z]}).compileToV0Message([c]),p=new Noe(h),m=yield n.simulateTransaction(p);if(console.log("-- feeRes",m),m.value.err){let l=typeof m.value.err=="object"?JSON.stringify(m.value.err):m.value.err;throw l.toString().includes("AccountNotFound")?new Error("Error: Account gas is insufficient."):new Error(`Error: ${l}`)}let v=`Program return: ${a.programId} `,_=m.value.logs.find(l=>l.startsWith(v));if(!_)throw new Error("Error: get deposit fee error");let T=_.slice(v.length),w=Ie.Buffer.from(T,"base64");return console.log(w.readBigUInt64LE(0),w.readBigUInt64LE(1)),w.readBigUInt64LE(0)})}var CSe=(t,e)=>{let r=e.brokerHash,n=Array.from(Ie.Buffer.from(r.slice(2),"hex")),i=e.tokenHash,s=Array.from(Ie.Buffer.from(i.slice(2),"hex")),o=e.accountId,a=Array.from(Ie.Buffer.from(o.slice(2),"hex")),u=new Tt(t);return{accountId:a,brokerHash:n,tokenHash:s,userAddress:Array.from(u.toBuffer()),tokenAmount:new an(e.tokenAmount)}};function gyt(t){return La(this,arguments,function*({vaultAddress:e,userAddress:r,connection:n,sendTransaction:i,depositData:s}){let o=s.brokerHash,a=s.tokenHash;console.log("-- vault address",e);let u=new Tt(e),f=new Pm(lSe,u,{connection:n}),d=new Tt(s.USDCAddress),g=new Tt(r),y=CD(d,g),b=pSe(u),A=CD(d,b),x=tyt(u,o),k=ryt(u,a),R=gSe(u);console.log("-- oappconfig pda",R.toBase58());let C=TSe(u),P=mSe(u,R,C),O=ySe(u,R,C),q=nyt(),Q=bSe(R,C),Y=vSe(C),X=iyt(q),Z=wSe(),le=SSe(u,R,C),I=oyt(),c=ayt(),h=_Se(R,C),p=ASe(C),m=uyt(),v=xSe(),_=ESe(),T=kSe(),w=CSe(r,s),l=yield MSe({vaultAddress:e,userAddress:r,connection:n,depositData:s}),S={nativeFee:new an(l.toString()),lzTokenFee:new an(0)};console.log("--- value params",{vaultDepositParams:w,sendParam:S});let N=yield f.methods.deposit(w,S).accounts({userTokenAccount:y,vaultAuthority:b,vaultTokenAccount:A,depositToken:d,user:g,peer:P,enforcedOptions:O,oappConfig:R,allowedBroker:x,allowedToken:k}).remainingAccounts([{isSigner:!1,isWritable:!1,pubkey:qf},{isSigner:!1,isWritable:!1,pubkey:R},{isSigner:!1,isWritable:!1,pubkey:Al},{isSigner:!1,isWritable:!1,pubkey:Q},{isSigner:!1,isWritable:!1,pubkey:Y},{isSigner:!1,isWritable:!1,pubkey:X},{isSigner:!1,isWritable:!1,pubkey:Z},{isSigner:!1,isWritable:!0,pubkey:le},{isSigner:!1,isWritable:!1,pubkey:I},{isSigner:!1,isWritable:!1,pubkey:qf},{isSigner:!1,isWritable:!1,pubkey:c},{isSigner:!1,isWritable:!1,pubkey:h},{isSigner:!1,isWritable:!1,pubkey:p},{isSigner:!0,isWritable:!1,pubkey:g},{isSigner:!1,isWritable:!1,pubkey:Kmt},{isSigner:!1,isWritable:!1,pubkey:Doe.programId},{isSigner:!1,isWritable:!1,pubkey:m},{isSigner:!1,isWritable:!1,pubkey:Al},{isSigner:!1,isWritable:!1,pubkey:lK},{isSigner:!1,isWritable:!0,pubkey:v},{isSigner:!1,isWritable:!1,pubkey:hx},{isSigner:!1,isWritable:!1,pubkey:_},{isSigner:!1,isWritable:!1,pubkey:fK},{isSigner:!1,isWritable:!0,pubkey:T},{isSigner:!1,isWritable:!1,pubkey:hx},{isSigner:!1,isWritable:!1,pubkey:_}]).instruction(),F=ISe(u),W=yield RSe(n,F);if(!W){console.log("-- lookup table account error");return}let D=Goe.setComputeUnitLimit({units:4e5}),K=yield n.getLatestBlockhash(),z=new Coe({payerKey:g,recentBlockhash:K.blockhash,instructions:[N,D]}).compileToV0Message([W]),G=new Noe(z),te=yield i(G,n);return console.log("res",te),te})}function myt(t){let e=window.localStorage.getItem(hne);if(!e)return!1;let r=JSON.parse(e??"[]");return console.log("-- addressArr",r),!!r.includes(t)}var yyt=class extends fae{constructor(){super(),a_(this,"chainNamespace",gl.solana),a_(this,"_address"),a_(this,"_chainId"),a_(this,"_provider"),a_(this,"_connection")}get address(){return this._address}get chainId(){return this._chainId}set chainId(e){this._chainId=e}get connection(){if(this._connection)return this._connection;if(this._provider.rpcUrl)return this._connection=new CP(this._provider.rpcUrl,{commitment:"confirmed"}),this._connection;if(this._provider.network===RD.Devnet)return this._connection=new CP(CFe(this._provider.network),{commitment:"confirmed"}),this._connection;let e=Ro.get("account"),r="/v1/solana-rpc-proxy";return this._connection=new CP(`${e.apiBaseUrl}${r}`,{commitment:"confirmed",fetchMiddleware:(n,i,s)=>La(this,null,function*(){let o={url:r,method:i==null?void 0:i.method,data:JSON.parse(i==null?void 0:i.body)},a=yield this.signMessageByOrderlyKey(o);for(let u of Object.keys(a))(i==null?void 0:i.headers)[u]=a[u];return s(n,i)})}),this._connection}setConfig(e){this._address=e.address,this._chainId=e.chain.id,e.provider&&(this._provider=e.provider)}lifecycleName(e,r){console.log("lifecycle",e,r)}active(e){this.setConfig(e),this.lifecycleName("active",e)}deactivate(){this.lifecycleName("deactivate",{})}update(e){this.lifecycleName("update",e),this.setConfig(e)}generateSecretKey(){let e,r;do e=zue.randomPrivateKey(),r=Xx.encode(e);while(r.length!==44);return r}uint8ArrayToHexString(e){return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")}signMessage(e){return La(this,null,function*(){if(myt(this._address)){let n=new p0;n.add(new Ds({keys:[],programId:new Tt("ComputeBudget111111111111111111111111111111"),data:new Uint8Array([3,0,0,0,0,0,0,0,0])})),n.add(new Ds({keys:[],programId:new Tt("ComputeBudget111111111111111111111111111111"),data:new Uint8Array([2,0,0,0,0])})),n.add(new Ds({keys:[],programId:new Tt("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),data:e}));let i=new Tt(this.address);n.feePayer=i;let s=new Uint8Array(32).fill(0);n.recentBlockhash=new Tt(s).toString();let o=(yield this._provider.signTransaction(n)).signatures[0].signature;if(o)return this.uint8ArrayToHexString(o);throw console.log("-- sign message error",o),new Error("Unsupported signature")}let r=yield this._provider.signMessage(e);return"0x"+Jx(r)})}generateRegisterAccountMessage(e){return La(this,null,function*(){let[r,n]=dyt(Pd(Cd({},e),{chainId:this.chainId})),i=yield this.signMessage(n);return{message:Pd(Cd({},r),{chainType:"SOL"}),signatured:i}})}generateWithdrawMessage(e){return La(this,null,function*(){let[r,n]=hyt(Pd(Cd({},e),{chainId:this.chainId})),i=yield this.signMessage(n);return{message:Pd(Cd({},r),{chainType:"SOL"}),domain:{name:"",version:"",chainId:this.chainId,verifyingContract:e.verifyContract},signatured:i}})}generateAddOrderlyKeyMessage(e){return La(this,null,function*(){let[r,n]=fyt(Pd(Cd({},e),{chainId:this.chainId})),i=yield this.signMessage(n);return{message:Pd(Cd({},r),{chainType:"SOL"}),signatured:i}})}generateSettleMessage(e){return La(this,null,function*(){let[r,n]=pyt(Pd(Cd({},e),{chainId:this.chainId})),i=yield this.signMessage(n);return{message:Pd(Cd({},r),{chainType:"SOL"}),domain:{name:"",version:"",chainId:this.chainId,verifyingContract:e.verifyContract},signatured:i}})}getBalance(){return La(this,null,function*(){return BigInt(0)})}call(e,r,n,i){return La(this,null,function*(){if(r==="balanceOf"){let s=new Tt(e),o=new Tt(this._address),a=CD(s,o),u=this.connection;return(yield mJe(u,a,"confirmed")).amount}return r==="allowance"?eT:BigInt(0)})}sendTransaction(e,r,n,i){return La(this,null,function*(){if(console.log("-- solanan sendTransaction",{contractAddress:e,method:r,payload:n,options:i}),r==="deposit")return gyt({vaultAddress:e,userAddress:this._address,connection:this.connection,depositData:n.data[0],sendTransaction:this._provider.sendTransaction})})}callOnChain(e,r,n,i,s){return La(this,null,function*(){return console.log("-- params ",{chain:e,address:r,method:n,params:i}),n==="getDepositFee"?MSe({vaultAddress:r,userAddress:this._address,connection:this.connection,depositData:i[1]}):0})}pollTransactionReceiptWithBackoff(e,r,n,i){return La(this,null,function*(){return Promise.resolve({status:1})})}};const Xa={TRANSACTION_RAN_OUT_OF_GAS:"TRANSACTION_RAN_OUT_OF_GAS",TRANSACTION_UNDERPRICED:"TRANSACTION_UNDERPRICED",REJECTED_TRANSACTION:"REJECTED_TRANSACTION",CALL_REVERTED:"CALL_REVERTED",EXECUTION_REVERTED:"EXECUTION_REVERTED",NONCE_TOO_LOW:"NONCE_TOO_LOW",INSUFFICIENT_FUNDS_FOR_GAS:"INSUFFICIENT_FUNDS_FOR_GAS",MAX_PRIORITY_FEE_PER_GAS_HIGHER_THAN_MAX_FEE_PER_GAS:"MAX_PRIORITY_FEE_PER_GAS_HIGHER_THAN_MAX_FEE_PER_GAS",MAX_FEE_PER_GAS_LESS_THAN_BLOCK_BASE_FEE:"MAX_FEE_PER_GAS_LESS_THAN_BLOCK_BASE_FEE",UNKNOWN_ERROR:"UNKNOWN_ERROR"},j3={NONCE_EXPIRED:"NONCE_EXPIRED",UNPREDICTABLE_GAS_LIMIT:"UNPREDICTABLE_GAS_LIMIT",ACTION_REJECTED:"ACTION_REJECTED",CALL_EXCEPTION:"CALL_EXCEPTION"},mw={REJECTED_TRANSACTION:4001,REQUIRE_TRANSACTION:-32603,ERROR_WHILE_FORMATTING_OUTPUT_FROM_RPC:-32603,TRANSACTION_UNDERPRICED:-32e3};function byt(t,e){var r;if(t!==mw.ERROR_WHILE_FORMATTING_OUTPUT_FROM_RPC)return;const n=(r=e.split("RPC '")[1])==null?void 0:r.slice(0,-1);if(n!==void 0)try{const i=JSON.parse(n);if(i.value===void 0||i.value.data===void 0)return;if(i.value.data.code===mw.TRANSACTION_UNDERPRICED)return{errorCode:Xa.TRANSACTION_UNDERPRICED,context:void 0}}catch{return}}function vyt(t){const e=t.code,r=t.message;if(e!==void 0){if(r!==void 0){const n=byt(e,r);if(n!==void 0)return n}if(e===mw.REJECTED_TRANSACTION)return{errorCode:Xa.REJECTED_TRANSACTION,context:r};if(e===mw.REQUIRE_TRANSACTION&&r!==void 0&&r.includes("execution reverted: "))return{errorCode:Xa.EXECUTION_REVERTED,context:r.slice(20)}}}function wyt(t){if(t.code===j3.UNPREDICTABLE_GAS_LIMIT){if(t.error!==void 0&&t.error.code===mw.REQUIRE_TRANSACTION&&t.error.data!==void 0&&t.error.data.message!==void 0){const e=t.error.data.message;if(e.includes("execution reverted: "))return{errorCode:Xa.EXECUTION_REVERTED,context:e.slice(20)}}if(t.error!==void 0&&t.error.error!==void 0&&t.error.error.error!==void 0&&t.error.error.error.code===mw.TRANSACTION_UNDERPRICED&&t.error.error.body!==void 0)try{const e=JSON.parse(t.error.error.body);if(e.error!==void 0&&e.error.message!==void 0){if(e.error.message.includes("gas required exceeds allowance (0)"))return{errorCode:Xa.INSUFFICIENT_FUNDS_FOR_GAS,context:void 0};if(e.error.message.includes("max priority fee per gas higher than max fee per gas"))return{errorCode:Xa.MAX_PRIORITY_FEE_PER_GAS_HIGHER_THAN_MAX_FEE_PER_GAS,context:void 0};if(e.error.message.includes("max fee per gas less than block base fee"))return{errorCode:Xa.MAX_FEE_PER_GAS_LESS_THAN_BLOCK_BASE_FEE,context:void 0}}}catch{return}}}function Syt(t){if(t.code===j3.NONCE_EXPIRED&&t.transaction!==void 0)return{errorCode:Xa.NONCE_TOO_LOW,context:t.transaction.nonce.toString()};if(t.code===j3.ACTION_REJECTED&&t.action==="sendTransaction")return{errorCode:Xa.REJECTED_TRANSACTION,context:t.message};if(t.code===j3.CALL_EXCEPTION&&t.reason!==void 0)return{errorCode:Xa.CALL_REVERTED,context:t.reason};const e=wyt(t);if(e!==void 0)return e}function Q5(t){const e=t,r=t.error,n=Syt(e);if(n!==void 0)return n;if(r!==void 0){const i=vyt(r);if(i!==void 0)return i}if(e.transaction!==void 0&&e.receipt!==void 0){const i=e.transaction.gasLimit;if(e.receipt.gasUsed.gte(i))return{errorCode:Xa.TRANSACTION_RAN_OUT_OF_GAS,context:e.transaction.gasLimit.toString()}}return t.error!==void 0&&t.error.message!==void 0?{errorCode:Xa.UNKNOWN_ERROR,context:t.error.message}:e.code!==void 0?{errorCode:Xa.UNKNOWN_ERROR,context:e.code.toString()}:{errorCode:Xa.UNKNOWN_ERROR,context:void 0}}var _yt=Object.defineProperty,Ayt=(t,e,r)=>e in t?_yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xyt=(t,e,r)=>(Ayt(t,e+"",r),r),Dk=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(f){i(f)}},o=u=>{try{a(r.throw(u))}catch(f){i(f)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())}),Eyt=class{constructor(){xyt(this,"_provider")}parseUnits(e,r){return M9(e,r).toString()}formatUnits(e,r){return R9(e,r)}set provider(e){this._provider=new qOe(e,"any")}get browserProvider(){if(!this._provider)throw new Error("browserProvider is not initialized");return this._provider}signTypedData(e,r){return Dk(this,null,function*(){var n;return yield(n=this.browserProvider)==null?void 0:n.send("eth_signTypedData_v4",[e,r])})}call(e,r,n,i){return Dk(this,null,function*(){let s=yield this.browserProvider.getSigner();return new tg(e,i.abi,s)[r].apply(null,n).catch(o=>{throw Q5(o)})})}send(e,r){return this.browserProvider.send(e,r)}sendTransaction(e,r,n,i){return Dk(this,null,function*(){var s;let o=yield(s=this.browserProvider)==null?void 0:s.getSigner();if(!o)throw new Error("singer is not exist");let a=new tg(e,i.abi,this.browserProvider).interface.encodeFunctionData(r,n.data),u={from:n.from,to:n.to,data:a,value:n.value};try{return yield o.sendTransaction(u)}catch(f){throw Q5(f)}})}pollTransactionReceiptWithBackoff(e,r=1e3,n=6e3,i=30){return Dk(this,null,function*(){let s=r,o=0;for(;o<i;){try{let a=yield this.browserProvider.getTransactionReceipt(e);if(a)return a}catch{}yield new Promise(a=>setTimeout(a,s)),s=Math.min(s*2,n),o++}throw new Error("Transaction did not complete after maximum retries.")})}callOnChain(e,r,n,i,s){let o=new jOe(e.public_rpc_url);return new tg(r,s.abi,o)[n].apply(null,i).catch(a=>{throw Q5(a)})}getBalance(e){return this.browserProvider.getBalance(e).then(r=>r)}},hu={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},kyt=class{constructor(t){Ue(this,"mode");Ue(this,"data");this.mode=hu.MODE_8BIT_BYTE,this.data=t}getLength(){return this.data.length}write(t){for(let e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},V_={L:1,M:0,Q:3,H:2},gc,Ete=(gc=class{constructor(e,r){Ue(this,"totalCount");Ue(this,"dataCount");this.totalCount=e,this.dataCount=r}static getRSBlocks(e,r){const n=gc.getRsBlockTable(e,r);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);const i=n.length/3,s=[];for(let o=0;o<i;o++){const a=n[o*3+0],u=n[o*3+1],f=n[o*3+2];for(let d=0;d<a;d++)s.push(new gc(u,f))}return s}static getRsBlockTable(e,r){switch(r){case V_.L:return gc.RS_BLOCK_TABLE[(e-1)*4+0];case V_.M:return gc.RS_BLOCK_TABLE[(e-1)*4+1];case V_.Q:return gc.RS_BLOCK_TABLE[(e-1)*4+2];case V_.H:return gc.RS_BLOCK_TABLE[(e-1)*4+3];default:return}}},Ue(gc,"RS_BLOCK_TABLE",[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]]),gc),kte=class{constructor(){Ue(this,"buffer");Ue(this,"length");this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1}put(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},sl={glog:function(t){if(t<1)throw new Error("glog("+t+")");return sl.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return sl.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let t=0;t<8;t++)sl.EXP_TABLE[t]=1<<t;for(let t=8;t<256;t++)sl.EXP_TABLE[t]=sl.EXP_TABLE[t-4]^sl.EXP_TABLE[t-5]^sl.EXP_TABLE[t-6]^sl.EXP_TABLE[t-8];for(let t=0;t<255;t++)sl.LOG_TABLE[sl.EXP_TABLE[t]]=t;var Sp=sl,PD=class ND{constructor(e,r){Ue(this,"num");if(e.length==null)throw new Error(e.length+"/"+r);let n=0;for(;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+r);for(let i=0;i<e.length-n;i++)this.num[i]=e[i+n]}get(e){return this.num[e]}getLength(){return this.num.length}multiply(e){const r=new Array(this.getLength()+e.getLength()-1);for(let n=0;n<this.getLength();n++)for(let i=0;i<e.getLength();i++)r[n+i]^=Sp.gexp(Sp.glog(this.get(n))+Sp.glog(e.get(i)));return new ND(r,0)}mod(e){if(this.getLength()-e.getLength()<0)return this;const r=Sp.glog(this.get(0))-Sp.glog(e.get(0)),n=new Array(this.getLength());for(let i=0;i<this.getLength();i++)n[i]=this.get(i);for(let i=0;i<e.getLength();i++)n[i]^=Sp.gexp(Sp.glog(e.get(i))+r);return new ND(n,0).mod(e)}},gp={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},bo={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){let e=t<<10;for(;bo.getBCHDigit(e)-bo.getBCHDigit(bo.G15)>=0;)e^=bo.G15<<bo.getBCHDigit(e)-bo.getBCHDigit(bo.G15);return(t<<10|e)^bo.G15_MASK},getBCHTypeNumber:function(t){let e=t<<12;for(;bo.getBCHDigit(e)-bo.getBCHDigit(bo.G18)>=0;)e^=bo.G18<<bo.getBCHDigit(e)-bo.getBCHDigit(bo.G18);return t<<12|e},getBCHDigit:function(t){let e=0;for(;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return bo.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case gp.PATTERN000:return(e+r)%2==0;case gp.PATTERN001:return e%2==0;case gp.PATTERN010:return r%3==0;case gp.PATTERN011:return(e+r)%3==0;case gp.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case gp.PATTERN101:return e*r%2+e*r%3==0;case gp.PATTERN110:return(e*r%2+e*r%3)%2==0;case gp.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){let e=new PD([1],0);for(let r=0;r<t;r++)e=e.multiply(new PD([1,Sp.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case hu.MODE_NUMBER:return 10;case hu.MODE_ALPHA_NUM:return 9;case hu.MODE_8BIT_BYTE:return 8;case hu.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case hu.MODE_NUMBER:return 12;case hu.MODE_ALPHA_NUM:return 11;case hu.MODE_8BIT_BYTE:return 16;case hu.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case hu.MODE_NUMBER:return 14;case hu.MODE_ALPHA_NUM:return 13;case hu.MODE_8BIT_BYTE:return 16;case hu.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){const e=t.getModuleCount();let r=0;for(let s=0;s<e;s++)for(let o=0;o<e;o++){let a=0;const u=t.isDark(s,o);for(let f=-1;f<=1;f++)if(!(s+f<0||e<=s+f))for(let d=-1;d<=1;d++)o+d<0||e<=o+d||f==0&&d==0||u==t.isDark(s+f,o+d)&&a++;a>5&&(r+=3+a-5)}for(let s=0;s<e-1;s++)for(let o=0;o<e-1;o++){let a=0;t.isDark(s,o)&&a++,t.isDark(s+1,o)&&a++,t.isDark(s,o+1)&&a++,t.isDark(s+1,o+1)&&a++,(a==0||a==4)&&(r+=3)}for(let s=0;s<e;s++)for(let o=0;o<e-6;o++)t.isDark(s,o)&&!t.isDark(s,o+1)&&t.isDark(s,o+2)&&t.isDark(s,o+3)&&t.isDark(s,o+4)&&!t.isDark(s,o+5)&&t.isDark(s,o+6)&&(r+=40);for(let s=0;s<e;s++)for(let o=0;o<e-6;o++)t.isDark(o,s)&&!t.isDark(o+1,s)&&t.isDark(o+2,s)&&t.isDark(o+3,s)&&t.isDark(o+4,s)&&!t.isDark(o+5,s)&&t.isDark(o+6,s)&&(r+=40);let n=0;for(let s=0;s<e;s++)for(let o=0;o<e;o++)t.isDark(o,s)&&n++;const i=Math.abs(100*n/e/e-50)/5;return r+=i*10,r}},mp=bo,al,Tyt=(al=class{constructor(e,r){Ue(this,"typeNumber");Ue(this,"errorCorrectLevel");Ue(this,"modules");Ue(this,"moduleCount");Ue(this,"dataCache");Ue(this,"dataList");this.typeNumber=e,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(e){const r=new kyt(e);this.dataList.push(r),this.dataCache=null}isDark(e,r){if(e<0||this.moduleCount<=e||r<0||this.moduleCount<=r)throw new Error(e+","+r);if(this.modules===null)throw new Error("this.modules is null");return this.modules[e][r]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let e=1;for(e=1;e<40;e++){const r=Ete.getRSBlocks(e,this.errorCorrectLevel),n=new kte;let i=0;for(let s=0;s<r.length;s++)i+=r[s].dataCount;for(let s=0;s<this.dataList.length;s++){const o=this.dataList[s];n.put(o.mode,4),n.put(o.getLength(),mp.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=i*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(e,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(let i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=al.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)}setupPositionProbePattern(e,r){for(let n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n)){for(let i=-1;i<=7;i++)if(!(r+i<=-1||this.moduleCount<=r+i))if(0<=n&&n<=6&&(i==0||i==6)||0<=i&&i<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=i&&i<=4){if(this.modules===null)throw new Error("this.modules is null");this.modules[e+n][r+i]=!0}else{if(this.modules===null)throw new Error("this.modules is null");this.modules[e+n][r+i]=!1}}}getBestMaskPattern(){let e=0,r=0;for(let n=0;n<8;n++){this.makeImpl(!0,n);const i=mp.getLostPoint(this);(n==0||e>i)&&(e=i,r=n)}return r}setupTimingPattern(){if(this.modules===null)throw new Error("this.modules is null");for(let e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(let e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){if(this.modules===null)throw new Error("this.modules is null");const e=mp.getPatternPosition(this.typeNumber);for(let r=0;r<e.length;r++)for(let n=0;n<e.length;n++){const i=e[r],s=e[n];if(this.modules[i][s]==null)for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o==-2||o==2||a==-2||a==2||o==0&&a==0?this.modules[i+o][s+a]=!0:this.modules[i+o][s+a]=!1}}setupTypeNumber(e){if(this.modules===null)throw new Error("this.modules is null");const r=mp.getBCHTypeNumber(this.typeNumber);for(let n=0;n<18;n++){const i=!e&&(r>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(let n=0;n<18;n++){const i=!e&&(r>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}}setupTypeInfo(e,r){if(this.modules===null)throw new Error("this.modules is null");const n=this.errorCorrectLevel<<3|r,i=mp.getBCHTypeInfo(n);for(let s=0;s<15;s++){const o=!e&&(i>>s&1)==1;s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o}for(let s=0;s<15;s++){const o=!e&&(i>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!e}mapData(e,r){if(this.modules===null)throw new Error("this.modules is null");let n=-1,i=this.moduleCount-1,s=7,o=0;for(let a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(let u=0;u<2;u++)if(this.modules[i][a-u]==null){let f=!1;o<e.length&&(f=(e[o]>>>s&1)==1),mp.getMask(r,i,a-u)&&(f=!f),this.modules[i][a-u]=f,s--,s==-1&&(o++,s=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}static createData(e,r,n){const i=Ete.getRSBlocks(e,r),s=new kte;for(let a=0;a<n.length;a++){const u=n[a];s.put(u.mode,4),s.put(u.getLength(),mp.getLengthInBits(u.mode,e)),u.write(s)}let o=0;for(let a=0;a<i.length;a++)o+=i[a].dataCount;if(s.getLengthInBits()>o*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+o*8+")");for(s.getLengthInBits()+4<=o*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=o*8||(s.put(al.PAD0,8),s.getLengthInBits()>=o*8));)s.put(al.PAD1,8);return al.createBytes(s,i)}static createBytes(e,r){let n=0,i=0,s=0;const o=new Array(r.length),a=new Array(r.length);for(let g=0;g<r.length;g++){const y=r[g].dataCount,b=r[g].totalCount-y;i=Math.max(i,y),s=Math.max(s,b),o[g]=new Array(y);for(let R=0;R<o[g].length;R++)o[g][R]=255&e.buffer[R+n];n+=y;const A=mp.getErrorCorrectPolynomial(b),k=new PD(o[g],A.getLength()-1).mod(A);a[g]=new Array(A.getLength()-1);for(let R=0;R<a[g].length;R++){const C=R+k.getLength()-a[g].length;a[g][R]=C>=0?k.get(C):0}}let u=0;for(let g=0;g<r.length;g++)u+=r[g].totalCount;const f=new Array(u);let d=0;for(let g=0;g<i;g++)for(let y=0;y<r.length;y++)g<o[y].length&&(f[d++]=o[y][g]);for(let g=0;g<s;g++)for(let y=0;y<r.length;y++)g<a[y].length&&(f[d++]=a[y][g]);return f}},Ue(al,"PAD0",236),Ue(al,"PAD1",17),al),Iyt=(t,e)=>{e=e||{};const r=new Tyt(e.typeNumber||-1,e.errorCorrectLevel||V_.H);return r.addData(t),r.make(),r},Ryt=Object.defineProperty,Myt=(t,e)=>{for(var r in e)Ryt(t,r,{get:e[r],enumerable:!0})};typeof window<"u"&&(window.__ORDERLY_VERSION__=window.__ORDERLY_VERSION__||{},window.__ORDERLY_VERSION__["@orderly.network/hooks"]="2.1.0");var Tte="2.1.0",hK=(t,e={},r)=>une(t,e,r==null?void 0:r.formatter),qh=B.createContext({}),Cyt=qh.Provider;function Vh(t,e){const{configStore:r}=B.useContext(qh);if(!r)throw new ar("useConfig must be used within OrderlyConfigProvider or OrderlyAppProvider");return typeof t<"u"?r.get(t):r}var Rs=(t,e)=>{const r=Vh("apiBaseUrl"),{formatter:n,...i}=e||{};if(typeof r>"u")throw new ar("please add OrderlyConfigProvider to your app");return _w(t,(s,o)=>hK(s.startsWith("http")?s:`${r}${s}`,o,{formatter:n}),i)},FPt=(t,e)=>{const r=Vh("apiBaseUrl"),{formatter:n,init:i,...s}={};if(typeof r>"u")throw new ar("please add OrderlyConfigProvider to your app");return pne(t,(o,a)=>{if(o=o.startsWith("http")?o:`${r}${o}`,a!=null&&a.arg){const u=Object.entries(a.arg).map(([f,d])=>`${f}=${encodeURIComponent(d)}`).join("&");o=`${o}?${u}`}return hK(o,i,{formatter:n})},s)},PSe=()=>{const{configStore:t,keyStore:e,walletAdapters:r}=B.useContext(qh);if(!t)throw new ar("configStore is not defined, please use OrderlyProvider");if(!e)throw new ar("keyStore is not defined, please use OrderlyProvider and provide keyStore");return Fx(()=>{let i=Ro.get("account");return i||(i=new Rb(t,e,r),Ro.registerByName("account",i)),i})},Pyt=(t,e)=>{const r={method:e.arg.method,headers:{...e.arg.signature}};if(e.arg.data&&(r.body=JSON.stringify(e.arg.data)),typeof e.arg.params=="object"&&Object.keys(e.arg.params).length){let n=new URLSearchParams(e.arg.params);t=`${t}?${n.toString()}`}return TCe(t,r)},ga=(t,e="POST",r)=>{const n=Vh("apiBaseUrl");let i=t;t.startsWith("http")||(i=`${n}${t}`);const s=PSe(),{trigger:o,data:a,error:u,reset:f,isMutating:d}=pne(i,Pyt,r);return[async(y,b,A)=>{let x=t;if(typeof b=="object"&&Object.keys(b).length){let P=new URLSearchParams(b);x=`${t}?${P.toString()}`}const k={method:e,url:x,data:y},C=await s.signer.sign(k,bl());return o({data:y,params:b,method:e,signature:{...C,"orderly-account-id":s.accountId}},A)},{data:a,error:u,reset:f,isMutating:d}]},NSe=t=>{const e=Vh("apiBaseUrl");return(r,n,i)=>{try{return t(r,async o=>{let a=Array.isArray(o)?o[0]:o,u=Ro.get("account"),f=`${e}${a}`;const d=u.signer,g={method:"GET",url:a},y=await d.sign(g,bl());return n(f,{headers:{...y,"orderly-account-id":u.accountId}})},i)}catch(s){throw s}}},Gh=()=>Fx(()=>{let t=Ro.get("EE");return t||(t=new x6,Ro.registerByName("EE",t)),t}),$M=()=>{const t=Gh(),e=B.useCallback(W$e.debounce((i,s)=>{t.emit(i,s)},500),[]),r=B.useCallback((i,s)=>{e(i,s)},[e]),n=B.useCallback(i=>{t.emit(kh.trackIdentifyUserId,i)},[]);return{track:r,setTrackUserId:n}},Dg=()=>{const{configStore:t,keyStore:e}=B.useContext(qh);if(!t)throw new ar("configStore is not defined, please use OrderlyProvider");if(!e)throw new ar("keyStore is not defined, please use OrderlyProvider and provide keyStore");const r=PSe(),[n,i]=B.useState(r.stateValue),{track:s}=$M(),o=f=>{i(()=>f)};B.useEffect(()=>(r.on("change:status",o),()=>{r.off("change:status",o)}),[]);const a=B.useCallback(async f=>{var d;return s(kh.signinSuccess,{network:r.chainId,wallet:(d=n.connectWallet)==null?void 0:d.name}),r.createOrderlyKey(f?365:30)},[r,n]),u=B.useCallback(async()=>r.createAccount(),[r]);return{account:r,state:n,createOrderlyKey:a,createAccount:u}},vc=(t,e)=>{const{formatter:r,...n}=e||{},{state:i}=Dg(),s=Array.isArray(e==null?void 0:e.use)?(e==null?void 0:e.use)??[]:[];return _w(()=>i.status>=Wn.EnableTrading||i.status===Wn.EnableTradingWithoutConnected?[t,i.accountId]:null,(o,a)=>hK(o,a,{formatter:r}),{...n,use:[NSe,...s],onError:o=>{}})},Nyt=(t,e)=>{const{formatter:r,...n}=e||{},{state:i}=Dg(),s=Array.isArray(n==null?void 0:n.use)?(n==null?void 0:n.use)??[]:[];return H$e((a,u)=>{const f=t(a,u);return f&&(i.status>=Wn.EnableTrading||i.status===Wn.EnableTradingWithoutConnected)?[f,i.accountId]:null},(a,u)=>{var f;return((f=n.fetcher)==null?void 0:f.call(n,a,u))||une(a,u,r)},{...n,use:[NSe,...s]})},Byt=()=>{const[t,e]=B.useState(!1),{error:r,data:n}=Rs("https://api.orderly.org/v1/public/token",{revalidateOnFocus:!1}),i=Vh("apiBaseUrl"),{data:s}=_w("/v1/public/system_info",async(a,u)=>await(await fetch(a.startsWith("http")?a:`${i}${a}`,u)).json(),{errorRetryCount:3,errorRetryInterval:500});B.useEffect(()=>{if(!t&&typeof s<"u"){const a=s.timestamp,u=Date.now(),f=a-u;if(isNaN(f))return;z6().__ORDERLY_timestamp_offset=f,e(!0)}},[s,t]);const o=B.useMemo(()=>!!n&&t,[t,n]);return{error:r,done:o}};function BSe(t){try{return t==="undefined"?void 0:JSON.parse(t??"")}catch{return}}function $Pt(t,e){const r=B.useCallback(()=>{if(typeof window>"u")return e;try{const a=window.sessionStorage.getItem(t);return a?BSe(a):e}catch{return e}},[e,t]),[n,i]=B.useState(r),s=a=>{try{const u=a instanceof Function?a(n):a;window.sessionStorage.setItem(t,JSON.stringify(u)),i(u)}catch{}};B.useEffect(()=>{i(r())},[]),B.useEffect(()=>{var a;if(!(typeof window>"u"))return(a=window.addEventListener)==null||a.call(window,"storage",o),()=>{var u;(u=window.removeEventListener)==null||u.call(window,"storage",o)}});const o=B.useCallback(a=>{a!=null&&a.key&&a.key!==t||i(r())},[t,r]);return[n,s]}function UM(t,e){const r=B.useCallback(()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?BSe(o):e}catch{return e}},[e,t]),[n,i]=B.useState(r),s=B.useCallback(o=>{try{const a=o instanceof Function?o(n):o;window.localStorage.setItem(t,JSON.stringify(a)),window.dispatchEvent(new Event("storage")),i(()=>a)}catch{}},[n]);return B.useEffect(()=>{i(r())},[]),B.useEffect(()=>{var a;const o=u=>{u!=null&&u.key&&u.key!==t||i(r())};return(a=window==null?void 0:window.addEventListener)==null||a.call(window,"storage",o),()=>{var u;(u=window==null?void 0:window.removeEventListener)==null||u.call(window,"storage",o)}},[t]),[n,s]}var Oyt={dev:"4d6b7db0fdd6e9de2b6a270414fd51e0",qa:"96476b00bc2701360f9b480629ae5263",staging:"dffc00e003479b86d410c448e00f2304",prod:"3ab9ae56ed16cc57bc2ac97ffc1098c2"},OSe=class{constructor(t,e){this._ee=Ro.get("EE"),WKe(Oyt[t],{serverZone:"EU"}),this.setSdkInfo(e),this._bindEvents()}setUserId(t){t!==this._userId&&(KKe(t),this._userId=t)}setSdkInfo(t){if(this._sdkInfoTag&&t.address===this._sdkInfoTag)return;const e=new FA;Object.entries(t).forEach(([r,n])=>{e.set(r,n)}),cZ(e),this._sdkInfoTag=t.address}identify(t){cZ(t)}track(t,e){jKe(CV[t],e)}_bindEvents(){Object.keys(CV).forEach(e=>{this._ee.addListener(e,(r={})=>{e===kh.trackIdentifyUserId?this.setUserId(r):this.track(e,r)})})}};OSe.instanceName="amplitudeTracker";var UPt=()=>{const{configStore:t}=B.useContext(qh);if(!t)throw new Error("configStore is not defined, please use OrderlyProvider");const e=t.get("env"),r=t.get("brokerId");return Fx(()=>{var s;let i=Ro.get("amplitudeTracker");return i||(i=new OSe(e,{brokerId:r,sdk_version:((s=window==null?void 0:window.__ORDERLY_VERSION__)==null?void 0:s["@orderly.network/net"])??""}),Ro.registerByName("instance",i)),i})},Ite="nativeWebsocketClient",xa=()=>{const{configStore:t}=B.useContext(qh);return Fx(()=>{let r=Ro.get(Ite);const n=Ro.get(Rb.instanceName);return r||(r=new NCe({networkId:t.get("networkId"),publicUrl:t.get("publicWsUrl"),privateUrl:t.get("privateWsUrl"),onSigntureRequest:async i=>{const s=n.signer,o=bl();return{...await s.signText(o.toString()),timestamp:o}}}),(n.stateValue.status===Wn.EnableTrading||n.stateValue.status===Wn.EnableTradingWithoutConnected)&&n.stateValue.accountId&&r.openPrivate(n.stateValue.accountId),n.on("change:status",i=>{(i.status===Wn.EnableTrading||i.status===Wn.EnableTradingWithoutConnected)&&i.accountId?r.openPrivate(i.accountId):r.closePrivate(1e3,"switch account")}),typeof window<"u"&&(z6().__Orderly_WS=r),Ro.registerByName(Ite,r)),r})},zPt=()=>B.useContext(qh).keyStore,Lyt=()=>({get:Ro.get,register:Ro.register}),Dyt=(t=>(t.Connected="connected",t.Unstable="unstable",t.Disconnected="disconnected",t))(Dyt||{});function Fyt(){const t=xa(),[e,r]=B.useState(t.client.public.readyState?"connected":"disconnected"),n=B.useRef(0);return B.useEffect(()=>(t.on("status:change",i=>{const{type:s,isPrivate:o}=i;if(!o)switch(s){case"open":n.current=0,r("connected");break;case"close":n.current=0,r("disconnected");break;case"reconnecting":n.current++,n.current>=3&&r("unstable");break}}),()=>t.off("websocket:status",()=>{})),[]),e}var $yt=B.createContext({}),Uyt=t=>{const e=Fyt();return $.jsx($yt.Provider,{value:{ws:e},children:t.children})},LSe=class{constructor(t){this.message=t,this.data=this.formatOrder(t)}formatOrder(t){const e=this.pre(t);return e.created_time||(e.created_time=e.timestamp),e.status===If.FILLED&&!e.updated_time&&(e.updated_time=e.timestamp),e.child_orders&&e.child_orders.length&&e.child_orders.map(r=>{r.algo_status===If.FILLED&&r.is_activated&&!r.updated_time&&(r.updated_time=e.timestamp)}),e.type&&e.type.endsWith("_ORDER")&&(e.type=e.type.replace("_ORDER","")),e}merge(t,e,r){switch(this.status){case"NEW":return t.startsWith("orders:CANCELLED")||t.startsWith("orders:FILLED")||t.startsWith("orders:REJECTED")?r:this.insetOrUpdate(r);case"CANCELLED":return t.startsWith("orders:FILLED")||t.startsWith("orders:REJECTED")?r:t.startsWith("orders:NEW")||t.startsWith("orders:INCOMPLETE")?this.remove(r):t.startsWith("orders:CANCELLED")?this.insert(r):this.update(r);case"REPLACED":return this.update(r);case"FILLED":if(this.orderIsExisting(r)){if(t.startsWith("orders:INCOMPLETE")||t.startsWith("orders:NEW")||t.startsWith("orders:"))return this.isFullFilled()?this.remove(r):this.update(r)}else return t.startsWith("orders:CANCELLED")||t.startsWith("orders:INCOMPLETE")||t.startsWith("orders:NEW")?r:this.insert(r);default:return r||[]}}insert(t){const e=Pje(0);return Fje(e,r=>({meta:{...r.meta,total:r.meta.total+1},rows:[this.data,...r.rows]}),t)}insetOrUpdate(t){return this.orderIsExisting(t)?this.update(t):this.insert(t)}update(t){const e=this.findOrderIndex(t);if(!Array.isArray(e))return t||[];const[r,n]=e;return t.map((i,s)=>({meta:{...i.meta},rows:i.rows.map((o,a)=>r===s&&n===a?{...o,...this.data}:o)}))}remove(t){const e=this.findOrderIndex(t);if(!Array.isArray(e))return t;const[r,n]=e;return t.map((i,s)=>({meta:{...i.meta,total:i.meta.total-1},rows:r===s?i.rows.filter((o,a)=>a!==n):i.rows}))}findOrderIndex(t){let e=0,r;for(;e<t.length;e++){const n=t[e];for(let i=0;i<n.rows.length;i++){const s=n.rows[i];if(s.algo_order_id===this.orderId||s.order_id===this.orderId){r=i;break}}if(typeof r<"u")break}if(!(typeof r>"u"))return[e,r]}orderIsExisting(t){const e=this.findOrderIndex(t);return Array.isArray(e)}};function $b(t){return Object.keys(t).reduce((e,r)=>(e[$$e(r)]=t[r],e),{})}var DSe=class FSe extends LSe{get orderId(){return this.data.algo_order_id}get status(){return this.data.root_algo_status}pre(e,r){return FSe.groupOrders(e)}isFullFilled(){return"total_executed_quantity"in this.data&&this.data.total_executed_quantity!==0?this.data.total_executed_quantity===this.data.quantity:"total_executed_quantity"in this.data.child_orders[0]?this.data.child_orders[0].total_executed_quantity===this.data.child_orders[0].quantity:!1}static groupOrders(e){const r=e.findIndex(i=>i.parentAlgoOrderId===0&&i.algoOrderId===i.rootAlgoOrderId);if(r===-1)throw new ar("Root order not found");const n=$b(e[r]);if(n.child_orders=e.filter((i,s)=>s!==r).map(i=>$b(i)),n.algo_type==="BRACKET"&&n.child_orders.length>0){const i=this.groupBracketChildOrders([...n.child_orders]);n.child_orders=[i]}return n}static groupBracketChildOrders(e){const r=[...e],n=r.findIndex(s=>s.algoType!==di.STOP_LOSS&&s.algoType!==di.TAKE_PROFIT);if(n===-1)throw new ar("Root order not found");const i=r.splice(n,1)[0];return i.child_orders=r,i}},zyt=class extends LSe{get orderId(){return this.data.order_id}get status(){return this.data.status}pre(t,e){return $b(t)}isFullFilled(){return"total_executed_quantity"in this.data&&this.data.total_executed_quantity===this.data.quantity}},Rte=t=>(e,r)=>{var d;if(r&&!((d=r.rows)!=null&&d.length))return null;const{status:n,symbol:i,side:s,size:o=100,page:a,dateRange:u}=t,f=new URLSearchParams([["size",o.toString()],["page",`${e+1}`],["source_type","ALL"]]);return u&&(u.from&&f.set("start_t",`${u.from.getTime()}`),u.to&&f.set("end_t",`${u.to.getTime()}`)),a&&f.set("page",`${a}`),n&&f.set("status",n),i&&f.set("symbol",i),s&&f.set("side",s),`/v1/orders?${f.toString()}`},Wyt=(t,e,r)=>r?new zyt(e).merge(t,e,r):void 0;function Kyt(t,e,r){return r?new DSe(e).merge(t,e,r):void 0}function jyt(t){}var Qa=ny()(e4(t=>({portfolio:{totalCollateral:Ui,totalValue:null,freeCollateral:Ui,availableBalance:0,unsettledPnL:0,totalUnrealizedROI:0},appState:{positionsLoading:!1,ordersLoading:!1,fundingRatesLoading:!1,ready:!1},actions:{cleanAll:()=>{t(e=>{e.accountInfo=void 0,e.portfolio={totalCollateral:Ui,totalValue:null,freeCollateral:Ui,availableBalance:0,unsettledPnL:0,totalUnrealizedROI:0}},!1)},setAccountInfo:e=>{t(r=>{r.accountInfo=e},!1)},setSymbolsInfo:e=>{t(r=>{r.symbolsInfo=e},!1)},setFundingRates:e=>{t(r=>{r.fundingRates=e},!1)},updateAppStatus:(e,r)=>{t(n=>{n.appState[e]=r},!1)},updatePortfolio:(e,r)=>{t(n=>{n.portfolio[e]=r},!1)},batchUpdateForPortfolio:e=>{t(r=>{r.portfolio={...r.portfolio,...e}},!1)},restoreHolding:e=>{t(r=>{r.portfolio.holding=e},!1)},updateHolding(e){t(r=>{if(r.portfolio.holding&&r.portfolio.holding.length)for(const n in e){const i=r.portfolio.holding.find(s=>s.token===n);i&&(i.holding=e[n].holding,i.frozen=e[n].frozen)}},!1)}}}))),$Se=()=>Qa(t=>t.accountInfo),zM=class{cache(t){this._cache=t}},pK=ny((t,e)=>({markPrices:{},actions:{updateMarkPrice:r=>{t({markPrices:r})},getMarkPriceBySymbol:r=>e().markPrices[r]}})),USe=()=>pK(t=>t.actions),gK="markPriceCalculator",Hyt=class extends zM{constructor(){super(...arguments),this.name=gK}calc(t,e,r){return e}update(t,e){pK.getState().actions.updateMarkPrice(t)}},BD=class zSe{static get instance(){return this._instance}static create(e,r){return this._instance||(this._instance=new zSe(e,r)),this._instance.update(e,r)}constructor(e,r){this.setCtxData(),this.output={}}update(e,r){return this.setCtxData(),this.markPrices=e==="markPrice"?r:this.output[gK],this.portfolio=this.output.portfolio||Qa.getState().portfolio,this}setCtxData(){this.accountInfo=Qa.getState().accountInfo,this.symbolsInfo=Qa.getState().symbolsInfo,this.fundingRates=Qa.getState().fundingRates}get(e){return e(this.output)}getCacheValue(e,r){return this.output[e]||r()}clearCache(){this.output={},this.accountInfo=void 0,this.portfolio=void 0}deleteByName(e){delete this.output[e]}get isReady(){return!!this.accountInfo}saveOutput(e,r){this.output[e]=r}outputToValue(){return this.output}},qyt=class{constructor(t,e){this.scheduler=t,this.pendingCalc=[],this.calcQueue=[],this.referenceCount=new Map,this.isPaused=!1,this.calculators=new Map(e)}register(t,e){const r=`${t}_${e.name}`,n=this.referenceCount.get(r);if(typeof n<"u"&&n>0){this.referenceCount.set(r,n+1);return}const i=this.calculators.get(t);Array.isArray(i)?i.push(e):this.calculators.set(t,[e]),this.referenceCount.set(r,1)}unregister(t,e){var s,o;const r=`${t}_${e.name}`,n=this.referenceCount.get(r);if(typeof n<"u"&&n>1){this.referenceCount.set(r,n-1);return}const i=this.calculators.get(t);if(Array.isArray(i)){const a=i.findIndex(u=>u.name===e.name);a>-1&&((o=(s=i[a]).destroy)==null||o.call(s),i.splice(a,1))}this.referenceCount.delete(r)}async calc(t,e,r){t!=="position"&&r!=null&&r.skipWhenOnPause;const n=BD.create(t,e);!n.isReady&&(r!=null&&r.skipPending)||r!=null&&r.skipWhenOnPause&&!this.windowIsVisible||(this.calcQueue.push({scope:t,data:e,options:r}),await this.handleCalcQueue(n),this.ctx=n)}async handleCalcQueue(t){const e=this.calcQueue.shift();if(e){const{scope:r,data:n,options:i}=e,s=t||BD.create(r,n),o=this.calculators.get(r);if(Array.isArray(o)&&o.length){try{await this.scheduler.calc(r,o,n,s)}catch{}i!=null&&i.skipUpdate||this.scheduler.update(r,o,s.outputToValue())}this.calcQueue.length&&this.handleCalcQueue(s)}}stop(){var t;this.calcQueue=[],(t=this.ctx)==null||t.clearCache()}get windowIsVisible(){return typeof document>"u"?!0:document.visibilityState==="visible"}},Mte="CalculatorService",Vyt=(t,e)=>{const r=Date.now();return setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-r))})},1)},Gyt=t=>{clearTimeout(t)},Cte=typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback.bind(window):Vyt;typeof window<"u"&&window.cancelIdleCallback&&window.cancelIdleCallback.bind(window);var Yyt=class{calc(t,e,r,n){return new Promise((i,s)=>{try{this.computation(e,o=>{const a=[];for(let u=0;u<o.length;u++){const f=o[u],d=f.calc(t,r,n);d&&(n.saveOutput(f.name,d),a.push(d))}return a},o=>{i(o)})}catch(o){s(o)}})}update(t,e,r){for(let n=0;n<e.length;n++){const i=e[n],s=r[i.name];s&&i.update(s,t)}return Promise.resolve()}computation(t,e,r){let n=0;const i=[],s=Math.min(t.length,2);function o(a){let u=s;for(;n+u<=t.length&&a.timeRemaining()>0;){const f=t.slice(n,n+u),d=e(f);i.push(d),n+=u,a.timeRemaining()<1?u=Math.max(1,Math.floor(u/2)):u=Math.min(t.length-n,u*2)}n<t.length?Cte(o,{timeout:1e3}):r(i.flat())}Cte(o,{timeout:1e3})}},MI={rows:null,margin_ratio:0,initial_margin_ratio:0,maintenance_margin_ratio:0,open_margin_ratio:0,current_margin_ratio_with_orders:0,initial_margin_ratio_with_orders:0,maintenance_margin_ratio_with_orders:0,total_collateral_value:0,free_collateral:0,total_pnl_24_h:0,unrealPnL:0,total_unreal_pnl:0,unsettledPnL:0,total_unsettled_pnl:0,notional:0,unrealPnlROI:0},ph=ny()(e4(t=>({positions:{all:MI},actions:{setPositions:(e,r)=>{t(n=>{n.positions[e]=r})},closePosition:e=>{t(r=>{delete r.positions[e]})},clearAll:()=>{t(e=>{e.positions={all:MI}})}}}))),mK=(t="all")=>ph(e=>(e.positions[t]??MI).rows),Zyt=()=>ph(t=>t.actions),CI=ny()(e4(t=>({apis:{positions:{loading:!1}},actions:{updateStatus:(e,r)=>{t(n=>{n.apis[e]=r})},updateApiLoading:(e,r)=>{t(n=>{n.apis[e].loading=r})},updateApiError:(e,r)=>{t(n=>{n.apis[e]={loading:!1,error:r}})}}}))),Xyt=()=>CI(t=>t.actions),Qyt="positionCalculator",u_="all",yK=class extends zM{constructor(t=u_){super(),this.name=`${Qyt}_${t}`,this.symbol=t}calc(t,e,r){return t==="markPrice"?this.calcByMarkPrice(e,r):t==="indexPrice"?this.calcByIndexPrice(e,r):t==="position"?this.calcByPosition(this.preprocess(e),r):e}update(t,e){!t||!Array.isArray(t.rows)||(ph.getState().actions.setPositions(this.symbol,t),Array.isArray(t.rows)&&CI.getState().apis.positions.loading&&CI.getState().actions.updateApiLoading("positions",!1))}calcByMarkPrice(t,e){let r=this.getPosition(t,e);return!r||!Array.isArray(r.rows)||!r.rows.length?r:(r={...r,rows:r.rows.map(n=>({...n,mark_price:t[n.symbol]||n.mark_price}))},this.format(r,e))}calcByIndexPrice(t,e){let r=this.getPosition(t,e);return!r||!Array.isArray(r.rows)||!r.rows.length?r:(r={...r,rows:r.rows.map(n=>({...n,index_price:t[n.symbol]||n.index_price||n.mark_price}))},this.format(r,e))}calcByPosition(t,e){return t.rows.length===0?t:this.format(t,e)}format(t,e){const{accountInfo:r,symbolsInfo:n,fundingRates:i,portfolio:s}=e;if(!r||!i||!n)return t;let o=Ui,a=Ui,u=Ui,f=Ui,d=t.rows.map(k=>{const R=n[k.symbol],C=ql.notional(k.position_qty,k.mark_price),P=ql.unrealizedPnL({qty:k.position_qty,openPrice:k==null?void 0:k.average_open_price,markPrice:k.mark_price});let O=0,q=0;const Q=no.IMR({maxLeverage:r.max_leverage,baseIMR:R==null?void 0:R.base_imr,IMR_Factor:r.imr_factor[k.symbol],positionNotional:C,ordersNotional:0,IMR_factor_power:4/5}),Y=ql.unrealizedPnLROI({positionQty:k.position_qty,openPrice:k.average_open_price,IMR:Q,unrealizedPnL:P});k.index_price&&(O=ql.unrealizedPnL({qty:k.position_qty,openPrice:k==null?void 0:k.average_open_price,markPrice:k.index_price}),q=ql.unrealizedPnLROI({positionQty:k.position_qty,openPrice:k.average_open_price,IMR:Q,unrealizedPnL:O}));const X=ql.unsettlementPnL({positionQty:k.position_qty,markPrice:k.mark_price,costPosition:k.cost_position,sumUnitaryFunding:$je(0,"sum_unitary_funding",i[k.symbol]),lastSumUnitaryFunding:k.last_sum_unitary_funding}),Z=ql.MMR({baseMMR:R==null?void 0:R.base_mmr,baseIMR:R==null?void 0:R.base_imr,IMRFactor:r.imr_factor[k.symbol],positionNotional:C,IMR_factor_power:4/5});return o=o.add(P),a=a.add(O),u=u.add(C),f=f.add(X),{...k,mm:ql.maintenanceMargin({positionQty:k.position_qty,markPrice:k.mark_price,MMR:Z}),mmr:Z,notional:C,unsettlement_pnl:X,unrealized_pnl:P,unrealized_pnl_index:O,unrealized_pnl_ROI:Y,unrealized_pnl_ROI_index:q}});const g=o.toNumber(),y=a.toNumber(),b=f.toNumber();let A=0,x=0;if(s){const{totalValue:k,totalCollateral:R}=s;d=d.map(C=>{const P=ql.liqPrice({markPrice:C.mark_price,totalCollateral:R.toNumber(),positionQty:C.position_qty,positions:d,MMR:C.mmr});return{...C,est_liq_price:P}}),k!==null&&!k.eq(Ui)&&(A=no.totalUnrealizedROI({totalUnrealizedPnL:g,totalValue:k.toNumber()}),x=no.totalUnrealizedROI({totalUnrealizedPnL:y,totalValue:k.toNumber()}))}return{...t,unrealPnL:g,total_unreal_pnl:g,total_unreal_pnl_index:y,notional:u.toNumber(),unsettledPnL:b,total_unsettled_pnl:b,unrealPnlROI:A,unrealPnlROI_index:x,rows:d}}preprocess(t){let e=t.rows;return this.symbol!==u_&&Array.isArray(e)&&(e=e.filter(r=>r.symbol===this.symbol)),{...t,rows:e}}getPosition(t,e){let r=e.get(n=>n[this.name])||ph.getState().positions[this.symbol];return this.symbol===u_||r&&Array.isArray(r.rows)?r:this.preprocess(this.getAllPositions(e))}destroy(){var t;ph.getState().actions.closePosition(this.symbol),(t=BD.instance)==null||t.deleteByName(this.name)}getAllPositions(t){return t.get(e=>e[u_])||ph.getState().positions[u_]}};yK.logPosition=(t="all")=>ph.getState().positions[t];var Jyt=(t,e)=>{const r=[];let n=0;return t.forEach(i=>{i.token==="USDC"?n=i.holding:r.push({holding:i.holding,markPrice:e[i.token]??0,discount:0})}),[n,r]};function WM(t,e=2){const r=(n,i)=>i===void 0?n:n??i;return new Proxy(t||{},{get(n,i,s){return i==="isNil"?xje(t):e===1?o=>n?r(n[i],o):o:(o,a)=>{var u;return r(o?(u=n[i])==null?void 0:u[o]:n[i],a)}}})}var e1t="portfolio",t1t=class extends zM{constructor(){super(...arguments),this.name=e1t}calc(t,e,r){let n,i;const s=this.getPortfolio(r);t==="markPrice"?n=e:n=r.get(f=>f[gK]),i=r.get(f=>f.positionCalculator_all);let o=s.holding;t==="portfolio"&&e.holding&&Array.isArray(o)&&(o=o.map(f=>e.holding[f.token]?{...f,holding:e.holding[f.token].holding,frozen:e.holding[f.token].frozen}:f));const a=r.accountInfo,u=r.symbolsInfo;return this.format({holding:o,positions:i,markPrices:n,accountInfo:a,symbolsInfo:u})}getPortfolio(t){return t.get(e=>e[this.name])||Qa.getState().portfolio}format(t){const{holding:e,positions:r,markPrices:n,accountInfo:i,symbolsInfo:s}=t;if(!e||!r||!Array.isArray(r.rows)||!n||!i)return null;const o=VO(0,["total_unsettled_pnl"])(r),a=VO(0,["total_unreal_pnl"])(r),[u,f]=Jyt(e,n),d=e.find(R=>R.token==="USDC"),g=no.totalCollateral({USDCHolding:u,nonUSDCHolding:f,unsettlementPnL:o}),y=no.totalValue({totalUnsettlementPnL:o,USDCHolding:u,nonUSDCHolding:f}),b=no.totalUnrealizedROI({totalUnrealizedPnL:a,totalValue:y.toNumber()}),A=no.totalInitialMarginWithQty({positions:r.rows,markPrices:n,IMR_Factors:i.imr_factor,maxLeverage:i.max_leverage,symbolInfo:WM({...s})}),x=no.freeCollateral({totalCollateral:g,totalInitialMarginWithOrders:A}),k=no.availableBalance({USDCHolding:(d==null?void 0:d.holding)??0,unsettlementPnL:r.total_unsettled_pnl??0});return{totalCollateral:g,totalValue:y,totalUnrealizedROI:b,freeCollateral:x,availableBalance:k,unsettledPnL:o,holding:e}}update(t,e){t&&Qa.getState().actions.batchUpdateForPortfolio({totalCollateral:t.totalCollateral,totalValue:t.totalValue,freeCollateral:t.freeCollateral,availableBalance:t.availableBalance,totalUnrealizedROI:t.totalUnrealizedROI,unsettledPnL:t.unsettledPnL,holding:Array.isArray(t.holding)?t.holding:[]})}},Pte=ny(t=>({indexPrices:{},actions:{updateIndexPrice:e=>{t({indexPrices:e})}}})),r1t="indexPriceCalculator",n1t=class extends zM{constructor(){super(...arguments),this.name=r1t}calc(t,e,r){return e}update(t){t&&Pte.getState().actions.updateIndexPrice(t)}static getValue(){return Pte.getState().indexPrices}},bK=()=>{const{get:t}=Lyt();return Fx(()=>{let r=t(Mte);if(!r){const n=new yK,i=new t1t,s=new Hyt,o=new n1t;r=new qyt(new Yyt,[["markPrice",[s,n,i,n]],["position",[n,i]],["portfolio",[i]],["indexPrice",[o,n]]]),Ro.registerByName(Mte,r)}return r})},KM=t=>{const e=xa(),[r,n]=B.useState(0);return B.useEffect(()=>{const i=e.subscribe(`${t}@markprice`,{onMessage:s=>{n(s.price)}});return()=>{i==null||i()}},[t]),{data:r}},i1t=t=>{t=t.replace("PERP","SPOT");const e=xa();return Fw(`${t}@indexprice`,(r,{next:n})=>{const i=e.subscribe(`${t}@indexprice`,{onMessage:s=>{n(null,s.price)}});return()=>{i==null||i()}})},s1t=t=>{const e=xa();return Fw(`${t}@openinterest`,(r,{next:n})=>{const i=e.subscribe(`${t}@openinterest`,{onMessage:s=>{n(null,s.openInterest)}});return()=>{i==null||i()}})},o1t=()=>{const{data:t,isLoading:e,error:r}=Rs("/v1/public/futures",{revalidateOnFocus:!1}),[n,i]=B.useState(t);xa(),B.useEffect(()=>{},[]),B.useEffect(()=>{if(t){const a=t.sort((u,f)=>0);i(a)}},[t]);const s=B.useCallback(a=>{},[t]),o=B.useCallback(a=>{},[t]);return{data:n,sortBy:s,filterBy:o,isLoading:e,error:r}},a1t=t=>{if(!t)throw new ar("Symbol is required");const{data:e}=Rs(`/v1/public/futures/${t}`,{revalidateOnFocus:!1}),[r,n]=B.useState(),i=xa();B.useEffect(()=>{const d=i.subscribe(`${t}@ticker`,{onMessage:g=>{g.symbol===t&&n(g)}});return()=>{n(void 0),d==null||d()}},[t]);const{data:s}=KM(t),{data:o}=i1t(t),{data:a}=s1t(t),{data:u}=o1t();return B.useMemo(()=>{if(!e)return null;if(!r||r.symbol!==t)return e;const d=u==null?void 0:u.findIndex(b=>b.symbol===t);let g=a;!g&&d!==-1&&u&&(g=u[d].open_interest);const y={...e,mark_price:s,index_price:o,open_interest:g};return r.open!==void 0&&(y["24h_open"]=r.open),r.close!==void 0&&(y["24h_close"]=r.close),r.high!==void 0&&(y["24h_high"]=r.high),r.low!==void 0&&(y["24h_low"]=r.low),r.volume!==void 0&&(y["24h_volumn"]=r.volume,y["24h_volume"]=r.volume),r.close!==void 0&&r.open!==void 0&&(y.change=new Fe(r.close).minus(r.open).div(r.open).toNumber(),y["24h_change"]=new Fe(r.close).minus(r.open).toNumber()),y},[e,t,r,u,a])},nd=()=>{const t=Qa(e=>e.symbolsInfo);return B.useMemo(()=>WM({...t}),[t])},u1t={asks:[],bids:[],ts:0},c1t=class WSe{constructor(){this.bufferedOrderBookUpdates={},this.rawOrderBook={}}static getInstance(){return this.instance||(this.instance=new WSe),this.instance}sortBufferedOrderBookUpdates(e){var r;(r=this.bufferedOrderBookUpdates[e])==null||r.sort((n,i)=>n.ts-i.ts)}applyUpdateToRawOrderBook(e,r){const n=this.rawOrderBook[e];if(!n||n.ts>r.prevTs)return;const i=new Map,s=new Map;n.asks.forEach(o=>i.set(o[0],o[1])),n.bids.forEach(o=>s.set(o[0],o[1])),r.asks.forEach(o=>o[1]===0?i.delete(o[0]):i.set(o[0],o[1])),r.bids.forEach(o=>o[1]===0?s.delete(o[0]):s.set(o[0],o[1])),n.asks=Array.from(i.entries()).sort((o,a)=>o[0]-a[0]),n.bids=Array.from(s.entries()).sort((o,a)=>a[0]-o[0]),n.ts=r.ts}applyBufferedUpdatesToRawOrderBooks(e){var r;(r=this.bufferedOrderBookUpdates[e])==null||r.forEach(n=>this.applyUpdateToRawOrderBook(e,n))}deleteBufferedOrderBookUpdates(e){delete this.bufferedOrderBookUpdates[e]}commitOrderBook(e){this.rawOrderBook[e]}pushUpdateToBuffer(e,r){this.bufferedOrderBookUpdates[e]===void 0&&(this.bufferedOrderBookUpdates[e]=[]);const n=this.bufferedOrderBookUpdates[e];n.length>0&&n[n.length-1].ts!==r.prevTs&&(this.bufferedOrderBookUpdates[e]=[]),this.bufferedOrderBookUpdates[e].push(r)}isValidFullOrderBook(e,r){var n;return(((n=this.bufferedOrderBookUpdates[e])==null?void 0:n.length)??0)!==0?this.bufferedOrderBookUpdates[e][0].prevTs<=r:!0}setFullOrderbook(e,r){const{ts:n}=r;this.rawOrderBook[e]=r,this.sortBufferedOrderBookUpdates(e),this.isValidFullOrderBook(e,n)&&this.applyBufferedUpdatesToRawOrderBooks(e)}updateOrderbook(e,r,n){const{asks:i,bids:s,prevTs:o,ts:a}=r,u=this.rawOrderBook[e];if(!u)return;const f=u.ts;if(f===0){this.pushUpdateToBuffer(e,{asks:i,bids:s,prevTs:o,ts:a});return}if(o!==f){this.pushUpdateToBuffer(e,{asks:i,bids:s,prevTs:o,ts:a}),n&&n();return}this.applyUpdateToRawOrderBook(e,r),this.deleteBufferedOrderBookUpdates(e)}getRawOrderbook(e){return this.rawOrderBook[e]}resetOrderBook(e){this.rawOrderBook[e]=u1t}},l1t=c1t.getInstance(),c_=l1t,Nte=t=>Array(t).fill([Number.NaN,Number.NaN,Number.NaN,Number.NaN]),Bte=(t,e,r,n=!1)=>{if(!Array.isArray(r)||r.length===0)return[];let i=[...r];const s=[];if(typeof t<"u"){const o=new Map;for(let a=0;a<r.length;a++){const[u,f]=r[a];if(isNaN(u)||isNaN(f))continue;let d;if(n?d=new Fe(Math.ceil(u/t)).mul(t).toNumber():d=new Fe(Math.floor(u/t)).mul(t).toNumber(),t<1&&t>0&&d.toString().indexOf(".")!==-1){const g=u.toString(),y=g.indexOf("."),b=g.slice(y+1),A=O$e(t).toString().slice(2).length,x=b.slice(0,Dje(b.length,A));d=new Fe(g.slice(0,y)+"."+x).toNumber()}if(o.has(d)){const g=o.get(d),y=new Fe(g[1]).add(f).toNumber();o.set(d,[d,y])}else o.set(d,[d,f])}i=Array.from(o.values())}for(let o=0;o<i.length;o++){const[a,u]=i[o];if(isNaN(a)||isNaN(u))continue;const f=new Fe(u).add(s.length>0?s[s.length-1][2]:0).toNumber(),d=new Fe(u*a).add(s.length>0?s[s.length-1][3]:0).toNumber();s.push([a,u,f,d])}return s},f1t=(t,e,r,n)=>{let i=Bte(t,e,n.asks,!0),s=Bte(t,e,n.bids);if(i.length!==0&&s.length!==0&&i[0][0]<=s[0][0])if(i.length===1){const[o,a,u,f]=i[0];i.shift(),i.push([o+(t===void 0?0:t),a,u,f])}else{const[o]=s[0];for(;i.length>0;){const[a,u,f,d]=i[0];if(a<=o){i.shift();let g="";for(let y=0;y<i.length;y++){if(y===0){const b=i[y][1]+u;i[y][1]=b,i[y][2]=b,i[y][3]=Math.ceil(b)*i[y][0]}else i[y][3]=i[y][0]*i[y][1]+i[y-1][3];g+=`index: ${y} ${i[y]}
`}}else break}}return i=i.reverse(),r&&(i=i.length<e?Nte(e-i.length).concat(i):i,s=s.length<e?s.concat(Nte(e-s.length)):s),{asks:i,bids:s}},Ote={asks:[],bids:[]},WPt=(t,e=Ote,r)=>{var Z,le,I,c,h,p,m,v,_,T,w,l,S,N,F,W,D,K,z,G;if(!t)throw new ar("Symbol is required");const n=(r==null?void 0:r.level)??10,i=(r==null?void 0:r.padding)??!0,s=B.useRef(t);s.current=t;const[o,a]=B.useState(null),[u,f]=B.useState(e),[d,g]=B.useState(!0),y=nd()[t],[b,A]=B.useState(),x=B.useRef(0),k=B.useMemo(()=>{const te=y("quote_tick");if(typeof te>"u")return[];try{const ie=new Fe(te);return[ie.toNumber(),ie.mul(10).toNumber(),ie.mul(100).toNumber(),ie.mul(1e3).toNumber()]}catch{}return[te]},[y("quote_tick")]);B.useEffect(()=>{A(y("quote_tick"))},[y("quote_tick")]);const R=xa(),C=a1t(t),P=Gh();B.useEffect(()=>{let te=!0;g(!0);let ie,J;return ie=R.subscribe({event:"subscribe",topic:`${t}@orderbookupdate`},{formatter:V=>V,onMessage:V=>{const{data:fe,ts:Te}=V,{symbol:Re,asks:H,bids:oe,prevTs:ae}=fe;if(s.current!==Re){ie==null||ie();return}c_.updateOrderbook(Re,{asks:H,bids:oe,ts:Te,prevTs:ae},()=>te=!0);const ce=c_.getRawOrderbook(Re);f({bids:ce.bids,asks:ce.asks})}}),te&&(g(!0),J=R.onceSubscribe({event:"request",id:`${t}@orderbook`,params:{type:"orderbook",symbol:t}},{formatter:V=>V,onMessage:V=>{const{symbol:fe,asks:Te,bids:Re,ts:H}=V.data;if(s.current!==fe)return;c_.setFullOrderbook(fe,{asks:Te,bids:Re,ts:H});const oe=c_.getRawOrderbook(fe);f({bids:oe.bids,asks:oe.asks}),g(!1)}}),te=!1),()=>{ie==null||ie(),J==null||J(),c_.resetOrderBook(t),f(Ote)}},[t]);const{data:O}=KM(t),q=B.useCallback(te=>{P.emit("orderbook:item:click",te)},[]),Q=B.useCallback(te=>{A(()=>te)},[]),Y=f1t(b,n,i,{asks:[...u.asks],bids:[...u.bids]});B.useEffect(()=>{var ie,J,V,fe,Te,Re,H,oe,ae,ce,Oe,_e,Ne,wt,ge,ye,Ge,se,j,re;const te=[[(J=(ie=Y.asks)==null?void 0:ie[Y.asks.length-1])==null?void 0:J[0],(fe=(V=Y.bids)==null?void 0:V[0])==null?void 0:fe[0]],[(Re=(Te=Y.asks)==null?void 0:Te[Y.asks.length-2])==null?void 0:Re[0],(oe=(H=Y.bids)==null?void 0:H[1])==null?void 0:oe[0]],[(ce=(ae=Y.asks)==null?void 0:ae[Y.asks.length-3])==null?void 0:ce[0],(_e=(Oe=Y.bids)==null?void 0:Oe[2])==null?void 0:_e[0]],[(wt=(Ne=Y.asks)==null?void 0:Ne[Y.asks.length-4])==null?void 0:wt[0],(ye=(ge=Y.bids)==null?void 0:ge[3])==null?void 0:ye[0]],[(se=(Ge=Y.asks)==null?void 0:Ge[Y.asks.length-5])==null?void 0:se[0],(re=(j=Y.bids)==null?void 0:j[4])==null?void 0:re[0]]];P.emit("orderbook:update",te)},[(le=(Z=Y.asks)==null?void 0:Z[Y.asks.length-1])==null?void 0:le[0],(c=(I=Y.asks)==null?void 0:I[Y.asks.length-2])==null?void 0:c[0],(p=(h=Y.asks)==null?void 0:h[Y.asks.length-3])==null?void 0:p[0],(v=(m=Y.asks)==null?void 0:m[Y.asks.length-4])==null?void 0:v[0],(T=(_=Y.asks)==null?void 0:_[Y.asks.length-5])==null?void 0:T[0],(l=(w=Y.bids)==null?void 0:w[0])==null?void 0:l[0],(N=(S=Y.bids)==null?void 0:S[1])==null?void 0:N[0],(W=(F=Y.bids)==null?void 0:F[2])==null?void 0:W[0],(K=(D=Y.bids)==null?void 0:D[3])==null?void 0:K[0],(G=(z=Y.bids)==null?void 0:z[4])==null?void 0:G[0]]);const X=B.useMemo(()=>{var J,V;let te=0,ie=0;return u.asks.length>0&&(te=(V=(J=Y.asks)==null?void 0:J[Y.asks.length-1])==null?void 0:V[0]),u.bids.length>0&&(ie=u.bids[0][0]),isNaN(te)||isNaN(ie)||!C?0:[te,ie,C["24h_close"]].sort()[1]},[C==null?void 0:C["24h_close"],u]);return B.useEffect(()=>{x.current=X},[X]),[{asks:Y.asks.slice(-n),bids:Y.bids.slice(0,n),markPrice:O,middlePrice:[x.current,X]},{onDepthChange:Q,depth:b,allDepths:k,isLoading:d,onItemClick:q}]},d1t=()=>vc("/v1/client/info"),h1t=()=>{const t=xa(),{data:e}=Rs("/v1/public/futures",{revalidateOnFocus:!1}),r="tickers",{data:n}=Fw("tickers",(s,{next:o})=>{const a=t.subscribe(r,{onMessage:u=>{o(null,u)}});return()=>{a==null||a()}});return{data:B.useMemo(()=>e?n?e.map(s=>{const o=n.find(a=>a.symbol===s.symbol);if(o){const a={...s,"24h_close":o.close,"24h_open":o.open,"24h_volumn":o.volume,"24h_volume":o.volume,"24h_amount":o.amount,change:0};return o.close!==void 0&&o.open!==void 0&&(a.change=new Fe(o.close).minus(o.open).div(o.open).toNumber()),a}return s}):e:null,[e,n])}},KPt=()=>{const t=Qa(e=>e.fundingRates);return WM({...t})},p1t=(t=>(t[t.FAVORITES=0]="FAVORITES",t[t.RECENT=1]="RECENT",t[t.ALL=2]="ALL",t[t.NEW_LISTING=3]="NEW_LISTING",t))(p1t||{}),w0="orderly_markets",vb={name:"Popular",id:1},g1t=()=>{const{configStore:t}=B.useContext(qh),e=Gh(),r=B.useId(),n=()=>t.get(w0)||A1t(),i=(p,m)=>n()[p]||m,s=p=>{t.set(w0,{...n(),...p})},o=()=>i("favoriteTabs",[{...vb}]),a=()=>i("selectedFavoriteTab",{...vb}),u=()=>{const p=i("favorites",[]),m=o();return x1t(p,m)},f=()=>i("recent",[]),d=()=>i("newListing",[]),g=()=>i("tabSort",{}),[y,b]=B.useState(o),[A,x]=B.useState(a),[k,R]=B.useState(u),[C,P]=B.useState(f),[O,q]=B.useState(d),[Q,Y]=B.useState(g),X=(p,m)=>{const v=E1t(y,p,m);b(v),e.emit("markets:changed",l_(r,"favoriteTabs",v))},Z=p=>{x(p),e.emit("markets:changed",l_(r,"lastSelectedFavoriteTab",p))},le=(p,m,v=!1)=>{const _=I1t({favorites:k,symbol:p,tab:m,remove:v});R(_),e.emit("markets:changed",l_(r,"favorites",_))},I=p=>{const m=k1t(C,p);P(m),e.emit("markets:changed",r),e.emit("markets:changed",l_(r,"recent",m))},c=p=>{const m=T1t(k,p);m&&(R(m),e.emit("markets:changed",l_(r,"favorites",m)))},h=(p,m,v)=>{const _=i("tabSort",{});_[p]={sortKey:m,sortOrder:v},Y(_)};return B.useEffect(()=>{s({favoriteTabs:y,favorites:k,recent:C,newListing:O,tabSort:Q,selectedFavoriteTab:A})},[y,k,C,O,Q,A]),B.useEffect(()=>{const p=({id:m,key:v,data:_})=>{m!==r&&(v==="favoriteTabs"?b(_):v==="lastSelectedFavoriteTab"?x(_):v==="favorites"?R(_):v==="recent"?P(_):v==="newListing"&&q(_))};return e.on("markets:changed",p),()=>{e.off("markets:changed",p)}},[r]),{favoriteTabs:y,favorites:k,recent:C,newListing:O,tabSort:Q,selectedFavoriteTab:A,updateFavorites:R,updateFavoriteTabs:X,updateSymbolFavoriteState:le,pinToTop:c,addToHistory:I,updateSelectedFavoriteTab:Z,updateTabsSortState:h}},jPt=(t=2)=>{const{data:e}=h1t(),r=nd(),[n,i]=B.useState([]),s=g1t(),{favorites:o,recent:a,newListing:u}=s;return B.useEffect(()=>{const f=m1t(e,r),d=y1t({markets:f,favorites:o,recent:a,newListing:u,type:t});i(d)},[e,r,o,a,u,t]),[n,s]},m1t=(t,e)=>{var r;return(r=t||[])==null?void 0:r.map(n=>{const i=e[n.symbol];return{...n,quote_dp:i("quote_dp"),created_time:i("created_time"),leverage:S1t(i("base_imr")),openInterest:_1t(n.open_interest,n.index_price),"8h_funding":v1t(n.est_funding_rate,i("funding_period")),change:w1t({change:n.change,close:n["24h_close"],open:n["24h_open"]})}})},y1t=t=>{const{markets:e,favorites:r,recent:n,newListing:i,type:s}=t;let o=[];if(s===2)o=e;else if(s===3)o=e.filter(u=>b1t(u.created_time)).sort((u,f)=>f.created_time-u.created_time);else{const f=(s===0?r:s===1?n:i).map(d=>d.name);o=e==null?void 0:e.filter(d=>f.includes(d.symbol))}const a=r.map(u=>u.name);return o==null?void 0:o.map(u=>({...u,isFavorite:s===0?!0:a.includes(u.symbol)}))};function OD(t){return t==null}var b1t=t=>Date.now()-t<2592e6;function v1t(t,e){let r=0;return OD(t)?null:(e&&(r=new Fe(t||0).mul(e).div(8).toNumber()),r)}function w1t(t){const{change:e,close:r,open:n}=t;if(e!==void 0)return e;if(!OD(r)&&!OD(n))return n===0?0:new Fe(r).minus(n).div(n).toNumber()}function S1t(t){return t?1/t:void 0}function _1t(t,e){return new Fe(t||0).mul(e||0).toNumber()}function A1t(){return{recent:[],favorites:[{name:"PERP_ETH_USDC",tabs:[{...vb}]},{name:"PERP_BTC_USDC",tabs:[{...vb}]}],favoriteTabs:[{...vb}],selectedFavoriteTab:{...vb},tabSort:{}}}function x1t(t,e){return t.map(r=>({...r,tabs:r.tabs.filter(n=>!!e.find(i=>i.id===n.id))})).filter(r=>!!r.tabs.length)}function E1t(t,e,r){if(Array.isArray(e))return e;const n=[...t],i=n.findIndex(s=>s.id===e.id);return r!=null&&r.add?n.push(e):r!=null&&r.update&&i!==-1?n[i]=e:r!=null&&r.delete&&i!==-1&&n.splice(i,1),n}function k1t(t,e){const r=[...t],n=r.findIndex(i=>i.name==e.symbol);return n!==-1&&r.splice(n,1),r.unshift({name:e.symbol}),r}function T1t(t,e){const r=t.findIndex(n=>n.name===e.symbol);if(r!==-1){const n=t[r],i=[...t];return i.splice(r,1),i.unshift(n),i}}function I1t(t){const{favorites:e,symbol:r,tab:n,remove:i=!1}=t,s=[...e],o=s.findIndex(u=>u.name==r.symbol),a=Array.isArray(n)?n:[n];if(o===-1)a.length&&!i&&s.unshift({name:r.symbol,tabs:a});else{const u=s[o];if(Array.isArray(n))n.length?s[o]={...u,tabs:n}:s.splice(o,1);else if(i){const f=u.tabs.filter(d=>d.id!=n.id);f.length?s[o]={...u,tabs:f}:s.splice(o,1)}else s[o]={...u,tabs:[...u.tabs,n]}}return s}function l_(t,e,r){return{id:t,key:e,data:r}}var jM=()=>({data:pK(e=>e.markPrices)}),HPt=()=>{var o;const{data:t,mutate:e}=vc("/v1/client/info"),[r,{isMutating:n}]=ga("/v1/client/leverage"),{data:i}=Rs("/v1/public/config",{revalidateOnFocus:!1}),s=B.useCallback(a=>r(a).then(u=>{if(u.success)return e();throw new Error(u.message)}),[]);return[q7("max_leverage",t),{update:s,isMutating:n,config:i?(o=i==null?void 0:i.available_futures_leverage)==null?void 0:o.split(",").map(a=>parseInt(a)):[]}]},qPt=t=>{if(!t)throw new ar("Symbol is required");const[e,r]=B.useState("00:00:00"),{data:n}=Rs(`/v1/public/funding_rate/${t}`,{fallbackData:{est_funding_rate:0,next_funing_time:0}});B.useEffect(()=>{if(!n)return;const{next_funding_time:s}=n;if(!s||s<=0)return;const o=setInterval(()=>{const a=new Date(s).getTime()-bl(),u=L$e(a);u.length===3&&r(`${u[0].toString().padStart(2,"0")}:${u[1].toString().padStart(2,"0")}:${u[2].toString().padStart(2,"0")}`)},1e3);return()=>{clearInterval(o)}},[n]);const i=B.useMemo(()=>{if(!n)return;const{next_funding_time:s,est_funding_rate:o=0}=n;return bl()>s?null:new Fe(Number(o)*100).toFixed(4,Fe.ROUND_DOWN)},[n]);return{...n,est_funding_rate:i,countDown:e}},R1t=(t,e)=>{if(!t||!e)return 0;const n={"1d":1,"3d":3,"7d":7,"14d":14,"30d":30,"90d":90}[e]*3;return t.positive/n},VPt=()=>{const{data:t,isLoading:e,...r}=Rs("/v1/public/market_info/funding_history");return{data:t??[],isLoading:e,getPositiveRates:(n,i)=>n!=null&&n.length?n.reduce((s,o)=>(s[o.symbol]=R1t(o.funding[i],i),s),{}):{}}},M1t=(t,e)=>{const r=vK(t,e);if(r)return HM(r)},HM=t=>{var s,o;let e,r;const n=(s=t==null?void 0:t.child_orders)==null?void 0:s.find(a=>a.algo_type===di.TAKE_PROFIT),i=(o=t==null?void 0:t.child_orders)==null?void 0:o.find(a=>a.algo_type===di.STOP_LOSS);return n&&(e=n.trigger_price),i&&(r=i.trigger_price),{tp_trigger_price:e,sl_trigger_price:r}},vK=(t,e)=>t==null?void 0:t.find(r=>r.symbol===e&&r.algo_type===Ai.POSITIONAL_TP_SL&&(r.root_algo_status===If.NEW||r.root_algo_status===If.REPLACED||r.root_algo_status===If.PARTIAL_FILLED)),GPt=(t="all",e)=>{const{calcMode:r}=e||{},{includedPendingOrder:n=!1}=e||{},i=B.useRef(null),s=bK(),[o]=KSe({symbol:t==="all"?void 0:t,status:If.INCOMPLETE,includes:[Ai.POSITIONAL_TP_SL,Ai.TP_SL],size:500},{keeplive:!0}),{positions:a}=CI(x=>x.apis);B.useEffect(()=>{if(t!=="all")return i.current=new yK(t),s.register("position",i.current),s.register("markPrice",i.current),s.register("indexPrice",i.current),()=>{s.unregister("position",i.current),s.unregister("markPrice",i.current),s.unregister("indexPrice",i.current)}},[t]);const u=ph(x=>{const k=x.positions[t]??MI;return[k.rows,V7(["rows"],k)]}),{totalCollateral:f,totalValue:d,totalUnrealizedROI:g}=Qa(x=>x.portfolio),y=B.useMemo(()=>{let x=u[1];if(!x)return{};if(r==="markPrice")return x;const{total_unreal_pnl_index:k,unrealPnlROI_index:R,...C}=x;return{...C,unrealPnL:k,total_unreal_pnl:k,unrealPnlROI:R}},[r]);let b=u[0];b||(b=[]),n?b=b.filter(x=>x.position_qty!==0||x.pending_long_qty!==0||x.pending_short_qty!==0):b=b.filter(x=>x.position_qty!==0),r==="lastPrice"&&(b=b.map(x=>{const{unrealized_pnl_index:k,unrealized_pnl_ROI_index:R,...C}=x;return{...C,unrealized_pnl:k??0,unsettled_pnl_ROI:R??0}})),Array.isArray(o)&&o.length&&(b=b.map(x=>{const k=vK(o,x.symbol),R=k?HM(k):void 0;return{...x,tp_trigger_price:R==null?void 0:R.tp_trigger_price,sl_trigger_price:R==null?void 0:R.sl_trigger_price,algo_order:k}}));const A=WM(y,1);return[{rows:b,aggregated:(u==null?void 0:u[1])??{},totalCollateral:f,totalValue:d,totalUnrealizedROI:g},A,{loading:a.loading,isLoading:a.loading}]};VO(0,[0,"aggregated","unsettledPnL"]);var KSe=(t,e)=>{var ie;const{status:r,symbol:n,side:i,size:s=50,page:o,dateRange:a}=t,[u,f]=B.useState(t.includes??["ALL"]),[d,g]=B.useState(t.excludes??[]),{data:y}=jM(),{registerKeyHandler:b,unregisterKeyHandler:A}=cbt(),[x,{error:k,isMutating:R}]=ga("/v1/order","DELETE"),[C]=ga("/v1/orders","DELETE"),[P,{error:O,isMutating:q}]=ga("/v1/order","PUT"),[Q,{error:Y,isMutating:X}]=ga("/v1/algo/order","DELETE"),[Z]=ga("/v1/algo/orders","DELETE"),[le,{error:I,isMutating:c}]=ga("/v1/algo/order","PUT");B.useEffect(()=>{const J=fe=>fe?`:${fe}`:"",V=`orders${J(r)}${J(n)}${J(i)}${J(s.toString())}`;return b==null||b(V,Rte({status:r,symbol:n,side:i,size:s,page:o,dateRange:a})),()=>{e!=null&&e.stopOnUnmount&&A(V)}},[r,n,i,s,o,a,e==null?void 0:e.keeplive]);const h=Nyt(Rte({status:r,symbol:n,side:i,size:s,page:o,dateRange:a}),{initialSize:1,formatter:J=>J,revalidateOnFocus:!1}),p=B.useMemo(()=>{var V,fe;if(!h.data)return null;let J=(fe=(V=h.data)==null?void 0:V.map(Te=>Te.rows))==null?void 0:fe.flat();return u.includes("ALL")&&d.length===0?J:u.includes("ALL")&&d.length>0?J==null?void 0:J.filter(Te=>!d.includes(Te.algo_type)):u.length>0&&d.length===0?J==null?void 0:J.filter(Te=>u.includes(Te.algo_type)):u.length>0&&d.length>0?J==null?void 0:J.filter(Te=>u.includes(Te.algo_type)&&!d.includes(Te.algo_type)):J},[h.data,u,d]),m=B.useMemo(()=>p?r!==If.NEW&&r!==If.INCOMPLETE?p:p.map(J=>{const V={...J,mark_price:(y??{})[J.symbol]??0};return(V.algo_type===Ai.POSITIONAL_TP_SL||V.algo_type===Ai.TP_SL)&&(V.quantity=V.child_orders[0].quantity),V}):null,[p,y,r]),v=B.useMemo(()=>(m==null?void 0:m.length)||0,[m==null?void 0:m.length]),_=J=>{if(!J)throw new ar("Types is required");if(!Array.isArray(J))throw new ar("Types should be an array");return Promise.all(J.map(V=>Z(null,{algo_type:V})))},T=B.useCallback(()=>Promise.all([C(null),Z(null,{algo_type:"STOP"})]),[h.data]),w=B.useCallback(()=>_([Ai.POSITIONAL_TP_SL,Ai.TP_SL]),[h.data]),l=B.useCallback((J,V,fe)=>{switch(fe){case"algoOrder":return le({order_id:J,price:V.order_price,quantity:V.order_quantity,trigger_price:V.trigger_price});default:return P({...V,order_id:J})}},[]),S=B.useCallback((J,V)=>l(J,V,"normalOrder"),[]),N=B.useCallback((J,V)=>l(J,V,"algoOrder"),[]),F=B.useCallback((J,V,fe)=>{switch(V){case"algoOrder":return Q(null,{order_id:J,symbol:fe,source:`SDK${Tte}`}).then(Te=>{if(Te.success)return h.mutate(),Te;throw new Error(Te.message)});default:return x(null,{order_id:J,symbol:fe,source:`SDK_${Tte}`}).then(Te=>{if(Te.success)return Te;throw new Error(Te.message)})}},[]),W=B.useCallback((J,V)=>F(J,"normalOrder",V),[]),D=B.useCallback((J,V)=>F(J,"algoOrder",V),[]),K=()=>{h.setSize(h.size+1)},z=B.useCallback((J,V)=>le({order_id:V,child_orders:[{order_id:J,is_activated:!1}]}),[]),G=B.useCallback((J,V)=>{if(!Array.isArray(V))throw new ar("Children orders is required");return le({order_id:J,child_orders:V})},[]),te=B.useMemo(()=>{var J,V;return(V=(J=h.data)==null?void 0:J[0])==null?void 0:V.meta},[(ie=h.data)==null?void 0:ie[0]]);return[m,{total:v,isLoading:h.isLoading,refresh:h.mutate,loadMore:K,cancelAllOrders:T,cancelAllTPSLOrders:w,cancelAlgoOrdersByTypes:_,updateOrder:S,cancelOrder:W,updateAlgoOrder:N,cancelAlgoOrder:D,cancelTPSLChildOrder:z,updateTPSLOrder:G,meta:te,errors:{cancelOrder:k,updateOrder:O,cancelAlgoOrder:Y,updateAlgoOrder:I},submitting:{cancelOrder:R,updateOrder:q,cancelAlgoOrder:X,updateAlglOrder:c}}]},YPt=(t,e={})=>{if(!t)throw new ar("Symbol is required");const[r,n]=B.useState([]),[i,s]=B.useState(!1),{limit:o=50}=e,a=xa();return B.useEffect(()=>{s(!0),n(()=>[]),a.onceSubscribe({id:`${t}@trade`,event:"request",params:{type:"trade",symbol:t,limit:o}},{onMessage:u=>{s(!1),n(()=>u)}})},[t]),B.useEffect(()=>{const u=a.subscribe({id:`${t}@trade`,event:"subscribe",topic:`${t}@trade`,ts:bl()},{onMessage:f=>{n(d=>{const g=[{...f,ts:bl()},...d];return g.length>o&&g.pop(),g})}});return()=>{u==null||u()}},[t]),{data:r,isLoading:i}},L2=(t={dp:6})=>{const{dp:e}=t,{totalCollateral:r,totalValue:n,freeCollateral:i,availableBalance:s,unsettledPnL:o}=Qa(u=>u.portfolio),a=Qa(u=>u.accountInfo);return{totalCollateral:r.toDecimalPlaces(e).toNumber(),freeCollateral:i.toDecimalPlaces(e).toNumber(),totalValue:(n==null?void 0:n.toDecimalPlaces(e).toNumber())??null,availableBalance:s,unsettledPnL:o,accountInfo:a}},wK=(t,e,r=!1)=>{const n=mK(),[i]=KSe({status:If.NEW,size:500}),s=$Se(),o=nd(),{totalCollateral:a}=L2(),{data:u}=jM(),f=B.useMemo(()=>{if(!t)return 0;const d=no.getQtyFromPositions(n===null?[]:n,t);if(r)return d>0?e===or.BUY?0:Math.abs(d):d<0&&e===or.BUY?Math.abs(d):0;if(!u||!u[t]||!i||!s)return 0;const g=o[t],y=i.filter(C=>C.algo_order_id===void 0||C.algo_type==="BRACKET"),b=no.getQtyFromOrdersBySide(y,t,or.BUY),A=no.getQtyFromOrdersBySide(y,t,or.SELL),x=Array.isArray(n)?n.filter(C=>C.symbol!==t):[],k=y.filter(C=>C.symbol!==t),R=no.otherIMs({orders:k,positions:x,symbolInfo:o,markPrices:u,IMR_Factors:s.imr_factor,maxLeverage:s.max_leverage});return no.maxQty(e,{markPrice:u[t],symbol:t,baseMaxQty:g("base_max"),totalCollateral:a,maxLeverage:s.max_leverage,takerFeeRate:s.futures_taker_fee_rate,baseIMR:g("base_imr"),otherIMs:R,positionQty:d,buyOrdersQty:b,sellOrdersQty:A,IMR_Factor:s.imr_factor[t]})},[t,n,r,u,i,s,o,e,a]);return Math.max(f,0)},ZPt=()=>{const t=ph(f=>f.positions.all),{rows:e}=t,{notional:r}=t,{state:n}=Dg(),{data:i}=jM(),{totalCollateral:s}=L2(),o=B.useMemo(()=>!e||!i||!s||e.length===0?0:no.totalMarginRatio({totalCollateral:s,markPrices:i,positions:e??[]}),[e,i,s]),a=B.useMemo(()=>n.status>=Wn.EnableTrading||n.status===Wn.EnableTradingWithoutConnected?no.currentLeverage(o):null,[o,n.status]),u=B.useMemo(()=>{if(!e||e.length<=0||r==null)return null;let f=Ui;for(let d=0;d<e.length;d++){const g=e[d];g.mm!==null&&(f=f.add(g.mm))}return no.MMR({positionsMMR:f.toNumber(),positionsNotional:r})},[e,r]);return{marginRatio:o,currentLeverage:a,mmr:u}},C1t=[421614,901901901,V1];function jSe(t,e={}){const{pick:r,...n}=e,{filteredChains:i,configStore:s,customChains:o}=B.useContext(qh),a=B.useRef(e==null?void 0:e.filter);a.current=e==null?void 0:e.filter;const u=B.useRef(new Map),f={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!0,dedupingInterval:36e5,...n},{data:d,error:g}=Rs("https://api.orderly.org/v1/public/token",{...f}),{data:y}=Rs("https://testnet-api.orderly.org/v1/public/token",{...f,fallbackData:qCe([HCe,jCe])}),b=s.get("brokerId"),A=e.forceAPI||!o,{data:x,error:k}=Rs(A?`https://api.orderly.org/v1/public/chain_info${b!=="orderly"?`?broker_id=${b}`:""}`:null,{...f}),{data:R,error:C}=Rs(A?`https://testnet-api.orderly.org/v1/public/chain_info${b!=="orderly"?`?broker_id=${b}`:""}`:null,{...f,fallbackData:[WCe,KCe],onError:Q=>{}}),P=B.useMemo(()=>{const Q=Lte(d,a.current,x),Y=Lte(y,void 0,R);let X=A?Dte(Y,R,void 0,!0):o==null?void 0:o.testnet;Q==null||Q.forEach(le=>{var c;const I=(c=le.network_infos)==null?void 0:c.chain_id;u.current.set(I,le)}),X.forEach(le=>{var I;u.current.set((I=le.network_infos)==null?void 0:I.chain_id,le)});let Z=[];return Z=Dte(Q,x,a.current),Z=A?Z:o==null?void 0:o.mainnet,Z.forEach(le=>{var c;const I=(c=le.network_infos)==null?void 0:c.chain_id;u.current.set(I,le)}),Z=Fte(Z,i==null?void 0:i.mainnet),X=Fte(X,(i==null?void 0:i.testnet)??C1t.map(le=>({id:le}))),r&&(X=X.map(le=>le[r]),Z=Z.map(le=>le[r])),t==="mainnet"?Z:t==="testnet"?X:{testnet:X,mainnet:Z}},[t,d,x,R,y,o,r,i]),O=B.useCallback((Q,Y)=>{var Z,le;const X=u.current.get(Q);return X&&(X.nativeToken=((Z=X.token_infos)==null?void 0:Z.find(I=>I.address===dne))||{symbol:(le=X.network_infos)==null?void 0:le.currency_symbol}),typeof Y=="string"?q7(Y,X):X},[P,u]),q=B.useCallback((Q,Y)=>{const X=Array.isArray(P)?P:P[Y];return P1t(Q,X)},[P]);return[P,{findByChainId:O,checkChainSupport:q,error:g}]}function P1t(t,e){return typeof t=="string"&&(t=parseInt(t)),e.some(r=>r.network_infos.chain_id===t)}function Lte(t,e,r){let n=[];return t==null||t.forEach(i=>{i.chain_details.forEach(s=>{const o=Number(s.chain_id),a=r==null?void 0:r.find(f=>f.chain_id==o),u={network_infos:{name:s.chain_name??(a==null?void 0:a.name)??"--",chain_id:o,withdrawal_fee:s.withdrawal_fee,cross_chain_withdrawal_fee:s.cross_chain_withdrawal_fee,bridgeless:!0},token_infos:[{symbol:i.token,address:s.contract_address,decimals:s.decimals,display_name:s.display_name}]};typeof e=="function"&&!e(u)||n.push(u)})}),n}function Dte(t,e,r,n){const i=[];return t.forEach(s=>{let o={...s};const a=e==null?void 0:e.find(u=>u.chain_id==s.network_infos.chain_id);if(a){const{name:u,public_rpc_url:f,currency_symbol:d,explorer_base_url:g}=a;o.network_infos={...o.network_infos,name:u,shortName:u,public_rpc_url:f,currency_symbol:d,bridge_enable:!0,mainnet:!n,explorer_base_url:g}}typeof r=="function"&&!r(o)||a&&i.push(o)}),i}function Fte(t,e){return e?t.filter(r=>e.some(n=>{var i;return n.id===parseInt((i=r==null?void 0:r.network_infos)==null?void 0:i.chain_id)})):t}function XPt(){const[t,e]=UM(ZCe,null);return{storageChain:t,setStorageChain:n=>{let i=gl.evm;YCe.has(n)&&(i=gl.solana),e({chainId:n,namespace:i})}}}var N1t=()=>{const t=xa(),{data:e,isLoading:r,mutate:n}=vc("/v1/client/holding",{formatter:s=>s.holding}),i=B.useMemo(()=>e==null?void 0:e.find(o=>o.token==="USDC"),[e]);return Fw("holding",(s,{next:o})=>{const a=t.privateSubscribe({id:"balance",event:"subscribe",topic:"balance",ts:bl()},{onMessage:u=>{const f=(u==null?void 0:u.balances)??{};f&&(n(d=>d==null?void 0:d.map(g=>{const y=f[g.token];return{...g,frozen:y.frozen,holding:y.holding}})),o(f))}});return()=>a()}),{data:e,usdc:i,isLoading:r}},QPt=t=>{const{account:e,state:r}=Dg(),[n,i]=B.useState(!1),{unsettledPnL:s,availableBalance:o,freeCollateral:a}=L2(),u=Vh("networkId"),[f,{findByChainId:d}]=jSe(void 0),g=Gh(),{track:y}=$M();N1t();const b=B.useMemo(()=>a,[a]),A=B.useMemo(()=>s<0?a:a-s,[a,s]),x=B.useMemo(()=>{var P;let C;return u==="testnet"?C=d(bae(t==null?void 0:t.srcChainId)?t==null?void 0:t.srcChainId:E9):(C=d(t==null?void 0:t.srcChainId),(P=C==null?void 0:C.network_infos)!=null&&P.bridgeless||(C=d(fne))),C},[u,d,t==null?void 0:t.srcChainId]),k=B.useMemo(()=>{var P,O;const C=x==null?void 0:x.token_infos.find(q=>q.symbol==="USDC");return{symbol:(C==null?void 0:C.display_name)||"USDC",decimals:(C==null?void 0:C.decimals)||6,address:C==null?void 0:C.address,chainId:(P=x==null?void 0:x.network_infos)==null?void 0:P.chain_id,network:(O=x==null?void 0:x.network_infos)==null?void 0:O.shortName}},[x]),R=B.useCallback(C=>e.assetsManager.withdraw(C).then(P=>{var O;return P.success&&g.emit(kh.withdrawSuccess,{wallet:(O=r==null?void 0:r.connectWallet)==null?void 0:O.name,network:x==null?void 0:x.network_infos.name,quantity:C.amount}),P}).catch(P=>{var O;throw y(kh.withdrawFailed,{wallet:(O=r==null?void 0:r.connectWallet)==null?void 0:O.name,network:x==null?void 0:x.network_infos.name,msg:JSON.stringify(P)}),P}),[r,x,r]);return{dst:k,withdraw:R,isLoading:n,maxAmount:b,availableBalance:o,availableWithdraw:A,unsettledPnL:s}},JPt=t=>{const e=Vh("networkId"),[r,n]=B.useState(!1),[i,s]=B.useState(!1);Gh();const[o,{findByChainId:a}]=jSe(void 0),[u,f]=B.useState(""),[d,g]=B.useState(0n),[y,b]=B.useState(!1),[A,x]=B.useState("0"),[k,R]=B.useState("0"),{account:C,state:P}=Dg(),{track:O}=$M(),q=B.useRef(),Q=B.useRef(),Y=B.useMemo(()=>{var W;let F;return e==="testnet"?F=a(bae(t==null?void 0:t.srcChainId)?t==null?void 0:t.srcChainId:E9):(F=a(t==null?void 0:t.srcChainId),(W=F==null?void 0:F.network_infos)!=null&&W.bridgeless||(F=a(fne))),F},[e,a,t==null?void 0:t.srcChainId]),X=B.useMemo(()=>{var W,D;const F=Y==null?void 0:Y.token_infos.find(K=>K.symbol==="USDC");return{symbol:"USDC",address:F==null?void 0:F.address,decimals:F==null?void 0:F.decimals,chainId:(W=Y==null?void 0:Y.network_infos)==null?void 0:W.chain_id,network:(D=Y==null?void 0:Y.network_infos)==null?void 0:D.shortName}},[Y]),Z=B.useMemo(()=>LS((t==null?void 0:t.address)||""),[t==null?void 0:t.address]),le=B.useCallback(async(F,W)=>{let D;return F&&LS(F)?D=await C.assetsManager.getNativeBalance({decimals:W}):D=await C.assetsManager.getBalance(F,{decimals:W}),D},[]),I=B.useCallback(async(F,W)=>{if(F)try{const D=await le(F,W);x(()=>D)}catch{x(()=>"0")}},[P]),c=B.useCallback(async F=>{const W=[];for(const D of F)LS(D.address)||W.push(C.assetsManager.getBalanceByAddress(D.address,{decimals:D==null?void 0:D.decimals}));await Promise.all(W)},[]),h=async F=>{const{address:W,vaultAddress:D,decimals:K}=F,z=`${W}-${D}`;if(q.current===z||!W||!D||W&&LS(W))return;q.current=z;const G=await C.assetsManager.getAllowance({address:W,vaultAddress:D,decimals:K});return R(()=>G),G},p=async F=>{const{address:W,decimals:D}=F;if(q.current===W||!W||LS(W))return;q.current=W;const K=await C.assetsManager.getAllowance({address:W,decimals:D});R(()=>K)},m=Zv((F,W)=>{I(F,W).finally(()=>{n(!1)})},100),v=Zv(F=>{h(F)},100);B.useEffect(()=>{var W;if(P.status<Wn.Connected)return;n(!0),m(t==null?void 0:t.address,t==null?void 0:t.decimals);const F={address:t==null?void 0:t.address,decimals:t==null?void 0:t.decimals};if(((W=C.walletAdapter)==null?void 0:W.chainNamespace)===gl.solana){R(C.walletAdapter.formatUnits(eT));return}X.chainId!==(t==null?void 0:t.srcChainId)||X.symbol!==(t==null?void 0:t.srcToken)?v(F):p(F)},[P.status,t==null?void 0:t.address,t==null?void 0:t.srcChainId,t==null?void 0:t.srcToken,t==null?void 0:t.decimals,C.address,X.chainId,X.symbol]);const _=B.useCallback(F=>{var W;return(W=C.walletAdapter)==null?void 0:W.pollTransactionReceiptWithBackoff(F).then(D=>{D.status===1&&C.assetsManager.getAllowance({address:t==null?void 0:t.address}).then(K=>{R(()=>K)})})},[C,t==null?void 0:t.address]),T=B.useCallback(async F=>{if(!(t!=null&&t.address))throw new ar("Address is required");return C.assetsManager.approve({address:t.address,amount:F}).then(W=>_(W.hash)).catch(W=>{})},[C,h,t==null?void 0:t.address,X]),w=B.useCallback(async()=>{if(!(t!=null&&t.address))throw new ar("Address is required");const F=await C.assetsManager.getAllowance({address:t==null?void 0:t.address});if(R(()=>F),new Fe(u).greaterThan(F))throw new ar("Insufficient allowance");return C.assetsManager.deposit(u,d).then(W=>{var D;return O(kh.depositSuccess,{wallet:(D=P==null?void 0:P.connectWallet)==null?void 0:D.name,network:Y==null?void 0:Y.network_infos.name,quantity:u}),_(W.hash),x(K=>new Fe(K).sub(u).toString()),W}).catch(W=>{var D,K;throw O(kh.depositFailed,{wallet:(D=P==null?void 0:P.connectWallet)==null?void 0:D.name,network:(K=Y==null?void 0:Y.network_infos)==null?void 0:K.name,msg:JSON.stringify(W)}),W})},[C,I,u,d,t==null?void 0:t.address]),l=async()=>{var W;Q.current&&clearTimeout(Q.current);const F=((W=C.walletAdapter)==null?void 0:W.chainNamespace)===gl.solana?1e4:3e3;Q.current=setTimeout(async()=>{try{const D=await le(t==null?void 0:t.address,t==null?void 0:t.decimals);x(D),l()}catch{}},F)},S=B.useCallback(async F=>C.assetsManager.getDepositFee(F,Y==null?void 0:Y.network_infos),[C,Y]),N=B.useCallback(()=>{if(isNaN(Number(u))||!u||Number(u)===0){g(0n),b(!1);return}b(!0),S(u).then((F=0n)=>{const W=BigInt(new Fe(F.toString()).mul(zCe).toFixed(0,Fe.ROUND_UP).toString());g(W)}).catch(F=>{}).finally(()=>{b(!1)})},[u]);return B.useEffect(()=>{N()},[u]),B.useEffect(()=>{if(t!=null&&t.address)return l(),()=>{Q.current&&clearTimeout(Q.current)}},[t==null?void 0:t.address,t==null?void 0:t.decimals]),{dst:X,balance:A,allowance:k,isNativeToken:Z,balanceRevalidating:r,allowanceRevalidating:i,quantity:u,depositFee:d,depositFeeRevalidating:y,approve:T,deposit:w,fetchBalances:c,fetchBalance:le,setQuantity:f}},eNt=t=>{const e=xa();return Fw("wallet",(r,{next:n})=>{const i=e.privateSubscribe({id:"wallet",event:"subscribe",topic:"wallet",ts:Date.now()},{onMessage:s=>{var o;(o=t==null?void 0:t.onMessage)==null||o.call(t,s),n(null,s)}});return()=>i()})},tNt=t=>{const e=xa();return Fw("settle",(r,{next:n})=>{const i=e.privateSubscribe({id:"settle",event:"subscribe",topic:"settle",ts:bl()},{onMessage:s=>{var o;(o=t==null?void 0:t.onMessage)==null||o.call(t,s),n(s)}});return()=>i()})},rNt=(t,e,r)=>{const n=nd(),i=n==null?void 0:n[t]("price_range"),s=n==null?void 0:n[t]("price_scope"),{data:o}=jM(),a=r||(o==null?void 0:o[t]);return B.useMemo(()=>{if(!(n===void 0||a===void 0)&&!(i===void 0||Number.isNaN(a)))return e==="BUY"?{max:new Fe(a).mul(1+i).toNumber(),min:new Fe(a).mul(1-s).toNumber()}:{max:new Fe(a).mul(1+s).toNumber(),min:new Fe(a).mul(1-i).toNumber()}},[t,e,i,a])};function B1t(t){const{offset:e,entryPrice:r,orderType:n,orderSide:i}=t;if(e){if(i===or.BUY)return n===di.TAKE_PROFIT?new Fe(r).add(new Fe(e)).toNumber():new Fe(r).minus(new Fe(e)).toNumber();if(i===or.SELL)return n===di.TAKE_PROFIT?new Fe(r).minus(new Fe(e)).toNumber():new Fe(r).add(new Fe(e)).toNumber()}}function O1t(t,e={}){const{price:r,entryPrice:n,orderType:i,orderSide:s}=t,{symbol:o}=e;let a;return s===or.BUY&&(i===di.TAKE_PROFIT&&(a=new Fe(r).minus(new Fe(n))),a=new Fe(r).minus(new Fe(n))),s===or.SELL&&(i===di.TAKE_PROFIT&&(a=new Fe(r).minus(new Fe(n))),a=new Fe(n).minus(new Fe(r))),o?a.abs().todp(o.quote_dp,Fe.ROUND_UP).toNumber():a.abs().toNumber()}function L1t(t){const{percentage:e,entryPrice:r,orderType:n,orderSide:i}=t;if(e){if(i===or.BUY)return n===di.TAKE_PROFIT?new Fe(1).add(new Fe(e)).mul(new Fe(r)).toNumber():new Fe(1).minus(new Fe(e)).mul(new Fe(r)).toNumber();if(i===or.SELL)return n===di.TAKE_PROFIT?new Fe(1).minus(new Fe(e)).mul(new Fe(r)).toNumber():new Fe(1).add(new Fe(e)).mul(new Fe(r)).toNumber()}}function D1t(t){const{price:e,entryPrice:r,orderType:n,orderSide:i}=t;if(i===or.BUY)return r===0?0:n===di.TAKE_PROFIT?new Fe(e).div(new Fe(r)).minus(1).toDecimalPlaces(4,Fe.ROUND_DOWN).toNumber():new Fe(1).minus(new Fe(e).div(new Fe(r))).toDecimalPlaces(4,Fe.ROUND_DOWN).toNumber();if(i===or.SELL)return r===0?0:n===di.TAKE_PROFIT?new Fe(1).minus(new Fe(e).div(new Fe(r))).abs().toDecimalPlaces(4,Fe.ROUND_DOWN).toNumber():new Fe(e).div(new Fe(r)).minus(1).toDecimalPlaces(4,Fe.ROUND_DOWN).toNumber()}function F1t(t){const{qty:e,pnl:r,entryPrice:n,orderType:i,orderSide:s}=t;if(r&&e!==0){if(s===or.BUY)return i===di.TAKE_PROFIT?new Fe(n).plus(new Fe(r).div(new Fe(e))).toNumber():new Fe(n).add(new Fe(r).div(new Fe(e))).toNumber();if(s===or.SELL)return i===di.TAKE_PROFIT?new Fe(n).add(new Fe(r).div(new Fe(e))).toNumber():new Fe(n).add(new Fe(r).div(new Fe(e))).toNumber()}}function HSe(t,e={}){const{qty:r,price:n,entryPrice:i,orderType:s,orderSide:o}=t,{symbol:a}=e;let u=Ui;return o===or.BUY&&(s===di.TAKE_PROFIT&&(u=new Fe(r).mul(new Fe(n).minus(new Fe(i)))),u=new Fe(r).mul(new Fe(n).minus(new Fe(i)))),o===or.SELL&&(s===di.TAKE_PROFIT&&(u=new Fe(r).mul(new Fe(n).minus(new Fe(i)))),u=new Fe(r).mul(new Fe(n).minus(new Fe(i)))),a?u.todp(2,Fe.ROUND_DOWN).toNumber():u.toNumber()}function G_(t){const e=Number(t.qty),r=Number(t.price);return e===0||r===0?"0":new Fe(t.pnl).div(new Fe(e).abs().mul(new Fe(r))).toString()}function qSe(t,e,r={}){var y;const{symbol:n}=r;if(t!=="quantity"&&t!=="tp_trigger_price"&&t!=="sl_trigger_price"&&t!=="tp_pnl"&&t!=="sl_pnl"&&t!=="tp_offset"&&t!=="sl_offset"&&t!=="tp_offset_percentage"&&t!=="sl_offset_percentage")return{[t]:e.value};const i=t.startsWith("tp_")?di.TAKE_PROFIT:di.STOP_LOSS,s=t.slice(0,3);let o=Number(t==="quantity"?e.value:e.qty);if(o===0&&(t==="tp_pnl"||t==="sl_pnl"||t==="tp_trigger_price"||t==="sl_trigger_price"))return{[`${s}trigger_price`]:"",[`${s}pnl`]:"",[t]:e.value};let a,u,f,d;const g=new Fe(e.entryPrice).todp(((y=r.symbol)==null?void 0:y.quote_dp)??2,Fe.ROUND_UP).toNumber();switch(t){case"tp_trigger_price":case"sl_trigger_price":{if(a=e.value,e.value==="")return{[`${s}trigger_price`]:a,[`${s}offset`]:"",[`${s}offset_percentage`]:"",[`${s}pnl`]:"",[`${s}ROI`]:""};break}case"tp_pnl":case"sl_pnl":{d=e.value,a=F1t({qty:o,pnl:Number(e.value),entryPrice:g,orderSide:e.orderSide,orderType:i});break}case"tp_offset":case"sl_offset":{u=e.value,a=B1t({offset:Number(e.value),entryPrice:g,orderSide:e.orderSide,orderType:t==="tp_offset"?di.TAKE_PROFIT:di.STOP_LOSS});break}case"tp_offset_percentage":case"sl_offset_percentage":{f=e.value,a=L1t({percentage:Number(`${e.value}`.replace(/\.0{0,2}$/,"")),entryPrice:g,orderSide:e.orderSide,orderType:i});break}}return a?{[`${s}trigger_price`]:yae(a,(n==null?void 0:n.quote_dp)??2),[`${s}offset`]:u??O1t({price:Number(a),entryPrice:g,orderSide:e.orderSide,orderType:i},r),[`${s}offset_percentage`]:f??D1t({price:Number(a),entryPrice:g,orderSide:e.orderSide,orderType:i}),[`${s}pnl`]:d??HSe({qty:o,price:Number(a),entryPrice:g,orderSide:e.orderSide,orderType:i},r)}:{[`${s}trigger_price`]:"",[`${s}offset`]:"",[`${s}offset_percentage`]:"",[`${s}pnl`]:"",[`${s}ROI`]:"",[t]:e.value}}function VSe(t){const{price:e,base_tick:r,qty:n,min_notional:i,base_dp:s,quote_dp:o,quote_tick:a}=t;if(e!==void 0&&n!==void 0&&i!==void 0)try{const u=new Fe(e).mul(new Fe(n)).toNumber(),f=Number.parseFloat(`${i}`);if(u<f){let d=new Fe(f).div(e).toDecimalPlaces(s,Fe.ROUND_DOWN).add(r??0);return r&&r>0&&(d=new Fe($1t(d.toNumber(),r))),d.mul(e).add(a??0).toFixed(o)}}catch{}}function $1t(t,e){const r=new Fe(t),n=new Fe(e);return r.dividedToIntegerBy(n).mul(n).toNumber()}var gr=class{static getLabel(t){switch(t){case"quantity":case"order_quantity":return"Quantity";case"order_price":return"Price";case"trigger_price":return"Trigger price";case"tp_trigger_price":return"TP price";case"sl_trigger_price":return"SL price";default:return t}}static required(t){return{type:"required",message:`${this.getLabel(t)} is required`}}static min(t,e){return{type:"min",message:`${this.getLabel(t)} must be greater than ${e}`,value:e}}static max(t,e){return{type:"max",message:`${this.getLabel(t)} must be less than ${e}`,value:e}}},oS=class{baseOrder(t){const e={symbol:t.symbol,order_type:t.order_type===Ht.LIMIT&&t.order_type_ext?t.order_type_ext:t.order_type,side:t.side,reduce_only:t.reduce_only,order_quantity:t.order_quantity,total:t.total};t.visible_quantity===0&&(e.visible_quantity=t.visible_quantity);const r=this.parseBracketOrder(t);return r?{...e,algo_type:Ai.BRACKET,child_orders:[r]}:e}baseValidate(t,e){const r={},{maxQty:n,symbol:i,markPrice:s}=e;let{order_quantity:o,total:a,order_price:u,reduce_only:f,order_type:d}=t;const{min_notional:g,base_tick:y,quote_dp:b,quote_tick:A,base_dp:x}=i||{};if(!o&&a&&u){const{quote_dp:C}=e.symbol;o=new Fe(a).dividedBy(u).toFixed(C)}if(!o)r.order_quantity=gr.required("order_quantity");else{const{base_min:C,quote_dp:P,base_dp:O}=e.symbol,q=new Fe(o);q.lt(C)?r.order_quantity=gr.min("order_quantity",new Fe(C).todp(O).toString()):q.gt(n)&&(r.order_quantity=gr.max("order_quantity",new Fe(n).todp(O).toString()))}const k=`${d}`.includes("MARKET")?s:u,R=VSe({base_tick:y,quote_tick:A,price:k,qty:o,min_notional:g,quote_dp:b,base_dp:x});return R!==void 0&&!f&&(r.total={type:"min",message:`The order value should be greater or equal to ${R} USDC`,value:R}),this.validateBracketOrder(t,e,r),Promise.resolve(r)}totalToQuantity(t,e){if(!t.order_quantity&&t.total&&t.order_price){const{base_dp:r}=e.symbol,i=new Fe(t.total).div(t.order_price).toDecimalPlaces(r);t.order_quantity=i.toNumber(),delete t.total}return t}get type(){return this.orderType}parseBracketOrder(t){const e=[],r=t.side===or.BUY?or.SELL:or.BUY;if(t.tp_trigger_price){const n=t.tp_trigger_price;e.push({algo_type:di.TAKE_PROFIT,side:r,type:Ht.CLOSE_POSITION,trigger_price:n,symbol:t.symbol,reduce_only:!0})}if(t.sl_trigger_price){const n=t.sl_trigger_price;e.push({algo_type:di.STOP_LOSS,side:r,type:Ht.CLOSE_POSITION,trigger_price:n,symbol:t.symbol,reduce_only:!0})}return e.length?{symbol:t.symbol,algo_type:Ai.POSITIONAL_TP_SL,child_orders:e}:null}validateBracketOrder(t,e,r){const{tp_trigger_price:n,sl_trigger_price:i,side:s,order_price:o}=t,{markPrice:a}=e;if(!n&&!i)return r;const u=!!n,f=!!i,{symbol:d}=e,{price_range:g,price_scope:y,quote_max:b,quote_min:A,quote_dp:x}=d,k=o||a;if(u){const R=new Fe(n);R.gt(b)&&(r.tp_trigger_price=gr.max("tp_trigger_price",b)),R.lt(A)&&(r.tp_trigger_price=gr.min("tp_trigger_price",A)),s===or.BUY&&R.lte(k)&&(r.tp_trigger_price=gr.min("tp_trigger_price",k)),s===or.SELL&&R.gte(k)&&(r.tp_trigger_price=gr.max("tp_trigger_price",k))}if(f){const R=new Fe(i);R.gt(b)&&(r.sl_trigger_price=gr.max("sl_trigger_price",b)),R.lt(A)&&(r.sl_trigger_price=gr.min("sl_trigger_price",A)),s===or.BUY&&R.gte(k)&&(r.sl_trigger_price=gr.max("sl_trigger_price",k)),s===or.SELL&&R.lte(k)&&(r.sl_trigger_price=gr.min("sl_trigger_price",k))}return r}},GSe=class extends oS{create(t){const e=this.baseOrder(t);return delete e.order_price,delete e.total,delete e.trigger_price,delete e.isStopOrder,{...e}}validate(t,e){return this.baseValidate(t,e)}},{maxPrice:U1t,minPrice:z1t,scopePrice:W1t}=wh,D2=class extends oS{constructor(){super(...arguments),this.orderType=Ht.LIMIT}create(t,e){const r={...this.baseOrder(t),order_price:t.order_price};return this.totalToQuantity(r,e),Zx(["symbol","order_price","order_quantity","visible_quantity","reduce_only","side","order_type","algo_type","child_orders"],r)}validate(t,e){return this.baseValidate(t,e).then(r=>{const{order_price:n,side:i}=t;if(!n)r.order_price=gr.required("order_price");else{const s=new Fe(n),{symbol:o}=e,{price_range:a,price_scope:u,quote_max:f,quote_min:d}=o,g=U1t(e.markPrice,a),y=z1t(e.markPrice,a),b=W1t(e.markPrice,u,i),A=i==="BUY"?{min:b,max:g}:{min:y,max:b};s.gt(f)?r.order_price=gr.max("order_price",f):s.gt(A==null?void 0:A.max)&&(r.order_price=gr.max("order_price",new Fe(A.max).todp(o.quote_dp).toString())),s.lt(d)?r.order_price=gr.min("order_price",d):s.lt(A==null?void 0:A.min)&&(r.order_price=gr.min("order_price",new Fe(A.min).todp(o.quote_dp).toString()))}return r})}},{maxPrice:K1t,minPrice:j1t,scopePrice:H1t}=wh,q1t=class extends oS{constructor(){super(...arguments),this.orderType=Ht.STOP_LIMIT}create(t,e){this.totalToQuantity(t,e);const r={...this.baseOrder(t),trigger_price:t.trigger_price,algo_type:Ai.STOP,type:Ht.LIMIT,quantity:t.order_quantity,price:t.order_price,trigger_price_type:sm.MARK_PRICE};return Zx(["symbol","trigger_price","algo_type","type","quantity","price","trigger_price_type","side","reduce_only","visible_quantity"],r)}validate(t,e){return this.baseValidate(t,e).then(r=>{const{order_price:n,trigger_price:i,side:s}=t,{symbol:o}=e,{price_range:a,price_scope:u,quote_max:f,quote_min:d}=o;if(i||(r.trigger_price=gr.required("trigger_price")),n||(r.order_price=gr.required("order_price")),i>f)r.trigger_price=gr.max("trigger_price",f);else if(i<d)r.trigger_price=gr.min("trigger_price",d);else if(i&&n){const g=new Fe(n),y=K1t(i,a),b=j1t(i,a),A=H1t(i,u,s),x=s==="BUY"?{min:A,max:y}:{min:b,max:A};g.gt(f)?r.order_price=gr.max("order_price",f):g.gt(x==null?void 0:x.max)&&(r.order_price=gr.max("order_price",new Fe(x.max).todp(o.quote_dp).toString())),g.lt(d)?r.order_price=gr.min("order_price",d):g.lt(x==null?void 0:x.min)&&(r.order_price=gr.min("order_price",new Fe(x.min).todp(o.quote_dp).toString()))}return r})}},V1t=class extends oS{create(t){return{...this.baseOrder(t),order_price:t.order_price,order_quantity:t.order_quantity}}validate(t,e){return super.baseValidate(t,e)}},G1t=class extends oS{create(t){const e={...this.baseOrder(t),trigger_price:t.trigger_price,algo_type:Ai.STOP,type:Ht.MARKET,quantity:t.order_quantity,trigger_price_type:sm.MARK_PRICE};return Zx(["symbol","trigger_price","algo_type","type","quantity","trigger_price_type","side","reduce_only","visible_quantity"],e)}validate(t,e){return this.baseValidate(t,e).then(r=>{const{order_price:n,trigger_price:i,side:s}=t,{symbol:o}=e,{quote_max:a,quote_min:u}=o;return i||(r.trigger_price=gr.required("trigger_price")),i>a?r.trigger_price=gr.max("trigger_price",a):i<u&&(r.trigger_price=gr.min("trigger_price",u)),r})}},Y1t=class extends D2{},Z1t=class extends D2{},X1t=class extends D2{},YSe=class{validate(t,e){const r=Object.create(null);return Promise.resolve().then(()=>{const{tp_trigger_price:n,sl_trigger_price:i,side:s}=t,o=Number(t.quantity),a=e.maxQty,u=t.order_type,{quote_max:f,quote_min:d,price_scope:g,quote_dp:y,base_min:b,min_notional:A}=e.symbol??{};!isNaN(o)&&o>a&&(r.quantity=gr.max("quantity",e.maxQty)),!isNaN(o)&&o<b&&(r.quantity=gr.min("quantity",b)),Number(n)<0&&(r.tp_trigger_price=gr.min("tp_trigger_price",0)),Number(i)<0&&(r.sl_trigger_price=gr.min("sl_trigger_price",0));const x=u===Ht.MARKET||u==null?e.markPrice:t.order_price?Number(t.order_price):void 0;if(s===or.BUY&&x){const k=new Fe(x*(1-g)).toDecimalPlaces(y,Fe.ROUND_DOWN).toNumber();i&&Number(i)<k&&(r.sl_trigger_price=gr.min("sl_trigger_price",k)),i&&Number(i)>e.markPrice&&(r.sl_trigger_price=gr.max("sl_trigger_price",e.markPrice)),n&&Number(n)<=e.markPrice&&(r.tp_trigger_price=gr.min("tp_trigger_price",e.markPrice)),n&&Number(n)>f&&(r.tp_trigger_price=gr.max("tp_trigger_price",f)),i&&Number(i)<d&&(r.sl_trigger_price=gr.min("sl_trigger_price",d))}if(s===or.SELL&&x){const k=new Fe(x*(1+g)).toDecimalPlaces(y,Fe.ROUND_DOWN).toNumber();i&&Number(i)>k&&(r.sl_trigger_price=gr.max("sl_trigger_price",k)),i&&Number(i)<e.markPrice&&(r.sl_trigger_price=gr.min("sl_trigger_price",e.markPrice)),n&&Number(n)>=e.markPrice&&(r.tp_trigger_price=gr.max("tp_trigger_price",e.markPrice)),n&&Number(n)>f&&(r.tp_trigger_price=gr.max("tp_trigger_price",f)),i&&Number(i)<d&&(r.sl_trigger_price=gr.min("sl_trigger_price",d))}return Object.keys(r).length>0?r:null})}},Q1t=class extends YSe{constructor(){super(...arguments),this.type=Ht.MARKET}create(t,e){const r=t.side===or.BUY?or.SELL:or.BUY,n=[];if(typeof t.tp_trigger_price<"u"){const i=t.tp_trigger_price?new Fe(t.tp_trigger_price).todp(e.symbol.quote_dp).toNumber():t.tp_trigger_price;n.push({algo_type:di.TAKE_PROFIT,reduce_only:!0,side:r,type:Ht.MARKET,trigger_price:i,symbol:t.symbol,is_activated:!!t.tp_trigger_price})}if(typeof t.sl_trigger_price<"u"){const i=t.sl_trigger_price?new Fe(t.sl_trigger_price).todp(e.symbol.quote_dp).toNumber():t.sl_trigger_price;n.push({algo_type:di.STOP_LOSS,reduce_only:!0,side:r,type:Ht.MARKET,trigger_price:i,symbol:t.symbol,is_activated:!!t.sl_trigger_price})}return{algo_type:Ai.TP_SL,trigger_price_type:sm.MARK_PRICE,reduce_only:!0,quantity:t.quantity,symbol:t.symbol,child_orders:n}}crateUpdateOrder(t,e,r){const n=this.create(t,r),i=[],s=t.quantity!==e.quantity;if(n.child_orders.forEach(o=>{var f;let a=Object.create(null);s&&(a.quantity=n.quantity);const u=(f=e.child_orders)==null?void 0:f.find(d=>d.algo_type===o.algo_type);u&&(o.is_activated?u.trigger_price!==o.trigger_price&&(a.trigger_price=o.trigger_price):a.is_activated=!1,Object.keys(a).length>0&&(a.order_id=Number(u.algo_order_id),i.push(a)))}),s&&i.length<2){const o=e.child_orders.filter(a=>a.algo_order_id!==i[0].order_id);o.length&&i.push({quantity:Number(n.quantity),order_id:o[0].algo_order_id})}return[{child_orders:i},n]}},J1t=class extends YSe{constructor(){super(...arguments),this.type=Ai.POSITIONAL_TP_SL}create(t,e){const r=t.side===or.BUY?or.SELL:or.BUY,n=[];if(typeof t.tp_trigger_price<"u"){const i=t.tp_trigger_price?new Fe(t.tp_trigger_price).todp(e.symbol.quote_dp).toNumber():t.tp_trigger_price;n.push({algo_type:di.TAKE_PROFIT,reduce_only:!0,side:r,type:Ht.CLOSE_POSITION,trigger_price:i,trigger_price_type:sm.MARK_PRICE,symbol:t.symbol,is_activated:!!t.tp_trigger_price})}if(typeof t.sl_trigger_price<"u"){const i=t.sl_trigger_price?new Fe(t.sl_trigger_price).todp(e.symbol.quote_dp).toNumber():t.sl_trigger_price;n.push({algo_type:di.STOP_LOSS,reduce_only:!0,side:r,type:Ht.CLOSE_POSITION,trigger_price:i,trigger_price_type:sm.MARK_PRICE,symbol:t.symbol,is_activated:!!t.sl_trigger_price})}return{algo_type:Ai.POSITIONAL_TP_SL,trigger_price_type:sm.MARK_PRICE,symbol:t.symbol,child_orders:n}}crateUpdateOrder(t,e,r){const n=this.create(t,r),i=[];return n.child_orders.forEach(s=>{var a;const o=(a=e.child_orders)==null?void 0:a.find(u=>u.algo_type===s.algo_type);o&&(s.is_activated?o.trigger_price!==s.trigger_price&&i.push({trigger_price:s.trigger_price,order_id:Number(o.algo_order_id)}):i.push({is_activated:!1,order_id:Number(o.algo_order_id)}))}),[{child_orders:i},n]}};async function ZSe(t,e){const r=Object.create(null);await Promise.resolve();const{tp_trigger_price:n,sl_trigger_price:i,side:s}=t,o=Number(t.quantity),a=e.maxQty,u=t.order_type,{quote_max:f,quote_min:d,price_scope:g,quote_dp:y}=e.symbol??{},b=u===Ht.MARKET?e.markPrice:t.order_price?Number(t.order_price):void 0;if(!isNaN(o)&&o>a&&(r.quantity=gr.max("quantity",e.maxQty)),Number(n)<0&&(r.tp_trigger_price=gr.min("tp_trigger_price",0)),Number(i)<0&&(r.sl_trigger_price=gr.min("sl_trigger_price",0)),s===or.BUY&&b){const A=new Fe(b*(1-g)).toDecimalPlaces(y,Fe.ROUND_DOWN).toNumber();i&&Number(i)<A&&(r.sl_trigger_price=gr.min("sl_trigger_price",A)),n&&Number(n)<=b&&(r.tp_trigger_price=gr.min("tp_trigger_price",b)),n&&Number(n)>f&&(r.tp_trigger_price=gr.max("tp_trigger_price",f)),i&&Number(i)<d&&(r.sl_trigger_price=gr.min("sl_trigger_price",d))}if(s===or.SELL&&b){const A=new Fe(b*(1+g)).toDecimalPlaces(y,Fe.ROUND_DOWN).toNumber();i&&Number(i)>A&&(r.sl_trigger_price=gr.max("sl_trigger_price",A)),n&&Number(n)>=b&&(r.tp_trigger_price=gr.max("tp_trigger_price",b)),n&&Number(n)>f&&(r.tp_trigger_price=gr.max("tp_trigger_price",f)),i&&Number(i)<d&&(r.sl_trigger_price=gr.min("sl_trigger_price",d))}return Object.keys(r).length>0?r:null}var ebt=class extends D2{create(t,e){const r=super.create(t,e);return{...r,quantity:r.order_quantity,type:r.order_type,price:r.order_price}}async validate(t,e){const r=await super.validate(t,e),n=await ZSe(t,e);return{...r,...n}}},tbt=class extends GSe{constructor(){super(...arguments),this.orderType=Ht.MARKET}create(t){const e=super.create(t);return{...e,quantity:e.order_quantity,type:e.order_type,price:e.order_price}}async validate(t,e){const r=await super.validate(t,e),n=await ZSe(t,e);return{...r,...n}}},rbt=class extends oS{create(t){const e={...this.baseOrder(t),level:t.level};return Zx(["symbol","order_quantity","visible_quantity","reduce_only","side","order_type","level"],e)}async validate(t,e){return this.baseValidate(t,e).then(r=>{delete r.total;let{order_quantity:n,order_price:i,reduce_only:s,level:o}=t;const{symbol:a}=e,{min_notional:u,base_tick:f,quote_dp:d,quote_tick:g,base_dp:y}=a||{},b=VSe({base_tick:f,quote_tick:g,price:i,qty:n,min_notional:u,quote_dp:d,base_dp:y});return b!==void 0&&!s&&(r.total={type:"min",message:`The order value should be greater or equal to ${b} USDC`,value:b}),r})}},px=class{static create(t){switch(t){case`${Ai.BRACKET}:${Ht.LIMIT}`:return new ebt;case`${Ai.BRACKET}:${Ht.MARKET}`:return new tbt;case Ht.LIMIT:return new D2;case Ht.MARKET:return new GSe;case Ht.ASK:case Ht.BID:return new rbt;case Ht.IOC:return new X1t;case Ht.FOK:return new Z1t;case Ht.POST_ONLY:return new Y1t;case Ht.STOP_LIMIT:return new q1t;case Ht.STOP_MARKET:return new G1t;case Ai.TP_SL:return new Q1t;case Ai.POSITIONAL_TP_SL:return new J1t;default:return new V1t}}},nbt=(t,e)=>{var Z,le,I,c;const r=typeof(e==null?void 0:e.isEditing)<"u"?e.isEditing:!!(e!=null&&e.defaultOrder),[n,i]=B.useState({algo_order_id:(Z=e==null?void 0:e.defaultOrder)==null?void 0:Z.algo_order_id,symbol:t.symbol,side:Number(t.position_qty)>0?or.BUY:or.SELL,quantity:r?((le=e==null?void 0:e.defaultOrder)==null?void 0:le.quantity)===0?Math.abs(t.position_qty):(I=e==null?void 0:e.defaultOrder)==null?void 0:I.quantity:"",algo_type:(c=e==null?void 0:e.defaultOrder)==null?void 0:c.algo_type}),s=nd()[t.symbol](),{data:o}=KM(n.symbol),[a,{isMutating:u}]=ga("/v1/algo/order"),[f,{isMutating:d}]=ga("/v1/algo/order","PUT"),[g]=ga("/v1/algo/order","DELETE"),[y,b]=B.useState(null);B.useEffect(()=>{if(!r||!(e!=null&&e.defaultOrder))return;const h=HM(e.defaultOrder);h.tp_trigger_price&&x("tp_trigger_price",h.tp_trigger_price,{ignoreValidate:!0}),h.sl_trigger_price&&x("sl_trigger_price",h.sl_trigger_price,{ignoreValidate:!0})},[]);const A=(h,p,m)=>{i(v=>{const _=t.position_qty>0?or.BUY:or.SELL,T=qSe(h,{value:p,entryPrice:t.average_open_price,qty:_===or.BUY?Number(v.quantity):-Number(v.quantity),orderSide:_},{symbol:s});return{...v,...T,ignoreValidate:m==null?void 0:m.ignoreValidate}})},x=async(h,p,m)=>{if(h==="quantity"){i(v=>({...v,quantity:p})),typeof n.sl_trigger_price<"u"&&A("sl_trigger_price",n.sl_trigger_price,{ignoreValidate:!0}),typeof n.tp_trigger_price<"u"&&A("tp_trigger_price",n.tp_trigger_price,{ignoreValidate:!0}),A(h,p,m);return}A(h,p,m)},k={symbol:s,maxQty:Math.abs(t.position_qty),markPrice:o};B.useEffect(()=>{requestAnimationFrame(()=>{if(n.ignoreValidate)return;O().validate(n,k).then(p=>{b(p)})})},[n,k.markPrice,n.quantity]);const R=h=>{Object.keys(h).forEach(m=>{x(m,h[m])})},C=()=>{const h=O();return new Promise((p,m)=>h.validate(n,k).then(v=>{if(v)return b(v),m(v);p(h.create(n,k))}))},P=()=>{const h=Number(n.quantity);return isNaN(h)?!1:h===Math.abs(Number(t.position_qty))},O=()=>{var h;return((h=e==null?void 0:e.defaultOrder)==null?void 0:h.algo_type)===Ai.TP_SL?px.create(Ai.TP_SL):px.create(P()?Ai.POSITIONAL_TP_SL:Ai.TP_SL)},q=async()=>{const h=e==null?void 0:e.defaultOrder,p=h==null?void 0:h.algo_order_id,m=h==null?void 0:h.algo_type;return p?m===Ai.POSITIONAL_TP_SL?P()?X(p):Q():X(p):Q()},Q=()=>{const p=O().create(n,k);if(p.child_orders.length===0)throw new ar("No child orders");return p.child_orders=p.child_orders.filter(m=>m.is_activated),a(p)},Y=(h,p)=>g(null,{order_id:h,symbol:p}),X=h=>{const p=O(),[m,v]=p.crateUpdateOrder(n,e==null?void 0:e.defaultOrder,k);return m.child_orders.length===0?Promise.resolve("Not any order needs to update"):v.child_orders.filter(T=>typeof T.is_activated=="boolean"&&!T.is_activated).length===v.child_orders.length?Y(h,n.symbol):f({order_id:h,...m})};return[V7(["ignoreValidate"],n),{submit:q,deleteOrder:Y,setValue:x,setValues:R,validate:C,errors:y,isCreateMutating:u,isUpdateMutating:d}]},nNt=(t,e)=>{if(!t)throw new ar("Position is required");if(!t.symbol)throw new ar("Symbol is required");if(typeof t.average_open_price>"u")throw new ar("Average open price is required");if(typeof t.position_qty>"u")throw new ar("Position quantity is required");return nbt(t,e)},iNt=t=>{const{data:e}=d1t(),r=e==null?void 0:e.max_leverage,n=Rs(`/v1/public/info/${t}`,{dedupingInterval:1e3*60*60*24,revalidateOnFocus:!1,errorRetryCount:2,errorRetryInterval:200}),i=B.useMemo(()=>{var a;const o=(a=n==null?void 0:n.data)==null?void 0:a.base_imr;if(o)return 1/o},[n]);return B.useMemo(()=>!r||!i?"-":Math.min(r,i),[r,i])},sNt=t=>{const{page:e=1,pageSize:r=10}=t,n=Gh(),i=()=>{const f=new URLSearchParams;return f.set("page",e.toString()),f.set("size",r.toString()),t.side&&t.side!=="All"&&f.set("side",t.side),t.startTime&&f.set("start_t",t.startTime),t.endTime&&f.set("end_t",t.endTime),`/v1/asset/history?${f.toString()}`},{data:s,isLoading:o,mutate:a}=vc(i(),{formatter:f=>f,revalidateOnFocus:!1,errorRetryInterval:60*1e3}),u=Zv(f=>{a()},300);return B.useEffect(()=>(n.on("wallet:changed",u),()=>{n.off("wallet:changed",u)}),[]),[(s==null?void 0:s.rows)||[],{meta:s==null?void 0:s.meta,isLoading:o}]},oNt=(t,e)=>{const{startDate:r,endDate:n,page:i=1}=t,{ignoreAggregation:s=!1}=e||{};if(!r||!n)throw new ar("Start date and end date are required");const o=(d,g)=>d===g?1:(new Date(g).getTime()-new Date(d).getTime())/(1e3*60*60*24),a=B.useMemo(()=>{const d=new URLSearchParams;d.set("page",i.toString()),d.set("size",(o(r,n)+(s?0:1)).toString());const g=new Date(r);return g.setDate(new Date(r).getDate()-1),d.set("start_date",g.toISOString().split("T")[0]),d.set("end_date",t.endDate),`/v1/client/statistics/daily?${d.toString()}`},[i,r,n]),{data:u}=vc(a,{formatter:d=>d.rows.reverse(),revalidateOnFocus:!1}),f=B.useMemo(()=>{if(s)return{vol:null,pnl:null,roi:null};let d=Ui,g=Ui,y=Ui;if(Array.isArray(u)&&u.length){const b=u.shift();u.forEach(A=>{d=d.add(A.perp_volume),g=g.add(A.pnl)}),y=g.div(b.account_value)}return{vol:d.toNumber(),pnl:g.toNumber(),roi:y.toNumber()}},[u]);return[u||[],{aggregateValue:f}]},aNt=(t,e)=>{let{symbol:r,dataRange:n,page:i=1,pageSize:s=10}=t;const o=nd(),a=()=>{const y=new URLSearchParams;return typeof r<"u"&&r!=="All"&&y.set("symbol",r),y.set("page",`${i}`),y.set("size",`${s}`),n&&(y.set("start_t",n[0].toString()),y.set("end_t",n[1].toString())),`/v1/funding_fee/history?${y.toString()}`},{data:u,isLoading:f,isValidating:d}=vc(a(),{formatter:y=>y,revalidateOnFocus:!1,errorRetryCount:3,...e});return[B.useMemo(()=>!u||!Array.isArray(u==null?void 0:u.rows)||o.isNil?null:u.rows.map(y=>{const b=o[y.symbol];return{...y,annual_rate:y.funding_rate*(24/b("funding_period"))*365}}),[u,o]),{meta:u==null?void 0:u.meta,isLoading:f,isValidating:d}]},uNt=t=>{let{type:e,dataRange:r,page:n,pageSize:i}=t;const s=nd(),o=()=>{const g=new URLSearchParams;return typeof e<"u"&&e!=="All"&&g.set("type",e),g.set("page",n.toString()),g.set("size",i.toString()),r&&(g.set("start_t",r[0].toString()),g.set("end_t",r[1].toString())),`/v1/client/distribution_history?${g.toString()}`},{data:a,isLoading:u,isValidating:f}=vc(o(),{formatter:g=>g,revalidateOnFocus:!1,errorRetryCount:3});return[B.useMemo(()=>!Array.isArray(a==null?void 0:a.rows)||!(a!=null&&a.rows.length)||s.isNil?[]:a.rows.map(g=>{const y=s[g.symbol];return{...g,annual_rate:g.funding_rate*(24/y("funding_period"))}}),[a,s]),{meta:a==null?void 0:a.meta,isLoading:u,isValidating:f}]};function cNt(){const[t,e]=B.useState(0),[r,n]=B.useState(),[i,s]=B.useState(),[o,a]=B.useState("Orderly network"),{data:u,mutate:f}=Rs("/v1/public/system_info?source=maintenance",{revalidateOnFocus:!1,errorRetryCount:2,errorRetryInterval:200}),d=xa(),g=Vh();return B.useEffect(()=>{if(!u)return;const y=g.get("brokerName");y&&a(y),u.scheduled_maintenance&&(n(u.scheduled_maintenance.start_time),s(u.scheduled_maintenance.end_time)),u.status===2&&e(2)},[u,g]),B.useEffect(()=>{const y=d.subscribe("maintenance_status",{onMessage:b=>{e(b.status),b.scheduled_maintenance&&(n(b.scheduled_maintenance.start_time),s(b.scheduled_maintenance.end_time))}});return()=>{y==null||y()}},[]),{status:t,brokerName:o,startTime:r,endTime:i}}var lNt=()=>{const[t,e]=UM(hne,[]);return{setLedgerAddress:n=>{if(!t.includes(n)){const i=[...t,n];e(i)}},ledgerWallet:t}},ibt=t=>{const e=xa(),r=Gh(),{state:n,account:i}=Dg(),{setAccountInfo:s,restoreHolding:o,cleanAll:a}=Qa(C=>C.actions),u=Xyt(),f=bK(),d=Zyt(),{data:g}=vc("/v1/client/info");B.useEffect(()=>{g&&s(g)},[g,s]);const{data:y,isLoading:b}=vc("/v1/positions",{formatter:C=>C,onError:C=>{u.updateApiError("positions",C.message)}});B.useEffect(()=>{const C=P=>{P.accountId||(f.stop(),a(),d.clearAll())};return i.on(_s.statusChanged,C),()=>{i.off(_s.statusChanged,C)}},[]),B.useEffect(()=>{b&&u.updateApiLoading("positions",b)},[b,u]),B.useEffect(()=>{y&&Array.isArray(y.rows)&&f.calc("position",y)},[f,y]);const{data:A}=vc("/v1/client/holding",{formatter:C=>C.holding});B.useEffect(()=>{const C=e.privateSubscribe({id:"balance",event:"subscribe",topic:"balance",ts:Date.now()},{onMessage:P=>{const O=(P==null?void 0:P.balances)??{};O&&f.calc("portfolio",{holding:O})}});return()=>C()},[]),B.useEffect(()=>{A&&o(A)},[A]);const[x,k]=UM("orderly_subscribe_order",!0),R=(C,P)=>{t.getKeysMap("orders").forEach((Q,Y)=>{LB(K$e((X,Z)=>[Q(X,Z),n.accountId]),X=>{try{return P?Kyt(Y,C,X):Wyt(Y,C,X)}catch{return X}},{revalidate:!1})});const q=P?DSe.groupOrders(C):$b(C);r.emit("orders:changed",{...q,status:P?q.algo_status:C.status})};B.useEffect(()=>{if(!n.accountId||x!==!0)return;const C=e.privateSubscribe("executionreport",{onMessage:P=>{R(P,!1)}});return()=>C==null?void 0:C()},[n.accountId,x]),B.useEffect(()=>{if(!n.accountId||x!==!0)return;const C=e.privateSubscribe("algoexecutionreport",{onMessage:P=>{R(P,!0)}});return()=>C==null?void 0:C()},[n.accountId,x]),B.useEffect(()=>{if(!n.accountId)return;const C=["/v1/positions",n.accountId],P=e.privateSubscribe("position",{onMessage:O=>{const{positions:q}=O;LB(C,Q=>{if(Q){const Y={...Q,rows:Q.rows.map(X=>{const Z=q.findIndex(le=>le.symbol===X.symbol);if(Z>=0){const I=q.splice(Z,1)[0];return I.averageOpenPrice===0&&I.positionQty!==0?X:$b(I)}return X})};return q.length>0&&(Y.rows=[...Y.rows,...q.map(X=>$b(X))]),Y}},{revalidate:!1})}});return()=>{P==null||P()}},[n.accountId])},sbt=t=>{const e=xa();B.useEffect(()=>{const r=e.subscribe("markprices",{onMessage:i=>{const s=Object.create(null);for(let o=0;o<i.length;o++){const a=i[o];s[a.symbol]=a.price}t.calc("markPrice",s,{skipWhenOnPause:!0})},onError:i=>{}}),n=e.subscribe("indexprices",{onMessage:i=>{if(!Array.isArray(i))return;const s=Object.create(null);for(let o=0;o<i.length;o++){const a=i[o];s[a.symbol.replace("SPOT","PERP")]=a.price}t.calc("indexPrice",s,{skipWhenOnPause:!0})}});return()=>{r==null||r(),n==null||n()}},[])},obt=ny((t,e)=>({market:[],marketMap:null,actions:{updateMarket:r=>{const n={};r.forEach(i=>{n[i.symbol]=i}),t({market:r,marketMap:n})},updateTicker:r=>{t(la(n=>{n.market=r}))}}})),J5={focusThrottleInterval:1e3*60*60*24,revalidateOnFocus:!1,dedupingInterval:1e3*60*60*24},abt=()=>{const{setSymbolsInfo:t,setFundingRates:e}=Qa(n=>n.actions),{updateMarket:r}=obt(n=>n.actions);Rs("/v1/public/info",{...J5,onSuccess(n){if(!n||!(n!=null&&n.length))return{};const i={};for(let s=0;s<n.length;s++){const o=n[s],a=o.symbol.split("_"),u=LA(o.base_tick),f=LA(o.quote_tick);i[o.symbol]={...o,base_dp:u,quote_dp:f,base:a[1],quote:a[2],type:a[0],name:`${a[1]}-${a[0]}`}}t(i)}}),Rs("/v1/public/funding_rates",{...J5,onSuccess(n){if(!n||!(n!=null&&n.length))return{};const i=Object.create(null);for(let s=0;s<n.length;s++){const o=n[s];i[o.symbol]={...o,est_funding_rate:ubt(o)}}e(i)}}),Rs("/v1/public/futures",{...J5,onSuccess(n){if(!n||!(n!=null&&n.length))return[];r(n)}})};function ubt(t){if(!t)return;const{next_funding_time:e,est_funding_rate:r}=t;return Date.now()>e?null:r}var XSe=B.createContext({}),cbt=()=>B.useContext(XSe),lbt=({children:t})=>{const{error:e,done:r}=Byt(),n=bK();abt(),sbt(n);const i=B.useRef(new Map);return ibt({getKeysMap(s){return i.current}}),e?$.jsx("div",{children:"Data load failed"}):r?$.jsx(XSe.Provider,{value:{registerKeyHandler:(s,o)=>{i.current.set(s,o)},unregisterKeyHandler:s=>{i.current.delete(s)}},children:t}):null},fbt=class{constructor(t){this._originConfigStore=t,z$e(()=>{this._proxyConfigStore=window.__ORDERLY_CONFIG_STORE__||t})}get(t){var r;const e=(r=this._proxyConfigStore)==null?void 0:r.get(t);return typeof e>"u"?this._originConfigStore.get(t):e}getOr(t,e){return(this._proxyConfigStore??this._originConfigStore).getOr(t,e)}set(t,e){(this._proxyConfigStore??this._originConfigStore).set(t,e)}clear(){throw new ar("Method not implemented.")}getFromOrigin(t){return this._originConfigStore.get(t)}getOrFromOrigin(t,e){return this._originConfigStore.getOr(t,e)}setToOrigin(t,e){this._originConfigStore.set(t,e)}clearOrigin(){this._originConfigStore.clear()}},dbt=class extends T$e{constructor(t){super(t)}get(t){if(t===w0){const e=localStorage.getItem(w0);if(!e){const r=localStorage.getItem(w0.replace("orderly_",""));return r?JSON.parse(r):""}return JSON.parse(e)}return super.get(t)}set(t,e){if(t===w0){const r=JSON.stringify(e);localStorage.setItem(w0,r);return}super.set(t,e)}},fNt=t=>{const[e,r]=Ct.useState(null),{configStore:n,keyStore:i,walletAdapters:s,brokerId:o,brokerName:a,networkId:u,contracts:f,chainFilter:d,customChains:g}=t;if(typeof n<"u"&&!n.get("brokerId"))throw new ar("if configStore is provided, brokerId is required in configStore");if(typeof o<"u"&&typeof n<"u"&&o!==n.get("brokerId"))throw new ar("If you have provided a custom `configStore` and the `brokerId` is set in the `configStore`, please remove the `brokerId` prop.");const y=B.useMemo(()=>new fbt(n||new dbt({brokerId:o,brokerName:a,networkId:u})),[n,o,a,u]),b=B.useMemo(()=>i||new e$e(u),[u,i]),A=B.useMemo(()=>s||[new Sqe(new Eyt),new yyt],[s]);B.useLayoutEffect(()=>{let k=Ro.get(Rb.instanceName);k||(k=new Rb(y,b,A,{contracts:f}),Ro.registerByName(Rb.instanceName,k)),r(k)},[]);const x=B.useMemo(()=>typeof d=="function"?d(y):d,[t.chainFilter,y]);return e?$.jsx(Cyt,{value:{configStore:y,keyStore:b,networkId:y.get("networkId")||u,filteredChains:x,walletAdapters:A,customChains:g},children:$.jsx(Uyt,{children:$.jsx(lbt,{children:t.children})})}):null},hbt=B.createContext({}),dNt=()=>B.useContext(hbt),$te=["order_quantity","order_price","trigger_price","total"],LD=t=>(typeof t!="string"&&(t=`${t}`),t=t.replace(/,/g,""),t=t.replace(/[^\d.]/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),t);function QSe(t){let[e,r,n,i,s]=t;return $te.forEach(o=>{typeof e[o]<"u"&&(e[o]=LD(e[o]))}),$te.includes(r)&&(n=LD(n)),[{...e,[r]:n},r,n,i,s]}function pbt(t){const[e,r,n,i,s]=t;return(n===Ht.LIMIT||n===Ht.STOP_LIMIT)&&e.order_price===""&&(e.total=""),(n===Ht.MARKET||n===Ht.LIMIT)&&(e.trigger_price=void 0),n===Ht.MARKET||Ht.STOP_MARKET,[e,r,n,i,s]}function gbt(t,e){return function(r){const[n,i,s,o,a]=r;return[n,i,s,o,a]}}function mbt(t){const[e,r,n,i,s]=t;if(n==="")return[{...e,total:""},r,n,i,s];const o=new Fe(n),a=o.dp();if(a>s.quote_dp&&(e.order_price=o.toDecimalPlaces(s.quote_dp).toString()),o.toDecimalPlaces(Math.min(a,s.quote_dp)),!e.order_quantity&&!e.total)return[e,r,n,i,s];const u={...e};return e.order_quantity?u.total=o.mul(e.order_quantity).todp(2).toString():e.total&&(u.order_quantity=new Fe(e.total).div(o).todp(s.base_dp).toString()),[u,r,n,i,s]}function ybt(t){const[e,r,n,i,s]=t;if(n==="")return[{...e,total:""},r,n,i,s];let o=new Fe(n);if(o.dp()>s.base_dp&&(o=o.toDecimalPlaces(s.base_dp),e.order_quantity=o.toString()),e.order_type===Ht.MARKET||e.order_type===Ht.STOP_MARKET){if(!i)return[e,r,n,i,s];const u=i;e.order_price="",e.total=o.mul(u).todp(2).toString()}if(e.order_type===Ht.LIMIT||e.order_type===Ht.STOP_LIMIT)if(e.order_price){const u=Number(e.order_price),f=o.mul(u);e.total=f.todp(s.quote_dp).toString()}else e.total="";return[{...e},r,n,i,s]}function bbt(t){const[e,r,n,i,s]=t;if(n==="")return[{...e,order_quantity:""},r,n,i,s];let o=i;(e.order_type===Ht.LIMIT||e.order_type===Ht.STOP_LIMIT)&&e.order_price&&(o=Number(e.order_price));let a=new Fe(n);a.dp()>s.quote_dp&&(a=a.toDecimalPlaces(s.quote_dp),e.total=a.toString());const f=a.div(o);let d=f.toDecimalPlaces(Math.min(s.base_dp,f.dp())).toString();return s.base_tick>=1&&(d=e_e(d,new Fe((s==null?void 0:s.base_tick)||"0").toNumber())),[{...e,order_quantity:d},r,n,i,s]}function vbt(t){const[e,r,n,i,s]=t,o=e.order_type===Ht.MARKET||e.order_type===Ht.STOP_MARKET?i:e.order_price;if(!o||!e.order_quantity)return[e,r,n,i,s];const a=qSe(r,{value:n,entryPrice:o,qty:e.side===or.BUY?Number(e.order_quantity):Number(e.order_quantity)*-1,orderSide:e.side},{symbol:s});return[{...e,...a},r,n,i,s]}function wbt(t){return t}var JSe=t=>{switch(t){case"order_type":return pbt;case"order_quantity":return ybt;case"order_price":return mbt;case"total":return bbt;case"tp_pnl":case"sl_pnl":case"tp_trigger_price":case"sl_trigger_price":case"tp_offset":case"sl_offset":case"tp_offset_percentage":case"sl_offset_percentage":return vbt;default:return wbt}};function e_e(t,e){if(typeof t>"u")return t;if(typeof e>"u")return`${t}`;const r=`${t}`.replace(/,/g,"");try{const n=new Fe(e),i=new Fe(r);if(n.lessThan(1)){if(`${r}`.endsWith("."))return`${r}`;const s=e.toString(),o=s.indexOf("."),a=o===-1?0:s.length-o-1;return i.toDecimalPlaces(a,Fe.ROUND_DOWN).toString()}return i.lessThan(n)?r:i.dividedBy(n).toDecimalPlaces(0,Fe.ROUND_DOWN).mul(e).toString()}catch{return}}function hNt(t,e,r,n){let i=!1;if(typeof t=="object"){if(i=!0,!t.symbol)throw new ar("Symbol is required");if(!t.side)throw new ar("Order side is required");if(!t.order_type)throw new ar("Order type is required")}const s=B.useRef(null),o=B.useRef(null),a=B.useRef({}),[u,f]=B.useState(null),d=Gh(),g=mK(),y=B.useRef({}),b=B.useRef(!1),A=B.useRef([]),x=Zv(ie=>{A.current=ie},200),{freeCollateral:k,totalCollateral:R,accountInfo:C}=L2(),P=nd(),O=B.useMemo(()=>typeof t=="string"?t:t.symbol,[t]),q=B.useMemo(()=>typeof e=="object"?e:n,[e]),Q=B.useMemo(()=>typeof r=="boolean"?r:typeof t=="object"?!!t.reduce_only:!1,[t,r]),Y=B.useMemo(()=>typeof t=="object"?t.side:e,[t,e]),X=B.useMemo(()=>LA(P[O]("base_tick",0)),[P]),Z=B.useMemo(()=>LA(P[O]("quote_tick",0)),[P]),le=B.useMemo(()=>P[O]("base_imr",0),[P]),I=B.useMemo(()=>P[O]("base_mmr",0),[P]),{data:c}=KM(O),h=(ie,J)=>{if(!ie)return null;let V,fe,Te;const Re=Object.keys(J);for(let H=0;H<Re.length;H++){const oe=Re[H];let ae=ie[oe],ce=J[oe];if(!(typeof ae>"u"&&typeof ce>"u")&&ae!==ce){V=oe,fe=ce,Te=ae;break}}return V?{key:V,value:fe,preValue:Te}:null},p=wK(O,Y,Q),m=(ie,J,V)=>{if(typeof ie[J]=="string"&&(ie[J]&&ie[J].startsWith(".")&&(ie[J]=`0${ie[J]}`),ie[J]=ie[J].replace(/,/g,""),V&&ie[J].length>0)){const fe=`${ie[J]}`.includes("."),Te=`${ie[J]}`.endsWith("."),Re=`${ie[J]}`.split(".");fe&&!Te&&(ie[J]=`${Re[0]}.${Re[1].slice(0,Z)}`)}},v=B.useMemo(()=>typeof t=="string"?null:Zx(["order_price","side","order_quantity","visible_quantity","order_type","order_type_ext","symbol","total","reduce_only","trigger_price"])(t),[t]),_=B.useMemo(()=>typeof t=="string"?null:(typeof t.order_quantity=="string"?m(t,"order_quantity"):typeof t.order_quantity=="number"&&(t.order_quantity=new Fe(t.order_quantity).toDecimalPlaces(X).toString()),typeof t.order_price=="string"&&m(t,"order_price",Z),typeof t.total=="string"&&m(t,"total",Z),typeof t.trigger_price=="string"&&m(t,"trigger_price",Z),t),[v==null?void 0:v.order_price,v==null?void 0:v.order_quantity,v==null?void 0:v.total,v==null?void 0:v.trigger_price,v==null?void 0:v.order_type,v==null?void 0:v.order_type_ext,v==null?void 0:v.symbol,v==null?void 0:v.reduce_only,v==null?void 0:v.side,v==null?void 0:v.visible_quantity,Z,X]),T=(_==null?void 0:_.order_type)===Ht.STOP_LIMIT||(_==null?void 0:_.order_type)===Ht.STOP_MARKET||(_==null?void 0:_.order_type)===Ht.CLOSE_POSITION,[w,{isMutating:l}]=ga(T?"/v1/algo/order":"/v1/order"),S=ie=>{if(!ie.symbol)throw new ar("Symbol is error");if(!ie.side)throw new ar("Order side is error");if(!ie||typeof ie.order_type>"u")throw new ar("Order type is error");const J=px.create(ie.order_type_ext?ie.order_type_ext:ie.order_type);return J?new Promise((V,fe)=>J.validate(ie,{symbol:P[O](),maxQty:p,markPrice:c}).then(Te=>{var Re,H;if(b.current=!0,Te.order_price||Te.order_quantity||Te.trigger_price||Te.total)f(Te),fe(((Re=Te.order_price)==null?void 0:Re.message)||((H=Te.order_quantity)==null?void 0:H.message));else{const oe=J.create(ie,{symbol:P[O](),maxQty:p,markPrice:c});return w(V7(["order_type_ext"],{...oe})).then(ae=>{ae&&ae.success?V(ae.data):fe(ae)},fe)}})):Promise.reject(new ar("Order creator is null"))},N=ie=>typeof r=="boolean"&&r&&!ie.reduce_only?Promise.reject(new ar("The reduceOny parameter of hook does not match your order data")):S({...ie,symbol:O}),F=B.useCallback(()=>{if(!_)throw new ar("Function is not supported, please use onSubmit()");return S(_)},[_]),W=B.useCallback((ie,J,V)=>{const fe=JSe(J);return mue(yue,gbt(),fe,QSe)([ie,J,V,c,{base_dp:X,quote_dp:Z}])},[c]),D=ie=>{const J=px.create(ie.order_type);return J==null?void 0:J.validate(ie,{symbol:P[O](),maxQty:p,markPrice:c})},K=B.useMemo(()=>{var V;if(!_)return a.current;if(!s.current)return s.current=_,o.current={..._,total:""},o.current;const ie=h(s.current,_);if(!ie)return o.current;typeof _.order_price<"u"&&(y.current.order_price=!0),typeof _.order_quantity<"u"&&(y.current.order_quantity=!0);const J=W(_,ie.key,ie.value);return J.isStopOrder=((V=J.order_type)==null?void 0:V.startsWith("STOP"))||!1,J.total=J.total||"",s.current=_,o.current=J,J},[_,c]);B.useEffect(()=>{var ie;!c||P.isNil||(ie=D(K))==null||ie.then(J=>{f(J)}).catch(J=>{})},[K.broker_id,K.order_quantity,K.total,K.trigger_price,K.order_type,c]),B.useEffect(()=>{if(i){if(!(q!=null&&q.watchOrderbook))throw new ar("In order to calculate the estimated liquidation price, the `options.watchOrderbook` parameter must be set to true.")}else if(!(q!=null&&q.watchOrderbook))return;return d.on("orderbook:update",x),()=>{d.off("orderbook:update",x)}},[q==null?void 0:q.watchOrderbook]),B.useEffect(()=>{A.current=[]},[_==null?void 0:_.symbol]);const z=ie=>{let J=Number(ie.order_quantity);const V=Number(ie.order_price);if(isNaN(J)||J<=0||(ie.order_type===Ht.LIMIT||ie.order_type===Ht.STOP_LIMIT)&&isNaN(V))return null;let fe;return ie.order_type===Ht.MARKET||ie.order_type===Ht.STOP_MARKET?ie.side===or.BUY?fe=A.current[0]:fe=A.current[1]:ie.side===or.BUY?V>=A.current[0]?fe=A.current[0]:fe=V:V<=A.current[1]?fe=A.current[1]:fe=V,ie.side===or.SELL&&(J=-J),{price:fe,quantity:J}},G=B.useMemo(()=>{if(!C||!_||!c)return null;const ie=z(K);if(ie===null)return null;const{price:J,quantity:V}=ie;if(!J||!V)return null;const fe=wh.orderFee({qty:V,price:J,futuresTakeFeeRate:Number(C.futures_taker_fee_rate)/1e4}),Te=wh.estLiqPrice({markPrice:c,baseIMR:le,baseMMR:I,totalCollateral:R,positions:g??[],IMR_Factor:C.imr_factor[O],orderFee:fe,newOrder:{qty:V,price:J,symbol:_.symbol}});return Te<=0?null:Te},[c,le,I,R,K==null?void 0:K.order_price,K==null?void 0:K.order_quantity,K==null?void 0:K.total,K==null?void 0:K.trigger_price,C]),te=B.useMemo(()=>{if(!C||!_)return null;const ie=z(K);return ie===null||!ie.price||!ie.quantity?null:wh.estLeverage({totalCollateral:R,positions:g===null?[]:g,newOrder:{symbol:_.symbol,qty:ie.quantity,price:ie.price}})},[le,I,R,g,K==null?void 0:K.order_price,K==null?void 0:K.order_quantity,K==null?void 0:K.total,K==null?void 0:K.trigger_price]);return{maxQty:p,freeCollateral:k,markPrice:c,onSubmit:N,submit:F,submitting:l,formattedOrder:K,estLiqPrice:G,estLeverage:te,helper:{calculate:W,validator:D},metaState:{dirty:y.current,submitted:b.current,errors:u},symbolConfig:P[O]()}}function pNt(t){const e=s=>typeof window<"u"?window.matchMedia(s).matches:!1,[r,n]=B.useState(e(t));function i(){n(e(t))}return B.useEffect(()=>{var o;const s=window==null?void 0:window.matchMedia(t);return i(),s!=null&&s.addListener?s==null||s.addListener(i):(o=s==null?void 0:s.addEventListener)==null||o.call(s,"change",i),()=>{var a;s!=null&&s.removeListener?s==null||s.removeListener(i):(a=s==null?void 0:s.removeEventListener)==null||a.call(s,"change",i)}},[t]),r}var t_e=class{constructor(t,e){this.ctx=t,this.painter=e}},Sbt=class extends t_e{constructor(){super(...arguments),this.img=null}async draw(t){if(typeof t.backgroundImg<"u"&&t.backgroundImg!=="")return this._drawImage(t);if(typeof t.backgroundColor<"u")return this._drawColor(t)}_drawColor(t){this.ctx.fillStyle=t.backgroundColor||"black",this.ctx.fillRect(0,0,this.painter.width*this.painter.ratio,this.painter.height*this.painter.ratio)}async _drawImage(t){return this.loadImg(t.backgroundImg).then(e=>{this.img=e,this.ctx.drawImage(this.img,0,0,this.painter.width*this.painter.ratio,this.painter.height*this.painter.ratio)})}loadImg(t){return new Promise((e,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{e(n)},n.onerror=i=>{r(i)},n.src=t})}},_bt=(t,e)=>{const{size:r,left:n,top:i,data:s,padding:o}=e,a=Iyt(s),u=document.createElement("canvas");u.width=r,u.height=r;const f=u.getContext("2d"),d=a.modules;if(!d)return;const g=r/d.length,y=r/d.length;for(let b=0;b<d.length;++b){const A=d[b];for(let x=0;x<A.length;++x){f.fillStyle=A[x]?"#000":"#fff";const k=Math.ceil((x+1)*g)-Math.floor(x*g),R=Math.ceil((b+1)*y)-Math.floor(b*y);f.fillRect(Math.round(x*g),Math.round(b*y),k,R)}}t.save(),t.fillStyle="#fff",t.fillRect(n-o,i-o,r+o*2,r+o*2),t.restore(),t.drawImage(u,n,i,r,r)},Abt=class extends t_e{constructor(){super(...arguments),this.positionInfoCellWidth=90,this.DEFAULT_PROFIT_COLOR="rgb(0,181,159)",this.DEFAULT_LOSS_COLOR="rgb(255,103,194)",this.transformTop=0,this.QRCODE_SIZE=56}async draw(t){var i,s,o,a,u,f,d,g,y,b;const e=Array.isArray((s=(i=t.data)==null?void 0:i.position)==null?void 0:s.informations)&&(((u=(a=(o=t.data)==null?void 0:o.position)==null?void 0:a.informations)==null?void 0:u.length)??0)>0,r=this.hasReferral(t);this.transformTop=0;const n=0;(f=t.data)!=null&&f.message&&this.drawMessage(t),(d=t.data)!=null&&d.position&&this.drawPosition(t,e||r?0:n),e&&this.drawInformations(t),this.drawUnrealizedPnL(t,e||r?0:n),r||((g=t.data)!=null&&g.domain&&this.drawDomainUrl(t),typeof((y=t.data)==null?void 0:y.updateTime)<"u"&&this.drawPositionTime(t)),typeof((b=t.data)==null?void 0:b.referral)<"u"&&this.drawReferralCode(t)}drawMessage(t){var n;const e=Td(["layout","message"],t),{position:r}=e;this._drawText(`"${(n=t.data)==null?void 0:n.message}"`,{color:e.color,fontSize:this._ratio(e.fontSize),top:this._ratio(r.top),left:this._ratio(r.left),textBaseline:"top",fontFamily:t.fontFamily})}drawPosition(t,e=0){var u,f,d,g,y,b;const r=Td(["layout","position"],t),{position:n,fontSize:i=14}=r;let s=this._ratio(n.left),o=r.position.top+e+this.transformTop,a={};typeof((u=t.data)==null?void 0:u.position.side)<"u"&&(a=this._drawText(t.data.position.side,{color:((f=t.data)==null?void 0:f.position.side.toUpperCase())==="LONG"?t.profitColor||this.DEFAULT_PROFIT_COLOR:t.lossColor||this.DEFAULT_LOSS_COLOR,left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),typeof((d=t.data)==null?void 0:d.position.symbol)<"u"&&(s+=(a.width??0)+this._ratio(7),a.width&&(a=this._drawText("|",{color:"rgba(255,255,255,0.2)",left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),s+=(a.width??0)+this._ratio(7),a=this._drawText((g=t.data)==null?void 0:g.position.symbol,{color:r.color,left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),typeof((y=t.data)==null?void 0:y.position.leverage)<"u"&&(s+=(a.width??0)+this._ratio(7),a.width&&(a=this._drawText("|",{color:"rgba(255,255,255,0.2)",left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily})),s+=(a.width??0)+this._ratio(7),a=this._drawText(`${(b=t.data)==null?void 0:b.position.leverage}X`,{color:r.color,left:s,top:this._ratio(o),fontSize:this._ratio(i),fontFamily:t.fontFamily}))}drawUnrealizedPnL(t,e=0){var a,u,f,d,g,y,b;const r=Td(["layout","unrealizedPnl"],t),{position:n}=r;let i=this._ratio(n.left),s={};const o=(n.top??0)+e+this.transformTop;if(typeof((a=t.data)==null?void 0:a.position.ROI)<"u"){const A=((u=t.data)==null?void 0:u.position.ROI)>0?"+":"";s=this._drawText(`${A}${qv((f=t.data)==null?void 0:f.position.ROI)}%`,{color:A==="+"?t.profitColor||this.DEFAULT_PROFIT_COLOR:t.lossColor||this.DEFAULT_LOSS_COLOR,left:i,top:this._ratio(o),fontSize:this._ratio(r.fontSize),fontWeight:700,fontFamily:t.fontFamily})}if(typeof((d=t.data)==null?void 0:d.position.pnl)<"u"){const A=((g=t.data)==null?void 0:g.position.pnl)>=0?"+":"";let x=`${A}${qv((y=t.data)==null?void 0:y.position.pnl)} ${(b=t.data)==null?void 0:b.position.currency}`,k=600;s.width?(i+=(s.width??0)+this._ratio(8),x=`(${x})`):(i=this._ratio(n.left),k=700);const R=typeof t.data.position.ROI>"u"?A==="+"?t.profitColor||this.DEFAULT_PROFIT_COLOR:t.lossColor||this.DEFAULT_LOSS_COLOR:r.secondaryColor,C=typeof t.data.position.ROI>"u"?this._ratio(r.fontSize):this._ratio(r.secondaryFontSize);s=this._drawText(x,{color:R,left:i,top:this._ratio(o),fontSize:C,fontWeight:k,fontFamily:t.fontFamily})}}drawInformations(t){var s,o,a;const e=Td(["layout","informations"],t),{position:r}=e,n=((o=(s=t.data)==null?void 0:s.position)==null?void 0:o.informations)||[];(a=t.data)==null||a.position.informations.length;const i=n.length>4?3:2;n.forEach((u,f)=>{let d=r.left+f%i*this.positionInfoCellWidth,g=r.top+Math.floor(f/i)*38+this.transformTop;this._drawText(u.title,{left:this._ratio(d),top:this._ratio(g),fontSize:this._ratio(10),color:e.labelColor,fontFamily:t.fontFamily}),this._drawText(u.value,{left:this._ratio(d),top:this._ratio(g+17),fontSize:this._ratio(e.fontSize),fontWeight:500,color:e.color,fontFamily:t.fontFamily})})}drawDomainUrl(t,e=!1){var o;const r=Td(["layout","domain"],t),n=this.hasReferral(t),{position:i}=r,s=this.painter.height-i.bottom;return this._drawText((o=t.data)==null?void 0:o.domain,{left:n?this._ratio(this.painter.width-20):this._ratio(i.left),top:n?this._ratio(this.painter.height-16):this._ratio(s),fontSize:this._ratio(r.fontSize),color:t.brandColor??this.DEFAULT_PROFIT_COLOR,fontFamily:t.fontFamily,textBaseline:r.textBaseline,textAlign:n?"end":r.textAlign,fontWeight:600},e)}drawPositionTime(t){var o,a;const e=Td(["layout","updateTime"],t),{position:r}=e,n=this.hasReferral(t);let i=this.painter.height-r.bottom,s=this._ratio(r.left);if(n){const u=this.drawDomainUrl(t,!0);s=this._ratio(this.painter.width)-u.width-this._ratio(8+r.left),i=this.painter.height-r.bottom}this._drawText(n?`Share on ${(a=t.data)==null?void 0:a.updateTime}   |`:(o=t.data)==null?void 0:o.updateTime,{left:s,top:this._ratio(i),fontSize:this._ratio(e.fontSize),color:e.color,textAlign:n?"end":e.textAlign,fontFamily:t.fontFamily,textBaseline:e.textBaseline})}drawReferralCode(t){var a;if(!((a=t.data)!=null&&a.referral))return;const e=Td(["layout","updateTime"],t),{position:r}=e,n=this.painter.height-(r.bottom??0),i=Td(["layout","message"],t),s=new URL(t.data.referral.link),o=s.searchParams;o.append("ref",t.data.referral.code),s.search=o.toString(),_bt(this.ctx,{size:this._ratio(this.QRCODE_SIZE),padding:this._ratio(2),left:this._ratio(r.left),top:this._ratio(n-this.QRCODE_SIZE),data:`${s.toString()}`}),this._drawText(t.data.referral.slogan,{left:this._ratio(r.left+66),top:this._ratio(n-this.QRCODE_SIZE),fontSize:this._ratio(14),color:t.brandColor??this.DEFAULT_PROFIT_COLOR,fontFamily:t.fontFamily,textBaseline:"top"}),this._drawText("Referral Code",{left:this._ratio(r.left+66),top:this._ratio(n-29),fontSize:this._ratio(12),color:e.color,fontFamily:t.fontFamily,textBaseline:"middle"}),this._drawText(t.data.referral.code,{left:this._ratio(r.left+66),top:this._ratio(n),fontSize:this._ratio(16),color:i.color,fontFamily:t.fontFamily,textBaseline:"bottom"})}_drawText(t,e,r=!1){let n;const{left:i=30,top:s=30,fontSize:o=13,fontWeight:a=500,color:u="black",textBaseline:f="middle",textAlign:d="start"}=e??{};return this.ctx.save(),this.ctx.font=`${a} ${o}px ${e==null?void 0:e.fontFamily}`,this.ctx.fillStyle=u,this.ctx.textBaseline=f,this.ctx.textAlign=d,n=this.ctx.measureText(t),r||this.ctx.fillText(t,i,s),this.ctx.restore(),n}hasReferral(t){var e;return typeof((e=t.data)==null?void 0:e.referral)<"u"}_ratio(t){return t*this.painter.ratio}},xbt=class{constructor(t,e){this.canvas=t,this.width=0,this.height=0,this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.ratio=Math.max((e==null?void 0:e.ratio)||1,typeof window<"u"?Math.ceil(window.devicePixelRatio):1),this.canvas.width=this.width*this.ratio,this.canvas.height=this.height*this.ratio,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px"}draw(t){requestAnimationFrame(()=>this._draw.bind(this)(t))}async _draw(t){this.ctx!==null&&(await new Sbt(this.ctx,this).draw(t),await new Abt(this.ctx,this).draw(t))}},Ebt={domain:{fontSize:13,textBaseline:"bottom",position:{left:20,bottom:32}},message:{fontSize:20,color:"rgba(255, 255, 255, 0.98)",textBaseline:"top",position:{left:20,top:16}},position:{fontSize:14,color:"rgba(255,255,255,0.98)",position:{left:20,top:70}},unrealizedPnl:{fontSize:36,color:"rgba(255,255,255,0.5)",secondaryColor:"rgba(255,255,255,0.54)",secondaryFontSize:20,position:{left:20,top:110}},informations:{fontSize:12,color:"rgba(255, 255, 255, 0.8)",labelColor:"rgba(255,255,255,0.36)",position:{left:20,top:150}},updateTime:{fontSize:10,color:"rgba(255,255,255,0.3)",textAlign:"start",textBaseline:"bottom",position:{left:20,bottom:17}}},gNt=(t,e)=>{const[r,n]=B.useState(null),[i,s]=B.useState(()=>typeof navigator.clipboard<"u"),o=B.useRef(null),[a,u]=B.useState(null);B.useEffect(()=>{a&&(o.current||(o.current=new xbt(a,{ratio:(e==null?void 0:e.ratio)||1,...e})),o.current.draw(Lje({layout:Ebt,fontFamily:"Manrope"},t)))},[a,t]);const f=(A,x)=>{if(!a)throw new ar("The ref must be a canvas element");return a.toDataURL(A,x)},d=B.useCallback((A,x)=>new Promise(k=>{if(!a){k(null);return}a.toBlob(k,A,x)}),[a]),g=A=>{if(A){if(A.tagName.toUpperCase()!=="CANVAS"){n(new ar("The ref must be a canvas element"));return}u(A)}},y=B.useCallback((A,x="image/png",k)=>{if(!a)throw new ar("The ref must be a canvas element");const R=new Image;R.src=a.toDataURL(x,k);const C=document.createElement("a");C.href=R.src,C.download=A,C.click()},[a]),b=B.useCallback(()=>{if(!a)throw new ar("The ref must be a canvas element");return new Promise((A,x)=>{if(!navigator.clipboard){x(new ar("Clipboard API is not supported"));return}a.toBlob(k=>{if(!k){x(new ar("Failed to create blob"));return}return navigator.clipboard.write([new ClipboardItem({[k.type]:k})]).then(A,x)})})},[a]);return{error:r,ref:g,toDataURL:f,toBlob:d,download:y,canCopy:i,copy:b}},kbt={};Myt(kbt,{calcTPSL_ROI:()=>G_,cleanStringStyle:()=>LD,findPositionTPSLFromOrders:()=>vK,findTPSLFromOrder:()=>HM,findTPSLFromOrders:()=>M1t,formatNumber:()=>e_e,getPositionBySymbol:()=>jyt,priceToPnl:()=>HSe});var mNt=t=>{const{data:e,error:r,isLoading:n}=Rs(typeof t>"u"?null:`/v1/public/referral/check_ref_code?account_id=${t}`);return typeof t>"u"?{referral_code:void 0,error:"The account id is empty or undefined",isLoading:!1}:{referral_code:e==null?void 0:e.referral_code,error:r,isLoading:n}},yNt=()=>{const{data:t,mutate:e,isLoading:r,error:n}=vc("/v1/referral/info",{revalidateOnFocus:!0}),i=B.useMemo(()=>{var u,f,d;if(!(typeof((u=t==null?void 0:t.referee_info)==null?void 0:u.referer_code)>"u"))return(((d=(f=t==null?void 0:t.referee_info)==null?void 0:f.referer_code)==null?void 0:d.length)||0)>0},[t==null?void 0:t.referee_info]),s=B.useMemo(()=>{var u,f,d;if(!(typeof((u=t==null?void 0:t.referrer_info)==null?void 0:u.referral_codes)>"u"))return(((d=(f=t==null?void 0:t.referrer_info)==null?void 0:f.referral_codes)==null?void 0:d.length)||0)>0},[t==null?void 0:t.referrer_info]),[o]=UM("orderly_referral_codes",[]),a=B.useCallback(()=>{if(!(t!=null&&t.referrer_info.referral_codes))return;const u=[...t==null?void 0:t.referrer_info.referral_codes],f=[];for(let g=0;g<o.length;g++){const y=o[g],b=u.findIndex(A=>A.code===y);b!==-1&&(f.push({...u[b]}),u.splice(b,1))}const d=[...f,...u];return d==null?void 0:d[0]},[o,t]);return{data:t,isTrader:i,isAffiliate:s,error:n,isLoading:r,getFirstRefCode:a}},Tbt=(t=>(t.normal="normal",t.mm="mm",t))(Tbt||{}),bNt=t=>{const[e,r]=B.useState(void 0),n=t==="normal"?"/v1/public/trading_rewards/epoch_info":"/v1/public/market_making_rewards/epoch_info",{data:i,error:s,isLoading:o,mutate:a}=Rs(n,{formatter:f=>{if(typeof f=="object"&&"rows"in f&&"current_epoch"in f){const{rows:d,current_epoch:g}=f;if(Array.isArray(d)){const y=d.map(x=>x);y.sort((x,k)=>k.end_time-x.end_time);const b=y==null?void 0:y.findIndex(x=>x.epoch_id===g),A=y.find(x=>x.epoch_id===1);return A&&(A==null?void 0:A.start_time)>bl()?r(A):r(b!==-1?y==null?void 0:y[b]:void 0),y}}return[]}}),u=B.useMemo(()=>{const f=i==null?void 0:i.find(d=>d.epoch_id===1);return f?f.start_time>bl():!0},[i]);return[i,{isLoading:o,curEpochInfo:e,isNotStared:u,refresh:a}]},Ibt=()=>{const{data:t}=Rs("/v1/public/broker/name",{formatter:e=>{const{rows:r}=e;return r==null?void 0:r.map(n=>({[n.broker_id]:n.broker_name})).reduce((n,i)=>({...n,...i}),{})}});return[t]},vNt=t=>{const[e,r]=B.useState(void 0),{account:n}=Dg(),i=Ibt(),s=n.address,o=t==="normal"?`/v1/public/trading_rewards/current_epoch_estimate?address=${s}`:`/v1/public/market_making_rewards/current_epoch_estimate?address=${s}`,{data:a}=Rs(s!==void 0?o:"",{formatter:f=>{var g;return{...f,rows:((g=f.rows)==null?void 0:g.map(y=>({...y,broker_name:y.broker_id})))||[],est_trading_volume:(f==null?void 0:f.est_maker_volume)||(f==null?void 0:f.est_trading_volume)}}});return[B.useMemo(()=>{var f;if(a){const d={...a};return d.rows=(f=d.rows)==null?void 0:f.map(g=>({...g,broker_name:i[g.broker_id]||g.broker_id})),d}return e},[a,i])]},wNt=t=>{const{account:e}=Dg(),{keyInfo:r}=t||{},n=Rbt(r),{data:i,mutate:s,error:o,isLoading:a}=vc(`/v1/client/key_info${n.length>0?`?${n}`:""}`,{formatter:x=>x==null?void 0:x.rows}),[u]=ga("/v1/client/set_orderly_key_ip_restriction","POST"),[f]=ga("/v1/client/remove_orderly_key","POST"),[d]=ga("/v1/client/reset_orderly_key_ip_restriction","POST"),g=B.useCallback((x,k)=>u({orderly_key:x,ip_restriction_list:k}),[]),y=B.useCallback(x=>f({orderly_key:x}),[]);return[i,{refresh:s,error:o,isLoading:a,generateOrderlyKey:x=>e==null?void 0:e.createApiKey(365,{tag:"manualCreated",scope:x}),setIPRestriction:g,removeOrderlyKey:y,resetOrderlyKeyIPRestriction:(x,k)=>d({orderly_key:x,reset_mode:k})}]};function Rbt(t){if(typeof t>"u")return"";const e=new URLSearchParams;for(const[r,n]of Object.entries(t))n!==void 0&&(Array.isArray(n)?n.forEach(i=>{e.append(r,i.toString())}):e.set(r,n.toString()));return e.toString()}var Mbt=t=>(t==null?void 0:t.order_type)===Ht.STOP_LIMIT||(t==null?void 0:t.order_type)===Ht.STOP_MARKET||(t==null?void 0:t.order_type)===Ht.CLOSE_POSITION||t.algo_type&&t.algo_type===Ai.BRACKET||n_e(t)?"/v1/algo/order":"/v1/order",H3=t=>{let e;return n_e(t)?e=`${Ai.BRACKET}:${t.order_type}`:t.order_type===Ht.LIMIT?e=t.order_type_ext||t.order_type:e=t.order_type,px.create(e)},r_e=["tp_trigger_price","sl_trigger_price","tp_pnl","sl_pnl","tp_offset","sl_offset","tp_offset_percentage","sl_offset_percentage"],n_e=t=>!!t.tp_trigger_price||!!t.sl_trigger_price,DD=t=>r_e.some(e=>!!t[e]),i_e=(t,e)=>{let r=Number(t.order_quantity);const n=Number(t.order_price);if(isNaN(r)||r<=0||e.length===0||(t.order_type===Ht.LIMIT||t.order_type===Ht.STOP_LIMIT)&&isNaN(n))return null;let i;return t.order_type===Ht.MARKET||t.order_type===Ht.STOP_MARKET?t.side===or.BUY?i=e[0]:i=e[1]:t.side===or.BUY?n>=e[0]?i=e[0]:i=n:n<=e[1]?i=e[1]:i=n,t.side===or.SELL&&(r=-r),{price:i,quantity:r}},Cbt=(t,e,r)=>{const n=i_e(t,e);if(!n)return null;const{price:i,quantity:s}=n;if(!i||!s)return null;const{symbol:o,baseIMR:a,baseMMR:u,imr_factor:f,markPrice:d,totalCollateral:g,futures_taker_fee_rate:y,positions:b}=r,A=wh.orderFee({qty:s,price:i,futuresTakeFeeRate:Number(y)/1e4}),x=wh.estLiqPrice({markPrice:d,baseIMR:a,baseMMR:u,totalCollateral:g,positions:b??[],IMR_Factor:f,orderFee:A,newOrder:{qty:s,price:i,symbol:o}});return x<=0?null:x},Pbt=(t,e,r)=>{const n=i_e(t,e),{totalCollateral:i,positions:s,symbol:o}=r;if(!n)return null;const{price:a,quantity:u}=n;return!a||!u?null:wh.estLeverage({totalCollateral:i,positions:s,newOrder:{symbol:o,qty:n.quantity,price:n.price}})},Nbt={order_price:"",order_quantity:"",trigger_price:"",tp_trigger_price:"",sl_trigger_price:"",tp_pnl:"",sl_pnl:"",tp_offset_percentage:"",sl_offset_percentage:"",tp_offset:"",sl_offset:"",total:""},Bbt=t=>{const[e,r]=B.useState(t),[n,i]=B.useState(null),[s,o]=B.useState(null),[a,u]=B.useState({});return{entry:e,estLeverage:n,estLiquidationPrice:s,errors:a,actions:{updateOrder:x=>{r(la(k=>({...k,...x})))},updateOrderByKey:(x,k)=>{r(la(R=>{R[x]=k}))},restoreOrder:x=>{r(la(k=>x))},updateOrderComputed:x=>{i(x.estLeverage),o(x.estLiquidationPrice)},resetOrder:x=>{r(la(k=>({...k,...x??Nbt})))},hasTP_SL:()=>typeof e.tp_trigger_price<"u"||typeof e.sl_trigger_price<"u"}}},Obt=(t,e={})=>{const{symbolInfo:r}=e,n={side:or.BUY,order_type:Ht.LIMIT,order_price:"",symbol:t,...e.initialOrder},{actions:i,entry:s}=Bbt(n),o=B.useCallback((x,k,R,C,P)=>{const O=JSe(k);return mue(yue,O,QSe)([x,k,R,C,P])},[]);B.useEffect(()=>{i.updateOrderByKey("symbol",t)},[i,t]);const a=(x,k,R)=>{if(!r){i.updateOrderByKey(x,k);return}const{markPrice:C}=R??{markPrice:0};let P=o({...s},x,k,C,r);return x==="order_type"&&(k===Ht.MARKET||k===Ht.STOP_MARKET)&&(P=o(P,"order_price",C,C,r)),(x==="order_quantity"||x==="order_price")&&DD(P)&&(P=u(x,P,C,r)),P.tp_pnl&&P.order_quantity&&(P.tp_ROI=G_({qty:P.order_quantity,price:P.order_price||C,pnl:P.tp_pnl})),P.sl_pnl&&P.order_quantity&&(P.sl_ROI=G_({qty:P.order_quantity,price:P.order_price||C,pnl:P.sl_pnl})),i.updateOrder(P),P},u=(x,k,R,C)=>(x==="order_price"?(typeof k.tp_pnl<"u"&&(k=o(k,"tp_pnl",k.tp_pnl,R,C)),typeof k.sl_pnl<"u"&&(k=o(k,"sl_pnl",k.sl_pnl,R,C))):(typeof k.tp_trigger_price<"u"&&(k=o(k,"tp_trigger_price",k.tp_trigger_price,R,C)),typeof k.sl_trigger_price<"u"&&(k=o(k,"sl_trigger_price",k.sl_trigger_price,R,C))),k),f=(x,k)=>{if(!r){i.updateOrder(x);return}let R={...s};return Object.keys(x).forEach(C=>{R=o(R,C,x[C],(k==null?void 0:k.markPrice)??0,r)}),i.updateOrder(R),R},d=B.useCallback((x,k)=>{if(!e.symbolInfo)return;let R;typeof k>"u"?R=o({...s},"order_price",x,x,e.symbolInfo):R=o({...s},k,s[k],x,e.symbolInfo),DD(R)&&(R.tp_pnl&&R.order_quantity&&(R.tp_ROI=G_({qty:R.order_quantity,price:R.order_price||x,pnl:R.tp_pnl})),R.sl_pnl&&R.order_quantity&&(R.sl_ROI=G_({qty:R.order_quantity,price:R.order_price||x,pnl:R.sl_pnl}))),i.updateOrder(R)},[o,e.symbolInfo,s,i]),g=(x,k,R)=>{const{markPrice:C,maxQty:P}=R;return k==null?void 0:k.validate(x,{symbol:r,maxQty:P,markPrice:C})},y=(x,k)=>x.create(s,{...k,symbol:r}),b=B.useCallback(()=>{},[s]);return{formattedOrder:s,setValue:a,setValues:f,submit:b,reset:x=>{i.resetOrder(x)},generateOrder:y,validate:g,onMarkPriceChange:d}},SNt=(t,e={})=>{if(!t)throw new ar("Symbol is required");const r=Gh(),{track:n}=$M(),[i,s]=B.useState({dirty:{},submitted:!1,validated:!1,errors:null}),o=B.useRef([[]]),a=B.useRef(),u=B.useRef(),f=B.useRef(),d=USe(),g=nd(),y=$Se(),b=mK(),A=g[t](),x=d.getMarkPriceBySymbol(t),{formattedOrder:k,setValue:R,setValues:C,validate:P,generateOrder:O,reset:q,...Q}=Obt(t,{...e,symbolInfo:A}),[Y,{isMutating:X}]=ga(Mbt(k)),Z=wK(t,k.side,k.reduce_only),le=()=>{var J,V;const z=k.order_type_ext??u.current,G=k.level??f.current;if(![Ht.ASK,Ht.BID].includes(z)||G===void 0)return;u.current=z,f.current=G;const te=z===Ht.ASK?0:1,ie=(V=(J=o.current)==null?void 0:J[G])==null?void 0:V[te];ie&&!isNaN(ie)&&v("order_price",ie,{shouldUpdateLastChangedField:!1})},I=()=>{const{order_type:z,order_type_ext:G,order_quantity:te}=k,ie=z===Ht.LIMIT&&[Ht.ASK,Ht.BID].includes(G);a.current!=="total"&&ie&&le()};B.useEffect(()=>{le()},[k.order_type_ext,k.level]);const c=Zv(z=>{o.current=z,I()},200);B.useEffect(()=>(r.on("orderbook:update",c),()=>{r.off("orderbook:update",c)}),[]),B.useEffect(()=>{(k.order_type===Ht.MARKET||k.order_type===Ht.STOP_MARKET)&&x&&Q.onMarkPriceChange(x,a.current)},[x,k.order_type]);const h=B.useCallback(()=>({markPrice:d.getMarkPriceBySymbol(t),maxQty:Z}),[Z,t]),p=z=>{T(z).then(G=>{Object.keys(G).length>0?s(la(ie=>{ie.errors=G})):s(la(ie=>{ie.errors=null}))})},m=(z,G,te)=>!(r_e.includes(z)&&G!==""&&G!==void 0&&G!==null&&te!==Ht.LIMIT&&te!==Ht.MARKET),v=(z,G,te)=>{const{shouldUpdateLastChangedField:ie=!0,shouldUpdateDirty:J=!0}=te||{};if(!m(z,G,k.order_type))return;J&&s(la(fe=>{fe.dirty[z]=!0}));const V=R(z,G,h());V&&p(V),ie&&(a.current=z)},_=z=>{if(!Object.keys(z).every(te=>m(te,z[te],k.order_type)))return;const G=C(z,h());G&&p(G)};async function T(z){const G=H3(z);return P(z,G,h())}const w=()=>new Promise(async(z,G)=>{const te=H3(k),ie=await P(k,te,h());Object.keys(ie).length>0&&(s(la(fe=>{fe.errors=ie})),i.validated||s(la(fe=>{fe.validated=!0})),G(ie));const V=O(te,h());z(V)}),{freeCollateral:l,totalCollateral:S}=L2(),N=B.useMemo(()=>{const z=d.getMarkPriceBySymbol(t);if(!z||!y)return null;const G=Number(k.order_quantity);return G===0||G>Z?null:Cbt(k,o.current[0],{baseIMR:A==null?void 0:A.base_imr,baseMMR:A==null?void 0:A.base_mmr,markPrice:z,totalCollateral:S,futures_taker_fee_rate:y.futures_taker_fee_rate,imr_factor:y.imr_factor[t],symbol:t,positions:b})},[k,y,b,S,t,Z]),F=B.useMemo(()=>{const z=Number(k.order_quantity);return z===0||z>Z?null:Pbt(k,o.current[0],{totalCollateral:S,positions:b,symbol:t})},[k,y,b,S,t,Z]),W=()=>{s(la(z=>{z.errors=null}))},D=()=>{s(la(z=>{z.errors=null,z.submitted=!1,z.validated=!1,z.dirty={}}))};return{...Q,submit:async z=>{const G=H3(k),te=await P(k,G,h()),{resetOnSuccess:ie=!0}=z||{};if(s(la(fe=>{fe.submitted=!0,fe.validated=!0})),Object.keys(te).length>0)throw s(la(fe=>{fe.errors=te})),new ar("Order validation failed");const J=O(G,h()),V=await Y(J);return V.success&&n(kh.placeorderSuccess,{side:J.side,order_type:J.order_type,tp_sl:DD(k),reduce_only:!!J.reduce_only}),V.success&&ie&&(q(),D()),V},reset:q,resetErrors:W,resetMetaState:D,formattedOrder:k,maxQty:Z,estLiqPrice:N,estLeverage:F,helper:{validator:w,validate:w},freeCollateral:l,setValue:v,setValues:_,symbolInfo:A||{},metaState:i,isMutating:X,markPrice:x}},Lbt={order_price:"",order_quantity:"",trigger_price:"",tp_trigger_price:"",sl_trigger_price:"",total:"",symbol:""};ny()(e4((t,e)=>({entry:{side:or.BUY,order_type:Ht.LIMIT,...Lbt},estLeverage:null,estLiquidationPrice:null,errors:{},actions:{hasTP_SL:()=>{const r=e().entry;return typeof r.tp_trigger_price<"u"||typeof r.sl_trigger_price<"u"},updateOrderComputed:r=>{t(n=>{n.estLeverage=r.estLeverage,n.estLiquidationPrice=r.estLiquidationPrice},!1)},updateOrder:r=>{t(n=>{n.entry={...n.entry,...r}},!1)},updateOrderByKey:(r,n)=>{t(i=>{i.entry[r]=n},!1)},restoreOrder:r=>{t(n=>{n.entry=r},!1)},resetOrder:r=>{t(n=>{n.entry.order_price="",n.entry.order_quantity="",n.entry.trigger_price="",n.entry.total="",n.entry.tp_trigger_price="",n.entry.tp_pnl="",n.entry.tp_offset="",n.entry.tp_offset_percentage="",n.entry.sl_trigger_price="",n.entry.sl_pnl="",n.entry.sl_offset="",n.entry.sl_offset_percentage=""},!0)}}})));var _Nt=(t,e)=>{if(!t.symbol)throw new ar("Symbol is required");const[r,n]=B.useState(),i=wK(t.symbol,t.side,t.reduce_only),s=(e==null?void 0:e.maxQty)??i,o=USe(),a=o.getMarkPriceBySymbol(t.symbol),u=B.useCallback(()=>({markPrice:o.getMarkPriceBySymbol(t.symbol),maxQty:s}),[s,t.symbol,t]),f=nd(),d=()=>new Promise(async(y,b)=>{const A=H3(t),x=f[t.symbol](),k=await(A==null?void 0:A.validate(t,{symbol:x,maxQty:s,markPrice:a}));Object.keys(k).length>0?(n(k),b(k)):n({});const C=A.create(t,{...u(),symbol:x});y(C)}),g=YHe(()=>{d().then(()=>{},y=>{})},50,{});return B.useEffect(()=>{g()},[t.order_price,t.order_quantity,t.trigger_price]),{validate:d,errors:r,markPrice:a,symbolInfo:f}},ANt=t=>{const{enableDefault:e=!1,customRestrictedIps:r=[],customRestrictedRegions:n=[],content:i}=t||{},s=Vh("apiBaseUrl"),[o,a]=B.useState([]),[u,f]=B.useState([]),[d,g]=B.useState([]),[y,b]=B.useState([]),[A,x]=B.useState(""),[k,R]=B.useState(""),[C,P]=B.useState(""),[O,q]=B.useState(!1);return B.useEffect(()=>{(async()=>{var Y,X,Z,le,I,c,h,p,m,v,_,T,w;try{const S=await(await fetch(`${s}/v1/restricted_areas`)).json(),F=await(await fetch(`${s}/v1/ip_info`)).json();if(S.success&&F.success){const W=(Z=(X=(Y=S==null?void 0:S.data)==null?void 0:Y.invalid_web_country)==null?void 0:X.toLocaleLowerCase())==null?void 0:Z.replace(/\s+/g,"").split(","),D=(c=(I=(le=S==null?void 0:S.data)==null?void 0:le.invalid_web_city)==null?void 0:I.toLocaleLowerCase())==null?void 0:c.replace(/\s+/g,"").split(","),K=(e?D.concat(W):[]).concat(n==null?void 0:n.map(J=>{var V;return(V=J==null?void 0:J.replace(/\s+/g,""))==null?void 0:V.toLocaleLowerCase()})),z=[e?(h=S==null?void 0:S.data)==null?void 0:h.invalid_web_country:"",e?(p=S==null?void 0:S.data)==null?void 0:p.invalid_web_city:"",n==null?void 0:n.join(", ")].filter(J=>!!J);a(D),f(W),g(K),b(z);const{city:G,region:te,ip:ie}=F.data;x(G),R(te),P(ie),(K.includes((v=(m=F==null?void 0:F.data)==null?void 0:m.city)==null?void 0:v.replace(/\s+/g,"").toLocaleLowerCase())||K.includes((T=(_=F==null?void 0:F.data)==null?void 0:_.region)==null?void 0:T.replace(/\s+/g,"").toLocaleLowerCase())||r.includes((w=F==null?void 0:F.data)==null?void 0:w.ip))&&q(!0)}}catch{}})()},[s]),{ip:C,invalidRegions:y,restrictedOpen:O,content:i}},Ute=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Oa=t=>!t||typeof t!="object"||Object.keys(t).length===0,Dbt=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function s_e(t,e){t.forEach(function(r){Array.isArray(r)?s_e(r,e):e.push(r)})}function o_e(t){let e=[];return s_e(t,e),e}var a_e=(...t)=>o_e(t).filter(Boolean),SK=(t,e)=>{let r={},n=Object.keys(t),i=Object.keys(e);for(let s of n)if(i.includes(s)){let o=t[s],a=e[s];typeof o=="object"&&typeof a=="object"?r[s]=SK(o,a):Array.isArray(o)||Array.isArray(a)?r[s]=a_e(a,o):r[s]=a+" "+o}else r[s]=t[s];for(let s of i)n.includes(s)||(r[s]=e[s]);return r},zte=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim();const _K="-",Fbt=t=>{const e=Ubt(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(_K);return a[0]===""&&a.length!==1&&a.shift(),u_e(a,e)||$bt(o)},getConflictingClassGroupIds:(o,a)=>{const u=r[o]||[];return a&&n[o]?[...u,...n[o]]:u}}},u_e=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?u_e(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(_K);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Wte=/^\[(.+)\]$/,$bt=t=>{if(Wte.test(t)){const e=Wte.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Ubt=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Wbt(Object.entries(t.classGroups),r).forEach(([s,o])=>{FD(o,n,s,e)}),n},FD=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Kte(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(zbt(i)){FD(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{FD(o,Kte(e,s),r,n)})})},Kte=(t,e)=>{let r=t;return e.split(_K).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zbt=t=>t.isThemeGetter,Wbt=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,Kbt=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},c_e="!",jbt=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let f=0,d=0,g;for(let k=0;k<a.length;k++){let R=a[k];if(f===0){if(R===i&&(n||a.slice(k,k+s)===e)){u.push(a.slice(d,k)),d=k+s;continue}if(R==="/"){g=k;continue}}R==="["?f++:R==="]"&&f--}const y=u.length===0?a:a.substring(d),b=y.startsWith(c_e),A=b?y.substring(1):y,x=g&&g>d?g-d:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:x}};return r?a=>r({className:a,parseClassName:o}):o},Hbt=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},qbt=t=>({cache:Kbt(t.cacheSize),parseClassName:jbt(t),...Fbt(t)}),Vbt=/\s+/,Gbt=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Vbt);let a="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{modifiers:d,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}=r(f);let A=!!b,x=n(A?y.substring(0,b):y);if(!x){if(!A){a=f+(a.length>0?" "+a:a);continue}if(x=n(y),!x){a=f+(a.length>0?" "+a:a);continue}A=!1}const k=Hbt(d).join(":"),R=g?k+c_e:k,C=R+x;if(s.includes(C))continue;s.push(C);const P=i(x,A);for(let O=0;O<P.length;++O){const q=P[O];s.push(R+q)}a=f+(a.length>0?" "+a:a)}return a};function Ybt(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=l_e(e))&&(n&&(n+=" "),n+=r);return n}const l_e=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=l_e(t[n]))&&(r&&(r+=" "),r+=e);return r};function $D(t,...e){let r,n,i,s=o;function o(u){const f=e.reduce((d,g)=>g(d),t());return r=qbt(f),n=r.cache.get,i=r.cache.set,s=a,a(u)}function a(u){const f=n(u);if(f)return f;const d=Gbt(u,r);return i(u,d),d}return function(){return s(Ybt.apply(null,arguments))}}const Ci=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},f_e=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zbt=/^\d+\/\d+$/,Xbt=new Set(["px","full","screen"]),Qbt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jbt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,evt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tvt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rvt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ad=t=>Ub(t)||Xbt.has(t)||Zbt.test(t),yp=t=>aS(t,"length",lvt),Ub=t=>!!t&&!Number.isNaN(Number(t)),eB=t=>aS(t,"number",Ub),f_=t=>!!t&&Number.isInteger(Number(t)),nvt=t=>t.endsWith("%")&&Ub(t.slice(0,-1)),Wr=t=>f_e.test(t),bp=t=>Qbt.test(t),ivt=new Set(["length","size","percentage"]),svt=t=>aS(t,ivt,d_e),ovt=t=>aS(t,"position",d_e),avt=new Set(["image","url"]),uvt=t=>aS(t,avt,dvt),cvt=t=>aS(t,"",fvt),d_=()=>!0,aS=(t,e,r)=>{const n=f_e.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},lvt=t=>Jbt.test(t)&&!evt.test(t),d_e=()=>!1,fvt=t=>tvt.test(t),dvt=t=>rvt.test(t),UD=()=>{const t=Ci("colors"),e=Ci("spacing"),r=Ci("blur"),n=Ci("brightness"),i=Ci("borderColor"),s=Ci("borderRadius"),o=Ci("borderSpacing"),a=Ci("borderWidth"),u=Ci("contrast"),f=Ci("grayscale"),d=Ci("hueRotate"),g=Ci("invert"),y=Ci("gap"),b=Ci("gradientColorStops"),A=Ci("gradientColorStopPositions"),x=Ci("inset"),k=Ci("margin"),R=Ci("opacity"),C=Ci("padding"),P=Ci("saturate"),O=Ci("scale"),q=Ci("sepia"),Q=Ci("skew"),Y=Ci("space"),X=Ci("translate"),Z=()=>["auto","contain","none"],le=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Wr,e],c=()=>[Wr,e],h=()=>["",Ad,yp],p=()=>["auto",Ub,Wr],m=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],v=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],w=()=>["","0",Wr],l=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>[Ub,Wr];return{cacheSize:500,separator:":",theme:{colors:[d_],spacing:[Ad,yp],blur:["none","",bp,Wr],brightness:S(),borderColor:[t],borderRadius:["none","","full",bp,Wr],borderSpacing:c(),borderWidth:h(),contrast:S(),grayscale:w(),hueRotate:S(),invert:w(),gap:c(),gradientColorStops:[t],gradientColorStopPositions:[nvt,yp],inset:I(),margin:I(),opacity:S(),padding:c(),saturate:S(),scale:S(),sepia:w(),skew:S(),space:c(),translate:c()},classGroups:{aspect:[{aspect:["auto","square","video",Wr]}],container:["container"],columns:[{columns:[bp]}],"break-after":[{"break-after":l()}],"break-before":[{"break-before":l()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...m(),Wr]}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",f_,Wr]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wr]}],grow:[{grow:w()}],shrink:[{shrink:w()}],order:[{order:["first","last","none",f_,Wr]}],"grid-cols":[{"grid-cols":[d_]}],"col-start-end":[{col:["auto",{span:["full",f_,Wr]},Wr]}],"col-start":[{"col-start":p()}],"col-end":[{"col-end":p()}],"grid-rows":[{"grid-rows":[d_]}],"row-start-end":[{row:["auto",{span:[f_,Wr]},Wr]}],"row-start":[{"row-start":p()}],"row-end":[{"row-end":p()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[Y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Wr,e]}],"min-w":[{"min-w":[Wr,e,"min","max","fit"]}],"max-w":[{"max-w":[Wr,e,"none","full","min","max","fit","prose",{screen:[bp]},bp]}],h:[{h:[Wr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Wr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Wr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Wr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bp,yp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eB]}],"font-family":[{font:[d_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wr]}],"line-clamp":[{"line-clamp":["none",Ub,eB]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ad,Wr]}],"list-image":[{"list-image":["none",Wr]}],"list-style-type":[{list:["none","disc","decimal",Wr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...v(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ad,yp]}],"underline-offset":[{"underline-offset":["auto",Ad,Wr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:c()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...m(),ovt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",svt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uvt]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...v(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:v()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...v()]}],"outline-offset":[{"outline-offset":[Ad,Wr]}],"outline-w":[{outline:[Ad,yp]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:h()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Ad,yp]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bp,cvt]}],"shadow-color":[{shadow:[d_]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",bp,Wr]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[g]}],saturate:[{saturate:[P]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wr]}],duration:[{duration:S()}],ease:[{ease:["linear","in","out","in-out",Wr]}],delay:[{delay:S()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[f_,Wr]}],"translate-x":[{"translate-x":[X]}],"translate-y":[{"translate-y":[X]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":c()}],"scroll-mx":[{"scroll-mx":c()}],"scroll-my":[{"scroll-my":c()}],"scroll-ms":[{"scroll-ms":c()}],"scroll-me":[{"scroll-me":c()}],"scroll-mt":[{"scroll-mt":c()}],"scroll-mr":[{"scroll-mr":c()}],"scroll-mb":[{"scroll-mb":c()}],"scroll-ml":[{"scroll-ml":c()}],"scroll-p":[{"scroll-p":c()}],"scroll-px":[{"scroll-px":c()}],"scroll-py":[{"scroll-py":c()}],"scroll-ps":[{"scroll-ps":c()}],"scroll-pe":[{"scroll-pe":c()}],"scroll-pt":[{"scroll-pt":c()}],"scroll-pr":[{"scroll-pr":c()}],"scroll-pb":[{"scroll-pb":c()}],"scroll-pl":[{"scroll-pl":c()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ad,yp,eB]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hvt=(t,{cacheSize:e,prefix:r,separator:n,experimentalParseClassName:i,extend:s={},override:o={}})=>{Y_(t,"cacheSize",e),Y_(t,"prefix",r),Y_(t,"separator",n),Y_(t,"experimentalParseClassName",i);for(const a in o)pvt(t[a],o[a]);for(const a in s)gvt(t[a],s[a]);return t},Y_=(t,e,r)=>{r!==void 0&&(t[e]=r)},pvt=(t,e)=>{if(e)for(const r in e)Y_(t,r,e[r])},gvt=(t,e)=>{if(e)for(const r in e){const n=e[r];n!==void 0&&(t[r]=(t[r]||[]).concat(n))}},mvt=(t,...e)=>typeof t=="function"?$D(UD,t,...e):$D(()=>hvt(UD(),t),...e),yvt=$D(UD);var bvt={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},h_e=t=>t||void 0,Dt=(...t)=>h_e(o_e(t).filter(Boolean).join(" ")),tB=null,Ld={},zD=!1,H1=(...t)=>e=>e.twMerge?((!tB||zD)&&(zD=!1,tB=Oa(Ld)?yvt:mvt({...Ld,extend:{theme:Ld.theme,classGroups:Ld.classGroups,conflictingClassGroupModifiers:Ld.conflictingClassGroupModifiers,conflictingClassGroups:Ld.conflictingClassGroups,...Ld.extend}})),h_e(tB(Dt(t)))):Dt(t),jte=(t,e)=>{for(let r in e)t.hasOwnProperty(r)?t[r]=Dt(t[r],e[r]):t[r]=e[r];return t},Dl=(t,e)=>{let{extend:r=null,slots:n={},variants:i={},compoundVariants:s=[],compoundSlots:o=[],defaultVariants:a={}}=t,u={...bvt,...e},f=r!=null&&r.base?Dt(r.base,t==null?void 0:t.base):t==null?void 0:t.base,d=r!=null&&r.variants&&!Oa(r.variants)?SK(i,r.variants):i,g=r!=null&&r.defaultVariants&&!Oa(r.defaultVariants)?{...r.defaultVariants,...a}:a;!Oa(u.twMergeConfig)&&!Dbt(u.twMergeConfig,Ld)&&(zD=!0,Ld=u.twMergeConfig);let y=Oa(r==null?void 0:r.slots),b=Oa(n)?{}:{base:Dt(t==null?void 0:t.base,y&&(r==null?void 0:r.base)),...n},A=y?b:jte({...r==null?void 0:r.slots},Oa(b)?{base:t==null?void 0:t.base}:b),x=Oa(r==null?void 0:r.compoundVariants)?s:a_e(r==null?void 0:r.compoundVariants,s),k=C=>{if(Oa(d)&&Oa(n)&&y)return H1(f,C==null?void 0:C.class,C==null?void 0:C.className)(u);if(x&&!Array.isArray(x))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof x}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let P=(c,h,p=[],m)=>{let v=p;if(typeof h=="string")v=v.concat(zte(h).split(" ").map(_=>`${c}:${_}`));else if(Array.isArray(h))v=v.concat(h.reduce((_,T)=>_.concat(`${c}:${T}`),[]));else if(typeof h=="object"&&typeof m=="string"){for(let _ in h)if(h.hasOwnProperty(_)&&_===m){let T=h[_];if(T&&typeof T=="string"){let w=zte(T);v[m]?v[m]=v[m].concat(w.split(" ").map(l=>`${c}:${l}`)):v[m]=w.split(" ").map(l=>`${c}:${l}`)}else Array.isArray(T)&&T.length>0&&(v[m]=T.reduce((w,l)=>w.concat(`${c}:${l}`),[]))}}return v},O=(c,h=d,p=null,m=null)=>{var v;let _=h[c];if(!_||Oa(_))return null;let T=(v=m==null?void 0:m[c])!=null?v:C==null?void 0:C[c];if(T===null)return null;let w=Ute(T),l=Array.isArray(u.responsiveVariants)&&u.responsiveVariants.length>0||u.responsiveVariants===!0,S=g==null?void 0:g[c],N=[];if(typeof w=="object"&&l)for(let[D,K]of Object.entries(w)){let z=_[K];if(D==="initial"){S=K;continue}Array.isArray(u.responsiveVariants)&&!u.responsiveVariants.includes(D)||(N=P(D,z,N,p))}let F=w!=null&&typeof w!="object"?w:Ute(S),W=_[F||"false"];return typeof N=="object"&&typeof p=="string"&&N[p]?jte(N,W):N.length>0?(N.push(W),N):W},q=()=>d?Object.keys(d).map(c=>O(c,d)):null,Q=(c,h)=>{if(!d||typeof d!="object")return null;let p=new Array;for(let m in d){let v=O(m,d,c,h),_=c==="base"&&typeof v=="string"?v:v&&v[c];_&&(p[p.length]=_)}return p},Y={};for(let c in C)C[c]!==void 0&&(Y[c]=C[c]);let X=(c,h)=>{var p;let m=typeof(C==null?void 0:C[c])=="object"?{[c]:(p=C[c])==null?void 0:p.initial}:{};return{...g,...Y,...m,...h}},Z=(c=[],h)=>{let p=[];for(let{class:m,className:v,..._}of c){let T=!0;for(let[w,l]of Object.entries(_)){let S=X(w,h);if(Array.isArray(l)){if(!l.includes(S[w])){T=!1;break}}else if(S[w]!==l){T=!1;break}}T&&(m&&p.push(m),v&&p.push(v))}return p},le=c=>{let h=Z(x,c);if(!Array.isArray(h))return h;let p={};for(let m of h)if(typeof m=="string"&&(p.base=H1(p.base,m)(u)),typeof m=="object")for(let[v,_]of Object.entries(m))p[v]=H1(p[v],_)(u);return p},I=c=>{if(o.length<1)return null;let h={};for(let{slots:p=[],class:m,className:v,..._}of o){if(!Oa(_)){let T=!0;for(let w of Object.keys(_)){let l=X(w,c)[w];if(l===void 0||(Array.isArray(_[w])?!_[w].includes(l):_[w]!==l)){T=!1;break}}if(!T)continue}for(let T of p)h[T]=h[T]||[],h[T].push([m,v])}return h};if(!Oa(n)||!y){let c={};if(typeof A=="object"&&!Oa(A))for(let h of Object.keys(A))c[h]=p=>{var m,v;return H1(A[h],Q(h,p),((m=le(p))!=null?m:[])[h],((v=I(p))!=null?v:[])[h],p==null?void 0:p.class,p==null?void 0:p.className)(u)};return c}return H1(f,q(),Z(x),C==null?void 0:C.class,C==null?void 0:C.className)(u)},R=()=>{if(!(!d||typeof d!="object"))return Object.keys(d)};return k.variantKeys=R(),k.extend=r,k.base=f,k.slots=A,k.variants=d,k.defaultVariants=g,k.compoundSlots=o,k.compoundVariants=x,k},vvt=t=>(e,r)=>Dl(e,r?SK(t,r):t);function Hte(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qM(...t){return e=>{let r=!1;const n=t.map(i=>{const s=Hte(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Hte(t[i],null)}}}}function Nr(...t){return B.useCallback(qM(...t),t)}var Us=B.forwardRef((t,e)=>{const{children:r,...n}=t,i=B.Children.toArray(r),s=i.find(wvt);if(s){const o=s.props.children,a=i.map(u=>u===s?B.Children.count(o)>1?B.Children.only(null):B.isValidElement(o)?o.props.children:null:u);return $.jsx(WD,{...n,ref:e,children:B.isValidElement(o)?B.cloneElement(o,void 0,a):null})}return $.jsx(WD,{...n,ref:e,children:r})});Us.displayName="Slot";var WD=B.forwardRef((t,e)=>{const{children:r,...n}=t;if(B.isValidElement(r)){const i=_vt(r);return B.cloneElement(r,{...Svt(n,r.props),ref:e?qM(e,i):i})}return B.Children.count(r)>1?B.Children.only(null):null});WD.displayName="SlotClone";var p_e=({children:t})=>$.jsx($.Fragment,{children:t});function wvt(t){return B.isValidElement(t)&&t.type===p_e}function Svt(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{s(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function _vt(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function kn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Du(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function fa(t,e){const r=kn(t);return isNaN(e)?Du(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function xl(t,e){const r=kn(t);if(isNaN(e))return Du(t,NaN);if(!e)return r;const n=r.getDate(),i=Du(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const AK=6048e5,Avt=864e5;let xvt={};function F2(){return xvt}function Vf(t,e){var a,u,f,d;const r=F2(),n=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,i=kn(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Hm(t){return Vf(t,{weekStartsOn:1})}function g_e(t){const e=kn(t),r=e.getFullYear(),n=Du(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Hm(n),s=Du(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Hm(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function yw(t){const e=kn(t);return e.setHours(0,0,0,0),e}function PI(t){const e=kn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function kf(t,e){const r=yw(t),n=yw(e),i=+r-PI(r),s=+n-PI(n);return Math.round((i-s)/Avt)}function Evt(t){const e=g_e(t),r=Du(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Hm(r)}function KD(t,e){const r=e*7;return fa(t,r)}function kvt(t,e){return xl(t,e*12)}function Tvt(t){let e;return t.forEach(function(r){const n=kn(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Ivt(t){let e;return t.forEach(r=>{const n=kn(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function Ja(t,e){const r=yw(t),n=yw(e);return+r==+n}function xK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function m_e(t){if(!xK(t)&&typeof t!="number")return!1;const e=kn(t);return!isNaN(Number(e))}function gx(t,e){const r=kn(t),n=kn(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Rvt(t,e,r){const n=Vf(t,r),i=Vf(e,r),s=+n-PI(n),o=+i-PI(i);return Math.round((s-o)/AK)}function EK(t){const e=kn(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function eu(t){const e=kn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function y_e(t){const e=kn(t),r=Du(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function kK(t,e){var a,u,f,d;const r=F2(),n=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??0,i=kn(t),s=i.getDay(),o=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function b_e(t){return kK(t,{weekStartsOn:1})}const Mvt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cvt=(t,e,r)=>{let n;const i=Mvt[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rB(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Pvt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nvt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bvt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ovt={date:rB({formats:Pvt,defaultWidth:"full"}),time:rB({formats:Nvt,defaultWidth:"full"}),dateTime:rB({formats:Bvt,defaultWidth:"full"})},Lvt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dvt=(t,e,r,n)=>Lvt[t];function h_(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Fvt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$vt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uvt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zvt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wvt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kvt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jvt=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hvt={ordinalNumber:jvt,era:h_({values:Fvt,defaultWidth:"wide"}),quarter:h_({values:$vt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:h_({values:Uvt,defaultWidth:"wide"}),day:h_({values:zvt,defaultWidth:"wide"}),dayPeriod:h_({values:Wvt,defaultWidth:"wide",formattingValues:Kvt,defaultFormattingWidth:"wide"})};function p_(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?Vvt(a,g=>g.test(o)):qvt(a,g=>g.test(o));let f;f=t.valueCallback?t.valueCallback(u):u,f=r.valueCallback?r.valueCallback(f):f;const d=e.slice(o.length);return{value:f,rest:d}}}function qvt(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Vvt(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Gvt(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Yvt=/^(\d+)(th|st|nd|rd)?/i,Zvt=/\d+/i,Xvt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qvt={any:[/^b/i,/^(a|c)/i]},Jvt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ewt={any:[/1/i,/2/i,/3/i,/4/i]},twt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rwt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nwt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iwt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},swt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},owt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},awt={ordinalNumber:Gvt({matchPattern:Yvt,parsePattern:Zvt,valueCallback:t=>parseInt(t,10)}),era:p_({matchPatterns:Xvt,defaultMatchWidth:"wide",parsePatterns:Qvt,defaultParseWidth:"any"}),quarter:p_({matchPatterns:Jvt,defaultMatchWidth:"wide",parsePatterns:ewt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:p_({matchPatterns:twt,defaultMatchWidth:"wide",parsePatterns:rwt,defaultParseWidth:"any"}),day:p_({matchPatterns:nwt,defaultMatchWidth:"wide",parsePatterns:iwt,defaultParseWidth:"any"}),dayPeriod:p_({matchPatterns:swt,defaultMatchWidth:"any",parsePatterns:owt,defaultParseWidth:"any"})},TK={code:"en-US",formatDistance:Cvt,formatLong:Ovt,formatRelative:Dvt,localize:Hvt,match:awt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uwt(t){const e=kn(t);return kf(e,y_e(e))+1}function v_e(t){const e=kn(t),r=+Hm(e)-+Evt(e);return Math.round(r/AK)+1}function w_e(t,e){var d,g,y,b;const r=kn(t),n=r.getFullYear(),i=F2(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,o=Du(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=Vf(o,e),u=Du(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const f=Vf(u,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function cwt(t,e){var a,u,f,d;const r=F2(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(f=r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,i=w_e(t,e),s=Du(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Vf(s,e)}function S_e(t,e){const r=kn(t),n=+Vf(r,e)-+cwt(r,e);return Math.round(n/AK)+1}function ti(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const vp={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ti(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ti(r+1,2)},d(t,e){return ti(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ti(t.getHours()%12||12,e.length)},H(t,e){return ti(t.getHours(),e.length)},m(t,e){return ti(t.getMinutes(),e.length)},s(t,e){return ti(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ti(i,e.length)}},e1={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qte={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return vp.y(t,e)},Y:function(t,e,r,n){const i=w_e(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ti(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ti(s,e.length)},R:function(t,e){const r=g_e(t);return ti(r,e.length)},u:function(t,e){const r=t.getFullYear();return ti(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ti(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ti(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return vp.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ti(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=S_e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ti(i,e.length)},I:function(t,e,r){const n=v_e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ti(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vp.d(t,e)},D:function(t,e,r){const n=uwt(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ti(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ti(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ti(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ti(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=e1.noon:n===0?i=e1.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=e1.evening:n>=12?i=e1.afternoon:n>=4?i=e1.morning:i=e1.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vp.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vp.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ti(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ti(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vp.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vp.s(t,e)},S:function(t,e){return vp.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Gte(n);case"XXXX":case"XX":return u0(n);case"XXXXX":case"XXX":default:return u0(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Gte(n);case"xxxx":case"xx":return u0(n);case"xxxxx":case"xxx":default:return u0(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vte(n,":");case"OOOO":default:return"GMT"+u0(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vte(n,":");case"zzzz":default:return"GMT"+u0(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ti(n,e.length)},T:function(t,e,r){const n=t.getTime();return ti(n,e.length)}};function Vte(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ti(s,2)}function Gte(t,e){return t%60===0?(t>0?"-":"+")+ti(Math.abs(t)/60,2):u0(t,e)}function u0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ti(Math.trunc(n/60),2),s=ti(n%60,2);return r+i+e+s}const Yte=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},__e=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lwt=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Yte(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Yte(n,e)).replace("{{time}}",__e(i,e))},fwt={p:__e,P:lwt},dwt=/^D+$/,hwt=/^Y+$/,pwt=["D","DD","YY","YYYY"];function gwt(t){return dwt.test(t)}function mwt(t){return hwt.test(t)}function ywt(t,e,r){const n=bwt(t,e,r);if(console.warn(n),pwt.includes(t))throw new RangeError(n)}function bwt(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vwt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wwt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Swt=/^'([^]*?)'?$/,_wt=/''/g,Awt=/[a-zA-Z]/;function Gf(t,e,r){var d,g,y,b,A,x,k,R;const n=F2(),i=(r==null?void 0:r.locale)??n.locale??TK,s=(r==null?void 0:r.firstWeekContainsDate)??((g=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((R=(k=n.locale)==null?void 0:k.options)==null?void 0:R.weekStartsOn)??0,a=kn(t);if(!m_e(a))throw new RangeError("Invalid time value");let u=e.match(wwt).map(C=>{const P=C[0];if(P==="p"||P==="P"){const O=fwt[P];return O(C,i.formatLong)}return C}).join("").match(vwt).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const P=C[0];if(P==="'")return{isToken:!1,value:xwt(C)};if(qte[P])return{isToken:!0,value:C};if(P.match(Awt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(C=>{if(!C.isToken)return C.value;const P=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&mwt(P)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&gwt(P))&&ywt(P,e,String(t));const O=qte[P[0]];return O(a,P,i.localize,f)}).join("")}function xwt(t){const e=t.match(Swt);return e?e[1].replace(_wt,"'"):t}function Ewt(t){const e=kn(t),r=e.getFullYear(),n=e.getMonth(),i=Du(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function kwt(t){return Math.trunc(+kn(t)/1e3)}function Twt(t){const e=kn(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Iwt(t,e){return Rvt(Twt(t),eu(t),e)+1}function jD(t,e){const r=kn(t),n=kn(e);return r.getTime()>n.getTime()}function A_e(t,e){const r=kn(t),n=kn(e);return+r<+n}function IK(t,e){const r=kn(t),n=kn(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Rwt(t,e){const r=kn(t),n=kn(e);return r.getFullYear()===n.getFullYear()}function nB(t,e){return fa(t,-e)}function iB(t,e){const r=kn(t),n=r.getFullYear(),i=r.getDate(),s=Du(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const o=Ewt(s);return r.setMonth(e,Math.min(i,o)),r}function Zte(t,e){const r=kn(t);return isNaN(+r)?Du(t,NaN):(r.setFullYear(e),r)}function Mwt(t,e){const r=B.createContext(e),n=s=>{const{children:o,...a}=s,u=B.useMemo(()=>a,Object.values(a));return $.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function i(s){const o=B.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function ta(t,e=[]){let r=[];function n(s,o){const a=B.createContext(o),u=r.length;r=[...r,o];const f=g=>{var R;const{scope:y,children:b,...A}=g,x=((R=y==null?void 0:y[t])==null?void 0:R[u])||a,k=B.useMemo(()=>A,Object.values(A));return $.jsx(x.Provider,{value:k,children:b})};f.displayName=s+"Provider";function d(g,y){var x;const b=((x=y==null?void 0:y[t])==null?void 0:x[u])||a,A=B.useContext(b);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,d]}const i=()=>{const s=r.map(o=>B.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return B.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[n,Cwt(i,...e)]}function Cwt(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:u,scopeName:f})=>{const g=u(s)[`__scope${f}`];return{...a,...g}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Is(t){const e=B.useRef(t);return B.useEffect(()=>{e.current=t}),B.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var lo=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},Pwt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ur=Pwt.reduce((t,e)=>{const r=B.forwardRef((n,i)=>{const{asChild:s,...o}=n,a=s?Us:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(a,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function x_e(t,e){t&&i6.flushSync(()=>t.dispatchEvent(e))}var RK="Avatar",[Nwt,xNt]=ta(RK),[Bwt,E_e]=Nwt(RK),k_e=B.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=B.useState("idle");return $.jsx(Bwt,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:$.jsx(ur.span,{...n,ref:e})})});k_e.displayName=RK;var T_e="AvatarImage",I_e=B.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=E_e(T_e,r),a=Owt(n,s.referrerPolicy),u=Is(f=>{i(f),o.onImageLoadingStatusChange(f)});return lo(()=>{a!=="idle"&&u(a)},[a,u]),a==="loaded"?$.jsx(ur.img,{...s,ref:e,src:n}):null});I_e.displayName=T_e;var R_e="AvatarFallback",M_e=B.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=E_e(R_e,r),[o,a]=B.useState(n===void 0);return B.useEffect(()=>{if(n!==void 0){const u=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(u)}},[n]),o&&s.imageLoadingStatus!=="loaded"?$.jsx(ur.span,{...i,ref:e}):null});M_e.displayName=R_e;function Owt(t,e){const[r,n]=B.useState("idle");return lo(()=>{if(!t){n("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&n(a)};return n("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var C_e=k_e,P_e=I_e,N_e=M_e,B_e={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Lt,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{},id:s,loaded:!1};return r[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=r,i.c=n,i.p="",i(0)}([function(r,n,i){const s=i(1),o=i(2),a=new Array(4);function u(x){for(let k=0;k<a.length;k++)a[k]=0;for(let k=0;k<x.length;k++)a[k%4]=(a[k%4]<<5)-a[k%4]+x.charCodeAt(k)}function f(){const x=a[0]^a[0]<<11;return a[0]=a[1],a[1]=a[2],a[2]=a[3],a[3]=a[3]^a[3]>>19^x^x>>8,(a[3]>>>0)/(1<<31>>>0)}function d(){const x=Math.floor(f()*360),k=f()*60+40,R=(f()+f()+f()+f())*25;return[x/360,k/100,R/100]}function g(x){const k=x,R=x,C=Math.ceil(k/2),P=k-C,O=[];for(let q=0;q<R;q++){let Q=[];for(let X=0;X<C;X++)Q[X]=Math.floor(f()*2.3);const Y=Q.slice(0,P).reverse();Q=Q.concat(Y);for(let X=0;X<Q.length;X++)O.push(Q[X])}return O}function y(x,k,R,C,P,O){for(let q=0;q<C;q++)for(let Q=0;Q<P;Q++)x.buffer[x.index(k+q,R+Q)]=O}function b(x){if(!x.seed)throw new Error("No seed provided");return u(x.seed),Object.assign({size:8,scale:16,color:d(),bgcolor:d(),spotcolor:d()},x)}function A(x){const k=b({seed:x.toLowerCase()}),R=g(k.size),C=Math.sqrt(R.length),P=new s(k.size*k.scale,k.size*k.scale,3);P.color(...o(...k.bgcolor));const O=P.color(...o(...k.color)),q=P.color(...o(...k.spotcolor));for(let Q=0;Q<R.length;Q++){const Y=Math.floor(Q/C),X=Q%C;if(R[Q]){const Z=R[Q]==1?O:q;y(P,X*k.scale,Y*k.scale,k.scale,k.scale,Z)}}return`data:image/png;base64,${P.getBase64()}`}r.exports=A},function(r,n){/**
 * A handy class to calculate color values.
 *
 * @version 1.0
 * @author Robert Eisele <robert@xarg.org>
 * @copyright Copyright (c) 2010, Robert Eisele
 * @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
 * @license http://www.opensource.org/licenses/bsd-license.php BSD License
 *
 */r.exports=function(i,s,o){function a(C,P){for(var O=2;O<arguments.length;O++)for(var q=0;q<arguments[O].length;q++)C[P++]=arguments[O].charAt(q)}function u(C){return String.fromCharCode(C>>8&255,C&255)}function f(C){return String.fromCharCode(C>>24&255,C>>16&255,C>>8&255,C&255)}function d(C){return String.fromCharCode(C&255,C>>8&255)}this.width=i,this.height=s,this.depth=o,this.pix_size=s*(i+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*o+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+o+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var g=new Array,y=0;y<this.buffer_size;y++)this.buffer[y]="\0";a(this.buffer,this.ihdr_offs,f(this.ihdr_size-12),"IHDR",f(i),f(s),"\b"),a(this.buffer,this.plte_offs,f(this.plte_size-12),"PLTE"),a(this.buffer,this.trns_offs,f(this.trns_size-12),"tRNS"),a(this.buffer,this.idat_offs,f(this.idat_size-12),"IDAT"),a(this.buffer,this.iend_offs,f(this.iend_size-12),"IEND");var b=30912;b+=31-b%31,a(this.buffer,this.idat_offs+8,u(b));for(var y=0;(y<<16)-1<this.pix_size;y++){var A,x;y+65535<this.pix_size?(A=65535,x="\0"):(A=this.pix_size-(y<<16)-y,x=""),a(this.buffer,this.idat_offs+8+2+(y<<16)+(y<<2),x,d(A),d(~A))}for(var y=0;y<256;y++){for(var k=y,R=0;R<8;R++)k&1?k=-306674912^k>>1&2147483647:k=k>>1&2147483647;g[y]=k}this.index=function(C,P){var O=P*(this.width+1)+C+1,q=this.idat_offs+8+2+5*Math.floor(O/65535+1)+O;return q},this.color=function(C,P,O,q){q=q>=0?q:255;var Q=((q<<8|C)<<8|P)<<8|O;if(typeof this.palette[Q]>"u"){if(this.pindex==this.depth)return"\0";var Y=this.plte_offs+8+3*this.pindex;this.buffer[Y+0]=String.fromCharCode(C),this.buffer[Y+1]=String.fromCharCode(P),this.buffer[Y+2]=String.fromCharCode(O),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(q),this.palette[Q]=String.fromCharCode(this.pindex++)}return this.palette[Q]},this.getBase64=function(){var C=this.getDump(),P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",O,q,Q,Y,X,Z,le,I=C.length,c=0,h="";do O=C.charCodeAt(c),Y=O>>2,q=C.charCodeAt(c+1),X=(O&3)<<4|q>>4,Q=C.charCodeAt(c+2),I<c+2?Z=64:Z=(q&15)<<2|Q>>6,I<c+3?le=64:le=Q&63,h+=P.charAt(Y)+P.charAt(X)+P.charAt(Z)+P.charAt(le);while((c+=3)<I);return h},this.getDump=function(){for(var C=65521,P=5552,O=1,q=0,Q=P,Y=0;Y<this.height;Y++)for(var X=-1;X<this.width;X++)O+=this.buffer[this.index(X,Y)].charCodeAt(0),q+=O,(Q-=1)==0&&(O%=C,q%=C,Q=P);O%=C,q%=C,a(this.buffer,this.idat_offs+this.idat_size-8,f(q<<16|O));function Z(le,I,c){for(var h=-1,p=4;p<c-4;p+=1)h=g[(h^le[I+p].charCodeAt(0))&255]^h>>8&16777215;a(le,I+c-4,f(h^-1))}return Z(this.buffer,this.ihdr_offs,this.ihdr_size),Z(this.buffer,this.plte_offs,this.plte_size),Z(this.buffer,this.trns_offs,this.trns_size),Z(this.buffer,this.idat_offs,this.idat_size),Z(this.buffer,this.iend_offs,this.iend_size),`PNG\r

`+this.buffer.join("")}}},function(r,n){function i(o,a,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?o+(a-o)*6*u:u<1/2?a:u<2/3?o+(a-o)*(2/3-u)*6:o}function s(o,a,u){let f,d,g;if(a==0)f=d=g=u;else{const y=u<.5?u*(1+a):u+a-u*a,b=2*u-y;f=i(b,y,o+1/3),d=i(b,y,o),g=i(b,y,o-1/3)}return[Math.round(f*255),Math.round(d*255),Math.round(g*255),255]}r.exports=s}])})})(B_e);var Lwt=B_e.exports;const Dwt=ea(Lwt);function mx(t,[e,r]){return Math.min(r,Math.max(e,t))}function It(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function VM(t){const e=t+"CollectionProvider",[r,n]=ta(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:A,children:x}=b,k=Ct.useRef(null),R=Ct.useRef(new Map).current;return $.jsx(i,{scope:A,itemMap:R,collectionRef:k,children:x})};o.displayName=e;const a=t+"CollectionSlot",u=Ct.forwardRef((b,A)=>{const{scope:x,children:k}=b,R=s(a,x),C=Nr(A,R.collectionRef);return $.jsx(Us,{ref:C,children:k})});u.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",g=Ct.forwardRef((b,A)=>{const{scope:x,children:k,...R}=b,C=Ct.useRef(null),P=Nr(A,C),O=s(f,x);return Ct.useEffect(()=>(O.itemMap.set(C,{ref:C,...R}),()=>void O.itemMap.delete(C))),$.jsx(Us,{[d]:"",ref:P,children:k})});g.displayName=f;function y(b){const A=s(t+"CollectionConsumer",b);return Ct.useCallback(()=>{const k=A.collectionRef.current;if(!k)return[];const R=Array.from(k.querySelectorAll(`[${d}]`));return Array.from(A.itemMap.values()).sort((O,q)=>R.indexOf(O.ref.current)-R.indexOf(q.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},y,n]}var Fwt=B.createContext(void 0);function uS(t){const e=B.useContext(Fwt);return t||e||"ltr"}function $wt(t,e=globalThis==null?void 0:globalThis.document){const r=Is(t);B.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Uwt="DismissableLayer",HD="dismissableLayer.update",zwt="dismissableLayer.pointerDownOutside",Wwt="dismissableLayer.focusOutside",Xte,O_e=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vy=B.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,f=B.useContext(O_e),[d,g]=B.useState(null),y=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=B.useState({}),A=Nr(e,Y=>g(Y)),x=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),R=x.indexOf(k),C=d?x.indexOf(d):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,O=C>=R,q=Hwt(Y=>{const X=Y.target,Z=[...f.branches].some(le=>le.contains(X));!O||Z||(i==null||i(Y),o==null||o(Y),Y.defaultPrevented||a==null||a())},y),Q=qwt(Y=>{const X=Y.target;[...f.branches].some(le=>le.contains(X))||(s==null||s(Y),o==null||o(Y),Y.defaultPrevented||a==null||a())},y);return $wt(Y=>{C===f.layers.size-1&&(n==null||n(Y),!Y.defaultPrevented&&a&&(Y.preventDefault(),a()))},y),B.useEffect(()=>{if(d)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Xte=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),Qte(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Xte)}},[d,y,r,f]),B.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),Qte())},[d,f]),B.useEffect(()=>{const Y=()=>b({});return document.addEventListener(HD,Y),()=>document.removeEventListener(HD,Y)},[]),$.jsx(ur.div,{...u,ref:A,style:{pointerEvents:P?O?"auto":"none":void 0,...t.style},onFocusCapture:It(t.onFocusCapture,Q.onFocusCapture),onBlurCapture:It(t.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:It(t.onPointerDownCapture,q.onPointerDownCapture)})});vy.displayName=Uwt;var Kwt="DismissableLayerBranch",jwt=B.forwardRef((t,e)=>{const r=B.useContext(O_e),n=B.useRef(null),i=Nr(e,n);return B.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),$.jsx(ur.div,{...t,ref:i})});jwt.displayName=Kwt;function Hwt(t,e=globalThis==null?void 0:globalThis.document){const r=Is(t),n=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let u=function(){L_e(zwt,r,f,{discrete:!0})};const f={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function qwt(t,e=globalThis==null?void 0:globalThis.document){const r=Is(t),n=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!n.current&&L_e(Wwt,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qte(){const t=new CustomEvent(HD);document.dispatchEvent(t)}function L_e(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?x_e(i,s):i.dispatchEvent(s)}var sB=0;function GM(){B.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Jte()),document.body.insertAdjacentElement("beforeend",t[1]??Jte()),sB++,()=>{sB===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sB--}},[])}function Jte(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var oB="focusScope.autoFocusOnMount",aB="focusScope.autoFocusOnUnmount",ere={bubbles:!1,cancelable:!0},Vwt="FocusScope",$2=B.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=B.useState(null),f=Is(i),d=Is(s),g=B.useRef(null),y=Nr(e,x=>u(x)),b=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(n){let x=function(P){if(b.paused||!a)return;const O=P.target;a.contains(O)?g.current=O:_p(g.current,{select:!0})},k=function(P){if(b.paused||!a)return;const O=P.relatedTarget;O!==null&&(a.contains(O)||_p(g.current,{select:!0}))},R=function(P){if(document.activeElement===document.body)for(const q of P)q.removedNodes.length>0&&_p(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const C=new MutationObserver(R);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),C.disconnect()}}},[n,a,b.paused]),B.useEffect(()=>{if(a){rre.add(b);const x=document.activeElement;if(!a.contains(x)){const R=new CustomEvent(oB,ere);a.addEventListener(oB,f),a.dispatchEvent(R),R.defaultPrevented||(Gwt(Jwt(D_e(a)),{select:!0}),document.activeElement===x&&_p(a))}return()=>{a.removeEventListener(oB,f),setTimeout(()=>{const R=new CustomEvent(aB,ere);a.addEventListener(aB,d),a.dispatchEvent(R),R.defaultPrevented||_p(x??document.body,{select:!0}),a.removeEventListener(aB,d),rre.remove(b)},0)}}},[a,f,d,b]);const A=B.useCallback(x=>{if(!r&&!n||b.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,R=document.activeElement;if(k&&R){const C=x.currentTarget,[P,O]=Ywt(C);P&&O?!x.shiftKey&&R===O?(x.preventDefault(),r&&_p(P,{select:!0})):x.shiftKey&&R===P&&(x.preventDefault(),r&&_p(O,{select:!0})):R===C&&x.preventDefault()}},[r,n,b.paused]);return $.jsx(ur.div,{tabIndex:-1,...o,ref:y,onKeyDown:A})});$2.displayName=Vwt;function Gwt(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(_p(n,{select:e}),document.activeElement!==r)return}function Ywt(t){const e=D_e(t),r=tre(e,t),n=tre(e.reverse(),t);return[r,n]}function D_e(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function tre(t,e){for(const r of t)if(!Zwt(r,{upTo:e}))return r}function Zwt(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xwt(t){return t instanceof HTMLInputElement&&"select"in t}function _p(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Xwt(t)&&e&&t.select()}}var rre=Qwt();function Qwt(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=nre(t,e),t.unshift(e)},remove(e){var r;t=nre(t,e),(r=t[0])==null||r.resume()}}}function nre(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Jwt(t){return t.filter(e=>e.tagName!=="A")}var eSt=F8e.useId||(()=>{}),tSt=0;function wc(t){const[e,r]=B.useState(eSt());return lo(()=>{r(n=>n??String(tSt++))},[t]),t||(e?`radix-${e}`:"")}const rSt=["top","right","bottom","left"],_g=Math.min,Iu=Math.max,NI=Math.round,Fk=Math.floor,Df=t=>({x:t,y:t}),nSt={left:"right",right:"left",bottom:"top",top:"bottom"},iSt={start:"end",end:"start"};function qD(t,e,r){return Iu(t,_g(e,r))}function Lh(t,e){return typeof t=="function"?t(e):t}function Dh(t){return t.split("-")[0]}function cS(t){return t.split("-")[1]}function MK(t){return t==="x"?"y":"x"}function CK(t){return t==="y"?"height":"width"}function Ag(t){return["top","bottom"].includes(Dh(t))?"y":"x"}function PK(t){return MK(Ag(t))}function sSt(t,e,r){r===void 0&&(r=!1);const n=cS(t),i=PK(t),s=CK(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=BI(o)),[o,BI(o)]}function oSt(t){const e=BI(t);return[VD(t),e,VD(e)]}function VD(t){return t.replace(/start|end/g,e=>iSt[e])}function aSt(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function uSt(t,e,r,n){const i=cS(t);let s=aSt(Dh(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(VD)))),s}function BI(t){return t.replace(/left|right|bottom|top/g,e=>nSt[e])}function cSt(t){return{top:0,right:0,bottom:0,left:0,...t}}function F_e(t){return typeof t!="number"?cSt(t):{top:t,right:t,bottom:t,left:t}}function OI(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function ire(t,e,r){let{reference:n,floating:i}=t;const s=Ag(e),o=PK(e),a=CK(o),u=Dh(e),f=s==="y",d=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,y=n[a]/2-i[a]/2;let b;switch(u){case"top":b={x:d,y:n.y-i.height};break;case"bottom":b={x:d,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(cS(e)){case"start":b[o]-=y*(r&&f?-1:1);break;case"end":b[o]+=y*(r&&f?-1:1);break}return b}const lSt=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:g}=ire(f,n,u),y=n,b={},A=0;for(let x=0;x<a.length;x++){const{name:k,fn:R}=a[x],{x:C,y:P,data:O,reset:q}=await R({x:d,y:g,initialPlacement:n,placement:y,strategy:i,middlewareData:b,rects:f,platform:o,elements:{reference:t,floating:e}});d=C??d,g=P??g,b={...b,[k]:{...b[k],...O}},q&&A<=50&&(A++,typeof q=="object"&&(q.placement&&(y=q.placement),q.rects&&(f=q.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:d,y:g}=ire(f,y,u)),x=-1)}return{x:d,y:g,placement:y,strategy:i,middlewareData:b}};async function yx(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:g="floating",altBoundary:y=!1,padding:b=0}=Lh(e,t),A=F_e(b),k=a[y?g==="floating"?"reference":"floating":g],R=OI(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(k)))==null||r?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:u})),C=g==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),O=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},q=OI(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:P,strategy:u}):C);return{top:(R.top-q.top+A.top)/O.y,bottom:(q.bottom-R.bottom+A.bottom)/O.y,left:(R.left-q.left+A.left)/O.x,right:(q.right-R.right+A.right)/O.x}}const fSt=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:f,padding:d=0}=Lh(t,e)||{};if(f==null)return{};const g=F_e(d),y={x:r,y:n},b=PK(i),A=CK(b),x=await o.getDimensions(f),k=b==="y",R=k?"top":"left",C=k?"bottom":"right",P=k?"clientHeight":"clientWidth",O=s.reference[A]+s.reference[b]-y[b]-s.floating[A],q=y[b]-s.reference[b],Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let Y=Q?Q[P]:0;(!Y||!await(o.isElement==null?void 0:o.isElement(Q)))&&(Y=a.floating[P]||s.floating[A]);const X=O/2-q/2,Z=Y/2-x[A]/2-1,le=_g(g[R],Z),I=_g(g[C],Z),c=le,h=Y-x[A]-I,p=Y/2-x[A]/2+X,m=qD(c,p,h),v=!u.arrow&&cS(i)!=null&&p!==m&&s.reference[A]/2-(p<c?le:I)-x[A]/2<0,_=v?p<c?p-c:p-h:0;return{[b]:y[b]+_,data:{[b]:m,centerOffset:p-m-_,...v&&{alignmentOffset:_}},reset:v}}}),dSt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:f}=e,{mainAxis:d=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:x=!0,...k}=Lh(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const R=Dh(i),C=Ag(a),P=Dh(a)===a,O=await(u.isRTL==null?void 0:u.isRTL(f.floating)),q=y||(P||!x?[BI(a)]:oSt(a)),Q=A!=="none";!y&&Q&&q.push(...uSt(a,x,A,O));const Y=[a,...q],X=await yx(e,k),Z=[];let le=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&Z.push(X[R]),g){const p=sSt(i,o,O);Z.push(X[p[0]],X[p[1]])}if(le=[...le,{placement:i,overflows:Z}],!Z.every(p=>p<=0)){var I,c;const p=(((I=s.flip)==null?void 0:I.index)||0)+1,m=Y[p];if(m)return{data:{index:p,overflows:le},reset:{placement:m}};let v=(c=le.filter(_=>_.overflows[0]<=0).sort((_,T)=>_.overflows[1]-T.overflows[1])[0])==null?void 0:c.placement;if(!v)switch(b){case"bestFit":{var h;const _=(h=le.filter(T=>{if(Q){const w=Ag(T.placement);return w===C||w==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(w=>w>0).reduce((w,l)=>w+l,0)]).sort((T,w)=>T[1]-w[1])[0])==null?void 0:h[0];_&&(v=_);break}case"initialPlacement":v=a;break}if(i!==v)return{reset:{placement:v}}}return{}}}};function sre(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ore(t){return rSt.some(e=>t[e]>=0)}const hSt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Lh(t,e);switch(n){case"referenceHidden":{const s=await yx(e,{...i,elementContext:"reference"}),o=sre(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ore(o)}}}case"escaped":{const s=await yx(e,{...i,altBoundary:!0}),o=sre(s,r.floating);return{data:{escapedOffsets:o,escaped:ore(o)}}}default:return{}}}}};async function pSt(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Dh(r),a=cS(r),u=Ag(r)==="y",f=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,g=Lh(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return a&&typeof A=="number"&&(b=a==="end"?A*-1:A),u?{x:b*d,y:y*f}:{x:y*f,y:b*d}}const gSt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await pSt(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},mSt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:k=>{let{x:R,y:C}=k;return{x:R,y:C}}},...u}=Lh(t,e),f={x:r,y:n},d=await yx(e,u),g=Ag(Dh(i)),y=MK(g);let b=f[y],A=f[g];if(s){const k=y==="y"?"top":"left",R=y==="y"?"bottom":"right",C=b+d[k],P=b-d[R];b=qD(C,b,P)}if(o){const k=g==="y"?"top":"left",R=g==="y"?"bottom":"right",C=A+d[k],P=A-d[R];A=qD(C,A,P)}const x=a.fn({...e,[y]:b,[g]:A});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[y]:s,[g]:o}}}}}},ySt=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:f=!0}=Lh(t,e),d={x:r,y:n},g=Ag(i),y=MK(g);let b=d[y],A=d[g];const x=Lh(a,e),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const P=y==="y"?"height":"width",O=s.reference[y]-s.floating[P]+k.mainAxis,q=s.reference[y]+s.reference[P]-k.mainAxis;b<O?b=O:b>q&&(b=q)}if(f){var R,C;const P=y==="y"?"width":"height",O=["top","left"].includes(Dh(i)),q=s.reference[g]-s.floating[P]+(O&&((R=o.offset)==null?void 0:R[g])||0)+(O?0:k.crossAxis),Q=s.reference[g]+s.reference[P]+(O?0:((C=o.offset)==null?void 0:C[g])||0)-(O?k.crossAxis:0);A<q?A=q:A>Q&&(A=Q)}return{[y]:b,[g]:A}}}},bSt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...f}=Lh(t,e),d=await yx(e,f),g=Dh(i),y=cS(i),b=Ag(i)==="y",{width:A,height:x}=s.floating;let k,R;g==="top"||g==="bottom"?(k=g,R=y===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(R=g,k=y==="end"?"top":"bottom");const C=x-d.top-d.bottom,P=A-d.left-d.right,O=_g(x-d[k],C),q=_g(A-d[R],P),Q=!e.middlewareData.shift;let Y=O,X=q;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(X=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Y=C),Q&&!y){const le=Iu(d.left,0),I=Iu(d.right,0),c=Iu(d.top,0),h=Iu(d.bottom,0);b?X=A-2*(le!==0||I!==0?le+I:Iu(d.left,d.right)):Y=x-2*(c!==0||h!==0?c+h:Iu(d.top,d.bottom))}await u({...e,availableWidth:X,availableHeight:Y});const Z=await o.getDimensions(a.floating);return A!==Z.width||x!==Z.height?{reset:{rects:!0}}:{}}}};function YM(){return typeof window<"u"}function lS(t){return $_e(t)?(t.nodeName||"").toLowerCase():"#document"}function Mu(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function id(t){var e;return(e=($_e(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $_e(t){return YM()?t instanceof Node||t instanceof Mu(t).Node:!1}function El(t){return YM()?t instanceof Element||t instanceof Mu(t).Element:!1}function Yf(t){return YM()?t instanceof HTMLElement||t instanceof Mu(t).HTMLElement:!1}function are(t){return!YM()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mu(t).ShadowRoot}function U2(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=kl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function vSt(t){return["table","td","th"].includes(lS(t))}function ZM(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function NK(t){const e=BK(),r=El(t)?kl(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function wSt(t){let e=xg(t);for(;Yf(e)&&!bw(e);){if(NK(e))return e;if(ZM(e))return null;e=xg(e)}return null}function BK(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bw(t){return["html","body","#document"].includes(lS(t))}function kl(t){return Mu(t).getComputedStyle(t)}function XM(t){return El(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xg(t){if(lS(t)==="html")return t;const e=t.assignedSlot||t.parentNode||are(t)&&t.host||id(t);return are(e)?e.host:e}function U_e(t){const e=xg(t);return bw(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yf(e)&&U2(e)?e:U_e(e)}function bx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=U_e(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Mu(i);if(s){const a=GD(o);return e.concat(o,o.visualViewport||[],U2(i)?i:[],a&&r?bx(a):[])}return e.concat(i,bx(i,[],r))}function GD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function z_e(t){const e=kl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Yf(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=NI(r)!==s||NI(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function OK(t){return El(t)?t:t.contextElement}function zb(t){const e=OK(t);if(!Yf(e))return Df(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=z_e(e);let o=(s?NI(r.width):r.width)/n,a=(s?NI(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const SSt=Df(0);function W_e(t){const e=Mu(t);return!BK()||!e.visualViewport?SSt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _St(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Mu(t)?!1:e}function qm(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=OK(t);let o=Df(1);e&&(n?El(n)&&(o=zb(n)):o=zb(t));const a=_St(s,r,n)?W_e(s):Df(0);let u=(i.left+a.x)/o.x,f=(i.top+a.y)/o.y,d=i.width/o.x,g=i.height/o.y;if(s){const y=Mu(s),b=n&&El(n)?Mu(n):n;let A=y,x=GD(A);for(;x&&n&&b!==A;){const k=zb(x),R=x.getBoundingClientRect(),C=kl(x),P=R.left+(x.clientLeft+parseFloat(C.paddingLeft))*k.x,O=R.top+(x.clientTop+parseFloat(C.paddingTop))*k.y;u*=k.x,f*=k.y,d*=k.x,g*=k.y,u+=P,f+=O,A=Mu(x),x=GD(A)}}return OI({width:d,height:g,x:u,y:f})}function LK(t,e){const r=XM(t).scrollLeft;return e?e.left+r:qm(id(t)).left+r}function K_e(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:LK(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function ASt(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=id(n),a=e?ZM(e.floating):!1;if(n===o||a&&s)return r;let u={scrollLeft:0,scrollTop:0},f=Df(1);const d=Df(0),g=Yf(n);if((g||!g&&!s)&&((lS(n)!=="body"||U2(o))&&(u=XM(n)),Yf(n))){const b=qm(n);f=zb(n),d.x=b.x+n.clientLeft,d.y=b.y+n.clientTop}const y=o&&!g&&!s?K_e(o,u,!0):Df(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+d.x+y.x,y:r.y*f.y-u.scrollTop*f.y+d.y+y.y}}function xSt(t){return Array.from(t.getClientRects())}function ESt(t){const e=id(t),r=XM(t),n=t.ownerDocument.body,i=Iu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Iu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+LK(t);const a=-r.scrollTop;return kl(n).direction==="rtl"&&(o+=Iu(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function kSt(t,e){const r=Mu(t),n=id(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const f=BK();(!f||f&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function TSt(t,e){const r=qm(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Yf(t)?zb(t):Df(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,f=n*s.y;return{width:o,height:a,x:u,y:f}}function ure(t,e,r){let n;if(e==="viewport")n=kSt(t,r);else if(e==="document")n=ESt(id(t));else if(El(e))n=TSt(e,r);else{const i=W_e(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return OI(n)}function j_e(t,e){const r=xg(t);return r===e||!El(r)||bw(r)?!1:kl(r).position==="fixed"||j_e(r,e)}function ISt(t,e){const r=e.get(t);if(r)return r;let n=bx(t,[],!1).filter(a=>El(a)&&lS(a)!=="body"),i=null;const s=kl(t).position==="fixed";let o=s?xg(t):t;for(;El(o)&&!bw(o);){const a=kl(o),u=NK(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||U2(o)&&!u&&j_e(t,o))?n=n.filter(d=>d!==o):i=a,o=xg(o)}return e.set(t,n),n}function RSt(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?ZM(e)?[]:ISt(e,this._c):[].concat(r),n],a=o[0],u=o.reduce((f,d)=>{const g=ure(e,d,i);return f.top=Iu(g.top,f.top),f.right=_g(g.right,f.right),f.bottom=_g(g.bottom,f.bottom),f.left=Iu(g.left,f.left),f},ure(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function MSt(t){const{width:e,height:r}=z_e(t);return{width:e,height:r}}function CSt(t,e,r){const n=Yf(e),i=id(e),s=r==="fixed",o=qm(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=Df(0);if(n||!n&&!s)if((lS(e)!=="body"||U2(i))&&(a=XM(e)),n){const y=qm(e,!0,s,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&(u.x=LK(i));const f=i&&!n&&!s?K_e(i,a):Df(0),d=o.left+a.scrollLeft-u.x-f.x,g=o.top+a.scrollTop-u.y-f.y;return{x:d,y:g,width:o.width,height:o.height}}function uB(t){return kl(t).position==="static"}function cre(t,e){if(!Yf(t)||kl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return id(t)===r&&(r=r.ownerDocument.body),r}function H_e(t,e){const r=Mu(t);if(ZM(t))return r;if(!Yf(t)){let i=xg(t);for(;i&&!bw(i);){if(El(i)&&!uB(i))return i;i=xg(i)}return r}let n=cre(t,e);for(;n&&vSt(n)&&uB(n);)n=cre(n,e);return n&&bw(n)&&uB(n)&&!NK(n)?r:n||wSt(t)||r}const PSt=async function(t){const e=this.getOffsetParent||H_e,r=this.getDimensions,n=await r(t.floating);return{reference:CSt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NSt(t){return kl(t).direction==="rtl"}const BSt={convertOffsetParentRelativeRectToViewportRelativeRect:ASt,getDocumentElement:id,getClippingRect:RSt,getOffsetParent:H_e,getElementRects:PSt,getClientRects:xSt,getDimensions:MSt,getScale:zb,isElement:El,isRTL:NSt};function q_e(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function OSt(t,e){let r=null,n;const i=id(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const f=t.getBoundingClientRect(),{left:d,top:g,width:y,height:b}=f;if(a||e(),!y||!b)return;const A=Fk(g),x=Fk(i.clientWidth-(d+y)),k=Fk(i.clientHeight-(g+b)),R=Fk(d),P={rootMargin:-A+"px "+-x+"px "+-k+"px "+-R+"px",threshold:Iu(0,_g(1,u))||1};let O=!0;function q(Q){const Y=Q[0].intersectionRatio;if(Y!==u){if(!O)return o();Y?o(!1,Y):n=setTimeout(()=>{o(!1,1e-7)},1e3)}Y===1&&!q_e(f,t.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(q,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(q,P)}r.observe(t)}return o(!0),s}function LSt(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=OK(t),d=i||s?[...f?bx(f):[],...bx(e)]:[];d.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),s&&R.addEventListener("resize",r)});const g=f&&a?OSt(f,r):null;let y=-1,b=null;o&&(b=new ResizeObserver(R=>{let[C]=R;C&&C.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=b)==null||P.observe(e)})),r()}),f&&!u&&b.observe(f),b.observe(e));let A,x=u?qm(t):null;u&&k();function k(){const R=qm(t);x&&!q_e(x,R)&&r(),x=R,A=requestAnimationFrame(k)}return r(),()=>{var R;d.forEach(C=>{i&&C.removeEventListener("scroll",r),s&&C.removeEventListener("resize",r)}),g==null||g(),(R=b)==null||R.disconnect(),b=null,u&&cancelAnimationFrame(A)}}const DSt=gSt,FSt=mSt,$St=dSt,USt=bSt,zSt=hSt,lre=fSt,WSt=ySt,KSt=(t,e,r)=>{const n=new Map,i={platform:BSt,...r},s={...i.platform,_c:n};return lSt(t,e,{...i,platform:s})};var q3=typeof document<"u"?B.useLayoutEffect:B.useEffect;function LI(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!LI(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!LI(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function V_e(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fre(t,e){const r=V_e(t);return Math.round(e*r)/r}function cB(t){const e=B.useRef(t);return q3(()=>{e.current=t}),e}function jSt(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:f}=t,[d,g]=B.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[y,b]=B.useState(n);LI(y,n)||b(n);const[A,x]=B.useState(null),[k,R]=B.useState(null),C=B.useCallback(T=>{T!==Q.current&&(Q.current=T,x(T))},[]),P=B.useCallback(T=>{T!==Y.current&&(Y.current=T,R(T))},[]),O=s||A,q=o||k,Q=B.useRef(null),Y=B.useRef(null),X=B.useRef(d),Z=u!=null,le=cB(u),I=cB(i),c=cB(f),h=B.useCallback(()=>{if(!Q.current||!Y.current)return;const T={placement:e,strategy:r,middleware:y};I.current&&(T.platform=I.current),KSt(Q.current,Y.current,T).then(w=>{const l={...w,isPositioned:c.current!==!1};p.current&&!LI(X.current,l)&&(X.current=l,i6.flushSync(()=>{g(l)}))})},[y,e,r,I,c]);q3(()=>{f===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g(T=>({...T,isPositioned:!1})))},[f]);const p=B.useRef(!1);q3(()=>(p.current=!0,()=>{p.current=!1}),[]),q3(()=>{if(O&&(Q.current=O),q&&(Y.current=q),O&&q){if(le.current)return le.current(O,q,h);h()}},[O,q,h,le,Z]);const m=B.useMemo(()=>({reference:Q,floating:Y,setReference:C,setFloating:P}),[C,P]),v=B.useMemo(()=>({reference:O,floating:q}),[O,q]),_=B.useMemo(()=>{const T={position:r,left:0,top:0};if(!v.floating)return T;const w=fre(v.floating,d.x),l=fre(v.floating,d.y);return a?{...T,transform:"translate("+w+"px, "+l+"px)",...V_e(v.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:w,top:l}},[r,a,v.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:h,refs:m,elements:v,floatingStyles:_}),[d,h,m,v,_])}const HSt=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?lre({element:n.current,padding:i}).fn(r):{}:n?lre({element:n,padding:i}).fn(r):{}}}},qSt=(t,e)=>({...DSt(t),options:[t,e]}),VSt=(t,e)=>({...FSt(t),options:[t,e]}),GSt=(t,e)=>({...WSt(t),options:[t,e]}),YSt=(t,e)=>({...$St(t),options:[t,e]}),ZSt=(t,e)=>({...USt(t),options:[t,e]}),XSt=(t,e)=>({...zSt(t),options:[t,e]}),QSt=(t,e)=>({...HSt(t),options:[t,e]});var JSt="Arrow",G_e=B.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return $.jsx(ur.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:$.jsx("polygon",{points:"0,0 30,0 15,10"})})});G_e.displayName=JSt;var e_t=G_e;function QM(t){const[e,r]=B.useState(void 0);return lo(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,f=Array.isArray(u)?u[0]:u;o=f.inlineSize,a=f.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var DK="Popper",[Y_e,sd]=ta(DK),[t_t,Z_e]=Y_e(DK),X_e=t=>{const{__scopePopper:e,children:r}=t,[n,i]=B.useState(null);return $.jsx(t_t,{scope:e,anchor:n,onAnchorChange:i,children:r})};X_e.displayName=DK;var Q_e="PopperAnchor",J_e=B.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=Z_e(Q_e,r),o=B.useRef(null),a=Nr(e,o);return B.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:$.jsx(ur.div,{...i,ref:a})});J_e.displayName=Q_e;var FK="PopperContent",[r_t,n_t]=Y_e(FK),eAe=B.forwardRef((t,e)=>{var z,G,te,ie,J,V;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:A,...x}=t,k=Z_e(FK,r),[R,C]=B.useState(null),P=Nr(e,fe=>C(fe)),[O,q]=B.useState(null),Q=QM(O),Y=(Q==null?void 0:Q.width)??0,X=(Q==null?void 0:Q.height)??0,Z=n+(s!=="center"?"-"+s:""),le=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(f)?f:[f],c=I.length>0,h={padding:le,boundary:I.filter(s_t),altBoundary:c},{refs:p,floatingStyles:m,placement:v,isPositioned:_,middlewareData:T}=jSt({strategy:"fixed",placement:Z,whileElementsMounted:(...fe)=>LSt(...fe,{animationFrame:b==="always"}),elements:{reference:k.anchor},middleware:[qSt({mainAxis:i+X,alignmentAxis:o}),u&&VSt({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?GSt():void 0,...h}),u&&YSt({...h}),ZSt({...h,apply:({elements:fe,rects:Te,availableWidth:Re,availableHeight:H})=>{const{width:oe,height:ae}=Te.reference,ce=fe.floating.style;ce.setProperty("--radix-popper-available-width",`${Re}px`),ce.setProperty("--radix-popper-available-height",`${H}px`),ce.setProperty("--radix-popper-anchor-width",`${oe}px`),ce.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),O&&QSt({element:O,padding:a}),o_t({arrowWidth:Y,arrowHeight:X}),y&&XSt({strategy:"referenceHidden",...h})]}),[w,l]=nAe(v),S=Is(A);lo(()=>{_&&(S==null||S())},[_,S]);const N=(z=T.arrow)==null?void 0:z.x,F=(G=T.arrow)==null?void 0:G.y,W=((te=T.arrow)==null?void 0:te.centerOffset)!==0,[D,K]=B.useState();return lo(()=>{R&&K(window.getComputedStyle(R).zIndex)},[R]),$.jsx("div",{ref:p.setFloating,"data-radix-popper-content-wrapper":"",style:{...m,transform:_?m.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[(ie=T.transformOrigin)==null?void 0:ie.x,(J=T.transformOrigin)==null?void 0:J.y].join(" "),...((V=T.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:$.jsx(r_t,{scope:r,placedSide:w,onArrowChange:q,arrowX:N,arrowY:F,shouldHideArrow:W,children:$.jsx(ur.div,{"data-side":w,"data-align":l,...x,ref:P,style:{...x.style,animation:_?void 0:"none"}})})})});eAe.displayName=FK;var tAe="PopperArrow",i_t={top:"bottom",right:"left",bottom:"top",left:"right"},rAe=B.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=n_t(tAe,n),o=i_t[s.placedSide];return $.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:$.jsx(e_t,{...i,ref:r,style:{...i.style,display:"block"}})})});rAe.displayName=tAe;function s_t(t){return t!==null}var o_t=t=>({name:"transformOrigin",options:t,fn(e){var k,R,C;const{placement:r,rects:n,middlewareData:i}=e,o=((k=i.arrow)==null?void 0:k.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[f,d]=nAe(r),g={start:"0%",center:"50%",end:"100%"}[d],y=(((R=i.arrow)==null?void 0:R.x)??0)+a/2,b=(((C=i.arrow)==null?void 0:C.y)??0)+u/2;let A="",x="";return f==="bottom"?(A=o?g:`${y}px`,x=`${-u}px`):f==="top"?(A=o?g:`${y}px`,x=`${n.floating.height+u}px`):f==="right"?(A=`${-u}px`,x=o?g:`${b}px`):f==="left"&&(A=`${n.floating.width+u}px`,x=o?g:`${b}px`),{data:{x:A,y:x}}}});function nAe(t){const[e,r="center"]=t.split("-");return[e,r]}var z2=X_e,fS=J_e,W2=eAe,K2=rAe,a_t="Portal",wy=B.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=B.useState(!1);lo(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$8e.createPortal($.jsx(ur.div,{...n,ref:e}),o):null});wy.displayName=a_t;function kc({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=u_t({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,a=Is(r),u=B.useCallback(f=>{if(s){const g=typeof f=="function"?f(t):f;g!==t&&a(g)}else i(f)},[s,t,i,a]);return[o,u]}function u_t({defaultProp:t,onChange:e}){const r=B.useState(t),[n]=r,i=B.useRef(n),s=Is(e);return B.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function JM(t){const e=B.useRef({value:t,previous:t});return B.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var c_t="VisuallyHidden",$K=B.forwardRef((t,e)=>$.jsx(ur.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$K.displayName=c_t;var l_t=$K,f_t=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},t1=new WeakMap,$k=new WeakMap,Uk={},lB=0,iAe=function(t){return t&&(t.host||iAe(t.parentNode))},d_t=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=iAe(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},h_t=function(t,e,r,n){var i=d_t(e,Array.isArray(t)?t:[t]);Uk[r]||(Uk[r]=new WeakMap);var s=Uk[r],o=[],a=new Set,u=new Set(i),f=function(g){!g||a.has(g)||(a.add(g),f(g.parentNode))};i.forEach(f);var d=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(y){if(a.has(y))d(y);else try{var b=y.getAttribute(n),A=b!==null&&b!=="false",x=(t1.get(y)||0)+1,k=(s.get(y)||0)+1;t1.set(y,x),s.set(y,k),o.push(y),x===1&&A&&$k.set(y,!0),k===1&&y.setAttribute(r,"true"),A||y.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return d(e),a.clear(),lB++,function(){o.forEach(function(g){var y=t1.get(g)-1,b=s.get(g)-1;t1.set(g,y),s.set(g,b),y||($k.has(g)||g.removeAttribute(n),$k.delete(g)),b||g.removeAttribute(r)}),lB--,lB||(t1=new WeakMap,t1=new WeakMap,$k=new WeakMap,Uk={})}},e8=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=f_t(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),h_t(n,i,r,"aria-hidden")):function(){return null}},V3="right-scroll-bar-position",G3="width-before-scroll-bar",p_t="with-scroll-bars-hidden",g_t="--removed-body-scroll-bar-size";function fB(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function m_t(t,e){var r=B.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var y_t=typeof window<"u"?B.useLayoutEffect:B.useEffect,dre=new WeakMap;function b_t(t,e){var r=m_t(null,function(n){return t.forEach(function(i){return fB(i,n)})});return y_t(function(){var n=dre.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||fB(a,null)}),s.forEach(function(a){i.has(a)||fB(a,o)})}dre.set(r,t)},[t]),r}function v_t(t){return t}function w_t(t,e){e===void 0&&(e=v_t);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var u=function(){var d=o;o=[],d.forEach(s)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(d){o.push(d),f()},filter:function(d){return o=o.filter(d),r}}}};return i}function S_t(t){t===void 0&&(t={});var e=w_t(null);return e.options=Qt({async:!0,ssr:!1},t),e}var sAe=function(t){var e=t.sideCar,r=DA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return B.createElement(n,Qt({},r))};sAe.isSideCarExport=!0;function __t(t,e){return t.useMedium(e),sAe}var oAe=S_t(),dB=function(){},t8=B.forwardRef(function(t,e){var r=B.useRef(null),n=B.useState({onScrollCapture:dB,onWheelCapture:dB,onTouchMoveCapture:dB}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,u=t.className,f=t.removeScrollBar,d=t.enabled,g=t.shards,y=t.sideCar,b=t.noIsolation,A=t.inert,x=t.allowPinchZoom,k=t.as,R=k===void 0?"div":k,C=t.gapMode,P=DA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=y,q=b_t([r,e]),Q=Qt(Qt({},P),i);return B.createElement(B.Fragment,null,d&&B.createElement(O,{sideCar:oAe,removeScrollBar:f,shards:g,noIsolation:b,inert:A,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:C}),o?B.cloneElement(B.Children.only(a),Qt(Qt({},Q),{ref:q})):B.createElement(R,Qt({},Q,{className:u,ref:q}),a))});t8.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};t8.classNames={fullWidth:G3,zeroRight:V3};var A_t=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x_t(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A_t();return e&&t.setAttribute("nonce",e),t}function E_t(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function k_t(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var T_t=function(){var t=0,e=null;return{add:function(r){t==0&&(e=x_t())&&(E_t(e,r),k_t(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},I_t=function(){var t=T_t();return function(e,r){B.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},aAe=function(){var t=I_t(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},R_t={left:0,top:0,right:0,gap:0},hB=function(t){return parseInt(t||"",10)||0},M_t=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[hB(r),hB(n),hB(i)]},C_t=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R_t;var e=M_t(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},P_t=aAe(),Wb="data-scroll-locked",N_t=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(p_t,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Wb,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V3,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(G3,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(V3," .").concat(V3,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(G3," .").concat(G3,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wb,`] {
    `).concat(g_t,": ").concat(a,`px;
  }
`)},hre=function(){var t=parseInt(document.body.getAttribute(Wb)||"0",10);return isFinite(t)?t:0},B_t=function(){B.useEffect(function(){return document.body.setAttribute(Wb,(hre()+1).toString()),function(){var t=hre()-1;t<=0?document.body.removeAttribute(Wb):document.body.setAttribute(Wb,t.toString())}},[])},O_t=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;B_t();var s=B.useMemo(function(){return C_t(i)},[i]);return B.createElement(P_t,{styles:N_t(s,!e,i,r?"":"!important")})},YD=!1;if(typeof window<"u")try{var zk=Object.defineProperty({},"passive",{get:function(){return YD=!0,!0}});window.addEventListener("test",zk,zk),window.removeEventListener("test",zk,zk)}catch{YD=!1}var r1=YD?{passive:!1}:!1,L_t=function(t){return t.tagName==="TEXTAREA"},uAe=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!L_t(t)&&r[e]==="visible")},D_t=function(t){return uAe(t,"overflowY")},F_t=function(t){return uAe(t,"overflowX")},pre=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=cAe(t,n);if(i){var s=lAe(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$_t=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},U_t=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},cAe=function(t,e){return t==="v"?D_t(e):F_t(e)},lAe=function(t,e){return t==="v"?$_t(e):U_t(e)},z_t=function(t,e){return t==="h"&&e==="rtl"?-1:1},W_t=function(t,e,r,n,i){var s=z_t(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,u=e.contains(a),f=!1,d=o>0,g=0,y=0;do{var b=lAe(t,a),A=b[0],x=b[1],k=b[2],R=x-k-s*A;(A||R)&&cAe(t,a)&&(g+=R,y+=A),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&Math.abs(g)<1||!d&&Math.abs(y)<1)&&(f=!0),f},Wk=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gre=function(t){return[t.deltaX,t.deltaY]},mre=function(t){return t&&"current"in t?t.current:t},K_t=function(t,e){return t[0]===e[0]&&t[1]===e[1]},j_t=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},H_t=0,n1=[];function q_t(t){var e=B.useRef([]),r=B.useRef([0,0]),n=B.useRef(),i=B.useState(H_t++)[0],s=B.useState(aAe)[0],o=B.useRef(t);B.useEffect(function(){o.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=ms([t.lockRef.current],(t.shards||[]).map(mre),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=B.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var R=Wk(x),C=r.current,P="deltaX"in x?x.deltaX:C[0]-R[0],O="deltaY"in x?x.deltaY:C[1]-R[1],q,Q=x.target,Y=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in x&&Y==="h"&&Q.type==="range")return!1;var X=pre(Y,Q);if(!X)return!0;if(X?q=Y:(q=Y==="v"?"h":"v",X=pre(Y,Q)),!X)return!1;if(!n.current&&"changedTouches"in x&&(P||O)&&(n.current=q),!q)return!0;var Z=n.current||q;return W_t(Z,k,x,Z==="h"?P:O)},[]),u=B.useCallback(function(x){var k=x;if(!(!n1.length||n1[n1.length-1]!==s)){var R="deltaY"in k?gre(k):Wk(k),C=e.current.filter(function(q){return q.name===k.type&&(q.target===k.target||k.target===q.shadowParent)&&K_t(q.delta,R)})[0];if(C&&C.should){k.cancelable&&k.preventDefault();return}if(!C){var P=(o.current.shards||[]).map(mre).filter(Boolean).filter(function(q){return q.contains(k.target)}),O=P.length>0?a(k,P[0]):!o.current.noIsolation;O&&k.cancelable&&k.preventDefault()}}},[]),f=B.useCallback(function(x,k,R,C){var P={name:x,delta:k,target:R,should:C,shadowParent:V_t(R)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(O){return O!==P})},1)},[]),d=B.useCallback(function(x){r.current=Wk(x),n.current=void 0},[]),g=B.useCallback(function(x){f(x.type,gre(x),x.target,a(x,t.lockRef.current))},[]),y=B.useCallback(function(x){f(x.type,Wk(x),x.target,a(x,t.lockRef.current))},[]);B.useEffect(function(){return n1.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",u,r1),document.addEventListener("touchmove",u,r1),document.addEventListener("touchstart",d,r1),function(){n1=n1.filter(function(x){return x!==s}),document.removeEventListener("wheel",u,r1),document.removeEventListener("touchmove",u,r1),document.removeEventListener("touchstart",d,r1)}},[]);var b=t.removeScrollBar,A=t.inert;return B.createElement(B.Fragment,null,A?B.createElement(s,{styles:j_t(i)}):null,b?B.createElement(O_t,{gapMode:t.gapMode}):null)}function V_t(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const G_t=__t(oAe,q_t);var j2=B.forwardRef(function(t,e){return B.createElement(t8,Qt({},t,{ref:e,sideCar:G_t}))});j2.classNames=t8.classNames;var Y_t=[" ","Enter","ArrowUp","ArrowDown"],Z_t=[" ","Enter"],H2="Select",[r8,n8,X_t]=VM(H2),[dS,ENt]=ta(H2,[X_t,sd]),i8=sd(),[Q_t,Fg]=dS(H2),[J_t,eAt]=dS(H2),fAe=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:u,dir:f,name:d,autoComplete:g,disabled:y,required:b,form:A}=t,x=i8(e),[k,R]=B.useState(null),[C,P]=B.useState(null),[O,q]=B.useState(!1),Q=uS(f),[Y=!1,X]=kc({prop:n,defaultProp:i,onChange:s}),[Z,le]=kc({prop:o,defaultProp:a,onChange:u}),I=B.useRef(null),c=k?A||!!k.closest("form"):!0,[h,p]=B.useState(new Set),m=Array.from(h).map(v=>v.props.value).join(";");return $.jsx(z2,{...x,children:$.jsxs(Q_t,{required:b,scope:e,trigger:k,onTriggerChange:R,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:q,contentId:wc(),value:Z,onValueChange:le,open:Y,onOpenChange:X,dir:Q,triggerPointerDownPosRef:I,disabled:y,children:[$.jsx(r8.Provider,{scope:e,children:$.jsx(J_t,{scope:t.__scopeSelect,onNativeOptionAdd:B.useCallback(v=>{p(_=>new Set(_).add(v))},[]),onNativeOptionRemove:B.useCallback(v=>{p(_=>{const T=new Set(_);return T.delete(v),T})},[]),children:r})}),c?$.jsxs(OAe,{"aria-hidden":!0,required:b,tabIndex:-1,name:d,autoComplete:g,value:Z,onChange:v=>le(v.target.value),disabled:y,form:A,children:[Z===void 0?$.jsx("option",{value:""}):null,Array.from(h)]},m):null]})})};fAe.displayName=H2;var dAe="SelectTrigger",hAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=i8(r),o=Fg(dAe,r),a=o.disabled||n,u=Nr(e,o.onTriggerChange),f=n8(r),d=B.useRef("touch"),[g,y,b]=LAe(x=>{const k=f().filter(P=>!P.disabled),R=k.find(P=>P.value===o.value),C=DAe(k,x,R);C!==void 0&&o.onValueChange(C.value)}),A=x=>{a||(o.onOpenChange(!0),b()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return $.jsx(fS,{asChild:!0,...s,children:$.jsx(ur.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":BAe(o.value)?"":void 0,...i,ref:u,onClick:It(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&A(x)}),onPointerDown:It(i.onPointerDown,x=>{d.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(A(x),x.preventDefault())}),onKeyDown:It(i.onKeyDown,x=>{const k=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(k&&x.key===" ")&&Y_t.includes(x.key)&&(A(),x.preventDefault())})})})});hAe.displayName=dAe;var pAe="SelectValue",gAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,u=Fg(pAe,r),{onValueNodeHasChildrenChange:f}=u,d=s!==void 0,g=Nr(e,u.onValueNodeChange);return lo(()=>{f(d)},[f,d]),$.jsx(ur.span,{...a,ref:g,style:{pointerEvents:"none"},children:BAe(u.value)?$.jsx($.Fragment,{children:o}):s})});gAe.displayName=pAe;var tAt="SelectIcon",mAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return $.jsx(ur.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});mAe.displayName=tAt;var rAt="SelectPortal",yAe=t=>$.jsx(wy,{asChild:!0,...t});yAe.displayName=rAt;var Vm="SelectContent",bAe=B.forwardRef((t,e)=>{const r=Fg(Vm,t.__scopeSelect),[n,i]=B.useState();if(lo(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?i6.createPortal($.jsx(vAe,{scope:t.__scopeSelect,children:$.jsx(r8.Slot,{scope:t.__scopeSelect,children:$.jsx("div",{children:t.children})})}),s):null}return $.jsx(wAe,{...t,ref:e})});bAe.displayName=Vm;var qc=10,[vAe,$g]=dS(Vm),nAt="SelectContentImpl",wAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:f,alignOffset:d,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:A,hideWhenDetached:x,avoidCollisions:k,...R}=t,C=Fg(Vm,r),[P,O]=B.useState(null),[q,Q]=B.useState(null),Y=Nr(e,z=>O(z)),[X,Z]=B.useState(null),[le,I]=B.useState(null),c=n8(r),[h,p]=B.useState(!1),m=B.useRef(!1);B.useEffect(()=>{if(P)return e8(P)},[P]),GM();const v=B.useCallback(z=>{const[G,...te]=c().map(V=>V.ref.current),[ie]=te.slice(-1),J=document.activeElement;for(const V of z)if(V===J||(V==null||V.scrollIntoView({block:"nearest"}),V===G&&q&&(q.scrollTop=0),V===ie&&q&&(q.scrollTop=q.scrollHeight),V==null||V.focus(),document.activeElement!==J))return},[c,q]),_=B.useCallback(()=>v([X,P]),[v,X,P]);B.useEffect(()=>{h&&_()},[h,_]);const{onOpenChange:T,triggerPointerDownPosRef:w}=C;B.useEffect(()=>{if(P){let z={x:0,y:0};const G=ie=>{var J,V;z={x:Math.abs(Math.round(ie.pageX)-(((J=w.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((V=w.current)==null?void 0:V.y)??0))}},te=ie=>{z.x<=10&&z.y<=10?ie.preventDefault():P.contains(ie.target)||T(!1),document.removeEventListener("pointermove",G),w.current=null};return w.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",te,{capture:!0})}}},[P,T,w]),B.useEffect(()=>{const z=()=>T(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[T]);const[l,S]=LAe(z=>{const G=c().filter(J=>!J.disabled),te=G.find(J=>J.ref.current===document.activeElement),ie=DAe(G,z,te);ie&&setTimeout(()=>ie.ref.current.focus())}),N=B.useCallback((z,G,te)=>{const ie=!m.current&&!te;(C.value!==void 0&&C.value===G||ie)&&(Z(z),ie&&(m.current=!0))},[C.value]),F=B.useCallback(()=>P==null?void 0:P.focus(),[P]),W=B.useCallback((z,G,te)=>{const ie=!m.current&&!te;(C.value!==void 0&&C.value===G||ie)&&I(z)},[C.value]),D=n==="popper"?ZD:SAe,K=D===ZD?{side:a,sideOffset:u,align:f,alignOffset:d,arrowPadding:g,collisionBoundary:y,collisionPadding:b,sticky:A,hideWhenDetached:x,avoidCollisions:k}:{};return $.jsx(vAe,{scope:r,content:P,viewport:q,onViewportChange:Q,itemRefCallback:N,selectedItem:X,onItemLeave:F,itemTextRefCallback:W,focusSelectedItem:_,selectedItemText:le,position:n,isPositioned:h,searchRef:l,children:$.jsx(j2,{as:Us,allowPinchZoom:!0,children:$.jsx($2,{asChild:!0,trapped:C.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:It(i,z=>{var G;(G=C.trigger)==null||G.focus({preventScroll:!0}),z.preventDefault()}),children:$.jsx(vy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:$.jsx(D,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:z=>z.preventDefault(),...R,...K,onPlaced:()=>p(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:It(R.onKeyDown,z=>{const G=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!G&&z.key.length===1&&S(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ie=c().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const J=z.target,V=ie.indexOf(J);ie=ie.slice(V+1)}setTimeout(()=>v(ie)),z.preventDefault()}})})})})})})});wAe.displayName=nAt;var iAt="SelectItemAlignedPosition",SAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Fg(Vm,r),o=$g(Vm,r),[a,u]=B.useState(null),[f,d]=B.useState(null),g=Nr(e,Y=>d(Y)),y=n8(r),b=B.useRef(!1),A=B.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:R,focusSelectedItem:C}=o,P=B.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&f&&x&&k&&R){const Y=s.trigger.getBoundingClientRect(),X=f.getBoundingClientRect(),Z=s.valueNode.getBoundingClientRect(),le=R.getBoundingClientRect();if(s.dir!=="rtl"){const J=le.left-X.left,V=Z.left-J,fe=Y.left-V,Te=Y.width+fe,Re=Math.max(Te,X.width),H=window.innerWidth-qc,oe=mx(V,[qc,Math.max(qc,H-Re)]);a.style.minWidth=Te+"px",a.style.left=oe+"px"}else{const J=X.right-le.right,V=window.innerWidth-Z.right-J,fe=window.innerWidth-Y.right-V,Te=Y.width+fe,Re=Math.max(Te,X.width),H=window.innerWidth-qc,oe=mx(V,[qc,Math.max(qc,H-Re)]);a.style.minWidth=Te+"px",a.style.right=oe+"px"}const I=y(),c=window.innerHeight-qc*2,h=x.scrollHeight,p=window.getComputedStyle(f),m=parseInt(p.borderTopWidth,10),v=parseInt(p.paddingTop,10),_=parseInt(p.borderBottomWidth,10),T=parseInt(p.paddingBottom,10),w=m+v+h+T+_,l=Math.min(k.offsetHeight*5,w),S=window.getComputedStyle(x),N=parseInt(S.paddingTop,10),F=parseInt(S.paddingBottom,10),W=Y.top+Y.height/2-qc,D=c-W,K=k.offsetHeight/2,z=k.offsetTop+K,G=m+v+z,te=w-G;if(G<=W){const J=I.length>0&&k===I[I.length-1].ref.current;a.style.bottom="0px";const V=f.clientHeight-x.offsetTop-x.offsetHeight,fe=Math.max(D,K+(J?F:0)+V+_),Te=G+fe;a.style.height=Te+"px"}else{const J=I.length>0&&k===I[0].ref.current;a.style.top="0px";const fe=Math.max(W,m+x.offsetTop+(J?N:0)+K)+te;a.style.height=fe+"px",x.scrollTop=G-W+x.offsetTop}a.style.margin=`${qc}px 0`,a.style.minHeight=l+"px",a.style.maxHeight=c+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[y,s.trigger,s.valueNode,a,f,x,k,R,s.dir,n]);lo(()=>P(),[P]);const[O,q]=B.useState();lo(()=>{f&&q(window.getComputedStyle(f).zIndex)},[f]);const Q=B.useCallback(Y=>{Y&&A.current===!0&&(P(),C==null||C(),A.current=!1)},[P,C]);return $.jsx(oAt,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:Q,children:$.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:$.jsx(ur.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});SAe.displayName=iAt;var sAt="SelectPopperPosition",ZD=B.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=qc,...s}=t,o=i8(r);return $.jsx(W2,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ZD.displayName=sAt;var[oAt,UK]=dS(Vm,{}),XD="SelectViewport",_Ae=B.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=$g(XD,r),o=UK(XD,r),a=Nr(e,s.onViewportChange),u=B.useRef(0);return $.jsxs($.Fragment,{children:[$.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),$.jsx(r8.Slot,{scope:r,children:$.jsx(ur.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:It(i.onScroll,f=>{const d=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&g){const b=Math.abs(u.current-d.scrollTop);if(b>0){const A=window.innerHeight-qc*2,x=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),R=Math.max(x,k);if(R<A){const C=R+b,P=Math.min(A,C),O=C-P;g.style.height=P+"px",g.style.bottom==="0px"&&(d.scrollTop=O>0?O:0,g.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});_Ae.displayName=XD;var AAe="SelectGroup",[aAt,uAt]=dS(AAe),xAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=wc();return $.jsx(aAt,{scope:r,id:i,children:$.jsx(ur.div,{role:"group","aria-labelledby":i,...n,ref:e})})});xAe.displayName=AAe;var EAe="SelectLabel",kAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=uAt(EAe,r);return $.jsx(ur.div,{id:i.id,...n,ref:e})});kAe.displayName=EAe;var DI="SelectItem",[cAt,TAe]=dS(DI),zK=B.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=Fg(DI,r),u=$g(DI,r),f=a.value===n,[d,g]=B.useState(s??""),[y,b]=B.useState(!1),A=Nr(e,C=>{var P;return(P=u.itemRefCallback)==null?void 0:P.call(u,C,n,i)}),x=wc(),k=B.useRef("touch"),R=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return $.jsx(cAt,{scope:r,value:n,disabled:i,textId:x,isSelected:f,onItemTextChange:B.useCallback(C=>{g(P=>P||((C==null?void 0:C.textContent)??"").trim())},[]),children:$.jsx(r8.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:$.jsx(ur.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:A,onFocus:It(o.onFocus,()=>b(!0)),onBlur:It(o.onBlur,()=>b(!1)),onClick:It(o.onClick,()=>{k.current!=="mouse"&&R()}),onPointerUp:It(o.onPointerUp,()=>{k.current==="mouse"&&R()}),onPointerDown:It(o.onPointerDown,C=>{k.current=C.pointerType}),onPointerMove:It(o.onPointerMove,C=>{var P;k.current=C.pointerType,i?(P=u.onItemLeave)==null||P.call(u):k.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:It(o.onPointerLeave,C=>{var P;C.currentTarget===document.activeElement&&((P=u.onItemLeave)==null||P.call(u))}),onKeyDown:It(o.onKeyDown,C=>{var O;((O=u.searchRef)==null?void 0:O.current)!==""&&C.key===" "||(Z_t.includes(C.key)&&R(),C.key===" "&&C.preventDefault())})})})})});zK.displayName=DI;var Z_="SelectItemText",WK=B.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Fg(Z_,r),a=$g(Z_,r),u=TAe(Z_,r),f=eAt(Z_,r),[d,g]=B.useState(null),y=Nr(e,R=>g(R),u.onItemTextChange,R=>{var C;return(C=a.itemTextRefCallback)==null?void 0:C.call(a,R,u.value,u.disabled)}),b=d==null?void 0:d.textContent,A=B.useMemo(()=>$.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=f;return lo(()=>(x(A),()=>k(A)),[x,k,A]),$.jsxs($.Fragment,{children:[$.jsx(ur.span,{id:u.textId,...s,ref:y}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?i6.createPortal(s.children,o.valueNode):null]})});WK.displayName=Z_;var IAe="SelectItemIndicator",RAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return TAe(IAe,r).isSelected?$.jsx(ur.span,{"aria-hidden":!0,...n,ref:e}):null});RAe.displayName=IAe;var QD="SelectScrollUpButton",MAe=B.forwardRef((t,e)=>{const r=$g(QD,t.__scopeSelect),n=UK(QD,t.__scopeSelect),[i,s]=B.useState(!1),o=Nr(e,n.onScrollButtonChange);return lo(()=>{if(r.viewport&&r.isPositioned){let a=function(){const f=u.scrollTop>0;s(f)};const u=r.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?$.jsx(PAe,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=r;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});MAe.displayName=QD;var JD="SelectScrollDownButton",CAe=B.forwardRef((t,e)=>{const r=$g(JD,t.__scopeSelect),n=UK(JD,t.__scopeSelect),[i,s]=B.useState(!1),o=Nr(e,n.onScrollButtonChange);return lo(()=>{if(r.viewport&&r.isPositioned){let a=function(){const f=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<f;s(d)};const u=r.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?$.jsx(PAe,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=r;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});CAe.displayName=JD;var PAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=$g("SelectScrollButton",r),o=B.useRef(null),a=n8(r),u=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>u(),[u]),lo(()=>{var d;const f=a().find(g=>g.ref.current===document.activeElement);(d=f==null?void 0:f.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),$.jsx(ur.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:It(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:It(i.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:It(i.onPointerLeave,()=>{u()})})}),lAt="SelectSeparator",NAe=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return $.jsx(ur.div,{"aria-hidden":!0,...n,ref:e})});NAe.displayName=lAt;var e9="SelectArrow",fAt=B.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=i8(r),s=Fg(e9,r),o=$g(e9,r);return s.open&&o.position==="popper"?$.jsx(K2,{...i,...n,ref:e}):null});fAt.displayName=e9;function BAe(t){return t===""||t===void 0}var OAe=B.forwardRef((t,e)=>{const{value:r,...n}=t,i=B.useRef(null),s=Nr(e,i),o=JM(r);return B.useEffect(()=>{const a=i.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&d){const g=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(g)}},[o,r]),$.jsx($K,{asChild:!0,children:$.jsx("select",{...n,ref:s,defaultValue:r})})});OAe.displayName="BubbleSelect";function LAe(t){const e=Is(t),r=B.useRef(""),n=B.useRef(0),i=B.useCallback(o=>{const a=r.current+o;e(a),function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),s=B.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function DAe(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=dAt(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function dAt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var hAt=fAe,t9=hAe,pAt=gAe,FAe=mAe,gAt=yAe,$Ae=bAe,mAt=_Ae,yAt=xAe,UAe=kAe,zAe=zK,bAt=WK,vAt=RAe,WAe=MAe,KAe=CAe,jAe=NAe;function wAt(t,e){return B.useReducer((r,n)=>e[r][n]??r,t)}var Ns=t=>{const{present:e,children:r}=t,n=SAt(e),i=typeof r=="function"?r({present:n.isPresent}):B.Children.only(r),s=Nr(n.ref,_At(i));return typeof r=="function"||n.isPresent?B.cloneElement(i,{ref:s}):null};Ns.displayName="Presence";function SAt(t){const[e,r]=B.useState(),n=B.useRef({}),i=B.useRef(t),s=B.useRef("none"),o=t?"mounted":"unmounted",[a,u]=wAt(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const f=Kk(n.current);s.current=a==="mounted"?f:"none"},[a]),lo(()=>{const f=n.current,d=i.current;if(d!==t){const y=s.current,b=Kk(f);t?u("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(d&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),lo(()=>{if(e){let f;const d=e.ownerDocument.defaultView??window,g=b=>{const x=Kk(n.current).includes(b.animationName);if(b.target===e&&x&&(u("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},y=b=>{b.target===e&&(s.current=Kk(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{d.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function Kk(t){return(t==null?void 0:t.animationName)||"none"}function _At(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var KK="Popover",[HAe,kNt]=ta(KK,[sd]),q2=sd(),[AAt,Ug]=HAe(KK),qAe=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=q2(e),u=B.useRef(null),[f,d]=B.useState(!1),[g=!1,y]=kc({prop:n,defaultProp:i,onChange:s});return $.jsx(z2,{...a,children:$.jsx(AAt,{scope:e,contentId:wc(),triggerRef:u,open:g,onOpenChange:y,onOpenToggle:B.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:f,onCustomAnchorAdd:B.useCallback(()=>d(!0),[]),onCustomAnchorRemove:B.useCallback(()=>d(!1),[]),modal:o,children:r})})};qAe.displayName=KK;var VAe="PopoverAnchor",GAe=B.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ug(VAe,r),s=q2(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return B.useEffect(()=>(o(),()=>a()),[o,a]),$.jsx(fS,{...s,...n,ref:e})});GAe.displayName=VAe;var YAe="PopoverTrigger",ZAe=B.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ug(YAe,r),s=q2(r),o=Nr(e,i.triggerRef),a=$.jsx(ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rxe(i.open),...n,ref:o,onClick:It(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:$.jsx(fS,{asChild:!0,...s,children:a})});ZAe.displayName=YAe;var jK="PopoverPortal",[xAt,EAt]=HAe(jK,{forceMount:void 0}),XAe=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Ug(jK,e);return $.jsx(xAt,{scope:e,forceMount:r,children:$.jsx(Ns,{present:r||s.open,children:$.jsx(wy,{asChild:!0,container:i,children:n})})})};XAe.displayName=jK;var vw="PopoverContent",QAe=B.forwardRef((t,e)=>{const r=EAt(vw,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Ug(vw,t.__scopePopover);return $.jsx(Ns,{present:n||s.open,children:s.modal?$.jsx(kAt,{...i,ref:e}):$.jsx(TAt,{...i,ref:e})})});QAe.displayName=vw;var kAt=B.forwardRef((t,e)=>{const r=Ug(vw,t.__scopePopover),n=B.useRef(null),i=Nr(e,n),s=B.useRef(!1);return B.useEffect(()=>{const o=n.current;if(o)return e8(o)},[]),$.jsx(j2,{as:Us,allowPinchZoom:!0,children:$.jsx(JAe,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:It(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0,f=a.button===2||u;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:It(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),TAt=B.forwardRef((t,e)=>{const r=Ug(vw,t.__scopePopover),n=B.useRef(!1),i=B.useRef(!1);return $.jsx(JAe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),JAe=B.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,...g}=t,y=Ug(vw,r),b=q2(r);return GM(),$.jsx($2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:$.jsx(vy,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:$.jsx(W2,{"data-state":rxe(y.open),role:"dialog",id:y.contentId,...b,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),exe="PopoverClose",IAt=B.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Ug(exe,r);return $.jsx(ur.button,{type:"button",...n,ref:e,onClick:It(t.onClick,()=>i.onOpenChange(!1))})});IAt.displayName=exe;var RAt="PopoverArrow",txe=B.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=q2(r);return $.jsx(K2,{...i,...n,ref:e})});txe.displayName=RAt;function rxe(t){return t?"open":"closed"}var MAt=qAe,CAt=GAe,PAt=ZAe,NAt=XAe,nxe=QAe,BAt=txe;function OAt(t,e){return B.useReducer((r,n)=>e[r][n]??r,t)}var HK="ScrollArea",[ixe,TNt]=ta(HK),[LAt,Lc]=ixe(HK),sxe=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,u]=B.useState(null),[f,d]=B.useState(null),[g,y]=B.useState(null),[b,A]=B.useState(null),[x,k]=B.useState(null),[R,C]=B.useState(0),[P,O]=B.useState(0),[q,Q]=B.useState(!1),[Y,X]=B.useState(!1),Z=Nr(e,I=>u(I)),le=uS(i);return $.jsx(LAt,{scope:r,type:n,dir:le,scrollHideDelay:s,scrollArea:a,viewport:f,onViewportChange:d,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:A,scrollbarXEnabled:q,onScrollbarXEnabledChange:Q,scrollbarY:x,onScrollbarYChange:k,scrollbarYEnabled:Y,onScrollbarYEnabledChange:X,onCornerWidthChange:C,onCornerHeightChange:O,children:$.jsx(ur.div,{dir:le,...o,ref:Z,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":P+"px",...t.style}})})});sxe.displayName=HK;var oxe="ScrollAreaViewport",axe=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,o=Lc(oxe,r),a=B.useRef(null),u=Nr(e,a,o.onViewportChange);return $.jsxs($.Fragment,{children:[$.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),$.jsx(ur.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:$.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});axe.displayName=oxe;var od="ScrollAreaScrollbar",qK=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Lc(od,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return B.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?$.jsx(DAt,{...n,ref:e,forceMount:r}):i.type==="scroll"?$.jsx(FAt,{...n,ref:e,forceMount:r}):i.type==="auto"?$.jsx(uxe,{...n,ref:e,forceMount:r}):i.type==="always"?$.jsx(VK,{...n,ref:e}):null});qK.displayName=od;var DAt=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Lc(od,t.__scopeScrollArea),[s,o]=B.useState(!1);return B.useEffect(()=>{const a=i.scrollArea;let u=0;if(a){const f=()=>{window.clearTimeout(u),o(!0)},d=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",f),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",f),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),$.jsx(Ns,{present:r||s,children:$.jsx(uxe,{"data-state":s?"visible":"hidden",...n,ref:e})})}),FAt=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Lc(od,t.__scopeScrollArea),s=t.orientation==="horizontal",o=o8(()=>u("SCROLL_END"),100),[a,u]=OAt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return B.useEffect(()=>{if(a==="idle"){const f=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[a,i.scrollHideDelay,u]),B.useEffect(()=>{const f=i.viewport,d=s?"scrollLeft":"scrollTop";if(f){let g=f[d];const y=()=>{const b=f[d];g!==b&&(u("SCROLL"),o()),g=b};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[i.viewport,s,u,o]),$.jsx(Ns,{present:r||a!=="hidden",children:$.jsx(VK,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:It(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:It(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),uxe=B.forwardRef((t,e)=>{const r=Lc(od,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,o]=B.useState(!1),a=t.orientation==="horizontal",u=o8(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?f:d)}},10);return ww(r.viewport,u),ww(r.content,u),$.jsx(Ns,{present:n||s,children:$.jsx(VK,{"data-state":s?"visible":"hidden",...i,ref:e})})}),VK=B.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Lc(od,t.__scopeScrollArea),s=B.useRef(null),o=B.useRef(0),[a,u]=B.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=hxe(a.viewport,a.content),d={...n,sizes:a,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:y=>s.current=y,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:y=>o.current=y};function g(y,b){return jAt(y,o.current,a,b)}return r==="horizontal"?$.jsx($At,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollLeft,b=yre(y,a,i.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=g(y,i.dir))}}):r==="vertical"?$.jsx(UAt,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollTop,b=yre(y,a);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=g(y))}}):null}),$At=B.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Lc(od,t.__scopeScrollArea),[o,a]=B.useState(),u=B.useRef(null),f=Nr(e,u,s.onScrollbarXChange);return B.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),$.jsx(lxe,{"data-orientation":"horizontal",...i,ref:f,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s8(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,g)=>{if(s.viewport){const y=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(y),gxe(y,g)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:$I(o.paddingLeft),paddingEnd:$I(o.paddingRight)}})}})}),UAt=B.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Lc(od,t.__scopeScrollArea),[o,a]=B.useState(),u=B.useRef(null),f=Nr(e,u,s.onScrollbarYChange);return B.useEffect(()=>{u.current&&a(getComputedStyle(u.current))},[u]),$.jsx(lxe,{"data-orientation":"vertical",...i,ref:f,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s8(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,g)=>{if(s.viewport){const y=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(y),gxe(y,g)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:$I(o.paddingTop),paddingEnd:$I(o.paddingBottom)}})}})}),[zAt,cxe]=ixe(od),lxe=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:d,onResize:g,...y}=t,b=Lc(od,r),[A,x]=B.useState(null),k=Nr(e,Z=>x(Z)),R=B.useRef(null),C=B.useRef(""),P=b.viewport,O=n.content-n.viewport,q=Is(d),Q=Is(u),Y=o8(g,10);function X(Z){if(R.current){const le=Z.clientX-R.current.left,I=Z.clientY-R.current.top;f({x:le,y:I})}}return B.useEffect(()=>{const Z=le=>{const I=le.target;(A==null?void 0:A.contains(I))&&q(le,O)};return document.addEventListener("wheel",Z,{passive:!1}),()=>document.removeEventListener("wheel",Z,{passive:!1})},[P,A,O,q]),B.useEffect(Q,[n,Q]),ww(A,Y),ww(b.content,Y),$.jsx(zAt,{scope:r,scrollbar:A,hasThumb:i,onThumbChange:Is(s),onThumbPointerUp:Is(o),onThumbPositionChange:Q,onThumbPointerDown:Is(a),children:$.jsx(ur.div,{...y,ref:k,style:{position:"absolute",...y.style},onPointerDown:It(t.onPointerDown,Z=>{Z.button===0&&(Z.target.setPointerCapture(Z.pointerId),R.current=A.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),X(Z))}),onPointerMove:It(t.onPointerMove,X),onPointerUp:It(t.onPointerUp,Z=>{const le=Z.target;le.hasPointerCapture(Z.pointerId)&&le.releasePointerCapture(Z.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),R.current=null})})})}),FI="ScrollAreaThumb",fxe=B.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=cxe(FI,t.__scopeScrollArea);return $.jsx(Ns,{present:r||i.hasThumb,children:$.jsx(WAt,{ref:e,...n})})}),WAt=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=Lc(FI,r),o=cxe(FI,r),{onThumbPositionChange:a}=o,u=Nr(e,g=>o.onThumbChange(g)),f=B.useRef(void 0),d=o8(()=>{f.current&&(f.current(),f.current=void 0)},100);return B.useEffect(()=>{const g=s.viewport;if(g){const y=()=>{if(d(),!f.current){const b=HAt(g,a);f.current=b,a()}};return a(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[s.viewport,d,a]),$.jsx(ur.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:It(t.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),A=g.clientX-b.left,x=g.clientY-b.top;o.onThumbPointerDown({x:A,y:x})}),onPointerUp:It(t.onPointerUp,o.onThumbPointerUp)})});fxe.displayName=FI;var GK="ScrollAreaCorner",dxe=B.forwardRef((t,e)=>{const r=Lc(GK,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?$.jsx(KAt,{...t,ref:e}):null});dxe.displayName=GK;var KAt=B.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Lc(GK,r),[s,o]=B.useState(0),[a,u]=B.useState(0),f=!!(s&&a);return ww(i.scrollbarX,()=>{var g;const d=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(d),u(d)}),ww(i.scrollbarY,()=>{var g;const d=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),f?$.jsx(ur.div,{...n,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function $I(t){return t?parseInt(t,10):0}function hxe(t,e){const r=t/e;return isNaN(r)?0:r}function s8(t){const e=hxe(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function jAt(t,e,r,n="ltr"){const i=s8(r),s=i/2,o=e||s,a=i-o,u=r.scrollbar.paddingStart+o,f=r.scrollbar.size-r.scrollbar.paddingEnd-a,d=r.content-r.viewport,g=n==="ltr"?[0,d]:[d*-1,0];return pxe([u,f],g)(t)}function yre(t,e,r="ltr"){const n=s8(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-n,u=r==="ltr"?[0,o]:[o*-1,0],f=mx(t,u);return pxe([0,o],[0,a])(f)}function pxe(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function gxe(t,e){return t>0&&t<e}var HAt=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,a=r.top!==s.top;(o||a)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function o8(t,e){const r=Is(t),n=B.useRef(0);return B.useEffect(()=>()=>window.clearTimeout(n.current),[]),B.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ww(t,e){const r=Is(e);lo(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var mxe=sxe,qAt=axe,VAt=dxe,[a8,INt]=ta("Tooltip",[sd]),u8=sd(),yxe="TooltipProvider",GAt=700,r9="tooltip.open",[YAt,YK]=a8(yxe),bxe=t=>{const{__scopeTooltip:e,delayDuration:r=GAt,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=B.useState(!0),u=B.useRef(!1),f=B.useRef(0);return B.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),$.jsx(YAt,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:B.useCallback(()=>{window.clearTimeout(f.current),a(!1)},[]),onClose:B.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:B.useCallback(d=>{u.current=d},[]),disableHoverableContent:i,children:s})};bxe.displayName=yxe;var c8="Tooltip",[ZAt,V2]=a8(c8),vxe=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,u=YK(c8,t.__scopeTooltip),f=u8(e),[d,g]=B.useState(null),y=wc(),b=B.useRef(0),A=o??u.disableHoverableContent,x=a??u.delayDuration,k=B.useRef(!1),[R=!1,C]=kc({prop:n,defaultProp:i,onChange:Y=>{Y?(u.onOpen(),document.dispatchEvent(new CustomEvent(r9))):u.onClose(),s==null||s(Y)}}),P=B.useMemo(()=>R?k.current?"delayed-open":"instant-open":"closed",[R]),O=B.useCallback(()=>{window.clearTimeout(b.current),b.current=0,k.current=!1,C(!0)},[C]),q=B.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),Q=B.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{k.current=!0,C(!0),b.current=0},x)},[x,C]);return B.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),$.jsx(z2,{...f,children:$.jsx(ZAt,{scope:e,contentId:y,open:R,stateAttribute:P,trigger:d,onTriggerChange:g,onTriggerEnter:B.useCallback(()=>{u.isOpenDelayed?Q():O()},[u.isOpenDelayed,Q,O]),onTriggerLeave:B.useCallback(()=>{A?q():(window.clearTimeout(b.current),b.current=0)},[q,A]),onOpen:O,onClose:q,disableHoverableContent:A,children:r})})};vxe.displayName=c8;var n9="TooltipTrigger",wxe=B.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=V2(n9,r),s=YK(n9,r),o=u8(r),a=B.useRef(null),u=Nr(e,a,i.onTriggerChange),f=B.useRef(!1),d=B.useRef(!1),g=B.useCallback(()=>f.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),$.jsx(fS,{asChild:!0,...o,children:$.jsx(ur.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:It(t.onPointerMove,y=>{y.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:It(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:It(t.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:It(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:It(t.onBlur,i.onClose),onClick:It(t.onClick,i.onClose)})})});wxe.displayName=n9;var ZK="TooltipPortal",[XAt,QAt]=a8(ZK,{forceMount:void 0}),Sxe=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=V2(ZK,e);return $.jsx(XAt,{scope:e,forceMount:r,children:$.jsx(Ns,{present:r||s.open,children:$.jsx(wy,{asChild:!0,container:i,children:n})})})};Sxe.displayName=ZK;var Sw="TooltipContent",_xe=B.forwardRef((t,e)=>{const r=QAt(Sw,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=V2(Sw,t.__scopeTooltip);return $.jsx(Ns,{present:n||o.open,children:o.disableHoverableContent?$.jsx(Axe,{side:i,...s,ref:e}):$.jsx(JAt,{side:i,...s,ref:e})})}),JAt=B.forwardRef((t,e)=>{const r=V2(Sw,t.__scopeTooltip),n=YK(Sw,t.__scopeTooltip),i=B.useRef(null),s=Nr(e,i),[o,a]=B.useState(null),{trigger:u,onClose:f}=r,d=i.current,{onPointerInTransitChange:g}=n,y=B.useCallback(()=>{a(null),g(!1)},[g]),b=B.useCallback((A,x)=>{const k=A.currentTarget,R={x:A.clientX,y:A.clientY},C=rxt(R,k.getBoundingClientRect()),P=nxt(R,C),O=ixt(x.getBoundingClientRect()),q=oxt([...P,...O]);a(q),g(!0)},[g]);return B.useEffect(()=>()=>y(),[y]),B.useEffect(()=>{if(u&&d){const A=k=>b(k,d),x=k=>b(k,u);return u.addEventListener("pointerleave",A),d.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",A),d.removeEventListener("pointerleave",x)}}},[u,d,b,y]),B.useEffect(()=>{if(o){const A=x=>{const k=x.target,R={x:x.clientX,y:x.clientY},C=(u==null?void 0:u.contains(k))||(d==null?void 0:d.contains(k)),P=!sxt(R,o);C?y():P&&(y(),f())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[u,d,o,f,y]),$.jsx(Axe,{...t,ref:s})}),[ext,txt]=a8(c8,{isInside:!1}),Axe=B.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=V2(Sw,r),f=u8(r),{onClose:d}=u;return B.useEffect(()=>(document.addEventListener(r9,d),()=>document.removeEventListener(r9,d)),[d]),B.useEffect(()=>{if(u.trigger){const g=y=>{const b=y.target;b!=null&&b.contains(u.trigger)&&d()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,d]),$.jsx(vy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:d,children:$.jsxs(W2,{"data-state":u.stateAttribute,...f,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx(p_e,{children:n}),$.jsx(ext,{scope:r,isInside:!0,children:$.jsx(l_t,{id:u.contentId,role:"tooltip",children:i||n})})]})})});_xe.displayName=Sw;var xxe="TooltipArrow",Exe=B.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=u8(r);return txt(xxe,r).isInside?null:$.jsx(K2,{...i,...n,ref:e})});Exe.displayName=xxe;function rxt(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nxt(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function ixt(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function sxt(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,f=e[o].x,d=e[o].y;u>n!=d>n&&r<(f-a)*(n-u)/(d-u)+a&&(i=!i)}return i}function oxt(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),axt(e)}function axt(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var uxt=bxe,kxe=vxe,Txe=wxe,cxt=Sxe,Ixe=_xe,lxt=Exe,XK="Checkbox",[fxt,RNt]=ta(XK),[dxt,hxt]=fxt(XK),Rxe=B.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:f,form:d,...g}=t,[y,b]=B.useState(null),A=Nr(e,O=>b(O)),x=B.useRef(!1),k=y?d||!!y.closest("form"):!0,[R=!1,C]=kc({prop:i,defaultProp:s,onChange:f}),P=B.useRef(R);return B.useEffect(()=>{const O=y==null?void 0:y.form;if(O){const q=()=>C(P.current);return O.addEventListener("reset",q),()=>O.removeEventListener("reset",q)}},[y,C]),$.jsxs(dxt,{scope:r,state:R,disabled:a,children:[$.jsx(ur.button,{type:"button",role:"checkbox","aria-checked":lg(R)?"mixed":R,"aria-required":o,"data-state":Pxe(R),"data-disabled":a?"":void 0,disabled:a,value:u,...g,ref:A,onKeyDown:It(t.onKeyDown,O=>{O.key==="Enter"&&O.preventDefault()}),onClick:It(t.onClick,O=>{C(q=>lg(q)?!0:!q),k&&(x.current=O.isPropagationStopped(),x.current||O.stopPropagation())})}),k&&$.jsx(pxt,{control:y,bubbles:!x.current,name:n,value:u,checked:R,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:lg(s)?!1:s})]})});Rxe.displayName=XK;var Mxe="CheckboxIndicator",Cxe=B.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=hxt(Mxe,r);return $.jsx(Ns,{present:n||lg(s.state)||s.state===!0,children:$.jsx(ur.span,{"data-state":Pxe(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Cxe.displayName=Mxe;var pxt=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,o=B.useRef(null),a=JM(r),u=QM(e);B.useEffect(()=>{const d=o.current,g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(a!==r&&b){const A=new Event("click",{bubbles:n});d.indeterminate=lg(r),b.call(d,lg(r)?!1:r),d.dispatchEvent(A)}},[a,r,n]);const f=B.useRef(lg(r)?!1:r);return $.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??f.current,...s,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lg(t){return t==="indeterminate"}function Pxe(t){return lg(t)?"indeterminate":t?"checked":"unchecked"}var Nxe=Rxe,gxt=Cxe,QK="Switch",[mxt,MNt]=ta(QK),[yxt,bxt]=mxt(QK),Bxe=B.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:f,form:d,...g}=t,[y,b]=B.useState(null),A=Nr(e,P=>b(P)),x=B.useRef(!1),k=y?d||!!y.closest("form"):!0,[R=!1,C]=kc({prop:i,defaultProp:s,onChange:f});return $.jsxs(yxt,{scope:r,checked:R,disabled:a,children:[$.jsx(ur.button,{type:"button",role:"switch","aria-checked":R,"aria-required":o,"data-state":Dxe(R),"data-disabled":a?"":void 0,disabled:a,value:u,...g,ref:A,onClick:It(t.onClick,P=>{C(O=>!O),k&&(x.current=P.isPropagationStopped(),x.current||P.stopPropagation())})}),k&&$.jsx(vxt,{control:y,bubbles:!x.current,name:n,value:u,checked:R,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Bxe.displayName=QK;var Oxe="SwitchThumb",Lxe=B.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=bxt(Oxe,r);return $.jsx(ur.span,{"data-state":Dxe(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Lxe.displayName=Oxe;var vxt=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=B.useRef(null),o=JM(r),a=QM(e);return B.useEffect(()=>{const u=s.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&g){const y=new Event("click",{bubbles:n});g.call(u,r),u.dispatchEvent(y)}},[o,r,n]),$.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Dxe(t){return t?"checked":"unchecked"}var Fxe=Bxe,wxt=Lxe;/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Sxt(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Qp(t,e){return typeof t=="function"?t(e):t}function Fu(t,e){return r=>{e.setState(n=>({...n,[t]:Qp(r,n[t])}))}}function l8(t){return t instanceof Function}function _xt(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Axt(t,e){const r=[],n=i=>{i.forEach(s=>{r.push(s);const o=e(s);o!=null&&o.length&&n(o)})};return n(t),r}function vr(t,e,r){let n=[],i;return s=>{let o;r.key&&r.debug&&(o=Date.now());const a=t(s);if(!(a.length!==n.length||a.some((d,g)=>n[g]!==d)))return i;n=a;let f;if(r.key&&r.debug&&(f=Date.now()),i=e(...a),r==null||r.onChange==null||r.onChange(i),r.key&&r.debug&&r!=null&&r.debug()){const d=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-f)*100)/100,y=g/16,b=(A,x)=>{for(A=String(A);A.length<x;)A=" "+A;return A};console.info(`%c⏱ ${b(g,5)} /${b(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,r==null?void 0:r.key)}return i}}function wr(t,e,r,n){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:n}}function xxt(t,e,r,n){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${r.id}`,row:e,column:r,getValue:()=>e.getValue(n),renderValue:i,getContext:vr(()=>[t,r,e,s],(o,a,u,f)=>({table:o,column:a,row:u,cell:f,getValue:f.getValue,renderValue:f.renderValue}),wr(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,r,e,t)},{}),s}function Ext(t,e,r,n){var i,s;const a={...t._getDefaultColumnDef(),...e},u=a.accessorKey;let f=(i=(s=a.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:u&&(u.includes(".")?d=y=>{let b=y;for(const x of u.split(".")){var A;b=(A=b)==null?void 0:A[x]}return b}:d=y=>y[a.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:d,parent:n,depth:r,columnDef:a,columns:[],getFlatColumns:vr(()=>[!0],()=>{var y;return[g,...(y=g.columns)==null?void 0:y.flatMap(b=>b.getFlatColumns())]},wr(t.options,"debugColumns")),getLeafColumns:vr(()=>[t._getOrderColumnsFn()],y=>{var b;if((b=g.columns)!=null&&b.length){let A=g.columns.flatMap(x=>x.getLeafColumns());return y(A)}return[g]},wr(t.options,"debugColumns"))};for(const y of t._features)y.createColumn==null||y.createColumn(g,t);return g}const zo="debugHeaders";function bre(t,e,r){var n;let s={id:(n=r.id)!=null?n:e.id,column:e,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),o.push(u)};return a(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const kxt={createTable:t=>{t.getHeaderGroups=vr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>{var s,o;const a=(s=n==null?void 0:n.map(g=>r.find(y=>y.id===g)).filter(Boolean))!=null?s:[],u=(o=i==null?void 0:i.map(g=>r.find(y=>y.id===g)).filter(Boolean))!=null?o:[],f=r.filter(g=>!(n!=null&&n.includes(g.id))&&!(i!=null&&i.includes(g.id)));return jk(e,[...a,...f,...u],t)},wr(t.options,zo)),t.getCenterHeaderGroups=vr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>(r=r.filter(s=>!(n!=null&&n.includes(s.id))&&!(i!=null&&i.includes(s.id))),jk(e,r,t,"center")),wr(t.options,zo)),t.getLeftHeaderGroups=vr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,r,n)=>{var i;const s=(i=n==null?void 0:n.map(o=>r.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return jk(e,s,t,"left")},wr(t.options,zo)),t.getRightHeaderGroups=vr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,r,n)=>{var i;const s=(i=n==null?void 0:n.map(o=>r.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return jk(e,s,t,"right")},wr(t.options,zo)),t.getFooterGroups=vr(()=>[t.getHeaderGroups()],e=>[...e].reverse(),wr(t.options,zo)),t.getLeftFooterGroups=vr(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),wr(t.options,zo)),t.getCenterFooterGroups=vr(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),wr(t.options,zo)),t.getRightFooterGroups=vr(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),wr(t.options,zo)),t.getFlatHeaders=vr(()=>[t.getHeaderGroups()],e=>e.map(r=>r.headers).flat(),wr(t.options,zo)),t.getLeftFlatHeaders=vr(()=>[t.getLeftHeaderGroups()],e=>e.map(r=>r.headers).flat(),wr(t.options,zo)),t.getCenterFlatHeaders=vr(()=>[t.getCenterHeaderGroups()],e=>e.map(r=>r.headers).flat(),wr(t.options,zo)),t.getRightFlatHeaders=vr(()=>[t.getRightHeaderGroups()],e=>e.map(r=>r.headers).flat(),wr(t.options,zo)),t.getCenterLeafHeaders=vr(()=>[t.getCenterFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),wr(t.options,zo)),t.getLeftLeafHeaders=vr(()=>[t.getLeftFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),wr(t.options,zo)),t.getRightLeafHeaders=vr(()=>[t.getRightFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),wr(t.options,zo)),t.getLeafHeaders=vr(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,r,n)=>{var i,s,o,a,u,f;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=r[0])==null?void 0:a.headers)!=null?o:[],...(u=(f=n[0])==null?void 0:f.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},wr(t.options,zo))}};function jk(t,e,r,n){var i,s;let o=0;const a=function(y,b){b===void 0&&(b=1),o=Math.max(o,b),y.filter(A=>A.getIsVisible()).forEach(A=>{var x;(x=A.columns)!=null&&x.length&&a(A.columns,b+1)},0)};a(t);let u=[];const f=(y,b)=>{const A={depth:b,id:[n,`${b}`].filter(Boolean).join("_"),headers:[]},x=[];y.forEach(k=>{const R=[...x].reverse()[0],C=k.column.depth===A.depth;let P,O=!1;if(C&&k.column.parent?P=k.column.parent:(P=k.column,O=!0),R&&(R==null?void 0:R.column)===P)R.subHeaders.push(k);else{const q=bre(r,P,{id:[n,b,P.id,k==null?void 0:k.id].filter(Boolean).join("_"),isPlaceholder:O,placeholderId:O?`${x.filter(Q=>Q.column===P).length}`:void 0,depth:b,index:x.length});q.subHeaders.push(k),x.push(q)}A.headers.push(k),k.headerGroup=A}),u.push(A),b>0&&f(x,b-1)},d=e.map((y,b)=>bre(r,y,{depth:o,index:b}));f(d,o-1),u.reverse();const g=y=>y.filter(A=>A.column.getIsVisible()).map(A=>{let x=0,k=0,R=[0];A.subHeaders&&A.subHeaders.length?(R=[],g(A.subHeaders).forEach(P=>{let{colSpan:O,rowSpan:q}=P;x+=O,R.push(q)})):x=1;const C=Math.min(...R);return k=k+C,A.colSpan=x,A.rowSpan=k,{colSpan:x,rowSpan:k}});return g((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const JK=(t,e,r,n,i,s,o)=>{let a={id:e,index:n,original:r,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const f=t.getColumn(u);if(f!=null&&f.accessorFn)return a._valuesCache[u]=f.accessorFn(a.original,n),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const f=t.getColumn(u);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=f.columnDef.getUniqueValues(a.original,n),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var f;return(f=a.getValue(u))!=null?f:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Axt(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],f=a;for(;;){const d=f.getParentRow();if(!d)break;u.push(d),f=d}return u.reverse()},getAllCells:vr(()=>[t.getAllLeafColumns()],u=>u.map(f=>xxt(t,a,f,f.id)),wr(t.options,"debugRows")),_getAllCellsByColumnId:vr(()=>[a.getAllCells()],u=>u.reduce((f,d)=>(f[d.column.id]=d,f),{}),wr(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const f=t._features[u];f==null||f.createRow==null||f.createRow(a,t)}return a},Txt={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},$xe=(t,e,r)=>{var n,i;const s=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};$xe.autoRemove=t=>hl(t);const Uxe=(t,e,r)=>{var n;return!!(!((n=t.getValue(e))==null||(n=n.toString())==null)&&n.includes(r))};Uxe.autoRemove=t=>hl(t);const zxe=(t,e,r)=>{var n;return((n=t.getValue(e))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};zxe.autoRemove=t=>hl(t);const Wxe=(t,e,r)=>{var n;return(n=t.getValue(e))==null?void 0:n.includes(r)};Wxe.autoRemove=t=>hl(t)||!(t!=null&&t.length);const Kxe=(t,e,r)=>!r.some(n=>{var i;return!((i=t.getValue(e))!=null&&i.includes(n))});Kxe.autoRemove=t=>hl(t)||!(t!=null&&t.length);const jxe=(t,e,r)=>r.some(n=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)});jxe.autoRemove=t=>hl(t)||!(t!=null&&t.length);const Hxe=(t,e,r)=>t.getValue(e)===r;Hxe.autoRemove=t=>hl(t);const qxe=(t,e,r)=>t.getValue(e)==r;qxe.autoRemove=t=>hl(t);const ej=(t,e,r)=>{let[n,i]=r;const s=t.getValue(e);return s>=n&&s<=i};ej.resolveFilterValue=t=>{let[e,r]=t,n=typeof e!="number"?parseFloat(e):e,i=typeof r!="number"?parseFloat(r):r,s=e===null||Number.isNaN(n)?-1/0:n,o=r===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};ej.autoRemove=t=>hl(t)||hl(t[0])&&hl(t[1]);const Dd={includesString:$xe,includesStringSensitive:Uxe,equalsString:zxe,arrIncludes:Wxe,arrIncludesAll:Kxe,arrIncludesSome:jxe,equals:Hxe,weakEquals:qxe,inNumberRange:ej};function hl(t){return t==null||t===""}const Ixt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Fu("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);return typeof n=="string"?Dd.includesString:typeof n=="number"?Dd.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?Dd.equals:Array.isArray(n)?Dd.arrIncludes:Dd.weakEquals},t.getFilterFn=()=>{var r,n;return l8(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(r=(n=e.options.filterFns)==null?void 0:n[t.columnDef.filterFn])!=null?r:Dd[t.columnDef.filterFn]},t.getCanFilter=()=>{var r,n,i;return((r=t.columnDef.enableColumnFilter)!=null?r:!0)&&((n=e.options.enableColumnFilters)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var r;return(r=e.getState().columnFilters)==null||(r=r.find(n=>n.id===t.id))==null?void 0:r.value},t.getFilterIndex=()=>{var r,n;return(r=(n=e.getState().columnFilters)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.setFilterValue=r=>{e.setColumnFilters(n=>{const i=t.getFilterFn(),s=n==null?void 0:n.find(d=>d.id===t.id),o=Qp(r,s?s.value:void 0);if(vre(i,o,t)){var a;return(a=n==null?void 0:n.filter(d=>d.id!==t.id))!=null?a:[]}const u={id:t.id,value:o};if(s){var f;return(f=n==null?void 0:n.map(d=>d.id===t.id?u:d))!=null?f:[]}return n!=null&&n.length?[...n,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const r=t.getAllLeafColumns(),n=i=>{var s;return(s=Qp(e,i))==null?void 0:s.filter(o=>{const a=r.find(u=>u.id===o.id);if(a){const u=a.getFilterFn();if(vre(u,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(n)},t.resetColumnFilters=e=>{var r,n;t.setColumnFilters(e?[]:(r=(n=t.initialState)==null?void 0:n.columnFilters)!=null?r:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function vre(t,e,r){return(t&&t.autoRemove?t.autoRemove(e,r):!1)||typeof e>"u"||typeof e=="string"&&!e}const Rxt=(t,e,r)=>r.reduce((n,i)=>{const s=i.getValue(t);return n+(typeof s=="number"?s:0)},0),Mxt=(t,e,r)=>{let n;return r.forEach(i=>{const s=i.getValue(t);s!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}),n},Cxt=(t,e,r)=>{let n;return r.forEach(i=>{const s=i.getValue(t);s!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}),n},Pxt=(t,e,r)=>{let n,i;return r.forEach(s=>{const o=s.getValue(t);o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}),[n,i]},Nxt=(t,e)=>{let r=0,n=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++r,n+=s)}),r)return n/r},Bxt=(t,e)=>{if(!e.length)return;const r=e.map(s=>s.getValue(t));if(!_xt(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),i=r.sort((s,o)=>s-o);return r.length%2!==0?i[n]:(i[n-1]+i[n])/2},Oxt=(t,e)=>Array.from(new Set(e.map(r=>r.getValue(t))).values()),Lxt=(t,e)=>new Set(e.map(r=>r.getValue(t))).size,Dxt=(t,e)=>e.length,pB={sum:Rxt,min:Mxt,max:Cxt,extent:Pxt,mean:Nxt,median:Bxt,unique:Oxt,uniqueCount:Lxt,count:Dxt},Fxt={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,r;return(e=(r=t.getValue())==null||r.toString==null?void 0:r.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Fu("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(r=>r!=null&&r.includes(t.id)?r.filter(n=>n!==t.id):[...r??[],t.id])},t.getCanGroup=()=>{var r,n;return((r=t.columnDef.enableGrouping)!=null?r:!0)&&((n=e.options.enableGrouping)!=null?n:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.includes(t.id)},t.getGroupedIndex=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const r=t.getCanGroup();return()=>{r&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);if(typeof n=="number")return pB.sum;if(Object.prototype.toString.call(n)==="[object Date]")return pB.extent},t.getAggregationFn=()=>{var r,n;if(!t)throw new Error;return l8(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(r=(n=e.options.aggregationFns)==null?void 0:n[t.columnDef.aggregationFn])!=null?r:pB[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var r,n;t.setGrouping(e?[]:(r=(n=t.initialState)==null?void 0:n.grouping)!=null?r:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=r=>{if(t._groupingValuesCache.hasOwnProperty(r))return t._groupingValuesCache[r];const n=e.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(t._groupingValuesCache[r]=n.columnDef.getGroupingValue(t.original),t._groupingValuesCache[r]):t.getValue(r)},t._groupingValuesCache={}},createCell:(t,e,r,n)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===r.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=r.subRows)!=null&&i.length)}}};function $xt(t,e,r){if(!(e!=null&&e.length)||!r)return t;const n=t.filter(s=>!e.includes(s.id));return r==="remove"?n:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...n]}const Uxt={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Fu("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=vr(r=>[hA(e,r)],r=>r.findIndex(n=>n.id===t.id),wr(e.options,"debugColumns")),t.getIsFirstColumn=r=>{var n;return((n=hA(e,r)[0])==null?void 0:n.id)===t.id},t.getIsLastColumn=r=>{var n;const i=hA(e,r);return((n=i[i.length-1])==null?void 0:n.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var r;t.setColumnOrder(e?[]:(r=t.initialState.columnOrder)!=null?r:[])},t._getOrderColumnsFn=vr(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,r,n)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],a=[...i];for(;a.length&&o.length;){const u=o.shift(),f=a.findIndex(d=>d.id===u);f>-1&&s.push(a.splice(f,1)[0])}s=[...s,...a]}return $xt(s,r,n)},wr(t.options,"debugTable"))}},gB=()=>({left:[],right:[]}),zxt={getInitialState:t=>({columnPinning:gB(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Fu("columnPinning",t)}),createColumn:(t,e)=>{t.pin=r=>{const n=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(r==="right"){var a,u;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(g=>!(n!=null&&n.includes(g))),right:[...((u=i==null?void 0:i.right)!=null?u:[]).filter(g=>!(n!=null&&n.includes(g))),...n]}}if(r==="left"){var f,d;return{left:[...((f=i==null?void 0:i.left)!=null?f:[]).filter(g=>!(n!=null&&n.includes(g))),...n],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(g=>!(n!=null&&n.includes(g)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(g=>!(n!=null&&n.includes(g))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(g=>!(n!=null&&n.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(n=>{var i,s,o;return((i=n.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const r=t.getLeafColumns().map(a=>a.id),{left:n,right:i}=e.getState().columnPinning,s=r.some(a=>n==null?void 0:n.includes(a)),o=r.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();return i?(r=(n=e.getState().columnPinning)==null||(n=n[i])==null?void 0:n.indexOf(t.id))!=null?r:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=vr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,n,i)=>{const s=[...n??[],...i??[]];return r.filter(o=>!s.includes(o.column.id))},wr(e.options,"debugRows")),t.getLeftVisibleCells=vr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(r,n)=>(n??[]).map(s=>r.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),wr(e.options,"debugRows")),t.getRightVisibleCells=vr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(r,n)=>(n??[]).map(s=>r.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),wr(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var r,n;return t.setColumnPinning(e?gB():(r=(n=t.initialState)==null?void 0:n.columnPinning)!=null?r:gB())},t.getIsSomeColumnsPinned=e=>{var r;const n=t.getState().columnPinning;if(!e){var i,s;return!!((i=n.left)!=null&&i.length||(s=n.right)!=null&&s.length)}return!!((r=n[e])!=null&&r.length)},t.getLeftLeafColumns=vr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),wr(t.options,"debugColumns")),t.getRightLeafColumns=vr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),wr(t.options,"debugColumns")),t.getCenterLeafColumns=vr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n)=>{const i=[...r??[],...n??[]];return e.filter(s=>!i.includes(s.id))},wr(t.options,"debugColumns"))}},Hk={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},mB=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Wxt={getDefaultColumnDef:()=>Hk,getInitialState:t=>({columnSizing:{},columnSizingInfo:mB(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Fu("columnSizing",t),onColumnSizingInfoChange:Fu("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var r,n,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((r=t.columnDef.minSize)!=null?r:Hk.minSize,(n=s??t.columnDef.size)!=null?n:Hk.size),(i=t.columnDef.maxSize)!=null?i:Hk.maxSize)},t.getStart=vr(r=>[r,hA(e,r),e.getState().columnSizing],(r,n)=>n.slice(0,t.getIndex(r)).reduce((i,s)=>i+s.getSize(),0),wr(e.options,"debugColumns")),t.getAfter=vr(r=>[r,hA(e,r),e.getState().columnSizing],(r,n)=>n.slice(t.getIndex(r)+1).reduce((i,s)=>i+s.getSize(),0),wr(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(r=>{let{[t.id]:n,...i}=r;return i})},t.getCanResize=()=>{var r,n;return((r=t.columnDef.enableResizing)!=null?r:!0)&&((n=e.options.enableColumnResizing)!=null?n:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let r=0;const n=i=>{if(i.subHeaders.length)i.subHeaders.forEach(n);else{var s;r+=(s=i.column.getSize())!=null?s:0}};return n(t),r},t.getStart=()=>{if(t.index>0){const r=t.headerGroup.headers[t.index-1];return r.getStart()+r.getSize()}return 0},t.getResizeHandler=r=>{const n=e.getColumn(t.column.id),i=n==null?void 0:n.getCanResize();return s=>{if(!n||!i||(s.persist==null||s.persist(),yB(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(R=>[R.column.id,R.column.getSize()]):[[n.id,n.getSize()]],u=yB(s)?Math.round(s.touches[0].clientX):s.clientX,f={},d=(R,C)=>{typeof C=="number"&&(e.setColumnSizingInfo(P=>{var O,q;const Q=e.options.columnResizeDirection==="rtl"?-1:1,Y=(C-((O=P==null?void 0:P.startOffset)!=null?O:0))*Q,X=Math.max(Y/((q=P==null?void 0:P.startSize)!=null?q:0),-.999999);return P.columnSizingStart.forEach(Z=>{let[le,I]=Z;f[le]=Math.round(Math.max(I+I*X,0)*100)/100}),{...P,deltaOffset:Y,deltaPercentage:X}}),(e.options.columnResizeMode==="onChange"||R==="end")&&e.setColumnSizing(P=>({...P,...f})))},g=R=>d("move",R),y=R=>{d("end",R),e.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=r||typeof document<"u"?document:null,A={moveHandler:R=>g(R.clientX),upHandler:R=>{b==null||b.removeEventListener("mousemove",A.moveHandler),b==null||b.removeEventListener("mouseup",A.upHandler),y(R.clientX)}},x={moveHandler:R=>(R.cancelable&&(R.preventDefault(),R.stopPropagation()),g(R.touches[0].clientX),!1),upHandler:R=>{var C;b==null||b.removeEventListener("touchmove",x.moveHandler),b==null||b.removeEventListener("touchend",x.upHandler),R.cancelable&&(R.preventDefault(),R.stopPropagation()),y((C=R.touches[0])==null?void 0:C.clientX)}},k=Kxt()?{passive:!1}:!1;yB(s)?(b==null||b.addEventListener("touchmove",x.moveHandler,k),b==null||b.addEventListener("touchend",x.upHandler,k)):(b==null||b.addEventListener("mousemove",A.moveHandler,k),b==null||b.addEventListener("mouseup",A.upHandler,k)),e.setColumnSizingInfo(R=>({...R,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var r;t.setColumnSizing(e?{}:(r=t.initialState.columnSizing)!=null?r:{})},t.resetHeaderSizeInfo=e=>{var r;t.setColumnSizingInfo(e?mB():(r=t.initialState.columnSizingInfo)!=null?r:mB())},t.getTotalSize=()=>{var e,r;return(e=(r=t.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,r;return(e=(r=t.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,r;return(e=(r=t.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,r;return(e=(r=t.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0}}};let qk=null;function Kxt(){if(typeof qk=="boolean")return qk;let t=!1;try{const e={get passive(){return t=!0,!1}},r=()=>{};window.addEventListener("test",r,e),window.removeEventListener("test",r)}catch{t=!1}return qk=t,qk}function yB(t){return t.type==="touchstart"}const jxt={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Fu("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=r=>{t.getCanHide()&&e.setColumnVisibility(n=>({...n,[t.id]:r??!t.getIsVisible()}))},t.getIsVisible=()=>{var r,n;const i=t.columns;return(r=i.length?i.some(s=>s.getIsVisible()):(n=e.getState().columnVisibility)==null?void 0:n[t.id])!=null?r:!0},t.getCanHide=()=>{var r,n;return((r=t.columnDef.enableHiding)!=null?r:!0)&&((n=e.options.enableHiding)!=null?n:!0)},t.getToggleVisibilityHandler=()=>r=>{t.toggleVisibility==null||t.toggleVisibility(r.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=vr(()=>[t.getAllCells(),e.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),wr(e.options,"debugRows")),t.getVisibleCells=vr(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(r,n,i)=>[...r,...n,...i],wr(e.options,"debugRows"))},createTable:t=>{const e=(r,n)=>vr(()=>[n(),n().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),wr(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=r=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(r),t.resetColumnVisibility=r=>{var n;t.setColumnVisibility(r?{}:(n=t.initialState.columnVisibility)!=null?n:{})},t.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:r||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;t.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function hA(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Hxt={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},qxt={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Fu("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var r;const n=(r=t.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var r,n,i,s;return((r=t.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=e.options.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Dd.includesString,t.getGlobalFilterFn=()=>{var e,r;const{globalFilterFn:n}=t.options;return l8(n)?n:n==="auto"?t.getGlobalAutoFilterFn():(e=(r=t.options.filterFns)==null?void 0:r[n])!=null?e:Dd[n]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Vxt={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Fu("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,r=!1;t._autoResetExpanded=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?n:!t.options.manualExpanding){if(r)return;r=!0,t._queue(()=>{t.resetExpanded(),r=!1})}},t.setExpanded=n=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(n),t.toggleAllRowsExpanded=n=>{n??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=n=>{var i,s;t.setExpanded(n?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const n=t.getState().expanded;return n===!0||Object.values(n).some(Boolean)},t.getIsAllRowsExpanded=()=>{const n=t.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let n=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");n=Math.max(n,o.length)}),n},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=r=>{e.setExpanded(n=>{var i;const s=n===!0?!0:!!(n!=null&&n[t.id]);let o={};if(n===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=n,r=(i=r)!=null?i:!s,!s&&r)return{...o,[t.id]:!0};if(s&&!r){const{[t.id]:a,...u}=o;return u}return n})},t.getIsExpanded=()=>{var r;const n=e.getState().expanded;return!!((r=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?r:n===!0||n!=null&&n[t.id])},t.getCanExpand=()=>{var r,n,i;return(r=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?r:((n=e.options.enableExpanding)!=null?n:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let r=!0,n=t;for(;r&&n.parentId;)n=e.getRow(n.parentId,!0),r=n.getIsExpanded();return r},t.getToggleExpandedHandler=()=>{const r=t.getCanExpand();return()=>{r&&t.toggleExpanded()}}}},i9=0,s9=10,bB=()=>({pageIndex:i9,pageSize:s9}),Gxt={getInitialState:t=>({...t,pagination:{...bB(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Fu("pagination",t)}),createTable:t=>{let e=!1,r=!1;t._autoResetPageIndex=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?n:!t.options.manualPagination){if(r)return;r=!0,t._queue(()=>{t.resetPageIndex(),r=!1})}},t.setPagination=n=>{const i=s=>Qp(n,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=n=>{var i;t.setPagination(n?bB():(i=t.initialState.pagination)!=null?i:bB())},t.setPageIndex=n=>{t.setPagination(i=>{let s=Qp(n,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=n=>{var i,s;t.setPageIndex(n?i9:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:i9)},t.resetPageSize=n=>{var i,s;t.setPageSize(n?s9:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:s9)},t.setPageSize=n=>{t.setPagination(i=>{const s=Math.max(1,Qp(n,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},t.setPageCount=n=>t.setPagination(i=>{var s;let o=Qp(n,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=vr(()=>[t.getPageCount()],n=>{let i=[];return n&&n>0&&(i=[...new Array(n)].fill(null).map((s,o)=>o)),i},wr(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:n}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:n<i-1},t.previousPage=()=>t.setPageIndex(n=>n-1),t.nextPage=()=>t.setPageIndex(n=>n+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var n;return(n=t.options.pageCount)!=null?n:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var n;return(n=t.options.rowCount)!=null?n:t.getPrePaginationRowModel().rows.length}}},vB=()=>({top:[],bottom:[]}),Yxt={getInitialState:t=>({rowPinning:vB(),...t}),getDefaultOptions:t=>({onRowPinningChange:Fu("rowPinning",t)}),createRow:(t,e)=>{t.pin=(r,n,i)=>{const s=n?t.getLeafRows().map(u=>{let{id:f}=u;return f}):[],o=i?t.getParentRows().map(u=>{let{id:f}=u;return f}):[],a=new Set([...o,t.id,...s]);e.setRowPinning(u=>{var f,d;if(r==="bottom"){var g,y;return{top:((g=u==null?void 0:u.top)!=null?g:[]).filter(x=>!(a!=null&&a.has(x))),bottom:[...((y=u==null?void 0:u.bottom)!=null?y:[]).filter(x=>!(a!=null&&a.has(x))),...Array.from(a)]}}if(r==="top"){var b,A;return{top:[...((b=u==null?void 0:u.top)!=null?b:[]).filter(x=>!(a!=null&&a.has(x))),...Array.from(a)],bottom:((A=u==null?void 0:u.bottom)!=null?A:[]).filter(x=>!(a!=null&&a.has(x)))}}return{top:((f=u==null?void 0:u.top)!=null?f:[]).filter(x=>!(a!=null&&a.has(x))),bottom:((d=u==null?void 0:u.bottom)!=null?d:[]).filter(x=>!(a!=null&&a.has(x)))}})},t.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:i}=e.options;return typeof n=="function"?n(t):(r=n??i)!=null?r:!0},t.getIsPinned=()=>{const r=[t.id],{top:n,bottom:i}=e.getState().rowPinning,s=r.some(a=>n==null?void 0:n.includes(a)),o=r.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();if(!i)return-1;const s=(r=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:r.map(o=>{let{id:a}=o;return a});return(n=s==null?void 0:s.indexOf(t.id))!=null?n:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var r,n;return t.setRowPinning(e?vB():(r=(n=t.initialState)==null?void 0:n.rowPinning)!=null?r:vB())},t.getIsSomeRowsPinned=e=>{var r;const n=t.getState().rowPinning;if(!e){var i,s;return!!((i=n.top)!=null&&i.length||(s=n.bottom)!=null&&s.length)}return!!((r=n[e])!=null&&r.length)},t._getPinnedRows=(e,r,n)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(r??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(r??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:n}))},t.getTopRows=vr(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,r)=>t._getPinnedRows(e,r,"top"),wr(t.options,"debugRows")),t.getBottomRows=vr(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,r)=>t._getPinnedRows(e,r,"bottom"),wr(t.options,"debugRows")),t.getCenterRows=vr(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,r,n)=>{const i=new Set([...r??[],...n??[]]);return e.filter(s=>!i.has(s.id))},wr(t.options,"debugRows"))}},Zxt={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Fu("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var r;return t.setRowSelection(e?{}:(r=t.initialState.rowSelection)!=null?r:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(r=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const n={...r},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(n[s.id]=!0)}):i.forEach(s=>{delete n[s.id]}),n})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(r=>{const n=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...r};return t.getRowModel().rows.forEach(s=>{o9(i,s.id,n,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=vr(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,r)=>Object.keys(e).length?wB(t,r):{rows:[],flatRows:[],rowsById:{}},wr(t.options,"debugTable")),t.getFilteredSelectedRowModel=vr(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,r)=>Object.keys(e).length?wB(t,r):{rows:[],flatRows:[],rowsById:{}},wr(t.options,"debugTable")),t.getGroupedSelectedRowModel=vr(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,r)=>Object.keys(e).length?wB(t,r):{rows:[],flatRows:[],rowsById:{}},wr(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:r}=t.getState();let n=!!(e.length&&Object.keys(r).length);return n&&e.some(i=>i.getCanSelect()&&!r[i.id])&&(n=!1),n},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:r}=t.getState();let n=!!e.length;return n&&e.some(i=>!r[i.id])&&(n=!1),n},t.getIsSomeRowsSelected=()=>{var e;const r=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return r>0&&r<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(r,n)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(r=typeof r<"u"?r:!i,t.getCanSelect()&&i===r)return s;const a={...s};return o9(a,t.id,r,(o=n==null?void 0:n.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:r}=e.getState();return tj(t,r)},t.getIsSomeSelected=()=>{const{rowSelection:r}=e.getState();return a9(t,r)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=e.getState();return a9(t,r)==="all"},t.getCanSelect=()=>{var r;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(r=e.options.enableRowSelection)!=null?r:!0},t.getCanSelectSubRows=()=>{var r;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(r=e.options.enableSubRowSelection)!=null?r:!0},t.getCanMultiSelect=()=>{var r;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(r=e.options.enableMultiRowSelection)!=null?r:!0},t.getToggleSelectedHandler=()=>{const r=t.getCanSelect();return n=>{var i;r&&t.toggleSelected((i=n.target)==null?void 0:i.checked)}}}},o9=(t,e,r,n,i)=>{var s;const o=i.getRow(e,!0);r?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],n&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>o9(t,a.id,r,n,i))};function wB(t,e){const r=t.getState().rowSelection,n=[],i={},s=function(o,a){return o.map(u=>{var f;const d=tj(u,r);if(d&&(n.push(u),i[u.id]=u),(f=u.subRows)!=null&&f.length&&(u={...u,subRows:s(u.subRows)}),d)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:n,rowsById:i}}function tj(t,e){var r;return(r=e[t.id])!=null?r:!1}function a9(t,e,r){var n;if(!((n=t.subRows)!=null&&n.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(tj(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=a9(o,e);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const u9=/([0-9]+)/gm,Xxt=(t,e,r)=>Vxe(Eg(t.getValue(r)).toLowerCase(),Eg(e.getValue(r)).toLowerCase()),Qxt=(t,e,r)=>Vxe(Eg(t.getValue(r)),Eg(e.getValue(r))),Jxt=(t,e,r)=>rj(Eg(t.getValue(r)).toLowerCase(),Eg(e.getValue(r)).toLowerCase()),e2t=(t,e,r)=>rj(Eg(t.getValue(r)),Eg(e.getValue(r))),t2t=(t,e,r)=>{const n=t.getValue(r),i=e.getValue(r);return n>i?1:n<i?-1:0},r2t=(t,e,r)=>rj(t.getValue(r),e.getValue(r));function rj(t,e){return t===e?0:t>e?1:-1}function Eg(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Vxe(t,e){const r=t.split(u9).filter(Boolean),n=e.split(u9).filter(Boolean);for(;r.length&&n.length;){const i=r.shift(),s=n.shift(),o=parseInt(i,10),a=parseInt(s,10),u=[o,a].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return r.length-n.length}const g_={alphanumeric:Xxt,alphanumericCaseSensitive:Qxt,text:Jxt,textCaseSensitive:e2t,datetime:t2t,basic:r2t},n2t={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Fu("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const r=e.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const i of r){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return g_.datetime;if(typeof s=="string"&&(n=!0,s.split(u9).length>1))return g_.alphanumeric}return n?g_.text:g_.basic},t.getAutoSortDir=()=>{const r=e.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var r,n;if(!t)throw new Error;return l8(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(r=(n=e.options.sortingFns)==null?void 0:n[t.columnDef.sortingFn])!=null?r:g_[t.columnDef.sortingFn]},t.toggleSorting=(r,n)=>{const i=t.getNextSortingOrder(),s=typeof r<"u"&&r!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(b=>b.id===t.id),u=o==null?void 0:o.findIndex(b=>b.id===t.id);let f=[],d,g=s?r:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&n?a?d="toggle":d="add":o!=null&&o.length&&u!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(s||i||(d="remove")),d==="add"){var y;f=[...o,{id:t.id,desc:g}],f.splice(0,f.length-((y=e.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else d==="toggle"?f=o.map(b=>b.id===t.id?{...b,desc:g}:b):d==="remove"?f=o.filter(b=>b.id!==t.id):f=[{id:t.id,desc:g}];return f})},t.getFirstSortDir=()=>{var r,n;return((r=(n=t.columnDef.sortDescFirst)!=null?n:e.options.sortDescFirst)!=null?r:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=r=>{var n,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((n=e.options.enableSortingRemoval)==null||n)&&(!(r&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var r,n;return((r=t.columnDef.enableSorting)!=null?r:!0)&&((n=e.options.enableSorting)!=null?n:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var r,n;return(r=(n=t.columnDef.enableMultiSort)!=null?n:e.options.enableMultiSort)!=null?r:!!t.accessorFn},t.getIsSorted=()=>{var r;const n=(r=e.getState().sorting)==null?void 0:r.find(i=>i.id===t.id);return n?n.desc?"desc":"asc":!1},t.getSortIndex=()=>{var r,n;return(r=(n=e.getState().sorting)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.clearSorting=()=>{e.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==t.id):[])},t.getToggleSortingHandler=()=>{const r=t.getCanSort();return n=>{r&&(n.persist==null||n.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(n):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var r,n;t.setSorting(e?[]:(r=(n=t.initialState)==null?void 0:n.sorting)!=null?r:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},i2t=[kxt,jxt,Uxt,zxt,Txt,Ixt,Hxt,qxt,n2t,Fxt,Vxt,Gxt,Yxt,Zxt,Wxt];function s2t(t){var e,r;const n=[...i2t,...(e=t._features)!=null?e:[]];let i={_features:n};const s=i._features.reduce((y,b)=>Object.assign(y,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),o=y=>i.options.mergeOptions?i.options.mergeOptions(s,y):{...s,...y};let u={...{},...(r=t.initialState)!=null?r:{}};i._features.forEach(y=>{var b;u=(b=y.getInitialState==null?void 0:y.getInitialState(u))!=null?b:u});const f=[];let d=!1;const g={_features:n,options:{...s,...t},initialState:u,_queue:y=>{f.push(y),d||(d=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();d=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:y=>{const b=Qp(y,i.options);i.options=o(b)},getState:()=>i.options.state,setState:y=>{i.options.onStateChange==null||i.options.onStateChange(y)},_getRowId:(y,b,A)=>{var x;return(x=i.options.getRowId==null?void 0:i.options.getRowId(y,b,A))!=null?x:`${A?[A.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(y,b)=>{let A=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[y];if(!A&&(A=i.getCoreRowModel().rowsById[y],!A))throw new Error;return A},_getDefaultColumnDef:vr(()=>[i.options.defaultColumn],y=>{var b;return y=(b=y)!=null?b:{},{header:A=>{const x=A.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:A=>{var x,k;return(x=(k=A.renderValue())==null||k.toString==null?void 0:k.toString())!=null?x:null},...i._features.reduce((A,x)=>Object.assign(A,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...y}},wr(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:vr(()=>[i._getColumnDefs()],y=>{const b=function(A,x,k){return k===void 0&&(k=0),A.map(R=>{const C=Ext(i,R,k,x),P=R;return C.columns=P.columns?b(P.columns,C,k+1):[],C})};return b(y)},wr(t,"debugColumns")),getAllFlatColumns:vr(()=>[i.getAllColumns()],y=>y.flatMap(b=>b.getFlatColumns()),wr(t,"debugColumns")),_getAllFlatColumnsById:vr(()=>[i.getAllFlatColumns()],y=>y.reduce((b,A)=>(b[A.id]=A,b),{}),wr(t,"debugColumns")),getAllLeafColumns:vr(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(y,b)=>{let A=y.flatMap(x=>x.getLeafColumns());return b(A)},wr(t,"debugColumns")),getColumn:y=>i._getAllFlatColumnsById()[y]};Object.assign(i,g);for(let y=0;y<i._features.length;y++){const b=i._features[y];b==null||b.createTable==null||b.createTable(i)}return i}function o2t(){return t=>vr(()=>[t.options.data],e=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(i,s,o){s===void 0&&(s=0);const a=[];for(let f=0;f<i.length;f++){const d=JK(t,t._getRowId(i[f],f,o),i[f],f,s,void 0,o==null?void 0:o.id);if(r.flatRows.push(d),r.rowsById[d.id]=d,a.push(d),t.options.getSubRows){var u;d.originalSubRows=t.options.getSubRows(i[f],f),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=n(d.originalSubRows,s+1,d))}}return a};return r.rows=n(e),r},wr(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function a2t(){return t=>vr(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,r,n)=>!r.rows.length||e!==!0&&!Object.keys(e??{}).length||!n?r:Gxe(r),wr(t.options,"debugTable"))}function Gxe(t){const e=[],r=n=>{var i;e.push(n),(i=n.subRows)!=null&&i.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return t.rows.forEach(r),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function u2t(t,e,r){return r.options.filterFromLeafRows?c2t(t,e,r):l2t(t,e,r)}function c2t(t,e,r){var n;const i=[],s={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,f){f===void 0&&(f=0);const d=[];for(let y=0;y<u.length;y++){var g;let b=u[y];const A=JK(r,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(A.columnFilters=b.columnFilters,(g=b.subRows)!=null&&g.length&&f<o){if(A.subRows=a(b.subRows,f+1),b=A,e(b)&&!A.subRows.length){d.push(b),s[b.id]=b,i.push(b);continue}if(e(b)||A.subRows.length){d.push(b),s[b.id]=b,i.push(b);continue}}else b=A,e(b)&&(d.push(b),s[b.id]=b,i.push(b))}return d};return{rows:a(t),flatRows:i,rowsById:s}}function l2t(t,e,r){var n;const i=[],s={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,a=function(u,f){f===void 0&&(f=0);const d=[];for(let y=0;y<u.length;y++){let b=u[y];if(e(b)){var g;if((g=b.subRows)!=null&&g.length&&f<o){const x=JK(r,b.id,b.original,b.index,b.depth,void 0,b.parentId);x.subRows=a(b.subRows,f+1),b=x}d.push(b),i.push(b),s[b.id]=b}}return d};return{rows:a(t),flatRows:i,rowsById:s}}function f2t(){return t=>vr(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,r,n)=>{if(!e.rows.length||!(r!=null&&r.length)&&!n){for(let y=0;y<e.flatRows.length;y++)e.flatRows[y].columnFilters={},e.flatRows[y].columnFiltersMeta={};return e}const i=[],s=[];(r??[]).forEach(y=>{var b;const A=t.getColumn(y.id);if(!A)return;const x=A.getFilterFn();x&&i.push({id:y.id,filterFn:x,resolvedValue:(b=x.resolveFilterValue==null?void 0:x.resolveFilterValue(y.value))!=null?b:y.value})});const o=(r??[]).map(y=>y.id),a=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());n&&a&&u.length&&(o.push("__global__"),u.forEach(y=>{var b;s.push({id:y.id,filterFn:a,resolvedValue:(b=a.resolveFilterValue==null?void 0:a.resolveFilterValue(n))!=null?b:n})}));let f,d;for(let y=0;y<e.flatRows.length;y++){const b=e.flatRows[y];if(b.columnFilters={},i.length)for(let A=0;A<i.length;A++){f=i[A];const x=f.id;b.columnFilters[x]=f.filterFn(b,x,f.resolvedValue,k=>{b.columnFiltersMeta[x]=k})}if(s.length){for(let A=0;A<s.length;A++){d=s[A];const x=d.id;if(d.filterFn(b,x,d.resolvedValue,k=>{b.columnFiltersMeta[x]=k})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const g=y=>{for(let b=0;b<o.length;b++)if(y.columnFilters[o[b]]===!1)return!1;return!0};return u2t(e.rows,g,t)},wr(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function d2t(t){return e=>vr(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(r,n)=>{if(!n.rows.length)return n;const{pageSize:i,pageIndex:s}=r;let{rows:o,flatRows:a,rowsById:u}=n;const f=i*s,d=f+i;o=o.slice(f,d);let g;e.options.paginateExpandedRows?g={rows:o,flatRows:a,rowsById:u}:g=Gxe({rows:o,flatRows:a,rowsById:u}),g.flatRows=[];const y=b=>{g.flatRows.push(b),b.subRows.length&&b.subRows.forEach(y)};return g.rows.forEach(y),g},wr(e.options,"debugTable"))}function h2t(){return t=>vr(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,r)=>{if(!r.rows.length||!(e!=null&&e.length))return r;const n=t.getState().sorting,i=[],s=n.filter(u=>{var f;return(f=t.getColumn(u.id))==null?void 0:f.getCanSort()}),o={};s.forEach(u=>{const f=t.getColumn(u.id);f&&(o[u.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const a=u=>{const f=u.map(d=>({...d}));return f.sort((d,g)=>{for(let b=0;b<s.length;b+=1){var y;const A=s[b],x=o[A.id],k=x.sortUndefined,R=(y=A==null?void 0:A.desc)!=null?y:!1;let C=0;if(k){const P=d.getValue(A.id),O=g.getValue(A.id),q=P===void 0,Q=O===void 0;if(q||Q){if(k==="first")return q?-1:1;if(k==="last")return q?1:-1;C=q&&Q?0:q?k:-k}}if(C===0&&(C=x.sortingFn(d,g,A.id)),C!==0)return R&&(C*=-1),x.invertSorting&&(C*=-1),C}return d.index-g.index}),f.forEach(d=>{var g;i.push(d),(g=d.subRows)!=null&&g.length&&(d.subRows=a(d.subRows))}),f};return{rows:a(r.rows),flatRows:i,rowsById:r.rowsById}},wr(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function p2t(t,e){return t?g2t(t)?B.createElement(t,e):t:null}function g2t(t){return m2t(t)||typeof t=="function"||y2t(t)}function m2t(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function y2t(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function b2t(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=B.useState(()=>({current:s2t(e)})),[n,i]=B.useState(()=>r.current.initialState);return r.current.setOptions(s=>({...s,...t,state:{...n,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),r.current}const v2t=B.createContext(null),SB={didCatch:!1,error:null};class w2t extends B.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=SB}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];(r=(n=this.props).onReset)===null||r===void 0||r.call(n,{args:s,reason:"imperative-api"}),this.setState(SB)}}componentDidCatch(e,r){var n,i;(n=(i=this.props).onError)===null||n===void 0||n.call(i,e,r)}componentDidUpdate(e,r){const{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&r.error!==null&&S2t(e.resetKeys,i)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(SB)}}render(){const{children:e,fallbackRender:r,FallbackComponent:n,fallback:i}=this.props,{didCatch:s,error:o}=this.state;let a=e;if(s){const u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")a=r(u);else if(n)a=B.createElement(n,u);else if(i!==void 0)a=i;else throw o}return B.createElement(v2t.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function S2t(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((r,n)=>!Object.is(r,e[n]))}var xr=function(){return xr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xr.apply(this,arguments)};function _2t(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Yxe(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function G2(t){return t.mode==="multiple"}function Y2(t){return t.mode==="range"}function f8(t){return t.mode==="single"}var A2t={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function x2t(t,e){return Gf(t,"LLLL y",e)}function E2t(t,e){return Gf(t,"d",e)}function k2t(t,e){return Gf(t,"LLLL",e)}function T2t(t){return"".concat(t)}function I2t(t,e){return Gf(t,"cccccc",e)}function R2t(t,e){return Gf(t,"yyyy",e)}var M2t=Object.freeze({__proto__:null,formatCaption:x2t,formatDay:E2t,formatMonthCaption:k2t,formatWeekNumber:T2t,formatWeekdayName:I2t,formatYearCaption:R2t}),C2t=function(t,e,r){return Gf(t,"do MMMM (EEEE)",r)},P2t=function(){return"Month: "},N2t=function(){return"Go to next month"},B2t=function(){return"Go to previous month"},O2t=function(t,e){return Gf(t,"cccc",e)},L2t=function(t){return"Week n. ".concat(t)},D2t=function(){return"Year: "},F2t=Object.freeze({__proto__:null,labelDay:C2t,labelMonthDropdown:P2t,labelNext:N2t,labelPrevious:B2t,labelWeekNumber:L2t,labelWeekday:O2t,labelYearDropdown:D2t});function $2t(){var t="buttons",e=A2t,r=TK,n={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:M2t,labels:F2t,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function U2t(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return n?s=eu(n):e&&(s=new Date(e,0,1)),i?o=EK(i):r&&(o=new Date(r,11,31)),{fromDate:s?yw(s):void 0,toDate:o?yw(o):void 0}}var Zxe=B.createContext(void 0);function z2t(t){var e,r=t.initialProps,n=$2t(),i=U2t(r),s=i.fromDate,o=i.toDate,a=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var u;(f8(r)||G2(r)||Y2(r))&&(u=r.onSelect);var f=xr(xr(xr({},n),r),{captionLayout:a,classNames:xr(xr({},n.classNames),r.classNames),components:xr({},r.components),formatters:xr(xr({},n.formatters),r.formatters),fromDate:s,labels:xr(xr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:xr(xr({},n.modifiers),r.modifiers),modifiersClassNames:xr(xr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:u,styles:xr(xr({},n.styles),r.styles),toDate:o});return $.jsx(Zxe.Provider,{value:f,children:t.children})}function Ri(){var t=B.useContext(Zxe);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Xxe(t){var e=Ri(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return $.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function W2t(t){return $.jsx("svg",xr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:$.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Qxe(t){var e,r,n=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,u=t.style,f=Ri(),d=(r=(e=f.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:W2t;return $.jsxs("div",{className:a,style:u,children:[$.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),$.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:n,children:s}),$.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[o,$.jsx(d,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function K2t(t){var e,r=Ri(),n=r.fromDate,i=r.toDate,s=r.styles,o=r.locale,a=r.formatters.formatMonthCaption,u=r.classNames,f=r.components,d=r.labels.labelMonthDropdown;if(!n)return $.jsx($.Fragment,{});if(!i)return $.jsx($.Fragment,{});var g=[];if(Rwt(n,i))for(var y=eu(n),b=n.getMonth();b<=i.getMonth();b++)g.push(iB(y,b));else for(var y=eu(new Date),b=0;b<=11;b++)g.push(iB(y,b));var A=function(k){var R=Number(k.target.value),C=iB(eu(t.displayMonth),R);t.onChange(C)},x=(e=f==null?void 0:f.Dropdown)!==null&&e!==void 0?e:Qxe;return $.jsx(x,{name:"months","aria-label":d(),className:u.dropdown_month,style:s.dropdown_month,onChange:A,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:g.map(function(k){return $.jsx("option",{value:k.getMonth(),children:a(k,{locale:o})},k.getMonth())})})}function j2t(t){var e,r=t.displayMonth,n=Ri(),i=n.fromDate,s=n.toDate,o=n.locale,a=n.styles,u=n.classNames,f=n.components,d=n.formatters.formatYearCaption,g=n.labels.labelYearDropdown,y=[];if(!i)return $.jsx($.Fragment,{});if(!s)return $.jsx($.Fragment,{});for(var b=i.getFullYear(),A=s.getFullYear(),x=b;x<=A;x++)y.push(Zte(y_e(new Date),x));var k=function(C){var P=Zte(eu(r),Number(C.target.value));t.onChange(P)},R=(e=f==null?void 0:f.Dropdown)!==null&&e!==void 0?e:Qxe;return $.jsx(R,{name:"years","aria-label":g(),className:u.dropdown_year,style:a.dropdown_year,onChange:k,value:r.getFullYear(),caption:d(r,{locale:o}),children:y.map(function(C){return $.jsx("option",{value:C.getFullYear(),children:d(C,{locale:o})},C.getFullYear())})})}function H2t(t,e){var r=B.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function q2t(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,u=a===void 0?1:a;if(s&&gx(s,i)<0){var f=-1*(u-1);i=xl(s,f)}return o&&gx(i,o)<0&&(i=o),eu(i)}function V2t(){var t=Ri(),e=q2t(t),r=H2t(e,t.month),n=r[0],i=r[1],s=function(o){var a;if(!t.disableNavigation){var u=eu(o);i(u),(a=t.onMonthChange)===null||a===void 0||a.call(t,u)}};return[n,s]}function G2t(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=eu(t),s=eu(xl(i,n)),o=gx(s,i),a=[],u=0;u<o;u++){var f=xl(i,u);a.push(f)}return r&&(a=a.reverse()),a}function Y2t(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=n?s:1,a=eu(t);if(!r)return xl(a,o);var u=gx(r,t);if(!(u<s))return xl(a,o)}}function Z2t(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=n?s:1,a=eu(t);if(!r)return xl(a,-o);var u=gx(a,r);if(!(u<=0))return xl(a,-o)}}var Jxe=B.createContext(void 0);function X2t(t){var e=Ri(),r=V2t(),n=r[0],i=r[1],s=G2t(n,e),o=Y2t(n,e),a=Z2t(n,e),u=function(g){return s.some(function(y){return IK(g,y)})},f=function(g,y){u(g)||(y&&A_e(g,y)?i(xl(g,1+e.numberOfMonths*-1)):i(g))},d={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:f,previousMonth:a,nextMonth:o,isDateDisplayed:u};return $.jsx(Jxe.Provider,{value:d,children:t.children})}function Z2(){var t=B.useContext(Jxe);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function wre(t){var e,r=Ri(),n=r.classNames,i=r.styles,s=r.components,o=Z2().goToMonth,a=function(d){o(xl(d,t.displayIndex?-t.displayIndex:0))},u=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:Xxe,f=$.jsx(u,{id:t.id,displayMonth:t.displayMonth});return $.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[$.jsx("div",{className:n.vhidden,children:f}),$.jsx(K2t,{onChange:a,displayMonth:t.displayMonth}),$.jsx(j2t,{onChange:a,displayMonth:t.displayMonth})]})}function Q2t(t){return $.jsx("svg",xr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:$.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function J2t(t){return $.jsx("svg",xr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:$.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var UI=B.forwardRef(function(t,e){var r=Ri(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var o=s.join(" "),a=xr(xr({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),$.jsx("button",xr({},t,{ref:e,type:"button",className:o,style:a}))});function eEt(t){var e,r,n=Ri(),i=n.dir,s=n.locale,o=n.classNames,a=n.styles,u=n.labels,f=u.labelPrevious,d=u.labelNext,g=n.components;if(!t.nextMonth&&!t.previousMonth)return $.jsx($.Fragment,{});var y=f(t.previousMonth,{locale:s}),b=[o.nav_button,o.nav_button_previous].join(" "),A=d(t.nextMonth,{locale:s}),x=[o.nav_button,o.nav_button_next].join(" "),k=(e=g==null?void 0:g.IconRight)!==null&&e!==void 0?e:J2t,R=(r=g==null?void 0:g.IconLeft)!==null&&r!==void 0?r:Q2t;return $.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&$.jsx(UI,{name:"previous-month","aria-label":y,className:b,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?$.jsx(k,{className:o.nav_icon,style:a.nav_icon}):$.jsx(R,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&$.jsx(UI,{name:"next-month","aria-label":A,className:x,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?$.jsx(R,{className:o.nav_icon,style:a.nav_icon}):$.jsx(k,{className:o.nav_icon,style:a.nav_icon})})]})}function Sre(t){var e=Ri().numberOfMonths,r=Z2(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,o=r.displayMonths,a=o.findIndex(function(A){return IK(t.displayMonth,A)}),u=a===0,f=a===o.length-1,d=e>1&&(u||!f),g=e>1&&(f||!u),y=function(){n&&s(n)},b=function(){i&&s(i)};return $.jsx(eEt,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:g,nextMonth:i,previousMonth:n,onPreviousClick:y,onNextClick:b})}function tEt(t){var e,r=Ri(),n=r.classNames,i=r.disableNavigation,s=r.styles,o=r.captionLayout,a=r.components,u=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:Xxe,f;return i?f=$.jsx(u,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?f=$.jsx(wre,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?f=$.jsxs($.Fragment,{children:[$.jsx(wre,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),$.jsx(Sre,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=$.jsxs($.Fragment,{children:[$.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),$.jsx(Sre,{displayMonth:t.displayMonth,id:t.id})]}),$.jsx("div",{className:n.caption,style:s.caption,children:f})}function rEt(t){var e=Ri(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?$.jsx("tfoot",{className:i,style:n.tfoot,children:$.jsx("tr",{children:$.jsx("td",{colSpan:8,children:r})})}):$.jsx($.Fragment,{})}function nEt(t,e,r){for(var n=r?Hm(new Date):Vf(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=fa(n,s);i.push(o)}return i}function iEt(){var t=Ri(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,f=nEt(i,s,o);return $.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&$.jsx("td",{style:r.head_cell,className:e.head_cell}),f.map(function(d,g){return $.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":u(d,{locale:i}),children:a(d,{locale:i})},g)})]})}function sEt(){var t,e=Ri(),r=e.classNames,n=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:iEt;return $.jsx("thead",{style:n.head,className:r.head,children:$.jsx(s,{})})}function oEt(t){var e=Ri(),r=e.locale,n=e.formatters.formatDay;return $.jsx($.Fragment,{children:n(t.date,{locale:r})})}var nj=B.createContext(void 0);function aEt(t){if(!G2(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return $.jsx(nj.Provider,{value:e,children:t.children})}return $.jsx(uEt,{initialProps:t.initialProps,children:t.children})}function uEt(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,o=function(f,d,g){var y,b;(y=e.onDayClick)===null||y===void 0||y.call(e,f,d,g);var A=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!A){var x=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!x){var k=n?Yxe([],n):[];if(d.selected){var R=k.findIndex(function(C){return Ja(f,C)});k.splice(R,1)}else k.push(f);(b=e.onSelect)===null||b===void 0||b.call(e,k,f,d,g)}}},a={disabled:[]};n&&a.disabled.push(function(f){var d=s&&n.length>s-1,g=n.some(function(y){return Ja(y,f)});return!!(d&&!g)});var u={selected:n,onDayClick:o,modifiers:a};return $.jsx(nj.Provider,{value:u,children:r})}function ij(){var t=B.useContext(nj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function cEt(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Ja(i,t)&&Ja(n,t)?void 0:Ja(i,t)?{from:i,to:void 0}:Ja(n,t)?void 0:jD(n,t)?{from:t,to:i}:{from:n,to:t}:i?jD(t,i)?{from:i,to:t}:{from:t,to:i}:n?A_e(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var sj=B.createContext(void 0);function lEt(t){if(!Y2(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return $.jsx(sj.Provider,{value:e,children:t.children})}return $.jsx(fEt,{initialProps:t.initialProps,children:t.children})}function fEt(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,o=i.to,a=e.min,u=e.max,f=function(b,A,x){var k,R;(k=e.onDayClick)===null||k===void 0||k.call(e,b,A,x);var C=cEt(b,n);(R=e.onSelect)===null||R===void 0||R.call(e,C,b,A,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Ja(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),a&&(s&&!o&&d.disabled.push({after:nB(s,a-1),before:fa(s,a-1)}),s&&o&&d.disabled.push({after:s,before:fa(s,a-1)}),!s&&o&&d.disabled.push({after:nB(o,a-1),before:fa(o,a-1)})),u){if(s&&!o&&(d.disabled.push({before:fa(s,-u+1)}),d.disabled.push({after:fa(s,u-1)})),s&&o){var g=kf(o,s)+1,y=u-g;d.disabled.push({before:nB(s,y)}),d.disabled.push({after:fa(o,y)})}!s&&o&&(d.disabled.push({before:fa(o,-u+1)}),d.disabled.push({after:fa(o,u-1)}))}return $.jsx(sj.Provider,{value:{selected:n,onDayClick:f,modifiers:d},children:r})}function oj(){var t=B.useContext(sj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Y3(t){return Array.isArray(t)?Yxe([],t):t!==void 0?[t]:[]}function dEt(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=Y3(i)}),e}var Tl;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Tl||(Tl={}));var hEt=Tl.Selected,xd=Tl.Disabled,pEt=Tl.Hidden,gEt=Tl.Today,_B=Tl.RangeEnd,AB=Tl.RangeMiddle,xB=Tl.RangeStart,mEt=Tl.Outside;function yEt(t,e,r){var n,i=(n={},n[hEt]=Y3(t.selected),n[xd]=Y3(t.disabled),n[pEt]=Y3(t.hidden),n[gEt]=[t.today],n[_B]=[],n[AB]=[],n[xB]=[],n[mEt]=[],n);return t.fromDate&&i[xd].push({before:t.fromDate}),t.toDate&&i[xd].push({after:t.toDate}),G2(t)?i[xd]=i[xd].concat(e.modifiers[xd]):Y2(t)&&(i[xd]=i[xd].concat(r.modifiers[xd]),i[xB]=r.modifiers[xB],i[AB]=r.modifiers[AB],i[_B]=r.modifiers[_B]),i}var e2e=B.createContext(void 0);function bEt(t){var e=Ri(),r=ij(),n=oj(),i=yEt(e,r,n),s=dEt(e.modifiers),o=xr(xr({},i),s);return $.jsx(e2e.Provider,{value:o,children:t.children})}function t2e(){var t=B.useContext(e2e);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function vEt(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function wEt(t){return!!(t&&typeof t=="object"&&"from"in t)}function SEt(t){return!!(t&&typeof t=="object"&&"after"in t)}function _Et(t){return!!(t&&typeof t=="object"&&"before"in t)}function AEt(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function xEt(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=kf(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var o=kf(t,n)>=0&&kf(i,t)>=0;return o}return i?Ja(i,t):n?Ja(n,t):!1}function EEt(t){return xK(t)}function kEt(t){return Array.isArray(t)&&t.every(xK)}function TEt(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(EEt(r))return Ja(t,r);if(kEt(r))return r.includes(t);if(wEt(r))return xEt(t,r);if(AEt(r))return r.dayOfWeek.includes(t.getDay());if(vEt(r)){var n=kf(r.before,t),i=kf(r.after,t),s=n>0,o=i<0,a=jD(r.before,r.after);return a?o&&s:s||o}return SEt(r)?kf(t,r.after)>0:_Et(r)?kf(r.before,t)>0:typeof r=="function"?r(t):!1})}function aj(t,e,r){var n=Object.keys(e).reduce(function(s,o){var a=e[o];return TEt(t,a)&&s.push(o),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!IK(t,r)&&(i.outside=!0),i}function IEt(t,e){for(var r=eu(t[0]),n=EK(t[t.length-1]),i,s,o=r;o<=n;){var a=aj(o,e),u=!a.disabled&&!a.hidden;if(!u){o=fa(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=fa(o,1)}return s||i}var REt=365;function r2e(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,u=i.weekStartsOn,f=i.fromDate,d=i.toDate,g=i.locale,y={day:fa,week:KD,month:xl,year:kvt,startOfWeek:function(k){return i.ISOWeek?Hm(k):Vf(k,{locale:g,weekStartsOn:u})},endOfWeek:function(k){return i.ISOWeek?b_e(k):kK(k,{locale:g,weekStartsOn:u})}},b=y[r](t,n==="after"?1:-1);n==="before"&&f?b=Tvt([f,b]):n==="after"&&d&&(b=Ivt([d,b]));var A=!0;if(s){var x=aj(b,s);A=!x.disabled&&!x.hidden}return A?b:a.count>REt?a.lastFocused:r2e(b,{moveBy:r,direction:n,context:i,modifiers:s,retry:xr(xr({},a),{count:a.count+1})})}var n2e=B.createContext(void 0);function MEt(t){var e=Z2(),r=t2e(),n=B.useState(),i=n[0],s=n[1],o=B.useState(),a=o[0],u=o[1],f=IEt(e.displayMonths,r),d=i??(a&&e.isDateDisplayed(a))?a:f,g=function(){u(i),s(void 0)},y=function(k){s(k)},b=Ri(),A=function(k,R){if(i){var C=r2e(i,{moveBy:k,direction:R,context:b,modifiers:r});Ja(i,C)||(e.goToDate(C,i),y(C))}},x={focusedDay:i,focusTarget:d,blur:g,focus:y,focusDayAfter:function(){return A("day","after")},focusDayBefore:function(){return A("day","before")},focusWeekAfter:function(){return A("week","after")},focusWeekBefore:function(){return A("week","before")},focusMonthBefore:function(){return A("month","before")},focusMonthAfter:function(){return A("month","after")},focusYearBefore:function(){return A("year","before")},focusYearAfter:function(){return A("year","after")},focusStartOfWeek:function(){return A("startOfWeek","before")},focusEndOfWeek:function(){return A("endOfWeek","after")}};return $.jsx(n2e.Provider,{value:x,children:t.children})}function uj(){var t=B.useContext(n2e);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function CEt(t,e){var r=t2e(),n=aj(t,r,e);return n}var cj=B.createContext(void 0);function PEt(t){if(!f8(t.initialProps)){var e={selected:void 0};return $.jsx(cj.Provider,{value:e,children:t.children})}return $.jsx(NEt,{initialProps:t.initialProps,children:t.children})}function NEt(t){var e=t.initialProps,r=t.children,n=function(s,o,a){var u,f,d;if((u=e.onDayClick)===null||u===void 0||u.call(e,s,o,a),o.selected&&!e.required){(f=e.onSelect)===null||f===void 0||f.call(e,void 0,s,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:n};return $.jsx(cj.Provider,{value:i,children:r})}function i2e(){var t=B.useContext(cj);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function BEt(t,e){var r=Ri(),n=i2e(),i=ij(),s=oj(),o=uj(),a=o.focusDayAfter,u=o.focusDayBefore,f=o.focusWeekAfter,d=o.focusWeekBefore,g=o.blur,y=o.focus,b=o.focusMonthBefore,A=o.focusMonthAfter,x=o.focusYearBefore,k=o.focusYearAfter,R=o.focusStartOfWeek,C=o.focusEndOfWeek,P=function(_){var T,w,l,S;f8(r)?(T=n.onDayClick)===null||T===void 0||T.call(n,t,e,_):G2(r)?(w=i.onDayClick)===null||w===void 0||w.call(i,t,e,_):Y2(r)?(l=s.onDayClick)===null||l===void 0||l.call(s,t,e,_):(S=r.onDayClick)===null||S===void 0||S.call(r,t,e,_)},O=function(_){var T;y(t),(T=r.onDayFocus)===null||T===void 0||T.call(r,t,e,_)},q=function(_){var T;g(),(T=r.onDayBlur)===null||T===void 0||T.call(r,t,e,_)},Q=function(_){var T;(T=r.onDayMouseEnter)===null||T===void 0||T.call(r,t,e,_)},Y=function(_){var T;(T=r.onDayMouseLeave)===null||T===void 0||T.call(r,t,e,_)},X=function(_){var T;(T=r.onDayPointerEnter)===null||T===void 0||T.call(r,t,e,_)},Z=function(_){var T;(T=r.onDayPointerLeave)===null||T===void 0||T.call(r,t,e,_)},le=function(_){var T;(T=r.onDayTouchCancel)===null||T===void 0||T.call(r,t,e,_)},I=function(_){var T;(T=r.onDayTouchEnd)===null||T===void 0||T.call(r,t,e,_)},c=function(_){var T;(T=r.onDayTouchMove)===null||T===void 0||T.call(r,t,e,_)},h=function(_){var T;(T=r.onDayTouchStart)===null||T===void 0||T.call(r,t,e,_)},p=function(_){var T;(T=r.onDayKeyUp)===null||T===void 0||T.call(r,t,e,_)},m=function(_){var T;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?a():u();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),r.dir==="rtl"?u():a();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),f();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),d();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?x():b();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?k():A();break;case"Home":_.preventDefault(),_.stopPropagation(),R();break;case"End":_.preventDefault(),_.stopPropagation(),C();break}(T=r.onDayKeyDown)===null||T===void 0||T.call(r,t,e,_)},v={onClick:P,onFocus:O,onBlur:q,onKeyDown:m,onKeyUp:p,onMouseEnter:Q,onMouseLeave:Y,onPointerEnter:X,onPointerLeave:Z,onTouchCancel:le,onTouchEnd:I,onTouchMove:c,onTouchStart:h};return v}function OEt(){var t=Ri(),e=i2e(),r=ij(),n=oj(),i=f8(t)?e.selected:G2(t)?r.selected:Y2(t)?n.selected:void 0;return i}function LEt(t){return Object.values(Tl).includes(t)}function DEt(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(LEt(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function FEt(t,e){var r=xr({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=xr(xr({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function $Et(t,e,r){var n,i,s,o=Ri(),a=uj(),u=CEt(t,e),f=BEt(t,u),d=OEt(),g=!!(o.onDayClick||o.mode!=="default");B.useEffect(function(){var Q;u.outside||a.focusedDay&&g&&Ja(a.focusedDay,t)&&((Q=r.current)===null||Q===void 0||Q.focus())},[a.focusedDay,t,r,g,u.outside]);var y=DEt(o,u).join(" "),b=FEt(o,u),A=!!(u.outside&&!o.showOutsideDays||u.hidden),x=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:oEt,k=$.jsx(x,{date:t,displayMonth:e,activeModifiers:u}),R={style:b,className:y,children:k,role:"gridcell"},C=a.focusTarget&&Ja(a.focusTarget,t)&&!u.outside,P=a.focusedDay&&Ja(a.focusedDay,t),O=xr(xr(xr({},R),(n={disabled:u.disabled,role:"gridcell"},n["aria-selected"]=u.selected,n.tabIndex=P||C?0:-1,n)),f),q={isButton:g,isHidden:A,activeModifiers:u,selectedDays:d,buttonProps:O,divProps:R};return q}function UEt(t){var e=B.useRef(null),r=$Et(t.date,t.displayMonth,e);return r.isHidden?$.jsx("div",{role:"gridcell"}):r.isButton?$.jsx(UI,xr({name:"day",ref:e},r.buttonProps)):$.jsx("div",xr({},r.divProps))}function zEt(t){var e=t.number,r=t.dates,n=Ri(),i=n.onWeekNumberClick,s=n.styles,o=n.classNames,a=n.locale,u=n.labels.labelWeekNumber,f=n.formatters.formatWeekNumber,d=f(Number(e),{locale:a});if(!i)return $.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var g=u(Number(e),{locale:a}),y=function(b){i(e,r,b)};return $.jsx(UI,{name:"week-number","aria-label":g,className:o.weeknumber,style:s.weeknumber,onClick:y,children:d})}function WEt(t){var e,r,n=Ri(),i=n.styles,s=n.classNames,o=n.showWeekNumber,a=n.components,u=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:UEt,f=(r=a==null?void 0:a.WeekNumber)!==null&&r!==void 0?r:zEt,d;return o&&(d=$.jsx("td",{className:s.cell,style:i.cell,children:$.jsx(f,{number:t.weekNumber,dates:t.dates})})),$.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(g){return $.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:$.jsx(u,{displayMonth:t.displayMonth,date:g})},kwt(g))})]})}function _re(t,e,r){for(var n=r!=null&&r.ISOWeek?b_e(e):kK(e,r),i=r!=null&&r.ISOWeek?Hm(t):Vf(t,r),s=kf(n,i),o=[],a=0;a<=s;a++)o.push(fa(i,a));var u=o.reduce(function(f,d){var g=r!=null&&r.ISOWeek?v_e(d):S_e(d,r),y=f.find(function(b){return b.weekNumber===g});return y?(y.dates.push(d),f):(f.push({weekNumber:g,dates:[d]}),f)},[]);return u}function KEt(t,e){var r=_re(eu(t),EK(t),e);if(e!=null&&e.useFixedWeeks){var n=Iwt(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],o=KD(s,6-n),a=_re(KD(s,1),o,e);r.push.apply(r,a)}}return r}function jEt(t){var e,r,n,i=Ri(),s=i.locale,o=i.classNames,a=i.styles,u=i.hideHead,f=i.fixedWeeks,d=i.components,g=i.weekStartsOn,y=i.firstWeekContainsDate,b=i.ISOWeek,A=KEt(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:b,locale:s,weekStartsOn:g,firstWeekContainsDate:y}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:sEt,k=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:WEt,R=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:rEt;return $.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&$.jsx(x,{}),$.jsx("tbody",{className:o.tbody,style:a.tbody,children:A.map(function(C){return $.jsx(k,{displayMonth:t.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),$.jsx(R,{displayMonth:t.displayMonth})]})}function HEt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qEt=HEt()?B.useLayoutEffect:B.useEffect,EB=!1,VEt=0;function Are(){return"react-day-picker-".concat(++VEt)}function GEt(t){var e,r=t??(EB?Are():null),n=B.useState(r),i=n[0],s=n[1];return qEt(function(){i===null&&s(Are())},[]),B.useEffect(function(){EB===!1&&(EB=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function YEt(t){var e,r,n=Ri(),i=n.dir,s=n.classNames,o=n.styles,a=n.components,u=Z2().displayMonths,f=GEt(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,g=[s.month],y=o.month,b=t.displayIndex===0,A=t.displayIndex===u.length-1,x=!b&&!A;i==="rtl"&&(e=[b,A],A=e[0],b=e[1]),b&&(g.push(s.caption_start),y=xr(xr({},y),o.caption_start)),A&&(g.push(s.caption_end),y=xr(xr({},y),o.caption_end)),x&&(g.push(s.caption_between),y=xr(xr({},y),o.caption_between));var k=(r=a==null?void 0:a.Caption)!==null&&r!==void 0?r:tEt;return $.jsxs("div",{className:g.join(" "),style:y,children:[$.jsx(k,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),$.jsx(jEt,{id:d,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function ZEt(t){var e=Ri(),r=e.classNames,n=e.styles;return $.jsx("div",{className:r.months,style:n.months,children:t.children})}function XEt(t){var e,r,n=t.initialProps,i=Ri(),s=uj(),o=Z2(),a=B.useState(!1),u=a[0],f=a[1];B.useEffect(function(){i.initialFocus&&s.focusTarget&&(u||(s.focus(s.focusTarget),f(!0)))},[i.initialFocus,u,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var g=xr(xr({},i.styles.root),i.style),y=Object.keys(n).filter(function(A){return A.startsWith("data-")}).reduce(function(A,x){var k;return xr(xr({},A),(k={},k[x]=n[x],k))},{}),b=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:ZEt;return $.jsx("div",xr({className:d.join(" "),style:g,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},y,{children:$.jsx(b,{children:o.displayMonths.map(function(A,x){return $.jsx(YEt,{displayIndex:x,displayMonth:A},x)})})}))}function QEt(t){var e=t.children,r=_2t(t,["children"]);return $.jsx(z2t,{initialProps:r,children:$.jsx(X2t,{children:$.jsx(PEt,{initialProps:r,children:$.jsx(aEt,{initialProps:r,children:$.jsx(lEt,{initialProps:r,children:$.jsx(bEt,{children:$.jsx(MEt,{children:e})})})})})})})}function JEt(t){return $.jsx(QEt,xr({},t,{children:$.jsx(XEt,{initialProps:t})}))}var lj="Dialog",[s2e,CNt]=ta(lj),[ekt,Fl]=s2e(lj),o2e=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=B.useRef(null),u=B.useRef(null),[f=!1,d]=kc({prop:n,defaultProp:i,onChange:s});return $.jsx(ekt,{scope:e,triggerRef:a,contentRef:u,contentId:wc(),titleId:wc(),descriptionId:wc(),open:f,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(g=>!g),[d]),modal:o,children:r})};o2e.displayName=lj;var a2e="DialogTrigger",u2e=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fl(a2e,r),s=Nr(e,i.triggerRef);return $.jsx(ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hj(i.open),...n,ref:s,onClick:It(t.onClick,i.onOpenToggle)})});u2e.displayName=a2e;var fj="DialogPortal",[tkt,c2e]=s2e(fj,{forceMount:void 0}),l2e=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Fl(fj,e);return $.jsx(tkt,{scope:e,forceMount:r,children:B.Children.map(n,o=>$.jsx(Ns,{present:r||s.open,children:$.jsx(wy,{asChild:!0,container:i,children:o})}))})};l2e.displayName=fj;var zI="DialogOverlay",f2e=B.forwardRef((t,e)=>{const r=c2e(zI,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Fl(zI,t.__scopeDialog);return s.modal?$.jsx(Ns,{present:n||s.open,children:$.jsx(rkt,{...i,ref:e})}):null});f2e.displayName=zI;var rkt=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fl(zI,r);return $.jsx(j2,{as:Us,allowPinchZoom:!0,shards:[i.contentRef],children:$.jsx(ur.div,{"data-state":hj(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Gm="DialogContent",d2e=B.forwardRef((t,e)=>{const r=c2e(Gm,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Fl(Gm,t.__scopeDialog);return $.jsx(Ns,{present:n||s.open,children:s.modal?$.jsx(nkt,{...i,ref:e}):$.jsx(ikt,{...i,ref:e})})});d2e.displayName=Gm;var nkt=B.forwardRef((t,e)=>{const r=Fl(Gm,t.__scopeDialog),n=B.useRef(null),i=Nr(e,r.contentRef,n);return B.useEffect(()=>{const s=n.current;if(s)return e8(s)},[]),$.jsx(h2e,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:It(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:It(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:It(t.onFocusOutside,s=>s.preventDefault())})}),ikt=B.forwardRef((t,e)=>{const r=Fl(Gm,t.__scopeDialog),n=B.useRef(!1),i=B.useRef(!1);return $.jsx(h2e,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=r.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),h2e=B.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Fl(Gm,r),u=B.useRef(null),f=Nr(e,u);return GM(),$.jsxs($.Fragment,{children:[$.jsx($2,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:$.jsx(vy,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hj(a.open),...o,ref:f,onDismiss:()=>a.onOpenChange(!1)})}),$.jsxs($.Fragment,{children:[$.jsx(skt,{titleId:a.titleId}),$.jsx(akt,{contentRef:u,descriptionId:a.descriptionId})]})]})}),dj="DialogTitle",p2e=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fl(dj,r);return $.jsx(ur.h2,{id:i.titleId,...n,ref:e})});p2e.displayName=dj;var g2e="DialogDescription",m2e=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fl(g2e,r);return $.jsx(ur.p,{id:i.descriptionId,...n,ref:e})});m2e.displayName=g2e;var y2e="DialogClose",b2e=B.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fl(y2e,r);return $.jsx(ur.button,{type:"button",...n,ref:e,onClick:It(t.onClick,()=>i.onOpenChange(!1))})});b2e.displayName=y2e;function hj(t){return t?"open":"closed"}var v2e="DialogTitleWarning",[PNt,w2e]=Mwt(v2e,{contentName:Gm,titleName:dj,docsSlug:"dialog"}),skt=({titleId:t})=>{const e=w2e(v2e),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return B.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},okt="DialogDescriptionWarning",akt=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${w2e(okt).contentName}}.`;return B.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},S2e=o2e,ukt=u2e,_2e=l2e,d8=f2e,h8=d2e,pj=p2e,p8=m2e,A2e=b2e,kB="rovingFocusGroup.onEntryFocus",ckt={bubbles:!1,cancelable:!0},g8="RovingFocusGroup",[c9,x2e,lkt]=VM(g8),[fkt,m8]=ta(g8,[lkt]),[dkt,hkt]=fkt(g8),E2e=B.forwardRef((t,e)=>$.jsx(c9.Provider,{scope:t.__scopeRovingFocusGroup,children:$.jsx(c9.Slot,{scope:t.__scopeRovingFocusGroup,children:$.jsx(pkt,{...t,ref:e})})}));E2e.displayName=g8;var pkt=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...g}=t,y=B.useRef(null),b=Nr(e,y),A=uS(s),[x=null,k]=kc({prop:o,defaultProp:a,onChange:u}),[R,C]=B.useState(!1),P=Is(f),O=x2e(r),q=B.useRef(!1),[Q,Y]=B.useState(0);return B.useEffect(()=>{const X=y.current;if(X)return X.addEventListener(kB,P),()=>X.removeEventListener(kB,P)},[P]),$.jsx(dkt,{scope:r,orientation:n,dir:A,loop:i,currentTabStopId:x,onItemFocus:B.useCallback(X=>k(X),[k]),onItemShiftTab:B.useCallback(()=>C(!0),[]),onFocusableItemAdd:B.useCallback(()=>Y(X=>X+1),[]),onFocusableItemRemove:B.useCallback(()=>Y(X=>X-1),[]),children:$.jsx(ur.div,{tabIndex:R||Q===0?-1:0,"data-orientation":n,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:It(t.onMouseDown,()=>{q.current=!0}),onFocus:It(t.onFocus,X=>{const Z=!q.current;if(X.target===X.currentTarget&&Z&&!R){const le=new CustomEvent(kB,ckt);if(X.currentTarget.dispatchEvent(le),!le.defaultPrevented){const I=O().filter(v=>v.focusable),c=I.find(v=>v.active),h=I.find(v=>v.id===x),m=[c,h,...I].filter(Boolean).map(v=>v.ref.current);I2e(m,d)}}q.current=!1}),onBlur:It(t.onBlur,()=>C(!1))})})}),k2e="RovingFocusGroupItem",T2e=B.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,a=wc(),u=s||a,f=hkt(k2e,r),d=f.currentTabStopId===u,g=x2e(r),{onFocusableItemAdd:y,onFocusableItemRemove:b}=f;return B.useEffect(()=>{if(n)return y(),()=>b()},[n,y,b]),$.jsx(c9.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:$.jsx(ur.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:It(t.onMouseDown,A=>{n?f.onItemFocus(u):A.preventDefault()}),onFocus:It(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:It(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){f.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const x=ykt(A,f.orientation,f.dir);if(x!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let R=g().filter(C=>C.focusable).map(C=>C.ref.current);if(x==="last")R.reverse();else if(x==="prev"||x==="next"){x==="prev"&&R.reverse();const C=R.indexOf(A.currentTarget);R=f.loop?bkt(R,C+1):R.slice(C+1)}setTimeout(()=>I2e(R))}})})})});T2e.displayName=k2e;var gkt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mkt(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ykt(t,e,r){const n=mkt(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gkt[n]}function I2e(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function bkt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var R2e=E2e,M2e=T2e,gj="Tabs",[vkt,NNt]=ta(gj,[m8]),C2e=m8(),[wkt,mj]=vkt(gj),P2e=B.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:u="automatic",...f}=t,d=uS(a),[g,y]=kc({prop:n,onChange:i,defaultProp:s});return $.jsx(wkt,{scope:r,baseId:wc(),value:g,onValueChange:y,orientation:o,dir:d,activationMode:u,children:$.jsx(ur.div,{dir:d,"data-orientation":o,...f,ref:e})})});P2e.displayName=gj;var N2e="TabsList",B2e=B.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=mj(N2e,r),o=C2e(r);return $.jsx(R2e,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:$.jsx(ur.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});B2e.displayName=N2e;var O2e="TabsTrigger",L2e=B.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=mj(O2e,r),a=C2e(r),u=$2e(o.baseId,n),f=U2e(o.baseId,n),d=n===o.value;return $.jsx(M2e,{asChild:!0,...a,focusable:!i,active:d,children:$.jsx(ur.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:It(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?o.onValueChange(n):g.preventDefault()}),onKeyDown:It(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(n)}),onFocus:It(t.onFocus,()=>{const g=o.activationMode!=="manual";!d&&!i&&g&&o.onValueChange(n)})})})});L2e.displayName=O2e;var D2e="TabsContent",F2e=B.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,a=mj(D2e,r),u=$2e(a.baseId,n),f=U2e(a.baseId,n),d=n===a.value,g=B.useRef(d);return B.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),$.jsx(Ns,{present:i||d,children:({present:y})=>$.jsx(ur.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&s})})});F2e.displayName=D2e;function $2e(t,e){return`${t}-trigger-${e}`}function U2e(t,e){return`${t}-content-${e}`}var Skt=P2e,z2e=B2e,W2e=L2e,K2e=F2e,TB,yj="HoverCard",[j2e,BNt]=ta(yj,[sd]),y8=sd(),[_kt,b8]=j2e(yj),H2e=t=>{const{__scopeHoverCard:e,children:r,open:n,defaultOpen:i,onOpenChange:s,openDelay:o=700,closeDelay:a=300}=t,u=y8(e),f=B.useRef(0),d=B.useRef(0),g=B.useRef(!1),y=B.useRef(!1),[b=!1,A]=kc({prop:n,defaultProp:i,onChange:s}),x=B.useCallback(()=>{clearTimeout(d.current),f.current=window.setTimeout(()=>A(!0),o)},[o,A]),k=B.useCallback(()=>{clearTimeout(f.current),!g.current&&!y.current&&(d.current=window.setTimeout(()=>A(!1),a))},[a,A]),R=B.useCallback(()=>A(!1),[A]);return B.useEffect(()=>()=>{clearTimeout(f.current),clearTimeout(d.current)},[]),$.jsx(_kt,{scope:e,open:b,onOpenChange:A,onOpen:x,onClose:k,onDismiss:R,hasSelectionRef:g,isPointerDownOnContentRef:y,children:$.jsx(z2,{...u,children:r})})};H2e.displayName=yj;var q2e="HoverCardTrigger",V2e=B.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=b8(q2e,r),s=y8(r);return $.jsx(fS,{asChild:!0,...s,children:$.jsx(ur.a,{"data-state":i.open?"open":"closed",...n,ref:e,onPointerEnter:It(t.onPointerEnter,KI(i.onOpen)),onPointerLeave:It(t.onPointerLeave,KI(i.onClose)),onFocus:It(t.onFocus,i.onOpen),onBlur:It(t.onBlur,i.onClose),onTouchStart:It(t.onTouchStart,o=>o.preventDefault())})})});V2e.displayName=q2e;var bj="HoverCardPortal",[Akt,xkt]=j2e(bj,{forceMount:void 0}),G2e=t=>{const{__scopeHoverCard:e,forceMount:r,children:n,container:i}=t,s=b8(bj,e);return $.jsx(Akt,{scope:e,forceMount:r,children:$.jsx(Ns,{present:r||s.open,children:$.jsx(wy,{asChild:!0,container:i,children:n})})})};G2e.displayName=bj;var WI="HoverCardContent",Y2e=B.forwardRef((t,e)=>{const r=xkt(WI,t.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=t,s=b8(WI,t.__scopeHoverCard);return $.jsx(Ns,{present:n||s.open,children:$.jsx(Ekt,{"data-state":s.open?"open":"closed",...i,onPointerEnter:It(t.onPointerEnter,KI(s.onOpen)),onPointerLeave:It(t.onPointerLeave,KI(s.onClose)),ref:e})})});Y2e.displayName=WI;var Ekt=B.forwardRef((t,e)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=t,u=b8(WI,r),f=y8(r),d=B.useRef(null),g=Nr(e,d),[y,b]=B.useState(!1);return B.useEffect(()=>{if(y){const A=document.body;return TB=A.style.userSelect||A.style.webkitUserSelect,A.style.userSelect="none",A.style.webkitUserSelect="none",()=>{A.style.userSelect=TB,A.style.webkitUserSelect=TB}}},[y]),B.useEffect(()=>{if(d.current){const A=()=>{b(!1),u.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var k;((k=document.getSelection())==null?void 0:k.toString())!==""&&(u.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",A),()=>{document.removeEventListener("pointerup",A),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!1}}},[u.isPointerDownOnContentRef,u.hasSelectionRef]),B.useEffect(()=>{d.current&&Tkt(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),$.jsx(vy,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:It(s,A=>{A.preventDefault()}),onDismiss:u.onDismiss,children:$.jsx(W2,{...f,...a,onPointerDown:It(a.onPointerDown,A=>{A.currentTarget.contains(A.target)&&b(!0),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!0}),ref:g,style:{...a.style,userSelect:y?"text":void 0,WebkitUserSelect:y?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),kkt="HoverCardArrow",Z2e=B.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=y8(r);return $.jsx(K2,{...i,...n,ref:e})});Z2e.displayName=kkt;function KI(t){return e=>e.pointerType==="touch"?void 0:t()}function Tkt(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)e.push(r.currentNode);return e}var Ikt=H2e,Rkt=V2e,Mkt=G2e,X2e=Y2e,Ckt=Z2e,Q2e=["PageUp","PageDown"],J2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eEe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},hS="Slider",[l9,Pkt,Nkt]=VM(hS),[tEe,ONt]=ta(hS,[Nkt]),[Bkt,v8]=tEe(hS),rEe=B.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:u=0,defaultValue:f=[n],value:d,onValueChange:g=()=>{},onValueCommit:y=()=>{},inverted:b=!1,form:A,...x}=t,k=B.useRef(new Set),R=B.useRef(0),P=o==="horizontal"?Okt:Lkt,[O=[],q]=kc({prop:d,defaultProp:f,onChange:I=>{var h;(h=[...k.current][R.current])==null||h.focus(),g(I)}}),Q=B.useRef(O);function Y(I){const c=zkt(O,I);le(I,c)}function X(I){le(I,R.current)}function Z(){const I=Q.current[R.current];O[R.current]!==I&&y(O)}function le(I,c,{commit:h}={commit:!1}){const p=Hkt(s),m=qkt(Math.round((I-n)/s)*s+n,p),v=mx(m,[n,i]);q((_=[])=>{const T=$kt(_,v,c);if(jkt(T,u*s)){R.current=T.indexOf(v);const w=String(T)!==String(_);return w&&h&&y(T),w?T:_}else return _})}return $.jsx(Bkt,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:i,valueIndexToChangeRef:R,thumbs:k.current,values:O,orientation:o,form:A,children:$.jsx(l9.Provider,{scope:t.__scopeSlider,children:$.jsx(l9.Slot,{scope:t.__scopeSlider,children:$.jsx(P,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:It(x.onPointerDown,()=>{a||(Q.current=O)}),min:n,max:i,inverted:b,onSlideStart:a?void 0:Y,onSlideMove:a?void 0:X,onSlideEnd:a?void 0:Z,onHomeKeyDown:()=>!a&&le(n,0,{commit:!0}),onEndKeyDown:()=>!a&&le(i,O.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:c})=>{if(!a){const m=Q2e.includes(I.key)||I.shiftKey&&J2e.includes(I.key)?10:1,v=R.current,_=O[v],T=s*m*c;le(_+T,v,{commit:!0})}}})})})})});rEe.displayName=hS;var[nEe,iEe]=tEe(hS,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Okt=B.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:u,onStepKeyDown:f,...d}=t,[g,y]=B.useState(null),b=Nr(e,P=>y(P)),A=B.useRef(void 0),x=uS(i),k=x==="ltr",R=k&&!s||!k&&s;function C(P){const O=A.current||g.getBoundingClientRect(),q=[0,O.width],Y=vj(q,R?[r,n]:[n,r]);return A.current=O,Y(P-O.left)}return $.jsx(nEe,{scope:t.__scopeSlider,startEdge:R?"left":"right",endEdge:R?"right":"left",direction:R?1:-1,size:"width",children:$.jsx(sEe,{dir:x,"data-orientation":"horizontal",...d,ref:b,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const O=C(P.clientX);o==null||o(O)},onSlideMove:P=>{const O=C(P.clientX);a==null||a(O)},onSlideEnd:()=>{A.current=void 0,u==null||u()},onStepKeyDown:P=>{const q=eEe[R?"from-left":"from-right"].includes(P.key);f==null||f({event:P,direction:q?-1:1})}})})}),Lkt=B.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:u,...f}=t,d=B.useRef(null),g=Nr(e,d),y=B.useRef(void 0),b=!i;function A(x){const k=y.current||d.current.getBoundingClientRect(),R=[0,k.height],P=vj(R,b?[n,r]:[r,n]);return y.current=k,P(x-k.top)}return $.jsx(nEe,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:$.jsx(sEe,{"data-orientation":"vertical",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const k=A(x.clientY);s==null||s(k)},onSlideMove:x=>{const k=A(x.clientY);o==null||o(k)},onSlideEnd:()=>{y.current=void 0,a==null||a()},onStepKeyDown:x=>{const R=eEe[b?"from-bottom":"from-top"].includes(x.key);u==null||u({event:x,direction:R?-1:1})}})})}),sEe=B.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:u,...f}=t,d=v8(hS,r);return $.jsx(ur.span,{...f,ref:e,onKeyDown:It(t.onKeyDown,g=>{g.key==="Home"?(o(g),g.preventDefault()):g.key==="End"?(a(g),g.preventDefault()):Q2e.concat(J2e).includes(g.key)&&(u(g),g.preventDefault())}),onPointerDown:It(t.onPointerDown,g=>{const y=g.target;y.setPointerCapture(g.pointerId),g.preventDefault(),d.thumbs.has(y)?y.focus():n(g)}),onPointerMove:It(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:It(t.onPointerUp,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&(y.releasePointerCapture(g.pointerId),s(g))})})}),oEe="SliderTrack",aEe=B.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=v8(oEe,r);return $.jsx(ur.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});aEe.displayName=oEe;var f9="SliderRange",uEe=B.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=v8(f9,r),s=iEe(f9,r),o=B.useRef(null),a=Nr(e,o),u=i.values.length,f=i.values.map(y=>lEe(y,i.min,i.max)),d=u>1?Math.min(...f):0,g=100-Math.max(...f);return $.jsx(ur.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:g+"%"}})});uEe.displayName=f9;var d9="SliderThumb",cEe=B.forwardRef((t,e)=>{const r=Pkt(t.__scopeSlider),[n,i]=B.useState(null),s=Nr(e,a=>i(a)),o=B.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return $.jsx(Dkt,{...t,ref:s,index:o})}),Dkt=B.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=v8(d9,r),a=iEe(d9,r),[u,f]=B.useState(null),d=Nr(e,C=>f(C)),g=u?o.form||!!u.closest("form"):!0,y=QM(u),b=o.values[n],A=b===void 0?0:lEe(b,o.min,o.max),x=Ukt(n,o.values.length),k=y==null?void 0:y[a.size],R=k?Wkt(k,A,a.direction):0;return B.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),$.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${A}% + ${R}px)`},children:[$.jsx(l9.ItemSlot,{scope:t.__scopeSlider,children:$.jsx(ur.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:b===void 0?{display:"none"}:t.style,onFocus:It(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),g&&$.jsx(Fkt,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},n)]})});cEe.displayName=d9;var Fkt=t=>{const{value:e,...r}=t,n=B.useRef(null),i=JM(e);return B.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[i,e]),$.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function $kt(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function lEe(t,e,r){const s=100/(r-e)*(t-e);return mx(s,[0,100])}function Ukt(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function zkt(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Wkt(t,e,r){const n=t/2,s=vj([0,50],[0,n]);return(n-s(e)*r)*r}function Kkt(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function jkt(t,e){if(e>0){const r=Kkt(t);return Math.min(...r)>=e}return!0}function vj(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Hkt(t){return(String(t).split(".")[1]||"").length}function qkt(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var fEe=rEe,Vkt=aEe,Gkt=uEe,Ykt=cEe;let Zkt={data:""},Xkt=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Zkt,Qkt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jkt=/\/\*[^]*?\*\/|  +/g,xre=/\n+/g,Rp=(t,e)=>{let r="",n="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?Rp(o,s):s+"{"+Rp(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=Rp(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,a):a?a+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Rp.p?Rp.p(s,o):s+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Ed={},dEe=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+dEe(t[r]);return e}return t},e3t=(t,e,r,n,i)=>{let s=dEe(t),o=Ed[s]||(Ed[s]=(u=>{let f=0,d=11;for(;f<u.length;)d=101*d+u.charCodeAt(f++)>>>0;return"go"+d})(s));if(!Ed[o]){let u=s!==t?t:(f=>{let d,g,y=[{}];for(;d=Qkt.exec(f.replace(Jkt,""));)d[4]?y.shift():d[3]?(g=d[3].replace(xre," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][d[1]]=d[2].replace(xre," ").trim();return y[0]})(t);Ed[o]=Rp(i?{["@keyframes "+o]:u}:u,r?"":"."+o)}let a=r&&Ed.g?Ed.g:null;return r&&(Ed.g=Ed[o]),((u,f,d,g)=>{g?f.data=f.data.replace(g,u):f.data.indexOf(u)===-1&&(f.data=d?u+f.data:f.data+u)})(Ed[o],e,n,a),o},t3t=(t,e,r)=>t.reduce((n,i,s)=>{let o=e[s];if(o&&o.call){let a=o(r),u=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=u?"."+u:a&&typeof a=="object"?a.props?"":Rp(a,""):a===!1?"":a}return n+i+(o??"")},"");function w8(t){let e=this||{},r=t.call?t(e.p):t;return e3t(r.unshift?r.raw?t3t(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,Xkt(e.target),e.g,e.o,e.k)}let hEe,h9,p9;w8.bind({g:1});let Fh=w8.bind({k:1});function r3t(t,e,r,n){Rp.p=e,hEe=t,h9=r,p9=n}function zg(t,e){let r=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;r.p=Object.assign({theme:h9&&h9()},a),r.o=/ *go\d+/.test(u),a.className=w8.apply(r,n)+(u?" "+u:"");let f=t;return t[0]&&(f=a.as||t,delete a.as),p9&&f[0]&&p9(a),hEe(f,a)}return e?e(i):i}}var n3t=t=>typeof t=="function",jI=(t,e)=>n3t(t)?t(e):t,i3t=(()=>{let t=0;return()=>(++t).toString()})(),pEe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),s3t=20,gEe=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,s3t)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return gEe(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Z3=[],X3={toasts:[],pausedAt:void 0},Sy=t=>{X3=gEe(X3,t),Z3.forEach(e=>{e(X3)})},o3t={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},a3t=(t={})=>{let[e,r]=B.useState(X3);B.useEffect(()=>(Z3.push(r),()=>{let i=Z3.indexOf(r);i>-1&&Z3.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var s,o,a;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||o3t[i.type],style:{...t.style,...(a=t[i.type])==null?void 0:a.style,...i.style}}});return{...e,toasts:n}},u3t=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||i3t()}),X2=t=>(e,r)=>{let n=u3t(e,t,r);return Sy({type:2,toast:n}),n.id},Yo=(t,e)=>X2("blank")(t,e);Yo.error=X2("error");Yo.success=X2("success");Yo.loading=X2("loading");Yo.custom=X2("custom");Yo.dismiss=t=>{Sy({type:3,toastId:t})};Yo.remove=t=>Sy({type:4,toastId:t});Yo.promise=(t,e,r)=>{let n=Yo.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?jI(e.success,i):void 0;return s?Yo.success(s,{id:n,...r,...r==null?void 0:r.success}):Yo.dismiss(n),i}).catch(i=>{let s=e.error?jI(e.error,i):void 0;s?Yo.error(s,{id:n,...r,...r==null?void 0:r.error}):Yo.dismiss(n)}),t};var c3t=(t,e)=>{Sy({type:1,toast:{id:t,height:e}})},l3t=()=>{Sy({type:5,time:Date.now()})},pA=new Map,f3t=1e3,d3t=(t,e=f3t)=>{if(pA.has(t))return;let r=setTimeout(()=>{pA.delete(t),Sy({type:4,toastId:t})},e);pA.set(t,r)},h3t=t=>{let{toasts:e,pausedAt:r}=a3t(t);B.useEffect(()=>{if(r)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let u=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(u<0){a.visible&&Yo.dismiss(a.id);return}return setTimeout(()=>Yo.dismiss(a.id),u)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,r]);let n=B.useCallback(()=>{r&&Sy({type:6,time:Date.now()})},[r]),i=B.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:u=8,defaultPosition:f}=o||{},d=e.filter(b=>(b.position||f)===(s.position||f)&&b.height),g=d.findIndex(b=>b.id===s.id),y=d.filter((b,A)=>A<g&&b.visible).length;return d.filter(b=>b.visible).slice(...a?[y+1]:[0,y]).reduce((b,A)=>b+(A.height||0)+u,0)},[e]);return B.useEffect(()=>{e.forEach(s=>{if(s.dismissed)d3t(s.id,s.removeDelay);else{let o=pA.get(s.id);o&&(clearTimeout(o),pA.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:c3t,startPause:l3t,endPause:n,calculateOffset:i}}},p3t=Fh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,g3t=Fh`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m3t=Fh`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,y3t=zg("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${p3t} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${g3t} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${m3t} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,b3t=Fh`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,v3t=zg("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${b3t} 1s linear infinite;
`,w3t=Fh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,S3t=Fh`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_3t=zg("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w3t} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${S3t} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A3t=zg("div")`
  position: absolute;
`,x3t=zg("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,E3t=Fh`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k3t=zg("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${E3t} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,T3t=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?B.createElement(k3t,null,e):e:r==="blank"?null:B.createElement(x3t,null,B.createElement(v3t,{...n}),r!=="loading"&&B.createElement(A3t,null,r==="error"?B.createElement(y3t,{...n}):B.createElement(_3t,{...n})))},I3t=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,R3t=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,M3t="0%{opacity:0;} 100%{opacity:1;}",C3t="0%{opacity:1;} 100%{opacity:0;}",P3t=zg("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,N3t=zg("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B3t=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=pEe()?[M3t,C3t]:[I3t(r),R3t(r)];return{animation:e?`${Fh(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fh(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mEe=B.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?B3t(t.position||e||"top-center",t.visible):{opacity:0},s=B.createElement(T3t,{toast:t}),o=B.createElement(N3t,{...t.ariaProps},jI(t.message,t));return B.createElement(P3t,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:o}):B.createElement(B.Fragment,null,s,o))});r3t(B.createElement);var O3t=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=B.useCallback(o=>{if(o){let a=()=>{let u=o.getBoundingClientRect().height;n(t,u)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return B.createElement("div",{ref:s,className:e,style:r},i)},L3t=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pEe()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},D3t=w8`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vk=16,F3t=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:u}=h3t(r);return B.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Vk,left:Vk,right:Vk,bottom:Vk,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},a.map(f=>{let d=f.position||e,g=u.calculateOffset(f,{reverseOrder:t,gutter:n,defaultPosition:e}),y=L3t(d,g);return B.createElement(O3t,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?D3t:"",style:y},f.type==="custom"?jI(f.message,f):i?i(f):B.createElement(mEe,{toast:f,position:d}))}))},LNt=Yo,g9=["Enter"," "],$3t=["ArrowDown","PageUp","Home"],yEe=["ArrowUp","PageDown","End"],U3t=[...$3t,...yEe],z3t={ltr:[...g9,"ArrowRight"],rtl:[...g9,"ArrowLeft"]},W3t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Q2="Menu",[vx,K3t,j3t]=VM(Q2),[_y,bEe]=ta(Q2,[j3t,sd,m8]),S8=sd(),vEe=m8(),[H3t,Ay]=_y(Q2),[q3t,J2]=_y(Q2),wEe=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,a=S8(e),[u,f]=B.useState(null),d=B.useRef(!1),g=Is(s),y=uS(i);return B.useEffect(()=>{const b=()=>{d.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>d.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),$.jsx(z2,{...a,children:$.jsx(H3t,{scope:e,open:r,onOpenChange:g,content:u,onContentChange:f,children:$.jsx(q3t,{scope:e,onClose:B.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:d,dir:y,modal:o,children:n})})})};wEe.displayName=Q2;var V3t="MenuAnchor",wj=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=S8(r);return $.jsx(fS,{...i,...n,ref:e})});wj.displayName=V3t;var Sj="MenuPortal",[G3t,SEe]=_y(Sj,{forceMount:void 0}),_Ee=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Ay(Sj,e);return $.jsx(G3t,{scope:e,forceMount:r,children:$.jsx(Ns,{present:r||s.open,children:$.jsx(wy,{asChild:!0,container:i,children:n})})})};_Ee.displayName=Sj;var Sc="MenuContent",[Y3t,_j]=_y(Sc),AEe=B.forwardRef((t,e)=>{const r=SEe(Sc,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Ay(Sc,t.__scopeMenu),o=J2(Sc,t.__scopeMenu);return $.jsx(vx.Provider,{scope:t.__scopeMenu,children:$.jsx(Ns,{present:n||s.open,children:$.jsx(vx.Slot,{scope:t.__scopeMenu,children:o.modal?$.jsx(Z3t,{...i,ref:e}):$.jsx(X3t,{...i,ref:e})})})})}),Z3t=B.forwardRef((t,e)=>{const r=Ay(Sc,t.__scopeMenu),n=B.useRef(null),i=Nr(e,n);return B.useEffect(()=>{const s=n.current;if(s)return e8(s)},[]),$.jsx(Aj,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:It(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),X3t=B.forwardRef((t,e)=>{const r=Ay(Sc,t.__scopeMenu);return $.jsx(Aj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Aj=B.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:g,onInteractOutside:y,onDismiss:b,disableOutsideScroll:A,...x}=t,k=Ay(Sc,r),R=J2(Sc,r),C=S8(r),P=vEe(r),O=K3t(r),[q,Q]=B.useState(null),Y=B.useRef(null),X=Nr(e,Y,k.onContentChange),Z=B.useRef(0),le=B.useRef(""),I=B.useRef(0),c=B.useRef(null),h=B.useRef("right"),p=B.useRef(0),m=A?j2:B.Fragment,v=A?{as:Us,allowPinchZoom:!0}:void 0,_=w=>{var z,G;const l=le.current+w,S=O().filter(te=>!te.disabled),N=document.activeElement,F=(z=S.find(te=>te.ref.current===N))==null?void 0:z.textValue,W=S.map(te=>te.textValue),D=cTt(W,l,F),K=(G=S.find(te=>te.textValue===D))==null?void 0:G.ref.current;(function te(ie){le.current=ie,window.clearTimeout(Z.current),ie!==""&&(Z.current=window.setTimeout(()=>te(""),1e3))})(l),K&&setTimeout(()=>K.focus())};B.useEffect(()=>()=>window.clearTimeout(Z.current),[]),GM();const T=B.useCallback(w=>{var S,N;return h.current===((S=c.current)==null?void 0:S.side)&&fTt(w,(N=c.current)==null?void 0:N.area)},[]);return $.jsx(Y3t,{scope:r,searchRef:le,onItemEnter:B.useCallback(w=>{T(w)&&w.preventDefault()},[T]),onItemLeave:B.useCallback(w=>{var l;T(w)||((l=Y.current)==null||l.focus(),Q(null))},[T]),onTriggerLeave:B.useCallback(w=>{T(w)&&w.preventDefault()},[T]),pointerGraceTimerRef:I,onPointerGraceIntentChange:B.useCallback(w=>{c.current=w},[]),children:$.jsx(m,{...v,children:$.jsx($2,{asChild:!0,trapped:i,onMountAutoFocus:It(s,w=>{var l;w.preventDefault(),(l=Y.current)==null||l.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:$.jsx(vy,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:g,onInteractOutside:y,onDismiss:b,children:$.jsx(R2e,{asChild:!0,...P,dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:q,onCurrentTabStopIdChange:Q,onEntryFocus:It(u,w=>{R.isUsingKeyboardRef.current||w.preventDefault()}),preventScrollOnEntryFocus:!0,children:$.jsx(W2,{role:"menu","aria-orientation":"vertical","data-state":$Ee(k.open),"data-radix-menu-content":"",dir:R.dir,...C,...x,ref:X,style:{outline:"none",...x.style},onKeyDown:It(x.onKeyDown,w=>{const S=w.target.closest("[data-radix-menu-content]")===w.currentTarget,N=w.ctrlKey||w.altKey||w.metaKey,F=w.key.length===1;S&&(w.key==="Tab"&&w.preventDefault(),!N&&F&&_(w.key));const W=Y.current;if(w.target!==W||!U3t.includes(w.key))return;w.preventDefault();const K=O().filter(z=>!z.disabled).map(z=>z.ref.current);yEe.includes(w.key)&&K.reverse(),aTt(K)}),onBlur:It(t.onBlur,w=>{w.currentTarget.contains(w.target)||(window.clearTimeout(Z.current),le.current="")}),onPointerMove:It(t.onPointerMove,wx(w=>{const l=w.target,S=p.current!==w.clientX;if(w.currentTarget.contains(l)&&S){const N=w.clientX>p.current?"right":"left";h.current=N,p.current=w.clientX}}))})})})})})})});AEe.displayName=Sc;var Q3t="MenuGroup",xj=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return $.jsx(ur.div,{role:"group",...n,ref:e})});xj.displayName=Q3t;var J3t="MenuLabel",xEe=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return $.jsx(ur.div,{...n,ref:e})});xEe.displayName=J3t;var HI="MenuItem",Ere="menu.itemSelect",_8=B.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=B.useRef(null),o=J2(HI,t.__scopeMenu),a=_j(HI,t.__scopeMenu),u=Nr(e,s),f=B.useRef(!1),d=()=>{const g=s.current;if(!r&&g){const y=new CustomEvent(Ere,{bubbles:!0,cancelable:!0});g.addEventListener(Ere,b=>n==null?void 0:n(b),{once:!0}),x_e(g,y),y.defaultPrevented?f.current=!1:o.onClose()}};return $.jsx(EEe,{...i,ref:u,disabled:r,onClick:It(t.onClick,d),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),f.current=!0},onPointerUp:It(t.onPointerUp,g=>{var y;f.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:It(t.onKeyDown,g=>{const y=a.searchRef.current!=="";r||y&&g.key===" "||g9.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});_8.displayName=HI;var EEe=B.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=_j(HI,r),a=vEe(r),u=B.useRef(null),f=Nr(e,u),[d,g]=B.useState(!1),[y,b]=B.useState("");return B.useEffect(()=>{const A=u.current;A&&b((A.textContent??"").trim())},[s.children]),$.jsx(vx.ItemSlot,{scope:r,disabled:n,textValue:i??y,children:$.jsx(M2e,{asChild:!0,...a,focusable:!n,children:$.jsx(ur.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:It(t.onPointerMove,wx(A=>{n?o.onItemLeave(A):(o.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:It(t.onPointerLeave,wx(A=>o.onItemLeave(A))),onFocus:It(t.onFocus,()=>g(!0)),onBlur:It(t.onBlur,()=>g(!1))})})})}),eTt="MenuCheckboxItem",kEe=B.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return $.jsx(CEe,{scope:t.__scopeMenu,checked:r,children:$.jsx(_8,{role:"menuitemcheckbox","aria-checked":qI(r)?"mixed":r,...i,ref:e,"data-state":kj(r),onSelect:It(i.onSelect,()=>n==null?void 0:n(qI(r)?!0:!r),{checkForDefaultPrevented:!1})})})});kEe.displayName=eTt;var TEe="MenuRadioGroup",[tTt,rTt]=_y(TEe,{value:void 0,onValueChange:()=>{}}),IEe=B.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Is(n);return $.jsx(tTt,{scope:t.__scopeMenu,value:r,onValueChange:s,children:$.jsx(xj,{...i,ref:e})})});IEe.displayName=TEe;var REe="MenuRadioItem",MEe=B.forwardRef((t,e)=>{const{value:r,...n}=t,i=rTt(REe,t.__scopeMenu),s=r===i.value;return $.jsx(CEe,{scope:t.__scopeMenu,checked:s,children:$.jsx(_8,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":kj(s),onSelect:It(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});MEe.displayName=REe;var Ej="MenuItemIndicator",[CEe,nTt]=_y(Ej,{checked:!1}),PEe=B.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=nTt(Ej,r);return $.jsx(Ns,{present:n||qI(s.checked)||s.checked===!0,children:$.jsx(ur.span,{...i,ref:e,"data-state":kj(s.checked)})})});PEe.displayName=Ej;var iTt="MenuSeparator",NEe=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return $.jsx(ur.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});NEe.displayName=iTt;var sTt="MenuArrow",BEe=B.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=S8(r);return $.jsx(K2,{...i,...n,ref:e})});BEe.displayName=sTt;var oTt="MenuSub",[DNt,OEe]=_y(oTt),X_="MenuSubTrigger",LEe=B.forwardRef((t,e)=>{const r=Ay(X_,t.__scopeMenu),n=J2(X_,t.__scopeMenu),i=OEe(X_,t.__scopeMenu),s=_j(X_,t.__scopeMenu),o=B.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=s,f={__scopeMenu:t.__scopeMenu},d=B.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return B.useEffect(()=>d,[d]),B.useEffect(()=>{const g=a.current;return()=>{window.clearTimeout(g),u(null)}},[a,u]),$.jsx(wj,{asChild:!0,...f,children:$.jsx(EEe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":$Ee(r.open),...t,ref:qM(e,i.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:It(t.onPointerMove,wx(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:It(t.onPointerLeave,wx(g=>{var b,A;d();const y=(b=r.content)==null?void 0:b.getBoundingClientRect();if(y){const x=(A=r.content)==null?void 0:A.dataset.side,k=x==="right",R=k?-5:5,C=y[k?"left":"right"],P=y[k?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+R,y:g.clientY},{x:C,y:y.top},{x:P,y:y.top},{x:P,y:y.bottom},{x:C,y:y.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:It(t.onKeyDown,g=>{var b;const y=s.searchRef.current!=="";t.disabled||y&&g.key===" "||z3t[n.dir].includes(g.key)&&(r.onOpenChange(!0),(b=r.content)==null||b.focus(),g.preventDefault())})})})});LEe.displayName=X_;var DEe="MenuSubContent",FEe=B.forwardRef((t,e)=>{const r=SEe(Sc,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Ay(Sc,t.__scopeMenu),o=J2(Sc,t.__scopeMenu),a=OEe(DEe,t.__scopeMenu),u=B.useRef(null),f=Nr(e,u);return $.jsx(vx.Provider,{scope:t.__scopeMenu,children:$.jsx(Ns,{present:n||s.open,children:$.jsx(vx.Slot,{scope:t.__scopeMenu,children:$.jsx(Aj,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var g;o.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:It(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:It(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:It(t.onKeyDown,d=>{var b;const g=d.currentTarget.contains(d.target),y=W3t[o.dir].includes(d.key);g&&y&&(s.onOpenChange(!1),(b=a.trigger)==null||b.focus(),d.preventDefault())})})})})})});FEe.displayName=DEe;function $Ee(t){return t?"open":"closed"}function qI(t){return t==="indeterminate"}function kj(t){return qI(t)?"indeterminate":t?"checked":"unchecked"}function aTt(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function uTt(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function cTt(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=uTt(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const u=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function lTt(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,f=e[o].x,d=e[o].y;u>n!=d>n&&r<(f-a)*(n-u)/(d-u)+a&&(i=!i)}return i}function fTt(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return lTt(r,e)}function wx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var dTt=wEe,hTt=wj,pTt=_Ee,gTt=AEe,mTt=xj,yTt=xEe,bTt=_8,vTt=kEe,wTt=IEe,STt=MEe,_Tt=PEe,ATt=NEe,xTt=BEe,ETt=LEe,kTt=FEe,Tj="DropdownMenu",[TTt,FNt]=ta(Tj,[bEe]),Ea=bEe(),[ITt,UEe]=TTt(Tj),zEe=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,u=Ea(e),f=B.useRef(null),[d=!1,g]=kc({prop:i,defaultProp:s,onChange:o});return $.jsx(ITt,{scope:e,triggerId:wc(),triggerRef:f,contentId:wc(),open:d,onOpenChange:g,onOpenToggle:B.useCallback(()=>g(y=>!y),[g]),modal:a,children:$.jsx(dTt,{...u,open:d,onOpenChange:g,dir:n,modal:a,children:r})})};zEe.displayName=Tj;var WEe="DropdownMenuTrigger",KEe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=UEe(WEe,r),o=Ea(r);return $.jsx(hTt,{asChild:!0,...o,children:$.jsx(ur.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:qM(e,s.triggerRef),onPointerDown:It(t.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:It(t.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});KEe.displayName=WEe;var RTt="DropdownMenuPortal",jEe=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ea(e);return $.jsx(pTt,{...n,...r})};jEe.displayName=RTt;var HEe="DropdownMenuContent",qEe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=UEe(HEe,r),s=Ea(r),o=B.useRef(!1);return $.jsx(gTt,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:It(t.onCloseAutoFocus,a=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:It(t.onInteractOutside,a=>{const u=a.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,d=u.button===2||f;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qEe.displayName=HEe;var MTt="DropdownMenuGroup",VEe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(mTt,{...i,...n,ref:e})});VEe.displayName=MTt;var CTt="DropdownMenuLabel",GEe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(yTt,{...i,...n,ref:e})});GEe.displayName=CTt;var PTt="DropdownMenuItem",YEe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(bTt,{...i,...n,ref:e})});YEe.displayName=PTt;var NTt="DropdownMenuCheckboxItem",BTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(vTt,{...i,...n,ref:e})});BTt.displayName=NTt;var OTt="DropdownMenuRadioGroup",LTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(wTt,{...i,...n,ref:e})});LTt.displayName=OTt;var DTt="DropdownMenuRadioItem",FTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(STt,{...i,...n,ref:e})});FTt.displayName=DTt;var $Tt="DropdownMenuItemIndicator",UTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(_Tt,{...i,...n,ref:e})});UTt.displayName=$Tt;var zTt="DropdownMenuSeparator",ZEe=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(ATt,{...i,...n,ref:e})});ZEe.displayName=zTt;var WTt="DropdownMenuArrow",KTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(xTt,{...i,...n,ref:e})});KTt.displayName=WTt;var jTt="DropdownMenuSubTrigger",HTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(ETt,{...i,...n,ref:e})});HTt.displayName=jTt;var qTt="DropdownMenuSubContent",VTt=B.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ea(r);return $.jsx(kTt,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VTt.displayName=qTt;var GTt=zEe,YTt=KEe,XEe=jEe,QEe=qEe,ZTt=VEe,JEe=GEe,eke=YEe,tke=ZEe,XTt=Object.defineProperty,Ij=(t,e)=>{for(var r in e)XTt(t,r,{get:e[r],enumerable:!0})},rke={variants:{gap:{0:"oui-gap-0",1:"oui-gap-1",2:"oui-gap-2",3:"oui-gap-3",4:"oui-gap-4",5:"oui-gap-5",6:"oui-gap-6",8:"oui-gap-8",10:"oui-gap-10"},gapX:{0:"oui-gap-x-0",1:"oui-gap-x-1",2:"oui-gap-x-2",3:"oui-gap-x-3",4:"oui-gap-x-4",5:"oui-gap-x-5",6:"oui-gap-x-6",8:"oui-gap-x-8",10:"oui-gap-x-10"},gapY:{0:"oui-gap-y-0",1:"oui-gap-y-1",2:"oui-gap-y-2",3:"oui-gap-y-3",4:"oui-gap-y-4",5:"oui-gap-y-5",6:"oui-gap-y-6",8:"oui-gap-y-8",10:"oui-gap-y-10"}}},bs=vvt({twMergeConfig:{prefix:"oui-"}}),QTt={variants:{p:{0:"oui-p-0",1:"oui-p-1",2:"oui-p-2",3:"oui-p-3",4:"oui-p-4",5:"oui-p-5",6:"oui-p-6",7:"oui-p-7",8:"oui-p-8",9:"oui-p-9",10:"oui-p-10"},px:{0:"oui-px-0",1:"oui-px-1",2:"oui-px-2",3:"oui-px-3",4:"oui-px-4",5:"oui-px-5",6:"oui-px-6",7:"oui-px-7",8:"oui-px-8",9:"oui-px-9",10:"oui-px-10"},py:{0:"oui-py-0",1:"oui-py-1",2:"oui-py-2",3:"oui-py-3",4:"oui-py-4",5:"oui-py-5",6:"oui-py-6",7:"oui-py-7",8:"oui-py-8",9:"oui-py-9",10:"oui-py-10"},pt:{0:"oui-pt-0",1:"oui-pt-1",2:"oui-pt-2",3:"oui-pt-3",4:"oui-pt-4",5:"oui-pt-5",6:"oui-pt-6",7:"oui-pt-7",8:"oui-pt-8",9:"oui-pt-9",10:"oui-pt-10"},pb:{0:"oui-pb-0",1:"oui-pb-1",2:"oui-pb-2",3:"oui-pb-3",4:"oui-pb-4",5:"oui-pb-5",6:"oui-pb-6",7:"oui-pb-7",8:"oui-pb-8",9:"oui-pb-9",10:"oui-pb-10"},pl:{0:"oui-pl-0",1:"oui-pl-1",2:"oui-pl-2",3:"oui-pl-3",4:"oui-pl-4",5:"oui-pl-5",6:"oui-pl-6",7:"oui-pl-7",8:"oui-pl-8",9:"oui-pl-9",10:"oui-pl-10"},pr:{0:"oui-pr-0",1:"oui-pr-1",2:"oui-pr-2",3:"oui-pr-3",4:"oui-pr-4",5:"oui-pr-5",6:"oui-pr-6",7:"oui-pr-7",8:"oui-pr-8",9:"oui-pr-9",10:"oui-pr-10"},m:{0:"oui-m-0",1:"oui-m-1",2:"oui-m-2",3:"oui-m-3",4:"oui-m-4",5:"oui-m-5",6:"oui-m-6",7:"oui-m-7",8:"oui-m-8",9:"oui-m-9",10:"oui-m-10"},mx:{0:"oui-mx-0",1:"oui-mx-1",2:"oui-mx-2",3:"oui-mx-3",4:"oui-mx-4",5:"oui-mx-5",6:"oui-mx-6",7:"oui-mx-7",8:"oui-mx-8",9:"oui-mx-9",10:"oui-mx-10"},my:{0:"oui-my-0",1:"oui-my-1",2:"oui-my-2",3:"oui-my-3",4:"oui-my-4",5:"oui-my-5",6:"oui-my-6",7:"oui-my-7",8:"oui-my-8",9:"oui-my-9",10:"oui-my-10"},mt:{0:"oui-mt-0",1:"oui-mt-1",2:"oui-mt-2",3:"oui-mt-3",4:"oui-mt-4",5:"oui-mt-5",6:"oui-mt-6",7:"oui-mt-7",8:"oui-mt-8",9:"oui-mt-9",10:"oui-mt-10"},mb:{0:"oui-mb-0",1:"oui-mb-1",2:"oui-mb-2",3:"oui-mb-3",4:"oui-mb-4",5:"oui-mb-5",6:"oui-mb-6",7:"oui-mb-7",8:"oui-mb-8",9:"oui-mb-9",10:"oui-mb-10"},ml:{0:"oui-ml-0",1:"oui-ml-1",2:"oui-ml-2",3:"oui-ml-3",4:"oui-ml-4",5:"oui-ml-5",6:"oui-ml-6",7:"oui-ml-7",8:"oui-ml-8",9:"oui-ml-9",10:"oui-ml-10"},mr:{0:"oui-mr-0",1:"oui-mr-1",2:"oui-mr-2",3:"oui-mr-3",4:"oui-mr-4",5:"oui-mr-5",6:"oui-mr-6",7:"oui-mr-7",8:"oui-mr-8",9:"oui-mr-9",10:"oui-mr-10"},grow:{true:"oui-grow"}}},JTt=t=>{let{width:e,height:r,angle:n,left:i,top:s,bottom:o,right:a,...u}=t,f=Object.create(null);return n&&(f["--oui-gradient-angle"]=`${n}deg`),i1("--oui-width",e,f),i1("--oui-height",r,f),i1("--oui-left",i,f),i1("--oui-right",a,f),i1("--oui-top",s,f),i1("--oui-bottom",o,f),{...u,style:{...u.style,...f}}};function i1(t,e,r){typeof e<"u"&&(r[t]=eIt(e))}function eIt(t){return typeof t=="number"?`${t}px`:t}var nke=t=>{let{angle:e}=t;return{"--oui-gradient-angle":e?`${e}deg`:"180deg"}},ike={variants:{shadow:{sm:"oui-shadow-sm",base:"oui-shadow",md:"oui-shadow-md",lg:"oui-shadow-lg",xl:"oui-shadow-xl","2xl":"oui-shadow-2xl",inner:"oui-shadow-inner",none:"oui-shadow-none"}}},ske={variants:{border:{true:"oui-border oui-border-line"},r:{none:"oui-rounded-none",sm:"oui-rounded-sm",base:"oui-rounded",md:"oui-rounded-md",lg:"oui-rounded-lg",xl:"oui-rounded-xl","2xl":"oui-rounded-2xl",full:"oui-rounded-full"},gradient:{primary:"oui-gradient-primary",secondary:"oui-gradient-secondary",brand:"oui-gradient-brand",success:"oui-gradient-success",warning:"oui-gradient-warning",danger:"oui-gradient-danger",neutral:"oui-gradient-neutral"},intensity:{100:"oui-bg-base-1",200:"oui-bg-base-2",300:"oui-bg-base-3",400:"oui-bg-base-4",500:"oui-bg-base-5",600:"oui-bg-base-6",700:"oui-bg-base-7",800:"oui-bg-base-8",900:"oui-bg-base-9"},borderColor:{4:"oui-border-line-4",6:"oui-border-line-6",8:"oui-border-line",12:"oui-border-line-12",16:"oui-border-line-16"}}},tIt={variants:{position:{static:"oui-static",fixed:"oui-fixed",absolute:"oui-absolute",relative:"oui-relative",sticky:"oui-sticky"},zIndex:{0:"oui-z-0",10:"oui-z-10",20:"oui-z-20",30:"oui-z-30",40:"oui-z-40",50:"oui-z-50",auto:"oui-z-auto"}}},rIt={variants:{invisible:{true:"oui-invisible"}}},nIt=bs({base:["oui-box"],variants:{...QTt.variants,...ike.variants,...ske.variants,...tIt.variants,...rIt.variants,__position:{true:"oui-position"},__size_width:{true:"oui-size-width"},__size_height:{true:"oui-size-height"}},defaultVariants:{__position:!1,__size:!1}}),Wg=Ct.forwardRef((t,e)=>{let{asChild:r=!1,as:n="div",className:i,p:s,px:o,py:a,pt:u,pb:f,pl:d,pr:g,m:y,mx:b,my:A,mr:x,mt:k,mb:R,ml:C,grow:P,zIndex:O,style:q,shadow:Q,border:Y,gradient:X,r:Z,invisible:le,intensity:I,position:c,borderColor:h,...p}=JTt(t);return $.jsx(r?Us:n,{style:q,className:nIt({className:i,p:s,r:Z,px:o,py:a,pt:u,pb:f,pr:g,pl:d,m:y,mx:b,my:A,mt:k,mb:R,ml:C,mr:x,zIndex:O,shadow:Q,border:Y,gradient:X,position:c,intensity:I,invisible:le,grow:P,borderColor:h,__position:typeof c<"u",__size_width:typeof t.width<"u",__size_height:typeof t.height<"u"}),...p,ref:e})});Wg.displayName="Box";var iIt=bs({variants:{...rke.variants}}),sIt=bs({extend:iIt,base:["oui-flex"],variants:{display:{flex:"oui-flex",inlineFlex:"oui-inline-flex"},direction:{row:"oui-flex-row",rowReverse:"oui-flex-row-reverse",column:"oui-flex-col",columnReverse:"oui-flex-col-reverse"},itemAlign:{start:"oui-items-start",end:"oui-items-end",center:"oui-items-center",baseline:"oui-items-baseline",stretch:"oui-items-stretch"},justify:{start:"oui-justify-start",end:"oui-justify-end",center:"oui-justify-center",between:"oui-justify-between",around:"oui-justify-around",evenly:"oui-justify-evenly",stretch:"oui-justify-stretch"},wrap:{noWrap:"oui-flex-nowrap",wrap:"oui-flex-wrap",wrapReverse:"oui-flex-wrap-reverse"}},defaultVariants:{display:"flex",direction:"row",itemAlign:"center",justify:"start",wrap:"noWrap"}},{responsiveVariants:!0}),Il=B.forwardRef((t,e)=>{let{className:r,display:n,gap:i,gapX:s,gapY:o,wrap:a,justify:u,itemAlign:f,direction:d,...g}=t;return $.jsx(Wg,{ref:e,className:sIt({className:r,display:n,gap:i,gapX:s,gapY:o,wrap:a,justify:u,itemAlign:f,direction:d}),...g})});Il.displayName="Flex";var oIt=Dl({base:"oui-text-gray-200 oui-animate-spin dark:oui-text-gray-600 oui-fill-primary-darken",variants:{size:{xs:"oui-w-3 oui-h-3",sm:"oui-w-4 oui-h-4",md:"oui-w-6 oui-h-6",lg:"oui-w-8 oui-h-8",xl:"oui-w-10 oui-h-10"},color:{primary:"oui-fill-primary-darken",success:"oui-fill-success",danger:"oui-fill-danger",warning:"oui-fill-warning-darken",gray:"oui-fill-gray",darkGray:"oui-fill-darkGray",white:"oui-fill-white"}},defaultVariants:{size:"lg",color:"primary"}}),Rj=t=>{let{size:e,color:r,loading:n=!0,children:i,className:s}=t;return n?$.jsxs("span",{role:"status",className:"oui-inline-block",children:[$.jsxs("svg",{"aria-hidden":"true",className:oIt({size:e,className:s,color:r}),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[$.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor",fillOpacity:.2}),$.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),$.jsx("span",{className:"oui-sr-only",children:"Loading..."})]}):$.jsx($.Fragment,{children:i})},oke=Ct.forwardRef((t,e)=>{let{asChild:r=!1,children:n,loading:i,leading:s,trailing:o,size:a,icon:u,disabled:f,...d}=t,g=r?Us:"button",y=typeof f<"u"?f:i,b=B.useMemo(()=>u?Ct.cloneElement(u,{size:a==="xs"||a==="sm"?12:a==="md"?14:a==="lg"?16:a==="xl"?18:12,className:"oui-text-inherit",opacity:i?0:1}):null,[a,u]),A=B.useMemo(()=>!s&&!o&&!b?n:$.jsxs(Il,{as:"span",itemAlign:"center",className:"oui-space-x-1",children:[s,b,$.jsx("span",{children:n}),o]}),[n,s,o,b]),x=B.useMemo(()=>{switch(a){case"xl":return"md";case"lg":return"md";case"md":return"sm";case"sm":case"xs":return"xs";default:return"md"}},[a]);return $.jsx(g,{...d,disabled:y,ref:e,children:i?$.jsxs($.Fragment,{children:[$.jsx("span",{className:"oui-invisible",children:A}),$.jsx(Il,{itemAlign:"center",justify:"center",position:"absolute",as:"span",children:$.jsx(Rj,{size:x,color:"white"})})]}):A})});oke.displayName="BaseButton";var ake=Dl({base:["oui-button","oui-inline-flex","oui-items-center","oui-justify-center","oui-whitespace-nowrap","oui-transition-colors","disabled:oui-cursor-not-allowed","disabled:oui-bg-base-3","disabled:oui-text-base-contrast-36","disabled:hover:oui-bg-base-3"],variants:{...ike.variants,variant:{text:"oui-bg-transparent",outlined:"oui-border",contained:"oui-text-white",gradient:"oui-gradient-brand oui-text-[rgba(0,0,0,0.88)]"},size:{xs:["oui-px-2","oui-rounded","oui-h-6","oui-text-2xs"],sm:["oui-px-3","oui-rounded","oui-h-7","oui-text-2xs"],md:["oui-px-3","oui-rounded-md","oui-h-8","oui-text-sm"],lg:["oui-px-3","oui-rounded-md","oui-h-10","oui-text-base"],xl:["oui-px-4","oui-rounded-lg","oui-h-13","oui-text-lg"]},color:{primary:["hover:oui-bg-primary-darken/80 active:oui-bg-primary-darken/70"],secondary:"hover:oui-bg-base-4/80 active:oui-bg-base-4/70",success:"hover:oui-bg-success/80 active:oui-bg-success/70",buy:"hover:oui-bg-success/80 active:oui-bg-success/70",danger:"hover:oui-bg-danger/80 active:oui-bg-danger/70",sell:"hover:oui-bg-danger/80 active:oui-bg-danger/70",warning:"hover:oui-bg-warning-darken/80 active:oui-bg-warning-darken/70",gray:"hover:oui-bg-base-2/80 active:oui-bg-base-2/70",light:"hover:oui-bg-white/80 active:oui-bg-white/50 disable:oui-bg-white/20"},fullWidth:{true:"oui-w-full"}},compoundVariants:[{variant:"contained",color:"primary",className:["oui-bg-primary-darken","oui-text-primary-contrast"]},{variant:"contained",color:"secondary",className:["oui-bg-base-4","oui-text-primary-contrast"]},{variant:"contained",color:"success",className:["oui-bg-success","oui-text-success-contrast"]},{variant:"contained",color:"buy",className:["oui-bg-trade-profit","oui-text-success-contrast"]},{variant:"contained",color:"warning",className:["oui-bg-warning-darken","oui-text-warning-contrast"]},{variant:"contained",color:"danger",className:["oui-bg-danger","oui-text-danger-contrast"]},{variant:"contained",color:"sell",className:["oui-bg-trade-loss","oui-text-danger-contrast"]},{variant:"contained",color:"gray",className:["oui-bg-base-2","oui-text-base-contrast"]},{variant:"contained",color:"light",className:["oui-bg-white","oui-text-black/[.88]","disabled:oui-bg-white/30 hover:disabled:oui-bg-white/30 disabled:oui-text-black/[.36]"]},{variant:"outlined",color:"primary",className:["oui-border-primary-darken","oui-text-primary-darken","hover:oui-bg-primary-darken/20"]},{variant:"outlined",color:"secondary",className:["oui-border-base-4","oui-text-base-contrast-54","hover:oui-bg-base-4/20"]},{variant:"outlined",color:"success",className:["oui-border-success","oui-text-success","hover:oui-bg-success/20"]},{variant:"outlined",color:"warning",className:["oui-border-warning-darken","oui-text-warning-contrast","hover:oui-bg-warning-darken/20"]},{variant:"outlined",color:"danger",className:["oui-border-danger","oui-text-danger","hover:oui-bg-danger/20"]},{variant:"outlined",color:"gray",className:["oui-border-base-2","oui-text-base"]},{variant:"text",color:"primary",className:["oui-text-primary-darken hover:oui-bg-primary-darken/10"]},{variant:"text",color:"success",className:["oui-text-success hover:oui-bg-success/10"]},{variant:"text",color:"warning",className:["oui-text-warning-contrast hover:oui-bg-warning-darken/10"]},{variant:"text",color:"danger",className:["oui-text-danger hover:oui-bg-danger/10"]},{variant:"text",color:"gray",className:["oui-text-base hover:oui-bg-base-2/10"]},{variant:"text",color:"secondary",className:["oui-text-base-contrast-36 hover:oui-bg-base-2/10"]}],defaultVariants:{size:"lg",variant:"contained",color:"primary"}},{responsiveVariants:["md","lg"]}),Mj=Ct.forwardRef(({className:t,variant:e,size:r,color:n,fullWidth:i,shadow:s,angle:o,style:a,...u},f)=>{let d=nke({angle:o});return $.jsx(oke,{className:ake({variant:e,size:r,color:n,className:t,fullWidth:i,shadow:s}),size:r,ref:f,style:{...a,...d},...u})});Mj.displayName="Button";var aIt=Ct.forwardRef(({onClick:t,throttleDuration:e=700,...r},n)=>{let i=B.useRef(0),s=B.useCallback((o,a)=>function(...u){let f=Date.now();f-i.current>=o&&(i.current=f,a==null||a(...u))},[e])(e,t);return $.jsx(Mj,{onClick:s,ref:n,...r})}),uIt=bs({extend:rke,base:["oui-grid"],variants:{cols:{1:"oui-grid-cols-1",2:"oui-grid-cols-2",3:"oui-grid-cols-3",4:"oui-grid-cols-4",5:"oui-grid-cols-5",6:"oui-grid-cols-6",7:"oui-grid-cols-7",8:"oui-grid-cols-8",9:"oui-grid-cols-9",none:"oui-grid-cols-none"},rows:{1:"oui-grid-rows-1",2:"oui-grid-rows-2",3:"oui-grid-rows-3",4:"oui-grid-rows-4",5:"oui-grid-rows-5",6:"oui-grid-rows-6",7:"oui-grid-rows-7",8:"oui-grid-rows-8",9:"oui-grid-rows-9",none:"oui-grid-rows-none"},autoFlow:{row:"oui-grid-flow-row",col:"oui-grid-flow-col",rowDense:"oui-grid-flow-row-dense",colDense:"oui-grid-flow-col-dense"},gap:{0:"oui-gap-0",1:"oui-gap-1",2:"oui-gap-2",3:"oui-gap-3",4:"oui-gap-4",5:"oui-gap-5"},gapX:{0:"oui-gap-x-0",1:"oui-gap-x-1",2:"oui-gap-x-2",3:"oui-gap-x-3",4:"oui-gap-x-4",5:"oui-gap-x-5"},gapY:{0:"oui-gap-y-0",1:"oui-gap-y-1",2:"oui-gap-y-2",3:"oui-gap-y-3",4:"oui-gap-y-4",5:"oui-gap-y-5"}},defaultVariants:{}}),uke=Ct.forwardRef((t,e)=>{let{className:r,cols:n,rows:i,gap:s,gapX:o,gapY:a,autoFlow:u,...f}=t;return $.jsx(Wg,{ref:e,...f,className:uIt({className:r,cols:n,rows:i,gap:s,gapX:o,gapY:a,autoFlow:u})})});uke.displayName="Grid";var cIt=bs({variants:{colSpan:{auto:"oui-col-auto",1:"oui-col-span-1",2:"oui-col-span-2",3:"oui-col-span-3",4:"oui-col-span-4",5:"oui-col-span-5",6:"oui-col-span-6",7:"oui-col-span-7",8:"oui-col-span-8",9:"oui-col-span-9"},rowSpan:{auto:"oui-row-auto",1:"oui-row-span-1",2:"oui-row-span-2",3:"oui-row-span-3",4:"oui-row-span-4",5:"oui-row-span-5",6:"oui-row-span-6",7:"oui-row-span-7",8:"oui-row-span-8",9:"oui-row-span-9"}}}),lIt=t=>{let{colSpan:e,rowSpan:r,className:n,...i}=t,s=B.useRef(null);return B.useEffect(()=>{if(s.current){let o=s.current.parentElement;!o||o.classList.contains("oui-grid")}},[]),$.jsx(Wg,{ref:s,...i,className:cIt({colSpan:e,rowSpan:r,className:n})})},fIt=uke;fIt.span=lIt;var dIt=bs({variants:{size:{"3xs":["oui-text-3xs"],"2xs":["oui-text-2xs"],xs:["oui-text-xs"],sm:["oui-text-sm"],base:["oui-text-base"],lg:["oui-text-lg"],xl:["oui-text-xl"],"2xl":["oui-text-2xl"],"3xl":["oui-text-3xl"],"4xl":["oui-text-4xl"],"5xl":["oui-text-5xl"],"6xl":["oui-text-6xl"]},weight:{regular:["oui-font-normal"],semibold:["oui-font-semibold"],bold:["oui-font-bold"]},color:{inherit:"oui-text-inherit",neutral:"oui-text-base-contrast-54",primary:"oui-text-primary",primaryLight:"oui-text-primary-light",secondary:"oui-text-secondary",tertiary:"oui-text-tertiary",warning:"oui-text-warning-darken",danger:"oui-text-danger",success:"oui-text-success",buy:"oui-text-trade-profit",sell:"oui-text-trade-loss",lose:"oui-text-trade-loss",withdraw:"oui-text-trade-loss",profit:"oui-text-trade-profit",deposit:"oui-text-trade-profit"},intensity:{12:"oui-text-base-contrast-12",20:"oui-text-base-contrast-20",36:"oui-text-base-contrast-36",54:"oui-text-base-contrast-54",80:"oui-text-base-contrast-80",98:"oui-text-base-contrast"},dashBoard:{default:"oui-border-b oui-border-dashed oui-border-base-contrast-12"}}}),pS=Ct.forwardRef((t,e)=>{let{children:r,className:n,asChild:i,as:s="span",color:o,size:a,weight:u,intensity:f,...d}=t;return $.jsx(Us,{"data-accent-color":o,...d,ref:e,className:dIt({className:n,color:o,size:a,weight:u,intensity:f}),children:i?r:$.jsx(s,{children:r})})});pS.displayName="Text";var hIt=(t,e={})=>{var d;let{rule:r,dp:n,tick:i,rm:s=Fe.ROUND_DOWN,padding:o=!0,abs:a}=e;if(Number.isNaN(t))return"--";if(n=typeof n<"u"?n:i?LA(i):2,r==="human")return B$e(typeof t=="number"?t:Number(t),n);let u=new Fe(t);if(a&&(u=u.abs()),r==="percentages")return kre(u.mul(100),{dp:n,rm:s,padding:o})+"%";let f=kre(u,{dp:n,rm:s,padding:o});return r==="price"?qv(f):f!=null&&f.includes("e")?(d=new Fe(f))==null?void 0:d.toFixed():f};function kre(t,e){let{dp:r,rm:n,padding:i}=e;return n==="truncate"?yae(t.toString(),r):i?t.toFixed(r,n):t.todp(r,n).toString()}function $Nt(t,e){if(t==null)return"";let[r,n]=e??[6,4],i=new RegExp(`^(.{${r}})(.*)(.{${n}})$`);return`${t.replace(i,"$1...$3")}`}var pIt=t=>["percentages","price","human"].includes(t),Cj=t=>{let{rule:e="price",coloring:r,dp:n,tick:i,suffix:s,prefix:o,visible:a,unit:u,currency:f,rm:d,padding:g=!0,showIdentifier:y=!1,identifiers:b,className:A,unitClassName:x,placeholder:k,masking:R,ignoreDP:C,...P}=t,O=Number(t.children),q=B.useMemo(()=>t.children==="-"?t.children:isNaN(O)?k??"--":typeof a<"u"&&!a?R??"*****":C?t.showIdentifier?Math.abs(O).toString():O:hIt(O,{rule:e,dp:n,tick:i,rm:d,padding:g,abs:y}),[O,a,i,n]),Q=P.color||"inherit",Y=B.useMemo(()=>!r||typeof a<"u"&&!a||Number.isNaN(O)?Q:O===0?"neutral":O<0?"lose":"profit",[r,O,P.color,t.visible]),X=B.useMemo(()=>!y||Number.isNaN(O)||O===0||typeof a<"u"&&!a?null:O<0?b!=null&&b.loss?b.loss:$.jsx("span",{children:"-"}):b!=null&&b.profit?b.profit:$.jsx("span",{children:"+"}),[O,t.visible,y]),Z=B.useMemo(()=>{if(typeof s>"u"&&typeof o>"u"&&typeof u>"u"&&typeof f>"u"&&!y)return q;let le=s?typeof s=="string"?$.jsx("span",{children:s}):s:void 0,I=u?$.jsx("span",{className:Dt("orderly-numeral-unit",x),children:u}):void 0,c=o||(f?$.jsx("span",{children:f}):void 0),h=$.jsxs($.Fragment,{children:[q,I]});return $.jsxs($.Fragment,{children:[c,typeof X<"u"?$.jsxs("span",{children:[X,$.jsx("span",{children:h})]}):$.jsx("span",{children:h}),le]})},[q,s,u,o,X,x]);return $.jsx(pS,{...P,color:Y,children:Z,className:Dt("oui-tabular-nums",A)})},cke=bs({slots:{root:"oui-text-base oui-flex oui-flex-col",label:"oui-text-xs oui-text-base-contrast-36",value:""},variants:{align:{start:{root:"oui-items-start"},end:{root:"oui-items-end"}}},defaultVariants:{align:"start"}}),lke=Ct.forwardRef((t,e)=>{let{label:r}=cke({});return $.jsx("div",{ref:e,className:r({className:Dt("oui-statistic-label",t.className)}),children:t.children})});lke.displayName="StatisticLabel";var gIt=Ct.forwardRef((t,e)=>{let{label:r,valueProps:n,align:i,className:s,classNames:o,children:a,...u}=t,{root:f,value:d}=cke({align:i}),g=B.useMemo(()=>{if(typeof a=="string"||typeof a=="number"){let{className:y,...b}=n??{};return $.jsx(Cj,{...b,className:Dt(d({className:y}),"oui-font-semibold",!(n!=null&&n.coloring)&&"oui-text-base-contrast-80"),children:a})}return a},[a,n]);return $.jsxs("div",{...u,className:f({className:Dt(s,o==null?void 0:o.root)}),ref:e,children:[$.jsx(lke,{className:o==null?void 0:o.label,children:r}),g]})});gIt.displayName="Statistic";var mIt=Dl({variants:{color:{primary:"oui-text-primary-darken",success:"oui-text-success",danger:"oui-text-danger",warning:"oui-text-warning-darken",white:"oui-text-white",black:"oui-text-black",inherit:"oui-text-inherit"}},defaultVariants:{color:"black"}}),Bn=Ct.forwardRef((t,e)=>{let{size:r=24,color:n,className:i,...s}=t;return $.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:"none",viewBox:"0 0 24 24",ref:e,className:mIt({className:i,color:n}),...s})}),ka=Ct.forwardRef((t,e)=>{let{opacity:r=.54,d:n,...i}=t;return $.jsx(Bn,{ref:e,...i,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,fillRule:"evenodd",clipRule:"evenodd",d:n})})}),fke=Ct.forwardRef((t,e)=>$.jsx(ka,{ref:e,...t,d:"M6.998 2.99a4 4 0 00-4 4v6a4 4 0 004 4 4 4 0 004 4h6a4 4 0 004-4v-6a4 4 0 00-4-4 4 4 0 00-4-4h-6zm10 6a2 2 0 012 2v6a2 2 0 01-2 2h-6a2 2 0 01-2-2h4a4 4 0 004-4v-4z"}));fke.displayName="CopyIcon";var A8=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M4.994 3.906c-.256 0-.523.086-.718.281a1.029 1.029 0 0 0 0 1.438l6.28 6.281-6.28 6.281a1.029 1.029 0 0 0 0 1.438c.39.39 1.047.39 1.437 0l6.281-6.28 6.282 6.28c.39.39 1.047.39 1.437 0 .39-.39.39-1.047 0-1.438l-6.281-6.28 6.281-6.282c.39-.39.39-1.047 0-1.438a1.013 1.013 0 0 0-.719-.28c-.256 0-.523.085-.718.28l-6.282 6.281-6.28-6.28a1.013 1.013 0 0 0-.72-.282Z"})})});A8.displayName="CloseIcon";var yIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(ka,{d:"M19.018 5.997c-.256 0-.523.084-.718.276l-8.707 8.594c-.257.253-.515.206-.717-.092l-2.996-4.42a1.034 1.034 0 0 0-1.405-.276.996.996 0 0 0-.28 1.38l2.995 4.42c.902 1.33 2.659 1.499 3.808.369l8.738-8.563a1 1 0 0 0 0-1.412 1.02 1.02 0 0 0-.718-.276Z",ref:e,...t})});yIt.displayName="CheckIcon";var dke=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M5.827 9.03c-.25.05-.502.175-.655.404a1.019 1.019 0 0 0 .28 1.401l5.992 3.985c.334.223.787.223 1.122 0l5.992-3.985c.459-.305.587-.943.28-1.4a1.023 1.023 0 0 0-1.404-.28l-5.43 3.61-5.428-3.61c-.23-.154-.498-.176-.75-.126Z"})})});dke.displayName="ChevronDownIcon";var hke=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"m11.443 9.17-5.991 3.986a1.02 1.02 0 0 0-.28 1.4c.305.458.945.586 1.404.281l5.429-3.612 5.428 3.612a1.025 1.025 0 0 0 1.404-.28 1.02 1.02 0 0 0-.28-1.401l-5.99-3.986a1.028 1.028 0 0 0-1.124 0Z"})})});hke.displayName="ChevronUpIcon";var pke=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.017 5.997c-.3 0-.612.14-.812.406l-6 8c-.495.66-.012 1.594.812 1.594h12c.824 0 1.307-.935.812-1.594l-6-8a1.022 1.022 0 0 0-.812-.406Z"})})});pke.displayName="CaretUpIcon";var gS=Ct.forwardRef((t,e)=>$.jsx(ka,{ref:e,...t,d:"M6.007 7.996c-.824 0-1.276.935-.781 1.594l6 8a.994.994 0 0 0 1.593 0l6-8c.495-.66.012-1.594-.812-1.594h-12Z"}));gS.displayName="CaretDownIcon";var bIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M15.475 5.113a1.014 1.014 0 0 0-1.063.094l-8 6a1.025 1.025 0 0 0 0 1.624l8 6c.659.495 1.594.012 1.594-.812v-12c0-.412-.214-.747-.531-.906Z"})})});bIt.displayName="CaretLeftIcon";var vIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M8.558 5.113a1.015 1.015 0 0 0-.562.906v12c0 .824.966 1.307 1.625.812l8-6c.533-.4.533-1.224 0-1.624l-8-6a1.014 1.014 0 0 0-1.063-.094Z"})})});vIt.displayName="CaretRightIcon";var Pj=Ct.forwardRef((t,e)=>$.jsx(ka,{ref:e,...t,d:"M13.778 5.022c-.25.05-.5.176-.653.406l-3.986 6a1.03 1.03 0 0 0 0 1.125l3.986 6c.305.459.943.588 1.401.28.457-.305.585-.946.28-1.405l-3.612-5.438 3.612-5.437c.305-.46.177-1.1-.28-1.406-.229-.154-.498-.176-.748-.125Z"}));Pj.displayName="ChevronLeftIcon";var Nj=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M10.166 5.022c-.25-.051-.519-.03-.748.125a1.027 1.027 0 0 0-.28 1.406l3.612 5.437-3.612 5.438c-.305.459-.177 1.1.28 1.406a1.019 1.019 0 0 0 1.401-.281l3.986-6a1.03 1.03 0 0 0 0-1.125l-3.986-6c-.152-.23-.403-.356-.653-.406Z"})})});Nj.displayName="ChevronRightIcon";var wIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M8.968 2.455a9.671 9.671 0 0 0-3.72 2.188c-.332.31-.434.818-.218 1.218.8 1.481-.037 3.066-1.844 3.157-.442.022-.833.35-.937.781a8.71 8.71 0 0 0-.25 2.188c0 .687.074 1.464.219 2.156.09.432.466.743.906.781 1.818.158 2.718 1.544 1.906 3.313-.18.393-.098.863.219 1.157 1.062.982 2.282 1.675 3.719 2.125.41.128.873-.027 1.125-.375 1.112-1.54 2.725-1.544 3.78 0 .25.363.706.538 1.126.405a10.1 10.1 0 0 0 3.75-2.155c.33-.301.417-.788.219-1.188-.832-1.68.125-3.22 1.843-3.25.456-.008.862-.307.969-.75.173-.717.219-1.341.219-2.22 0-.754-.09-1.497-.25-2.218a.994.994 0 0 0-.97-.782c-1.69-.003-2.638-1.665-1.811-3.125a.977.977 0 0 0-.188-1.218c-1.09-.99-2.42-1.764-3.812-2.188a.986.986 0 0 0-1.125.406c-.966 1.501-2.77 1.527-3.72.032a1.023 1.023 0 0 0-1.155-.438Zm6.078 2.124a7.904 7.904 0 0 1 1.84 1.054c-.725 2.297.506 4.683 3.056 5.265.063.412.057.662.057 1.088 0 .51.007.688-.051 1.056-2.54.527-3.795 2.845-3.088 5.296-.608.441-1.043.747-1.806 1.043-1.792-1.825-4.28-1.904-6.11.011-.714-.314-1.263-.593-1.818-1.061.688-2.49-.475-4.638-3.057-5.29-.115-.457-.07-1.745-.003-2.136 2.67-.64 3.722-3.003 3.059-5.279.586-.44 1.113-.762 1.798-1.04 1.725 1.755 4.315 1.93 6.123-.007Zm-3.047 3.407a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 2a2 2 0 1 1 0 4 2 2 0 0 1 0-4Z"})})});wIt.displayName="SettingIcon";var SIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M8.968 2.456a9.669 9.669 0 0 0-3.72 2.187c-.332.31-.434.818-.218 1.219.8 1.48-.037 3.065-1.843 3.156-.443.023-.834.35-.938.78a8.712 8.712 0 0 0-.25 2.188c0 .688.074 1.464.219 2.156.09.433.466.744.906.783 1.818.156 2.718 1.543 1.906 3.311-.18.393-.098.863.219 1.156 1.062.983 2.282 1.675 3.719 2.125.41.13.873-.026 1.125-.375 1.112-1.537 2.725-1.543 3.78 0 .25.364.706.54 1.126.407a10.072 10.072 0 0 0 3.75-2.157c.33-.3.417-.787.219-1.186-.832-1.68.125-3.221 1.843-3.25.456-.008.862-.308.969-.75.173-.717.219-1.342.219-2.22 0-.754-.09-1.497-.25-2.218a.994.994 0 0 0-.97-.781c-1.69-.003-2.638-1.665-1.811-3.125a.979.979 0 0 0-.188-1.22 10.153 10.153 0 0 0-3.812-2.186.986.986 0 0 0-1.125.406c-.966 1.5-2.77 1.527-3.72.03-.242-.382-.723-.574-1.155-.436Zm3.03 5.53a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"})})});SIt.displayName="SettingFillIcon";var _It=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M7.006 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm2 5c.256 0 .523.086.719.28l2.28 2.282 2.282-2.281c.195-.195.463-.281.719-.281.256 0 .523.086.719.28a1.03 1.03 0 0 1 0 1.439l-2.281 2.28 2.28 2.282a1.03 1.03 0 0 1 0 1.438 1.03 1.03 0 0 1-1.437 0l-2.281-2.281-2.281 2.28a1.03 1.03 0 0 1-1.438 0 1.03 1.03 0 0 1 0-1.437l2.28-2.281-2.28-2.281a1.03 1.03 0 0 1 0-1.438c.195-.195.463-.281.719-.281Z"})})});_It.displayName="CloseSquareFillIcon";var AIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M11.999 1.953c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm-3 6c.256 0 .523.086.719.281l2.28 2.281 2.282-2.28c.196-.196.463-.282.719-.282.256 0 .523.086.719.281a1.03 1.03 0 0 1 0 1.438l-2.281 2.281 2.28 2.281a1.03 1.03 0 0 1 0 1.438 1.03 1.03 0 0 1-1.437 0l-2.281-2.28-2.281 2.28a1.03 1.03 0 0 1-1.438 0 1.029 1.029 0 0 1 0-1.438l2.28-2.28-2.28-2.282a1.029 1.029 0 0 1 0-1.438c.196-.195.463-.28.719-.28Z"})})});AIt.displayName="CloseCircleFillIcon";var xIt=Ct.forwardRef((t,e)=>$.jsx(ka,{ref:e,...t,d:"M2.014 11.999c0-5.523 4.477-10 10-10s10 4.477 10 10-4.477 10-10 10-10-4.477-10-10Zm14.971-4.687c.227-.217.539-.312.837-.312.298 0 .61.095.836.312a1.102 1.102 0 0 1 0 1.595l-8.15 7.768a1.24 1.24 0 0 1-1.673 0l-3.494-3.33a1.104 1.104 0 0 1 0-1.594 1.24 1.24 0 0 1 1.674 0l2.656 2.531 7.314-6.97Z"}));xIt.displayName="CheckedCircleFillIcon";var EIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,fillRule:"evenodd",clipRule:"evenodd",d:"M6.99 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm9.995 4.382c.227-.217.539-.312.837-.312.298 0 .61.095.836.312a1.102 1.102 0 0 1 0 1.595l-8.15 7.768a1.24 1.24 0 0 1-1.673 0l-3.494-3.33a1.104 1.104 0 0 1 0-1.594 1.24 1.24 0 0 1 1.674 0l2.656 2.531 7.314-6.97Z"})})});EIt.displayName="CheckSquareFillIcon";var kIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,fillRule:"evenodd",clipRule:"evenodd",d:"M6.99 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm0 2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2Z"})})});kIt.displayName="CheckSquareEmptyIcon";var UNt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M11.99 2.93a1 1 0 0 0-1 1v7h-7a1 1 0 0 0 0 2h7v7a1 1 0 0 0 2 0v-7h7a1 1 0 0 0 0-2h-7v-7a1 1 0 0 0-1-1Z"})})}),TIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.014 1.999c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm0 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Z"})})});TIt.displayName="CircleOutlinedIcon";var IIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M6.99 2.93a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10a4 4 0 0 0-4-4h-10Zm0 2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2v-10a2 2 0 0 1 2-2Z"})})});IIt.displayName="SquareOutlinedIcon";var RIt=Ct.forwardRef((t,e)=>{let{...r}=t;return $.jsx(Bn,{ref:e,...r,children:$.jsx("path",{fill:"currentcolor",d:"M12.014 1.999c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm0 5a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0v-5a1 1 0 0 1 1-1Zm0 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"})})});RIt.displayName="ExclamationFillIcon";var MIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.014 1.953c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10Zm0 5a3.006 3.006 0 0 1 3 3c.004 1.11-.516 2.044-1.375 2.906-.18.181-.353.355-.563.532-.099.084-.376.287-.406.312-.422.356-1.05.33-1.406-.094a1.035 1.035 0 0 1 .125-1.437l.375-.313c.168-.14.335-.272.47-.406.518-.522.782-1.022.78-1.5a1 1 0 0 0-1.969-.25c-.14.534-.685.86-1.219.72a1.034 1.034 0 0 1-.718-1.25 2.995 2.995 0 0 1 2.906-2.22Zm0 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"})})});MIt.displayName="ExclamationFillIcon";var CIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M21.995 16.007c0-.256-.086-.523-.28-.719l-3.72-3.687-1.406 1.406 1.968 2H3.995a1 1 0 000 2h14.562l-1.968 2 1.406 1.406 3.72-3.687c.194-.196.28-.463.28-.719zm-1-8a1 1 0 00-1-1H5.432l1.97-2-1.407-1.406-3.719 3.687a1.03 1.03 0 000 1.438l3.72 3.687L7.4 11.007l-1.969-2h14.563a1 1 0 001-1z",ref:e,...t}));CIt.displayName="ArrowLeftRightIcon";var PIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M16.007 2.014c-.256 0-.523.086-.718.281L11.6 6.015l1.406 1.405 2-1.968v14.562a1 1 0 002 0V5.452l2 1.968 1.407-1.406-3.688-3.719a1.012 1.012 0 00-.719-.28zm-8 1a1 1 0 00-1 1v14.562l-2-1.968-1.406 1.406 3.688 3.72c.39.39 1.047.39 1.437 0l3.688-3.72-1.407-1.406-2 1.968V4.014a1 1 0 00-1-1z",ref:e,...t}));PIt.displayName="ArrowDownUpIconIcon";var NIt=Ct.forwardRef((t,e)=>$.jsx(ka,{ref:e,...t,d:"M6.99 20.99a4 4 0 01-4-4v-10a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4h-10zm5-4a1 1 0 001-1v-5h3l-4-4-4 4h3v5a1 1 0 001 1z"}));NIt.displayName="ArrowUpSquareFillIconIcon";var BIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M6.99 2.99a4 4 0 00-4 4v10a4 4 0 004 4h10a4 4 0 004-4v-10a4 4 0 00-4-4h-10zm5 4a1 1 0 011 1v5h3l-4 4-4-4h3v-5a1 1 0 011-1z"})})});BIt.displayName="ArrowDownSquareFillIconIcon";var OIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M7.998 2.014a4 4 0 00-4 4v12a4 4 0 004 4h8a4 4 0 004-4v-12a4 4 0 00-4-4h-8zm0 2h8a2 2 0 012 2v12a2 2 0 01-2 2h-8a2 2 0 01-2-2v-12a2 2 0 012-2zm1 2a1 1 0 00-1 1v1a1 1 0 001 1h6a1 1 0 001-1v-1a1 1 0 00-1-1h-6zm0 4a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2zm-6 3a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 00-1 1v3a1 1 0 002 0v-3a1 1 0 00-1-1zm-6 3a1 1 0 100 2 1 1 0 000-2zm3 0a1 1 0 100 2 1 1 0 000-2z",ref:e,...t}));OIt.displayName="FeeTierIconIcon";var LIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M16.995 1.953a1.02 1.02 0 00-.719.281l-3 3.002-9.006 9.005-1 1c-.14.14-.212.338-.25.532l-1 5.003a.974.974 0 001.155 1.157l5.003-1c.194-.04.392-.112.532-.25l1-1.002 9.005-9.005c.445-.444 2.447-2.446 3.003-3a1.02 1.02 0 00.28-.72c0-1.637-.417-2.807-1.282-3.69-.873-.89-2.039-1.313-3.72-1.313zm.395 2.02c.902.052 1.488.26 1.889.67.41.417.669.997.724 1.882-.547.547-1.35 1.337-2.006 1.994l-2.565-2.564c.658-.657 1.41-1.436 1.958-1.983zm-3.396 3.42l2.564 2.564-7.567 7.567-2.564-2.564 7.568-7.567zM4.99 16.398l2.564 2.564-.094.094c-.66.132-1.993.411-3.22.657l.656-3.22.094-.095z"})})});LIt.displayName="EditIcon";var DIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.001 3.998c-2.959 0-5.452 1.454-7.5 3.844a16.652 16.652 0 00-1.812 2.562c-.302.528-.486.936-.594 1.188a1.058 1.058 0 000 .812c.108.252.292.66.594 1.188a16.652 16.652 0 001.812 2.562c2.048 2.39 4.541 3.844 7.5 3.844 2.96 0 5.452-1.454 7.5-3.844a16.652 16.652 0 001.812-2.562c.302-.528.486-.936.594-1.188a1.058 1.058 0 000-.812c-.108-.252-.292-.66-.594-1.188a16.652 16.652 0 00-1.812-2.562c-2.048-2.39-4.54-3.844-7.5-3.844zm0 4a4 4 0 110 8 4 4 0 010-8zm0 2a2 2 0 100 3.999 2 2 0 000-4z"})})});DIt.displayName="EyeIcon";var FIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M16.998 1.953a3 3 0 0 0-3 3c0 .257.04.577.102.815L8.747 9.504a3.25 3.25 0 0 0-1.75-.55 3 3 0 1 0 0 6c.633 0 1.257-.236 1.74-.569l5.365 3.766a3.2 3.2 0 0 0-.104.802 3 3 0 1 0 3-3c-.632 0-1.248.228-1.731.562l-5.378-3.763a3.2 3.2 0 0 0 .109-.799c0-.268-.038-.557-.104-.804l5.365-3.752c.479.323 1.118.556 1.739.556a3 3 0 1 0 0-6"})})});FIt.displayName="ShareIcon";var $It=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.001 3.998c-2.959-.007-5.452 1.454-7.5 3.844a16.654 16.654 0 00-1.812 2.562c-.302.528-.486.936-.594 1.188a1.058 1.058 0 000 .812c.108.252.292.66.594 1.188.401.703.87 1.419 1.406 2.094.085.107.76.873 1.344 1.468l-1.157 1.125a1.03 1.03 0 000 1.438 1.03 1.03 0 001.438 0l14-14a1.03 1.03 0 000-1.438 1.014 1.014 0 00-.719-.281c-.256 0-.523.086-.719.28l-1.28 1.314c-1.654-1.106-3.298-1.59-5-1.594zm0 4c.518 0 1.31.137 2.031.562l-1.53 1.532c-.158-.082-.457-.094-.5-.094a2 2 0 00-2 2c0 .044-.015.347.03.53-.192.234-1.5 1.5-1.5 1.5a4.204 4.204 0 01-.53-2.03c-.012-2.21 1.79-4 4-4zm7.938.344s-9.755 9.718-11.063 11.03c1.44.572 2.918.626 3.125.626 2.96 0 5.452-1.454 7.5-3.844a16.652 16.652 0 001.812-2.562c.302-.528.486-.936.594-1.188a1.04 1.04 0 000-.812c-.227-.52-.654-1.347-1.312-2.313-.177-.26-.656-.937-.656-.937z"})})});$It.displayName="EyeCloseIcon";var UIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12.007 2.99a9 9 0 0 0-5.594 1.94 1 1 0 1 0 1.25 1.562 6.97 6.97 0 0 1 4.344-1.5 7 7 0 0 1 7 7h-2l3 4 3-4h-2a9 9 0 0 0-9-9m-8 5-3 4h2a9 9 0 0 0 9 9 9 9 0 0 0 5.594-1.937 1 1 0 1 0-1.25-1.562 6.96 6.96 0 0 1-4.344 1.5 7 7 0 0 1-7-7h2z"})})});UIt.displayName="RefreshIcon";var Bj=bs({slots:{root:"oui-relative oui-flex oui-shrink-0 oui-overflow-hidden oui-rounded-full",image:"oui-aspect-square oui-h-full oui-w-full",fallback:"oui-flex oui-h-full oui-w-full oui-items-center oui-justify-center oui-rounded-full oui-bg-base-2"},variants:{size:{"2xs":{root:"oui-w-4 oui-h-4"},xs:{root:"oui-w-5 oui-h-5"},sm:{root:"oui-w-6 oui-h-6"},md:{root:"oui-w-8 oui-h-8"},lg:{root:"oui-w-10 oui-h-10"},xl:{root:"oui-w-12 oui-h-12"}}},defaultVariants:{size:"sm"}}),gke=B.forwardRef(({className:t,size:e,...r},n)=>{let{root:i}=Bj({size:e});return $.jsx(C_e,{ref:n,...r,className:i({className:t})})});gke.displayName=C_e.displayName;var mke=B.forwardRef(({className:t,...e},r)=>{let{image:n}=Bj();return $.jsx(P_e,{ref:r,className:n({className:t}),...e})});mke.displayName=P_e.displayName;var yke=B.forwardRef(({className:t,...e},r)=>{let{fallback:n}=Bj({className:t});return $.jsx(N_e,{ref:r,className:n(),...e})});yke.displayName=N_e.displayName;var x8=B.forwardRef((t,e)=>{let{size:r,src:n,fallback:i,delayMs:s,alt:o,onLoadingStatusChange:a,...u}=t;return $.jsxs(gke,{...u,ref:e,size:r,children:[$.jsx(mke,{src:n,onLoadingStatusChange:a,alt:o}),typeof i<"u"&&$.jsx(yke,{delayMs:s,children:i})]})}),zNt=B.forwardRef((t,e)=>{let{address:r,...n}=t,i=B.useMemo(()=>Dwt(r),[t.address]);return $.jsx(x8,{...n,src:i})}),E8=t=>{let e=B.useMemo(()=>{var n;let r=t.name;return typeof t.symbol=="string"&&(r=((n=t.symbol)==null?void 0:n.split("_"))[1]),`https://oss.orderly.network/static/symbol_logo/${r}.png`},[t.name,t.symbol]);return $.jsx(x8,{size:t.size,src:e,alt:t.name,className:t.className})},zIt=t=>{let e=B.useMemo(()=>`https://oss.orderly.network/static/network_logo/${t.chainId}.png`,[t.chainId]);return $.jsx(x8,{size:t.size,src:e,alt:`${t.chainId}`,className:t.className})},WNt=t=>{let e=B.useMemo(()=>{var r,n,i;return`https://oss.orderly.network/static/wallet_icon/${(i=(n=(r=t.name)==null?void 0:r.split(" "))==null?void 0:n[0])==null?void 0:i.toLowerCase()}.png`},[t.name]);return $.jsx(x8,{size:t.size,src:e,alt:`${t.name}`})},Oj=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M8.006 2.014a1 1 0 0 0-1 1 4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-10c0-2.205-1.792-4-4-4a1 1 0 0 0-2 0h-6a1 1 0 0 0-1-1Zm-1 3a1 1 0 0 0 2 0h6a1 1 0 0 0 2 0 2 2 0 0 1 2 2v1h-14v-1a2 2 0 0 1 2-2Zm-2 5h14v7a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2v-7Zm3 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-8 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",ref:e,...t}));Oj.displayName="CaretLeftIcon";var WIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M11.998 1.953c-4.362 0-8 1.56-8 4s3.638 4 8 4 8-1.559 8-4-3.638-4-8-4m-8 7.625v2.375c0 2.441 3.638 4 8 4s8-1.559 8-4V9.578c-1.814 1.49-4.642 2.375-8 2.375s-6.186-.885-8-2.375m0 6v2.375c0 2.441 3.638 4 8 4s8-1.559 8-4v-2.375c-1.814 1.49-4.642 2.375-8 2.375s-6.186-.885-8-2.375",ref:e,...t}));WIt.displayName="ServerFillIcon";var KIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsxs(Bn,{ref:e,...n,children:[$.jsx("path",{d:"M12 2.5c-.3 0-.611.112-.81.325l-5.99 6.4c-.495.527-.013 1.275.81 1.275h11.98c.823 0 1.305-.748.81-1.275l-5.99-6.4c-.198-.213-.51-.325-.81-.325",fill:"currentcolor",fillOpacity:".98"}),$.jsx("path",{d:"M12 21.5c-.3 0-.611-.112-.81-.325l-5.99-6.4c-.495-.527-.013-1.275.81-1.275h11.98c.823 0 1.305.748.81 1.275l-5.99 6.4c-.198.213-.51.325-.81.325",fill:"currentcolor",fillOpacity:".36"})]})});KIt.displayName="SortingAscIcon";var jIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsxs(Bn,{ref:e,...n,children:[$.jsx("path",{d:"M12 2.5c-.3 0-.611.112-.81.325l-5.99 6.4c-.495.527-.013 1.275.81 1.275h11.98c.823 0 1.305-.748.81-1.275l-5.99-6.4c-.198-.213-.51-.325-.81-.325",fill:"currentcolor",fillOpacity:".36"}),$.jsx("path",{d:"M12 21.5c-.3 0-.611-.112-.81-.325l-5.99-6.4c-.495-.527-.013-1.275.81-1.275h11.98c.823 0 1.305.748.81 1.275l-5.99 6.4c-.198.213-.51.325-.81.325",fill:"currentcolor",fillOpacity:".98"})]})});jIt.displayName="SortingDescIcon";var HIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M11.993 18.012a1 1 0 0 1-.999-.999V9.458l-2.997 2.966-1.405-1.405 4.683-4.714a1 1 0 0 1 .72-.293c.26 0 .521.098.716.293l4.683 4.714-1.405 1.405-2.997-2.966v7.555a1 1 0 0 1-.999.999",ref:e,...t})),qIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M11.993 6.012a1 1 0 0 0-1 .999v7.555L7.998 11.6l-1.405 1.405 4.683 4.714c.195.196.457.293.719.293.26 0 .522-.098.717-.293l4.683-4.714L15.99 11.6l-2.997 2.966V7.011a1 1 0 0 0-1-.999",ref:e,...t})),VIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M18.012 11.993a1 1 0 0 0-.999-1H9.458l2.966-2.996-1.405-1.405-4.714 4.683a1 1 0 0 0-.293.719c0 .26.098.522.293.717l4.714 4.683 1.405-1.405-2.966-2.997h7.555a1 1 0 0 0 .999-1",ref:e,...t})),GIt=Ct.forwardRef((t,e)=>$.jsx(ka,{d:"M6.012 11.993a1 1 0 0 1 .999-1h7.555L11.6 7.998l1.405-1.405 4.714 4.683c.196.195.293.457.293.719 0 .26-.098.522-.293.717l-4.714 4.683L11.6 15.99l2.966-2.997H7.011a1 1 0 0 1-.999-1",ref:e,...t}));HIt.displayName="ArrowUpShortIcon";qIt.displayName="ArrowDownShortIcon";VIt.displayName="ArrowLeftShortIcon";GIt.displayName="ArrowRightShortIcon";var YIt=Ct.forwardRef((t,e)=>{let{opacity:r=.54,...n}=t;return $.jsx(Bn,{ref:e,...n,children:$.jsx("path",{fill:"currentcolor",fillOpacity:r,d:"M12 2.5c-.3 0-.611.112-.81.325l-5.99 6.4c-.495.527-.013 1.275.81 1.275h11.98c.823 0 1.305-.748.81-1.275l-5.99-6.4c-.198-.213-.51-.325-.81-.325m0 19c-.3 0-.611-.112-.81-.325l-5.99-6.4c-.495-.527-.013-1.275.81-1.275h11.98c.823 0 1.305.748.81 1.275l-5.99 6.4c-.198.213-.51.325-.81.325"})})});YIt.displayName="SortingIconIcon";var ZIt=t=>{let{secondary:e}=t,r=B.useMemo(()=>{let n="oui-bg-base-6 oui-absolute oui-bottom-0 oui-right-0 oui-outline oui-outline-2 oui-outline-base-1 oui-z-10";return e.component?$.jsx("div",{className:Dt(n,e==null?void 0:e.className),children:e.component}):"chainId"in e?$.jsx(zIt,{...e,className:Dt(n,e==null?void 0:e.className)}):$.jsx(E8,{...e,className:Dt(n,e==null?void 0:e.className)})},[e]);return $.jsxs("div",{className:"oui-relative",children:[t.children,r]})},XIt=Bn;XIt.combine=ZIt;var QIt=t=>["date","address","symbol","status","txId"].includes(t),JIt="base-quote",e6t="yyyy-MM-dd HH:mm:ss",Lj=Ct.forwardRef((t,e)=>{let{rule:r,children:n,prefix:i,symbolElement:s,formatString:o,range:a,capitalize:u,copyable:f,copyIconSize:d,onCopy:g,showIcon:y,iconSize:b="xs",copyIconTestid:A,isIcon:x,...k}=t,R=B.useMemo(()=>r==="symbol"&&y?$.jsx(E8,{symbol:n,size:b}):i,[i,y,r,b,n]),C=B.useMemo(()=>{if(typeof t.suffix<"u")return t.suffix;if(f)return $.jsx("button",{className:"oui-cursor-pointer oui-text-sm","data-testid":A,onClick:q=>{navigator.clipboard.writeText(n),g==null||g(q)},children:$.jsx(fke,{size:d??12,color:"white"})})},[t.suffix,f,n]),P=B.useMemo(()=>{if(typeof n>"u")return"--";if(typeof r>"u")return n;if(r==="address"||r==="txId"){let q=n,[Q,Y]=a??(r==="address"?[6,4]:[6,6]),X=new RegExp(`^(.{${Q}})(.*)(.{${Y}})$`);return`${q.replace(X,"$1...$3")}`}if(r==="date"){let q=new Date(n);return m_e(q)?Gf(new Date(n),o??e6t):"Error: Invalid Date"}if(r==="symbol"){let q=n.split("_"),Q=q[0],Y=q[1],X=q[2];return(o??JIt).replace("type",Q).replace("base",Y).replace("quote",X)}return n},[n,r,o,a,s]),O=B.useMemo(()=>typeof C>"u"&&typeof R>"u"?P:$.jsxs("span",{className:"oui-flex oui-gap-1 oui-items-center",children:[R,P,C]}),[P,C,R]);return $.jsx(pS,{...k,ref:e,children:O})});Lj.displayName="FormattedText";var t6t=bs({base:"oui-text-transparent oui-bg-clip-text",variants:{color:{primary:"oui-gradient-primary",brand:"oui-gradient-brand",success:"oui-gradient-success",warning:"oui-gradient-warning",danger:"oui-gradient-danger",neutral:"oui-gradient-neutral",inherit:"oui-text-inherit"}}}),bke=Ct.forwardRef((t,e)=>{let{color:r,className:n,angle:i,...s}=t,o=nke({angle:i});return $.jsx(pS,{...s,ref:e,className:t6t({color:r,className:n}),style:o})});bke.displayName="GradientText";var mS=pS;mS.formatted=Lj;mS.numeral=Cj;mS.gradient=bke;var vke=B.forwardRef((t,e)=>{let{clearable:r,onClean:n,fixClassName:i,helpText:s,loading:o,inputMode:a,containerClassName:u,onValueChange:f,onChange:d,id:g,formatters:y,value:b,...A}=t,[x,k]=B.useState(null),R=B.useRef(null),C=B.useRef(null),P=B.useRef(!1),O=B.useMemo(()=>y??[],[y]);B.useEffect(()=>{e&&(typeof e=="function"?e(R.current):e.current=R.current)},[R,e]);let q=B.useCallback(X=>{if(!Array.isArray(O)||O.length===0)return X;if(X==null)return"";let Z=0;for(;Z<O.length;)X=O[Z].onRenderBefore(X,{isFocused:P.current}),Z++;return X},[O]),Q=B.useCallback((X,Z)=>{if(!Array.isArray(O)||O.length===0)return X;if(X==null)return"";let le=O.length-1;for(;le>-1;)X=O[le].onSendBefore(X,{isFocused:P.current,originValue:Z}),le--;return X},[O]),Y=B.useMemo(()=>typeof b>"u"?b:q(b),[b]);return B.useEffect(()=>{var I,c;if(document.activeElement!==R.current)return;let X=`${Y}`.length,Z=((I=C.current)==null?void 0:I.length)||0,le=x?x+(X-Z):0;(c=R.current)==null||c.setSelectionRange(le,le)},[Y]),$.jsx("input",{type:"text",...A,ref:R,onBlur:X=>{var Z;P.current=!1,(Z=A.onBlur)==null||Z.call(A,X)},onFocus:X=>{var Z;P.current=!0,(Z=A.onFocus)==null||Z.call(A,X)},onChange:X=>{var Z;if(X.target.value.length<((Z=t.value)==null?void 0:Z.length)){let le=X.target.selectionStart,I=U$e(`${t.value}`,X.target.value);I>-1&&`${t.value}`.at(I)===","&&(X.target.value=`${X.target.value.substring(0,I-1)}${X.target.value.substring(I)}`,X.target.selectionStart=le?le-1:0)}if(typeof d=="function"&&d(X),typeof f=="function"){let le=X.target.value;le=Q(le,String(t.value)),f(le)}C.current=X.target.value,k(X.target.selectionStart)},value:Y,id:g})});vke.displayName="BaseInput";var wke=t=>{let{asChild:e,as:r="label"}=t;return $.jsx(e?Us:"label",{htmlFor:t.name,className:t.className,children:t.children})},r6t=t=>{let{prefix:e,id:r}=t;return typeof e>"u"?null:typeof e=="string"?$.jsx(wke,{name:r,className:t.className,children:e}):e},n6t=t=>{let{suffix:e,id:r}=t;return typeof e>"u"?null:typeof e=="string"?$.jsx(wke,{name:r,className:t.className,children:e}):e},i6t=bs({slots:{input:["oui-w-full oui-bg-transparent","oui-bg-transparent","oui-flex-1","focus-visible:oui-outline-none","oui-flex","placeholder:oui-text-base-contrast-20","placeholder:oui-text-xs","oui-tabular-nums","oui-text-white","autofill:oui-bg-transparent","oui-input-input","disabled:oui-cursor-not-allowed","oui-peer"],box:["oui-rounded","oui-bg-base-6","oui-flex","oui-items-center","oui-outline","oui-outline-offset-0","oui-outline-1","oui-outline-transparent","focus-within:oui-outline-primary-light","oui-input-root"],additional:["oui-h-full oui-flex oui-flex-col oui-justify-center oui-px-2 oui-text-base-contrast"],closeButton:["oui-cursor-pointer","oui-invisible","peer-focus:oui-visible"]},variants:{size:{xs:{input:["oui-h-6","oui-text-2xs","placeholder:oui-text-2xs"],box:["oui-h-6"],additional:["oui-text-2xs"]},sm:{input:["oui-h-7","oui-text-2xs","placeholder:oui-text-2xs"],box:["oui-h-7"],additional:["oui-text-2xs"]},md:{input:["oui-h-8","oui-text-2xs","placeholder:oui-text-2xs"],box:["oui-h-8"],additional:["oui-text-2xs"]},lg:{input:["oui-h-10","oui-text-sm","placeholder:oui-text-sm"],box:["oui-h-10 oui-rounded-md"],additional:["oui-text-sm"]},xl:{input:["oui-h-12","oui-text-base","placeholder:oui-text-base"],box:["oui-h-12 oui-rounded-md"],additional:["oui-text-sm"]}},color:{success:{box:["oui-outline-success","focus-within:oui-outline-success"],input:["oui-text-success"]},danger:{box:["oui-outline-danger","focus-within:oui-outline-danger"],input:["oui-text-danger"]},warning:{box:["oui-outline-warning-darken","focus-within:oui-outline-warning-darken"],input:["oui-text-warning-darken"]},default:{box:["oui-outline-transparent"]}},disabled:{true:{input:["oui-cursor-not-allowed","oui-text-base-contrast-20"],box:["oui-bg-base-5"]}},pl:{true:{box:"oui-pl-3"},false:{box:"oui-pl-0"}},pr:{true:{box:"oui-pr-3"},false:{box:"oui-pr-0"}},fullWidth:{true:{box:"oui-w-full"}},align:{center:{input:"oui-text-center"},left:{input:"oui-text-left"},right:{input:"oui-text-right"}}},defaultVariants:{size:"lg"}},{responsiveVariants:["md","lg"]}),eE=Ct.forwardRef((t,e)=>{let{size:r,disabled:n,color:i,suffix:s,prefix:o,id:a,pl:u,pr:f,fullWidth:d,className:g,classNames:y,onClear:b,align:A,...x}=t,{input:k,box:R,additional:C,closeButton:P}=i6t({size:r,disabled:n,color:i,fullWidth:d,align:A,pl:typeof o>"u"||u,pr:typeof s>"u"||f}),O=B.useId(),q=typeof b<"u"?$.jsx(Ske,{className:P({className:y==null?void 0:y.clearButton}),onClick:()=>{b==null||b()},value:x.value}):s;return $.jsxs("div",{className:R({className:Dt(g,y==null?void 0:y.root)}),children:[$.jsx(r6t,{id:a||O,prefix:o,className:C({className:Dt(y==null?void 0:y.additional,y==null?void 0:y.prefix)})}),$.jsx(vke,{...x,id:a||O,disabled:n,ref:e,className:k({align:A,className:y==null?void 0:y.input})}),$.jsx(n6t,{id:a||O,suffix:q,className:C({className:Dt(y==null?void 0:y.additional,y==null?void 0:y.suffix)})})]})}),Ske=Ct.forwardRef((t,e)=>$.jsx("button",{onMouseDown:r=>{r.preventDefault(),t.onClick()},ref:e,className:t.className,children:$.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:$.jsx("path",{d:"M8 1.302a6.667 6.667 0 1 0 0 13.333A6.667 6.667 0 0 0 8 1.302m-2 4c.17 0 .349.057.479.187l1.52 1.521L9.52 5.49a.68.68 0 0 1 .48-.188c.17 0 .348.057.479.187.26.261.26.698 0 .96l-1.52 1.52 1.52 1.52c.26.261.26.698 0 .96a.687.687 0 0 1-.959 0L8 8.926l-1.521 1.521a.686.686 0 0 1-.959 0 .686.686 0 0 1 0-.959l1.521-1.52-1.52-1.52a.686.686 0 0 1 0-.96A.68.68 0 0 1 6 5.302",fill:"#fff",fillOpacity:".2"})})}));Ske.displayName="ClearButton";eE.displayName="Input";var s6t=bs({base:["oui-z-50","oui-w-72","oui-rounded-md","oui-border","oui-border-line-6","oui-p-4","oui-bg-base-8","oui-shadow-md","oui-outline-none","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"]}),_ke=MAt,o6t=PAt,a6t=CAt,Dj=B.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>$.jsx(NAt,{children:$.jsx(nxe,{ref:i,align:e,sideOffset:r,className:s6t({className:t}),...n})}));Dj.displayName=nxe.displayName;var Ake=t=>{let{arrow:e,content:r,contentProps:n,...i}=t;return $.jsxs(_ke,{...i,children:[$.jsx(o6t,{asChild:!0,children:t.children}),$.jsxs(Dj,{...n,children:[r,e&&$.jsx(BAt,{className:"oui-fill-base-8",width:10,height:6})]})]})},Hu=bs({slots:{trigger:["oui-flex","oui-group","oui-w-full","oui-items-center","oui-justify-between","oui-whitespace-nowrap","oui-rounded-md","oui-px-2","oui-space-x-2","oui-shadow-sm","oui-text-base-contrast-54","placeholder:oui-text-base-contrast-54","data-[state=open]:oui-text-base-contrast-80","focus:oui-outline-none","focus:oui-ring-1","focus:oui-ring-ring","disabled:oui-cursor-not-allowed","disabled:oui-opacity-50","[&>span]:oui-line-clamp-1"],scrollUpButton:"oui-flex oui-cursor-default oui-items-center oui-justify-center oui-py-1",scrollDownButton:"oui-flex oui-cursor-default oui-items-center oui-justify-center oui-py-1",content:["oui-relative","oui-z-50","oui-max-h-96","oui-overflow-hidden","oui-rounded-md","oui-bg-base-8","oui-text-base-contrast","oui-shadow-md","data-[state=open]:oui-animate-in","data-[state=closed]:aoui-nimate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"],viewport:["oui-p-1"],label:"oui-px-2 oui-py-1.5 oui-text-sm oui-font-semibold",item:["oui-option-item","oui-relative","oui-flex","oui-cursor-default","oui-select-none","oui-items-center","oui-rounded-sm","oui-py-1","oui-pl-2","oui-pr-8","oui-text-sm","oui-text-base-contrast-54","oui-outline-none","hover:oui-bg-base-6","hover:oui-rounded","focus:oui-bg-accent","focus:oui-text-accent-foreground","data-[state=checked]:oui-bg-base-5","data-[state=checked]:oui-text-base-contrast-80","data-[disabled]:oui-pointer-events-none","data-[disabled]:oui-opacity-50"],separator:"-oui-mx-1 oui-my-1 oui-h-px oui-bg-muted",icon:""},variants:{variant:{outlined:{trigger:["oui-border oui-border-line-6 oui-bg-line-4"]},contained:{trigger:["oui-bg-base-4"]},text:{trigger:[]}},position:{popper:{content:["data-[side=bottom]:oui-translate-y-1","data-[side=left]:-oui-translate-x-1","data-[side=right]:oui-translate-x-1","data-[side=top]:-oui-translate-y-1"],viewport:"oui-h-[var(--radix-select-trigger-height)] oui-w-full oui-min-w-[var(--radix-select-trigger-width)]"},"item-aligned":{content:"",viewport:""}},size:{xs:{trigger:["oui-h-6","oui-text-2xs"],item:["oui-h-6","oui-text-2xs"],icon:["oui-w-3","oui-h-3"]},sm:{trigger:["oui-h-7","oui-text-2xs"],item:["oui-h-7","oui-text-2xs"],icon:["oui-w-4","oui-h-4"]},md:{trigger:["oui-h-8","oui-text-xs"],item:["oui-h-7","oui-text-xs"],icon:["oui-w-4","oui-h-4"]},lg:{trigger:["oui-h-10","oui-text-sm","oui-px-3"],item:["oui-h-8","oui-text-2xs"],icon:["oui-w-5","oui-h-5"]},xl:{trigger:["oui-h-12","oui-text-2xs","oui-px-3"],item:["oui-h-12","oui-text-2xs"],icon:["oui-w-6","oui-h-6"]}},error:{true:{trigger:["oui-border-danger","focus:oui-ring-danger","focus:oui-ring-ring-danger"]}}},defaultVariants:{size:"lg",variant:"outlined"}},{responsiveVariants:["md","lg"]}),u6t=hAt,c6t=yAt,l6t=pAt,xke=B.forwardRef(({className:t,children:e,size:r,error:n,variant:i,asChild:s,showCaret:o=!0,...a},u)=>{let{trigger:f}=Hu({size:r,error:n,variant:i});return s?$.jsx(t9,{ref:u,className:f({className:t}),asChild:s,...a,children:e}):$.jsxs(t9,{ref:u,className:f({className:t}),asChild:s,...a,children:[e,$.jsx($.Fragment,{children:o&&$.jsx(FAe,{asChild:!0,className:"oui-transition-transform group-data-[state=open]:oui-rotate-180 group-data-[state=closed]:oui-rotate-0",children:$.jsx(gS,{size:12,className:"oui-text-inherit",opacity:1})})})]})});xke.displayName=t9.displayName;var f6t=B.forwardRef(({className:t,...e},r)=>{let{scrollUpButton:n}=Hu();return $.jsx(WAe,{ref:r,className:n({className:t}),...e,children:$.jsx(pke,{size:16,color:"white"})})});f6t.displayName=WAe.displayName;var d6t=B.forwardRef(({className:t,...e},r)=>{let{scrollDownButton:n}=Hu();return $.jsx(KAe,{ref:r,className:n({className:t}),...e,children:$.jsx(gS,{size:16,color:"white"})})});d6t.displayName=KAe.displayName;var Eke=B.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>{let{content:s,viewport:o}=Hu({position:r,className:t});return $.jsx(gAt,{children:$.jsx($Ae,{ref:i,className:s({className:t}),position:r,...n,children:$.jsx(mAt,{className:o(),children:e})})})});Eke.displayName=$Ae.displayName;var h6t=B.forwardRef(({className:t,...e},r)=>{let{label:n}=Hu();return $.jsx(UAe,{ref:r,className:n({className:t}),...e})});h6t.displayName=UAe.displayName;var kke=B.forwardRef(({className:t,children:e,size:r,...n},i)=>{let{item:s}=Hu({size:r});return $.jsx(zAe,{ref:i,className:s({className:t}),...n,children:$.jsx(bAt,{children:e})})});kke.displayName=zAe.displayName;var p6t=B.forwardRef(({className:t,...e},r)=>{let{separator:n}=Hu();return $.jsx(jAe,{ref:r,className:n({className:t}),...e})});p6t.displayName=jAe.displayName;var Tke=bs({slots:{root:"oui-relative oui-overflow-hidden oui-scroll-area-root",viewport:"oui-h-full oui-w-full oui-rounded-[inherit]",bar:["oui-flex","oui-touch-none","oui-select-none","oui-transition-colors"],tumb:"oui-relative oui-flex-1 oui-rounded-full oui-bg-base-10"},variants:{orientation:{vertical:{bar:"oui-h-full oui-w-2 oui-border-l oui-border-l-transparent oui-p-[1px]"},horizontal:{bar:"oui-h-2 oui-flex-col oui-border-t oui-border-t-transparent oui-p-[1px]"}}}}),Fj=Ct.forwardRef(({className:t,children:e,orientation:r="vertical",...n},i)=>{let{root:s,viewport:o,bar:a}=Tke({orientation:r});return $.jsxs(mxe,{ref:i,className:s({className:t}),...n,children:[$.jsx(qAt,{className:o(),children:e}),$.jsx(Ike,{orientation:r}),$.jsx(VAt,{})]})});Fj.displayName=mxe.displayName;var Ike=Ct.forwardRef(({className:t,orientation:e="vertical",...r},n)=>{let{bar:i,tumb:s}=Tke({className:t,orientation:e});return $.jsx(qK,{ref:n,orientation:e,className:i({className:t}),...r,children:$.jsx(fxe,{className:s()})})});Ike.displayName=qK.displayName;var Rke=t=>{let{options:e,variant:r,valueFormatter:n,...i}=t,[s,o]=B.useState(""),[a,u]=B.useState(t.value??""),{trigger:f}=Hu({size:t.size,variant:r}),[d,g]=B.useState(()=>typeof t.value>"u"?-1:e.findIndex(R=>R.value===t.value)),[y,b]=B.useState(!1),A=B.useRef(null),x=()=>{b(!0)},k=s?e.filter(R=>{if(R.value.toLowerCase().includes(s.toLowerCase()))return!0}):e;return $.jsxs(_ke,{open:y,children:[$.jsx(a6t,{children:$.jsx(zj,{ref:A,size:t.size,autoComplete:"off",onFocus:x,onBlur:()=>{b(!1)},placeholder:t.placeholder??"All",value:y?s:typeof n=="function"?n(a??"",{placeholder:t.placeholder}):a,onValueChange:R=>{o(R)},classNames:{root:f({className:"oui-w-24 oui-peer"}),input:"oui-text-base-contrast-54 oui-font-semibold"},"data-state":y?"open":"closed",suffix:$.jsx(FAe,{onMouseDown:R=>{var C,P;R.preventDefault(),y?(C=A.current)==null||C.blur():(P=A.current)==null||P.focus()},asChild:!0,className:"oui-transition-transform peer-data-[state=open]:oui-rotate-180 peer-data-[state=closed]:oui-rotate-0 oui-mx-2",children:$.jsx(gS,{size:12,className:"oui-text-inherit"})})})}),$.jsx(Dj,{onOpenAutoFocus:R=>{R.preventDefault(),o("")},className:"oui-w-[var(_--radix-popover-trigger-width)] oui-p-1",children:$.jsx(Fj,{className:"oui-h-[200px]",children:k.map((R,C)=>$.jsx(g6t,{option:R,size:t.size,activated:d===C,onClick:P=>{var O,q;u(P.value),g(C),(O=t.onValueChange)==null||O.call(t,P.value),(q=A.current)==null||q.blur()}},C))})})]})},g6t=t=>{let{item:e}=Hu({size:t.size});return $.jsx("button",{className:e({className:`oui-text-base-contrast-54 oui-w-full ${t.activated?"oui-bg-base-7":""}`}),onMouseDown:r=>{r.preventDefault(),t.onClick(t.option)},children:t.option.label})},Mke=t=>{let{children:e,size:r,error:n,placeholder:i,variant:s,contentProps:o,valueFormatter:a,showCaret:u,maxHeight:f,testid:d,classNames:g,...y}=t;return $.jsxs(u6t,{...y,children:[$.jsx(xke,{size:r,error:n,variant:s,showCaret:u,className:Dt("oui-font-semibold focus:oui-ring-transparent oui-cursor-pointer",g==null?void 0:g.trigger),"data-testid":d,children:typeof a=="function"?a(t.value||t.defaultValue,{placeholder:i}):$.jsx(l6t,{placeholder:i})}),$.jsx(Eke,{...o,children:$.jsx(Fj,{children:$.jsxs("div",{style:{maxHeight:f},children:[" ",e]})})})]})},m6t=(t,e)=>$.jsxs(kke,{value:t.value,className:Dt("oui-relative oui-cursor-pointer"),"data-testid":`oui-testid-selectItem-${t.value.toLowerCase().replace(" ","_")}`,children:[t.label,e==t.value&&$.jsx(Wg,{width:4,height:4,gradient:"brand",r:"full",className:"oui-absolute oui-right-2 oui-top-1/2 -oui-translate-y-1/2"})]},t.value),$j=t=>{let{children:e,options:r,optionRenderer:n=m6t,currentValue:i,...s}=t;return $.jsx(Mke,{...s,children:$.jsx(c6t,{children:r.map((o,a)=>Ct.cloneElement(n(o,i),{size:t.size,key:a,index:a}))})})},y6t=t=>{let{tokens:e,showIcon:r=!0,...n}=t,{icon:i}=Hu(),s=B.useMemo(()=>e.map(a=>({...a,label:a.name,value:a.name})),[e]),o=s.length>1;return $.jsx($j,{...n,showCaret:o,options:s,valueFormatter:r?a=>typeof t.valueFormatter=="function"?t.valueFormatter(a,{}):$.jsxs(Il,{gapX:1,children:[$.jsx(E8,{name:a,className:i({size:t.size})}),$.jsx(mS,{weight:"semibold",intensity:54,children:a})]}):void 0,optionRenderer:a=>typeof t.optionRenderer=="function"?t.optionRenderer(a):$.jsx(b6t,{...a}),maxHeight:254})},b6t=t=>{let{size:e,label:r,value:n}=t,{item:i,icon:s}=Hu();return $.jsxs(zK,{value:n,className:i({size:e,className:"oui-space-x-1 oui-flex oui-flex-row oui-items-center"}),children:[$.jsx(E8,{name:n,className:s({size:e})}),$.jsx(WK,{children:r}),$.jsx(vAt,{})]})},tE=Mke;tE.options=$j;tE.combine=Rke;tE.tokens=y6t;var Cke=B.forwardRef((t,e)=>{let{tokens:r,...n}=t,[i,s]=B.useState(r[0]),o=B.useMemo(()=>t.tokens.map(u=>({name:u})),[t.tokens]),a=B.useRef(null);return $.jsx(eE,{ref:u=>{a.current=u,e&&(typeof e=="function"?e(u):e.current=u)},autoComplete:"off",...n,suffix:$.jsx("div",{className:"oui-max-w-fit",children:$.jsx(tE.tokens,{disabled:n.disabled,variant:"text",tokens:o,value:i,size:n.size,onValueChange:u=>s(u),showIcon:n.align!=="right",contentProps:{align:"end",onCloseAutoFocus:u=>{var f;u.preventDefault(),(f=a.current)==null||f.focus()}}})})})});Cke.displayName="QuantityInput";var KNt=uxt,v6t=kxe,w6t=Txe,Pke=cxt,S6t=bs({base:["oui-z-50","oui-overflow-hidden","oui-rounded-md","oui-bg-base-8","oui-px-2","oui-py-1","oui-text-xs","oui-text-base-contrast","oui-animate-in","oui-fade-in-0","oui-zoom-in-95","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=closed]:oui-zoom-out-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"]}),Uj=B.forwardRef(({className:t,sideOffset:e=4,...r},n)=>$.jsx(Ixe,{ref:n,sideOffset:e,className:S6t({className:t}),...r}));Uj.displayName=Ixe.displayName;var Nke=t=>{let{className:e,...r}=t;return $.jsx(lxt,{width:12,height:6,...r,className:H1("oui-fill-base-8",e)({twMerge:!0})})},_6t=B.forwardRef(({children:t,content:e,defaultOpen:r,open:n,onOpenChange:i,delayDuration:s,disableHoverableContent:o,arrow:a,...u},f)=>{let{className:d,...g}=a||{};return $.jsxs(kxe,{defaultOpen:r,open:n,onOpenChange:i,delayDuration:s,disableHoverableContent:o,children:[$.jsx(Txe,{asChild:!0,children:t}),$.jsx(Pke,{children:$.jsxs(Uj,{ref:f,...u,children:[e,$.jsx(Nke,{...a})]})})]})});_6t.displayName="Tooltip";var Bke=B.forwardRef((t,e)=>{let{tooltip:r,tooltipProps:n,triggerClassName:i,...s}=t,[o,a]=B.useState(!1);return B.useEffect(()=>{a(typeof r<"u"&&r!==""&&r!==null)},[r]),$.jsxs(v6t,{open:o,children:[$.jsx(w6t,{asChild:!0,children:$.jsx("div",{className:i,children:$.jsx(eE,{...s,ref:e})})}),$.jsx(Pke,{children:$.jsxs(Uj,{...n==null?void 0:n.content,children:[t.tooltip,$.jsx(Nke,{...n==null?void 0:n.arrow})]})})]})});Bke.displayName="InputWithTooltip";var A6t={};Ij(A6t,{createRegexInputFormatter:()=>k6t,currencyFormatter:()=>x6t,decimalPointFormatter:()=>C6t,dpFormatter:()=>T6t,identifierFormatter:()=>M6t,numberFormatter:()=>E6t,rangeFormatter:()=>R6t});var x6t={onRenderBefore:function(t,e){return t==null?"":qv(t)},onSendBefore:function(t,e){return t==null?"":(t=t.replace(/,/g,""),t)}},E6t={onRenderBefore:function(t,e){return""+t},onSendBefore:function(t,e){return t.startsWith(".")?`0${t}`:t==="00"?"0":(t=t.replace(/[^\d.]/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),t)}},k6t=(t,e)=>({onRenderBefore:(r,n)=>`${r}`.replace(t,""),onSendBefore:(r,n)=>(e==null?void 0:e(r,n))||r}),T6t=(t,e)=>{let r=(n,i)=>(typeof n=="number"&&(n=n.toString()),!n||n.endsWith(".")?n:I6t(n,t));return{onRenderBefore:r,onSendBefore:r}};function I6t(t,e){let r=t.indexOf(".");if(r===-1||e<=0)return t.split(".")[0];let n=r+e+1;return t.substring(0,n)}var R6t=t=>{let e=(r,n)=>{if(typeof r=="number"&&(r=r.toString()),!r||r.endsWith("."))return r;let i=t.max??Number(r),s=t.min??Number(r),o=Number(r);return`${o<s?s:o>i?i:o}`};return{onRenderBefore:e,onSendBefore:e}},M6t=()=>{let t="+",e="-";return{onRenderBefore:(r,n)=>{if(typeof r=="number"&&(r=r.toString()),!r||r.endsWith("."))return r;let i=Number(r);if(i){if(i>0&&!r.startsWith(t))return t+r;if(i<0&&!r.startsWith(e))return e+r}return r},onSendBefore:(r,n)=>{if(typeof r=="number"&&(r=r.toString()),!r||r.endsWith("."))return r;let i=Number(r);return i&&i>0?r.replace(t,""):r}}},C6t={onRenderBefore:function(t,e){return String(t)},onSendBefore:function(t,e){return t==null?"":P6t(t,e==null?void 0:e.originValue)}},P6t=(t,e)=>{if(t==null)return"";if(t.endsWith(","))return t.slice(0,-1)+".";if(t.startsWith(","))return t.slice(0,1)+".";let r=qv(e);return e&&t.length>r.length&&t.length-r.length===1?N6t(t,r):t},N6t=(t,e)=>{if(t.length<=e.length)return t;for(let r=0;r<e.length;r++)if(t[r]!==e[r]){let n=t[r],i=n===","?".":n;return t.slice(0,r)+i+t.slice(r+1)}return t},B6t=Dl({base:["oui-text-xs","oui-text-base-contrast-36","oui-mt-1","oui-list-disc","oui-list-inside","oui-list-item"],variants:{color:{success:["oui-text-success"],danger:["oui-text-danger"],warning:["oui-text-warning-darken"],default:["oui-text-base-contrast-54"]}}}),Oke=Ct.forwardRef((t,e)=>{let{className:r,asChild:n,color:i,...s}=t;return $.jsx(n?Us:"div",{ref:e,className:B6t({className:r,color:i}),...s})});Oke.displayName="InputHelpText";var O6t=bs({slots:{root:"oui-flex",label:"oui-text-sm oui-font-semibold",input:[]},variants:{direction:{column:{root:"oui-flex-col oui-space-y-1"},row:{root:"oui-flex-row oui-space-x-3 "}}},defaultVariants:{direction:"column"}}),L6t=Ct.forwardRef((t,e)=>{var f;let{label:r,helpText:n,direction:i,className:s,...o}=t,{root:a,label:u}=O6t({direction:i});return $.jsxs("div",{className:a({className:s,direction:i}),children:[$.jsx(Lke,{className:Dt((f=t.classNames)==null?void 0:f.label)||u(),children:r}),$.jsxs("div",{children:[$.jsx(eE,{...o}),((n==null?void 0:n.length)||!1)&&$.jsx(Oke,{color:o.color,children:n})]})]})});L6t.displayName="TextField";var Lke=Ct.forwardRef((t,e)=>{let{asChild:r=!1,className:n,...i}=t;return $.jsx(r?Us:"label",{className:n,ref:e,...i,children:t.children})});Lke.displayName="InputLabel";var zj=eE;zj.token=Cke;zj.tooltip=Bke;var D6t=Dl({base:["peer","oui-h-3","oui-w-3","oui-shrink-0","oui-rounded-sm","oui-border","focus-visible:oui-outline-none","disabled:oui-cursor-not-allowed","disabled:oui-opacity-50"],variants:{color:{primary:"oui-border-primary data-[state=checked]:oui-text-base-contrast",white:"oui-border-base-contrast-54 "},variant:{checkBox:"data-[state=checked]:oui-border-none",radio:"oui-rounded-full data-[state=checked]:oui-border-base-contrast-20 data-[state=checked]:oui-bg-transparent"}},compoundVariants:[{color:"primary",variant:"radio",className:"data-[state=checked]:oui-border-parimary data-[state=checked]:!oui-text-parimary"}],defaultVariants:{color:"white"}}),F6t=B.forwardRef(({className:t,color:e="white",variant:r="checkBox",...n},i)=>$.jsx(Nxe,{ref:i,className:D6t({color:e,className:t,variant:r}),...n,children:$.jsx(gxt,{className:Dt("oui-flex oui-items-center oui-justify-center oui-text-current",n.indicatorClassName),children:r==="checkBox"?$.jsx($6t,{className:Dt(e==="primary"?"oui-text-primary":"oui-text-white")}):$.jsx("div",{className:Dt("oui-w-[6px] oui-h-[6px] oui-rounded-full",e==="primary"?"oui-bg-primary":"oui-bg-base-contrast-80")})})}));F6t.displayName=Nxe.displayName;var $6t=t=>$.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:$.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.078.71A2.333 2.333 0 0 0 .745 3.041v5.834a2.333 2.333 0 0 0 2.333 2.333H8.91a2.333 2.333 0 0 0 2.334-2.333V3.042A2.333 2.333 0 0 0 8.91.71zm5.83 2.555a.7.7 0 0 1 .488-.182c.174 0 .355.056.488.182a.643.643 0 0 1 0 .93L5.129 8.728a.723.723 0 0 1-.975 0L2.115 6.785a.644.644 0 0 1 0-.93.724.724 0 0 1 .977 0l1.55 1.476z",fillOpacity:".8"})}),U6t=Dl({slots:{root:["peer","oui-inline-flex","oui-h-[16px]","oui-w-[28px]","oui-shrink-0","oui-cursor-pointer","oui-items-center","oui-rounded-full","oui-border-transparent","oui-shadow-sm","oui-transition-colors","focus-visible:oui-outline-none","focus-visible:oui-ring-2","focus-visible:oui-ring-ring","focus-visible:oui-ring-offset-2","focus-visible:oui-ring-offset-background","disabled:oui-cursor-not-allowed","disabled:oui-opacity-50","data-[state=checked]:oui-bg-primary-darken","data-[state=unchecked]:oui-bg-input"],thumb:["oui-pointer-events-none","oui-block","oui-h-[10px]","oui-w-[10px]","oui-rounded-full","oui-bg-white/80","oui-shadow-lg","oui-ring-0","oui-transition-transform","data-[state=checked]:oui-translate-x-[15px]","data-[state=unchecked]:oui-translate-x-[3px]"]},variants:{color:{primary:{root:["data-[state=checked]:oui-bg-primary-darken","data-[state=unchecked]:oui-bg-base-1"]},success:{root:["data-[state=checked]:oui-bg-success","data-[state=unchecked]:oui-bg-success"]},danger:{root:["data-[state=checked]:oui-bg-danger","data-[state=unchecked]:oui-bg-danger"]},warning:{root:["data-[state=checked]:oui-bg-warning-darken","data-[state=unchecked]:oui-bg-warning-darken"]}}},defaultVariants:{color:"primary"}}),z6t=Ct.forwardRef(({className:t,color:e,...r},n)=>{let{root:i,thumb:s}=U6t({className:t,color:e});return $.jsx(Fxe,{className:i({className:t}),...r,ref:n,children:$.jsx(wxt,{className:s()})})});z6t.displayName=Fxe.displayName;var W6t=bs({base:"oui-inline-flex oui-items-center oui-rounded-md oui-font-semibold oui-transition-colors focus:oui-outline-none focus:oui-ring-2 focus:oui-ring-ring focus:oui-ring-offset-2",variants:{variant:{contained:"",text:""},color:{primary:"",primaryLight:"",secondary:"",danger:"",buy:"",success:"",warning:"",sell:"",neutral:""},size:{xs:"oui-px-2 oui-py-0.5 oui-text-2xs oui-rounded oui-h-[18px]",sm:"oui-px-2 oui-py-0.5 oui-text-2xs oui-rounded",md:"oui-px-2 oui-py-0.5 oui-text-sm",lg:"oui-px-2 oui-py-1 oui-text-base"}},compoundVariants:[{variant:"contained",color:"primary",className:["oui-bg-primary/15","oui-text-primary"]},{variant:"contained",color:"primaryLight",className:["oui-bg-primary-light/15","oui-text-primary-light"]},{variant:"contained",color:"danger",className:["oui-bg-danger/15","oui-text-danger"]},{variant:"contained",color:"sell",className:["oui-bg-danger/15","oui-text-danger"]},{variant:"contained",color:"success",className:["oui-bg-success/15","oui-text-success"]},{variant:"contained",color:"buy",className:["oui-bg-success/15","oui-text-success"]},{variant:"contained",color:"warning",className:["oui-bg-warning-darken/15","oui-text-warning-darken"]},{variant:"contained",color:"neutral",className:["oui-bg-line","oui-text-base-contrast-36"]},{variant:"text",color:"primary",className:["oui-text-primary"]},{variant:"text",color:"danger",className:["oui-text-danger"]},{variant:"text",color:"success",className:["oui-text-success"]},{variant:"text",color:"warning",className:["oui-text-warning-darken"]},{variant:"text",color:"neutral",className:["oui-text-base-contrast-36"]}],defaultVariants:{variant:"contained",color:"primary",size:"md"}});function jNt({className:t,variant:e,color:r,size:n,...i}){return $.jsx("div",{className:W6t({variant:e,className:t,color:r,size:n}),...i})}var K6t=Ct.forwardRef(({src:t,alt:e,href:r},n)=>$.jsx("div",{className:"logo oui-px-3",ref:n,children:$.jsx("a",{href:r??"/",children:$.jsx("img",{src:t,alt:e,className:"oui-object-contain oui-h-8 oui-py-2"})})}));K6t.displayName="LogoElement";var IB={columns:t=>{let e=Sxt();return t==null?void 0:t.map((r,n)=>{let i={meta:r,size:r.width||100},{dataIndex:s,onSort:o}=r;return e.accessor(s,{header:()=>r.title,enableSorting:!!o,sortingFn:typeof o=="function"?(a,u,f)=>o==null?void 0:o(a.original,u.original):"alphanumeric",...i})})},columnPinning:t=>{let e=[],r=[];return t==null||t.map(n=>{n.fixed==="left"?e.push(n.dataIndex):n.fixed==="right"&&r.push(n.dataIndex)}),{left:e,right:r}},pagination:t=>{let e={},r={};return t&&(e={pagination:{pageIndex:t.page-1,pageSize:t.pageSize}},r={getPaginationRowModel:d2t()}),{state:e,config:r}}};function j6t(t){let e=B.useRef(null);return B.useEffect(()=>{if(!e.current)return;let r=window.getComputedStyle(e.current).backgroundColor;e.current.style.setProperty("--oui-table-background-color",r)},t),e}var Dke=B.createContext(void 0),HNt=t=>{let e=B.useMemo(()=>({...t.locale,exist:!0}),[t.locale]);return $.jsx(Dke.Provider,{value:e,children:t.children})},Tre={locale:"en",dialog:{ok:"OK",cancel:"Cancel"},modal:{confirm:"Confirm",cancel:"Cancel"},pagination:{morePages:"More pages",rowsPerPage:"Rows per page"},picker:{selectDate:"Select Date",dayPicker:TK},empty:{description:"No results found."}},Kg=(t,e)=>{let r=B.useContext(Dke),n=B.useMemo(()=>{let s=Tre[t],o=(r==null?void 0:r[t])||{};return{...typeof s=="function"?s():s,...o}},[t,e,r]),i=B.useMemo(()=>{let s=r==null?void 0:r.locale,o=Tre.locale;return s||o},[r]);return[n,i]},Fke=({className:t,...e})=>$.jsx("nav",{role:"navigation","aria-label":"pagination",className:Dt("oui-flex oui-justify-between oui-items-center oui-w-full oui-text-xs",t),...e});Fke.displayName="Pagination";var $ke=Ct.forwardRef(({className:t,...e},r)=>$.jsx("ul",{ref:r,className:Dt("oui-flex oui-flex-row oui-items-center oui-gap-x-2",t),...e}));$ke.displayName="PaginationContent";var Q3=Ct.forwardRef(({className:t,...e},r)=>$.jsx("li",{ref:r,className:Dt("oui-leading-[0px]",t),...e}));Q3.displayName="PaginationItem";var k8=({className:t,isActive:e,...r})=>$.jsx("button",{"aria-current":e?"page":void 0,"data-active":e,className:ake({size:"xs",variant:e?"contained":"text",className:"oui-min-w-6 oui-text-base-contrast-80 oui-font-semibold data-[active=false]:hover:oui-bg-base-6 disabled:oui-bg-transparent disabled:hover:oui-bg-transparent"}),...r});k8.displayName="PaginationLink";var Uke=({className:t,...e})=>$.jsx(k8,{"aria-label":"Go to previous page",className:Dt("oui-gap-1 oui-pl-2.5",t),...e,children:$.jsx(Pj,{className:"oui-h-4 oui-w-4",color:"white"})});Uke.displayName="PaginationPrevious";var zke=({className:t,...e})=>$.jsx(k8,{"aria-label":"Go to next page",className:Dt("oui-gap-1 oui-pr-2.5",t),...e,children:$.jsx(Nj,{className:"oui-h-4 oui-w-4",color:"white"})});zke.displayName="PaginationNext";var H6t=t=>{let{classNames:e,className:r,pageTotal:n,page:i}=t,[s]=Kg("pagination");return $.jsxs(Fke,{className:Dt(e==null?void 0:e.pagination,r),children:[$.jsxs(Il,{mr:4,children:[$.jsx(pS,{as:"div",size:"2xs",intensity:54,className:"oui-text-nowrap oui-mr-2",children:s.rowsPerPage}),$.jsx("div",{className:"oui-w-14",children:$.jsx(tE.options,{options:[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}],value:`${t.pageSize??5}`,size:"xs",onValueChange:o=>{var a;return(a=t.onPageSizeChange)==null?void 0:a.call(t,parseInt(o))}})})]}),$.jsx(V6t,{...t})]})};function q6t(t,e){let r=[],n="...";if(e<=5)for(let i=1;i<=e;i++)r.push(i);else t<=3?r.push(1,2,3,4,n,e):t>=e-2?r.push(1,n,e-3,e-2,e-1,e):r.push(1,n,t-1,t,t+1,n,e);return r}var V6t=t=>{let{classNames:e,className:r,pageTotal:n,page:i}=t;if(n<=1)return null;let s=B.useMemo(()=>q6t(i,n),[i,n]);return $.jsxs($ke,{children:[$.jsx(Q3,{children:$.jsx(Uke,{disabled:t.page===1,onClick:o=>{var a;o.preventDefault(),(a=t.onPageChange)==null||a.call(t,t.page-1)}})}),s.map((o,a)=>$.jsx(Q3,{children:$.jsx(k8,{isActive:o===t.page,onClick:u=>{var f,d;u.preventDefault(),o!=="..."?(f=t.onPageChange)==null||f.call(t,Number(o)):(d=t.onPageChange)==null||d.call(t,Number(s[a+1]-1))},children:o})},a)),$.jsx(Q3,{children:$.jsx(zke,{disabled:t.page===t.pageTotal,onClick:o=>{var a;o.preventDefault(),(a=t.onPageChange)==null||a.call(t,t.page+1)}})})]})},G6t=t=>t.pageTotal===0?null:$.jsx(Il,{justify:"end",py:2,mx:3,className:"oui-h-10 oui-w-full",children:$.jsx(H6t,{...t,className:"oui-table-pagination oui-justify-between oui-w-full"})});function Wke(t,e){let r=t.getIsPinned(),n=r==="left"&&t.getIsLastColumn("left"),i=r==="right"&&t.getIsFirstColumn("right"),s={left:r==="left"?`${t.getStart("left")}px`:void 0,right:r==="right"?`${t.getAfter("right")}px`:void 0,width:t.getSize()},o=Dt(r?"oui-sticky":"oui-relative",r?"oui-z-[1]":"oui-z-0",r&&"oui-bg-[var(--oui-table-background-color)]"),a=Dt("before:oui-block before:oui-absolute","before:oui-w-[32px] before:oui-h-full","before:oui-top-0 before:oui-z-[-1]","before:oui-bg-[linear-gradient(90deg,rgba(var(--oui-color-base-10)_/_0.80)_0%,rgba(var(--oui-color-base-10)_/_0.36)_65%,rgba(var(--oui-color-base-10)_/_0.00)_100%)]"),u=n&&Dt(a,"before:oui-right-[-32px]"),f=i&&Dt(a,"before:oui-left-[-32px] before:oui-rotate-180");return{style:s,classNames:{content:o,leftShadow:u,rightShadow:f}}}var Wj=t=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:t.children}),Y6t=()=>$.jsx(Wj,{children:$.jsx("path",{d:"M5 1.042a.47.47 0 0 0-.338.135L2.166 3.844c-.206.22-.005.531.338.531h4.992c.342 0 .543-.311.337-.531L5.338 1.177A.47.47 0 0 0 5 1.042m0 7.916a.47.47 0 0 1-.338-.135L2.166 6.156c-.206-.22-.005-.531.338-.531h4.992c.342 0 .543.311.337.531L5.338 8.823A.47.47 0 0 1 5 8.958",fill:"#fff",fillOpacity:".2"})}),Z6t=()=>$.jsxs(Wj,{children:[$.jsx("path",{d:"M5 1.042a.47.47 0 0 0-.338.135L2.166 3.844c-.206.22-.005.531.338.531h4.992c.342 0 .543-.311.337-.531L5.338 1.177A.47.47 0 0 0 5 1.042",fill:"#fff",fillOpacity:".8"}),$.jsx("path",{d:"M5 8.958a.47.47 0 0 1-.338-.135L2.166 6.156c-.206-.22-.005-.531.338-.531h4.992c.342 0 .543.311.337.531L5.338 8.823A.47.47 0 0 1 5 8.958",fill:"#fff",fillOpacity:".2"})]}),X6t=()=>$.jsxs(Wj,{children:[$.jsx("path",{d:"M5 1.042a.47.47 0 0 0-.338.135L2.166 3.844c-.206.22-.005.531.338.531h4.992c.342 0 .543-.311.337-.531L5.338 1.177A.47.47 0 0 0 5 1.042",fill:"#fff",fillOpacity:".2"}),$.jsx("path",{d:"M5 8.958a.47.47 0 0 1-.338-.135L2.166 6.156c-.206-.22-.005-.531.338-.531h4.992c.342 0 .543.311.337.531L5.338 8.823A.47.47 0 0 1 5 8.958",fill:"#fff",fillOpacity:".8"})]}),Kke=Dl({variants:{align:{left:"oui-text-left",center:"oui-text-center",right:"oui-text-right"}},defaultVariants:{align:"left"}}),Q6t=t=>$.jsx("thead",{className:Dt("oui-table-thead","oui-sticky oui-top-0 oui-z-[2]","oui-bg-[var(--oui-table-background-color)]","oui-text-base-contrast-36"),children:t.headerGroups.map(e=>$.jsx("tr",{className:Dt("oui-table-thead-tr","oui-h-10",t.className),children:e.headers.map(r=>{let n=r.column,{align:i,className:s,title:o}=n.columnDef.meta||{},{style:a,classNames:u}=Wke(n),f=n.getCanSort(),d=n.getIsSorted();return $.jsx("th",{style:a,className:Dt("oui-table-thead-th","oui-whitespace-nowrap","oui-px-3",t.bordered&&"after:oui-block after:oui-absolute after:oui-w-full after:oui-h-full after:oui-top-0 after:oui-left-0 after:oui-z-[-1] after:oui-border-b after:oui-border-line",Kke({align:i}),s,u.content,t.showLeftShadow&&u.leftShadow,t.showRightShadow&&u.rightShadow),children:r.isPlaceholder?null:$.jsxs("div",{className:Dt("oui-inline-flex oui-items-center oui-gap-x-1",f&&"oui-cursor-pointer oui-select-none hover:oui-text-base-contrast-80"),onClick:n.getToggleSortingHandler(),children:[o,f&&$.jsx(J6t,{isSorted:d})]})},r.id)})},e.id))}),J6t=({isSorted:t})=>({asc:$.jsx(Z6t,{}),desc:$.jsx(X6t,{})})[t]||$.jsx(Y6t,{}),e4t=t=>{let{cell:e}=t,{original:r,index:n}=e.row,{formatter:i,render:s,rule:o,textProps:a,numeralProps:u}=e.column.columnDef.meta||{},f=e.getValue();if(typeof i=="function"&&(f=i(f,r,n)),typeof s=="function")return s(f,r,n);if(typeof o<"u"){if(QIt(o)){let d=typeof a=="function"?a(f,r,n):a;return $.jsx(Lj,{rule:o,...d,children:f})}if(pIt(o)){let d=typeof u=="function"?u(f,r,n):u;return $.jsx(Cj,{rule:o,...d,children:f})}}return p2t(e.column.columnDef.cell,e.getContext())},t4t=t=>$.jsx("tbody",{className:Dt("oui-table-tbody oui-relative","oui-text-base-contrast-80",t.className),"data-testid":t.testId,children:t.rows.map(e=>{var o;let{className:r,onClick:n,...i}=typeof t.onRow=="function"?t.onRow(e.original,e.index):{},s=$.jsxs(B.Fragment,{children:[$.jsx("tr",{className:Dt("oui-table-tbody-tr oui-group oui-h-10",typeof n=="function"&&"oui-cursor-pointer",t.bordered&&"oui-border-b oui-border-b-line-4",r),onClick:a=>{e.getCanExpand()&&e.getToggleExpandedHandler(),n==null||n()},...i,children:e.getVisibleCells().map(a=>{let u=a.column,{style:f,classNames:d}=Wke(u),{align:g,className:y}=u.columnDef.meta||{};return $.jsxs("td",{style:f,className:Dt("oui-table-tbody-td oui-relative","oui-px-3",Kke({align:g}),y,d.content,t.showLeftShadow&&d.leftShadow,t.showRightShadow&&d.rightShadow),children:[$.jsx(e4t,{cell:a}),$.jsx(r4t,{selected:e.getIsSelected(),isFirst:u.getIsFirstColumn(),isLast:u.getIsLastColumn()})]},a.id)})},e.id),e.getIsExpanded()&&$.jsx("tr",{className:"oui-z-0",children:$.jsx("td",{colSpan:e.getVisibleCells().length,children:(o=t.expandRowRender)==null?void 0:o.call(t,e,e.index)})})]},e.id);return typeof t.renderRowContainer=="function"?$.jsx(B.Fragment,{children:t.renderRowContainer(e.original,e.index,s)},e.id):s})}),r4t=({selected:t,isFirst:e,isLast:r})=>$.jsx("div",{className:Dt("oui-absolute oui-top-0 oui-left-0 oui-z-[-1]","oui-w-full oui-h-full","group-hover:oui-bg-line-4",t&&"oui-bg-line-6 group-hover:oui-bg-line-6",e&&"oui-rounded-l",r&&"oui-rounded-r")});function n4t(t){let{dataSource:e,loading:r,ignoreLoadingCheck:n}=t,[i,s]=B.useState(!1);return B.useEffect(()=>{i||(n||r||Array.isArray(e))&&s(!0)},[r,n,e,i]),i}var Kj=class jke{constructor(){Ue(this,"extensionMap",new Map)}static getInstance(){let e=z6();return e.__ORDERLY_EXTENSION_REGISTRY__||(e.__ORDERLY_EXTENSION_REGISTRY__=new jke),e.__ORDERLY_EXTENSION_REGISTRY__}register(e){var r;e.builder;for(let n=0;n<e.positions.length;n++){if(typeof e.builder!="function"){let s=(r=this.extensionMap.get(e.positions[n]))==null?void 0:r.builder;e.builder=typeof s>"u"?void 0:s}let i=e.positions[n];this.registerToPosition(i,e)}}registerToPosition(e,r){if(this.extensionMap.has(e)){let n=this.extensionMap.get(e);if(!(n!=null&&n.__isInternal)){!(n!=null&&n.builder)&&r.__isInternal&&this.setBuilder(e,r.builder);return}r.builder||(r.builder=n.builder)}this.extensionMap.set(e,r)}setBuilder(e,r){let n=this.extensionMap.get(e);n&&(n.builder=r)}unregister(e){for(let r=0;r<e.positions.length;r++){let n=e.positions[r];this.unregisterFromPosition(n)}}unregisterFromPosition(e){this.extensionMap.delete(e)}getPluginsByPosition(e){return this.extensionMap.get(e)}getFormatterByPosition(e){return this.extensionMap.get(e)}},Hke=t=>e=>{Kj.getInstance().register({name:t.name,positions:t.positions,__isInternal:!!t.__isInternal,builder:t.builder,render:e})},i4t=(t,e)=>{let r=Kj.getInstance().getPluginsByPosition(t);return()=>{var n;return((n=r==null?void 0:r.builder)==null?void 0:n.call(r,e))||e}},s4t=(t,e)=>i4t(t,e)(),o4t=t=>{let{position:e}=t;return $.jsxs("div",{className:"oui-text-danger",children:[$.jsx("strong",{children:`[${e}] `}),$.jsx("span",{children:"Not found!"})]})},a4t=t=>{let{position:e,scope:r,defaultWidget:n,...i}=t,s=s4t(e,i),o=B.useMemo(()=>{var a;return((a=Kj.getInstance().getPluginsByPosition(e))==null?void 0:a.render)??n??o4t},[]);return $.jsx(w2t,{fallback:$.jsx("div",{children:`Component: [${e}] went wrong`}),children:$.jsx(Us,{...s,position:e,children:$.jsx(o,{})})})},u4t=(t=>(t.DepositForm="depositForm",t.WithdrawForm="withdrawForm",t.AccountMenu="accountMenu",t.MobileAccountMenu="mobileAccountMenu",t.MainMenus="mainMenus",t.EmptyDataIdentifier="emptyDataIdentifier",t))(u4t||{}),c4t=t=>{let{visible:e,loading:r,emptyView:n}=t;return e?$.jsx(Wg,{position:"absolute",left:0,top:0,right:0,bottom:0,className:"oui-flex oui-justify-center oui-items-center",children:r?$.jsx(Rj,{}):n||$.jsx(a4t,{position:"emptyDataIdentifier"})}):null};function l4t(t){let{onSort:e,initialSort:r}=t,[n,i]=B.useState(r?[{id:r.sortKey,desc:r.sort==="desc"}]:[]);return B.useEffect(()=>{let{id:s,desc:o}=n[0]||{};e==null||e(s?{sortKey:s,sort:o?"desc":"asc"}:void 0)},[n,e]),[n,i]}function f4t(t){let{dataSource:e,loading:r}=t,n=B.useRef(!1),i=B.useMemo(()=>r&&!(e!=null&&e.length)?n.current:!!(e!=null&&e.length),[r,e]);return B.useEffect(()=>{i&&(n.current=!0)},[i]),i}function d4t(t){let{loading:e,dataSource:r,pagination:n,rows:i}=t,s=B.useRef(!1),o=B.useMemo(()=>e&&!(r!=null&&r.length)?s.current:!!(n&&(r!=null&&r.length)&&(i!=null&&i.length)),[e,n,r,i]);return B.useEffect(()=>{o&&(s.current=!0)},[o]),o}function h4t(t){let e=B.useRef(null),[r,n]=B.useState(!1),[i,s]=B.useState(!1);return B.useEffect(()=>{e.current&&e.current.addEventListener("scroll",function(o){n(e.current.scrollLeft>0),s(!Ire(e.current))})},[e]),B.useEffect(()=>{if(!e.current)return;let o=p4t(e.current),a=Ire(e.current);s(o&&!a)},[e,...t]),{scrollRef:e,showLeftShadow:r,showRightShadow:i}}function Ire(t){return t.scrollLeft+t.clientWidth>=t.scrollWidth}function p4t(t){return t.scrollWidth>t.clientWidth}function qNt(t){var v;let{columns:e,className:r,classNames:n,pagination:i,getRowCanExpand:s,manualPagination:o,loading:a,ignoreLoadingCheck:u,emptyView:f,initialSort:d,manualSorting:g,onSort:y}=t,b=B.useMemo(()=>t.dataSource?t.dataSource:[],[t.dataSource]),A=B.useMemo(()=>IB.columns(e),[e]),x=B.useMemo(()=>IB.columnPinning(e),[e]),k=B.useMemo(()=>t.rowSelection||{},[t.rowSelection]),{state:R,config:C}=B.useMemo(()=>IB.pagination(i),[i]),[P,O]=l4t({onSort:y,initialSort:d}),q=n4t({dataSource:b,loading:a,ignoreLoadingCheck:u}),Q=B.useMemo(()=>Array.isArray(t.columnFilters)?t.columnFilters:t.columnFilters?[t.columnFilters]:[],[t.columnFilters]),Y=b2t({_features:t.features,data:b,columns:A,state:{columnPinning:x,columnFilters:Q,rowSelection:k,sorting:P,...R},onSortingChange:O,getRowId:t.generatedRowKey,getCoreRowModel:o2t(),getExpandedRowModel:a2t(),getRowCanExpand:s,getSortedRowModel:h2t(),getFilteredRowModel:f2t(),manualSorting:g,manualPagination:o,enableMultiRowSelection:!1,...C});B.useEffect(()=>{var _;(_=t.getTableInstance)==null||_.call(t,Y)},[Y]);let X=j6t([r,n==null?void 0:n.root]),{scrollRef:Z,showLeftShadow:le,showRightShadow:I}=h4t([b==null?void 0:b.length]),c=Y.getRowModel().rows,h=q&&(c.length===0||a),p=f4t({loading:a,dataSource:b}),m=d4t({loading:a,dataSource:b,rows:c,pagination:i});return $.jsxs("div",{ref:X,id:t.id,className:Dt("oui-table-root oui-w-full oui-h-full","oui-bg-base-9",r,n==null?void 0:n.root),children:[$.jsxs("div",{ref:Z,className:Dt("oui-table-scroll oui-relative","oui-w-full oui-min-h-[162px]","oui-text-xs oui-font-semibold","oui-overflow-auto oui-custom-scrollbar",m?"oui-h-[calc(100%_-_40px)]":"oui-h-full",n==null?void 0:n.scroll),children:[$.jsxs("table",{className:Dt("oui-w-full","oui-table-fixed oui-border-collapse"),children:[p&&$.jsx(Q6t,{className:n==null?void 0:n.header,headerGroups:Y.getHeaderGroups(),bordered:t.bordered,showLeftShadow:le,showRightShadow:I}),$.jsx(t4t,{className:n==null?void 0:n.body,rows:c,bordered:t.bordered,renderRowContainer:t.renderRowContainer,expandRowRender:t.expandRowRender,onRow:t.onRow,showLeftShadow:le,showRightShadow:I,testId:(v=t.testIds)==null?void 0:v.body})]}),$.jsx(c4t,{visible:h,loading:a,emptyView:f})]}),m&&$.jsx(G6t,{className:n==null?void 0:n.pagination,count:(i==null?void 0:i.count)||(c==null?void 0:c.length),pageTotal:(i==null?void 0:i.pageTotal)||Y.getPageCount(),page:i==null?void 0:i.page,pageSize:i==null?void 0:i.pageSize,onPageChange:i==null?void 0:i.onPageChange,onPageSizeChange:i==null?void 0:i.onPageSizeChange})]})}function jj({className:t,classNames:e,showOutsideDays:r=!0,...n}){let[i]=Kg("picker");return $.jsx(JEt,{locale:i.dayPicker,showOutsideDays:r,className:Dt("oui-p-3 oui-bg-base-7 oui-rounded",t),classNames:{months:"oui-flex oui-flex-col sm:oui-flex-row oui-space-y-4 sm:oui-space-x-4 sm:oui-space-y-0",month:"oui-space-y-4",caption:"oui-flex oui-justify-center oui-pt-1 oui-relative oui-items-center",caption_label:"oui-text-sm oui-font-medium ",nav:"oui-space-x-1 oui-flex oui-items-center",nav_button:Dt("oui-h-7 oui-w-7 oui-bg-transparent oui-p-0 oui-opacity-50 hover:oui-opacity-100"),nav_button_previous:"oui-absolute oui-left-1",nav_button_next:"oui-absolute oui-right-1",table:"oui-w-full oui-border-collapse oui-space-y-1",head_row:"oui-flex",head_cell:"oui-text-base-contrast-80 oui-rounded-md oui-w-7 oui-font-normal oui-text-[0.8rem] oui-opacity-30",row:"oui-flex oui-w-full oui-mt-2",cell:Dt("oui-relative oui-day-cell oui-p-0 oui-text-center oui-text-2xs focus-within:oui-relative focus-within:oui-z-20 [&:has([aria-selected])]:oui-bg-base-4 [&:has([aria-selected].day-outside)]:oui-bg-base-4/50 [&:has([aria-selected].day-range-end)]:oui-rounded-r-md",n.mode==="range"?"[&:has(>.oui-day-range-end)]:oui-rounded-r-md [&:has(>.oui-day-range-start)]:oui-rounded-l-md first:[&:has([aria-selected])]:oui-rounded-l-md last:[&:has([aria-selected])]:oui-rounded-r-md":"[&:has([aria-selected])]:oui-rounded-md"),day:Dt("oui-h-7 oui-w-7 oui-p-0 oui-rounded-md oui-font-normal aria-selected:oui-opacity-100 oui-text-base-contrast-80 hover:oui-bg-base-5"),day_range_start:"day-range-start  oui-bg-primary-darken oui-text-base-contrast-80 hover:oui-bg-primary-darken",day_range_end:"day-range-end oui-bg-primary-darken oui-text-base-contrast-80 hover:oui-bg-primary-darken",day_selected:"oui-bg-base-4 ",day_today:"oui-bg-accent ",day_outside:"oui-day-outside oui-text-muted-foreground oui-opacity-50 aria-selected:oui-bg-accent/50 aria-selected:oui-text-muted-foreground aria-selected:oui-opacity-30",day_disabled:"oui-text-muted-foreground oui-opacity-50",day_range_middle:"aria-selected:oui-bg-accent aria-selected:oui-text-accent-foreground",day_hidden:"oui-invisible",...e},components:{IconLeft:({...s})=>$.jsx(Pj,{size:16,className:"oui-text-inherit",opacity:1}),IconRight:({...s})=>$.jsx(Nj,{size:16,className:"oui-text-inherit",opacity:1})},...n})}jj.displayName="Calendar";var g4t="yyyy/MM/dd",Hj=t=>{let{placeholder:e,dateFormat:r,onChange:n,value:i,initialValue:s,size:o,className:a,formatString:u=g4t,...f}=t,[d]=Kg("picker"),[g,y]=B.useState(!1),[b,A]=B.useState(i||s||null),[x,k]=B.useState(!1),R=m4t(O=>{k(O<=768)},100);B.useEffect(()=>{let O=()=>{R(window.innerWidth)};return k(window.innerWidth<=768),window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O)}},[]),B.useEffect(()=>{i!=null&&i.from&&(i!=null&&i.to)&&(b!=null&&b.from)&&(b!=null&&b.to)&&!y4t(i,b)&&A(i)},[i]);let{trigger:C}=Hu({size:o,className:a}),P=B.useMemo(()=>{if(!b||!b.from||!b.to)return e??d.selectDate;let O=[];return b.from&&O.push(Gf(b.from,u)),b.to&&O.push(Gf(b.to,u)),`${O.join(" - ")}`},[b,e,d]);return $.jsx(Ake,{open:g,onOpenChange:O=>{typeof(b==null?void 0:b.to)>"u"&&typeof(b==null?void 0:b.from)<"u"&&A({...b,to:b.from}),!O&&b&&(n==null||n(b)),y(O)},contentProps:{className:"oui-w-auto oui-p-0",align:"start"},content:$.jsx(jj,{numberOfMonths:x?1:2,...f,mode:"range",selected:b,onSelect:(O,q)=>{b!=null&&b.from&&(b!=null&&b.to)?A({from:q}):A(O)}}),children:$.jsxs("button",{className:C({className:"oui-datepicker-trigger oui-group"}),children:[$.jsx("span",{className:"oui-datepicker-trigger-icon",children:$.jsx(Oj,{size:14,className:"oui-text-inherit",opacity:1})}),$.jsx("span",{children:P}),$.jsx(gS,{size:12,className:"oui-datepicker-trigger-arrow oui-text-inherit oui-transition-transform group-data-[state=open]:oui-rotate-180 group-data-[state=closed]:oui-rotate-0",opacity:1})]})})};Hj.displayName="DateRangePicker";function m4t(t,e){let r=B.useRef(null);return B.useCallback(n=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(n)},e)},[t,e])}function y4t(t,e){let r=a=>({year:a.getFullYear(),month:a.getMonth(),day:a.getDate()}),n=r(t.from),i=r(t.to),s=r(e.from),o=r(e.to);return n.year===s.year&&n.month===s.month&&n.day===s.day&&i.year===o.year&&i.month===o.month&&i.day===o.day}var qj=t=>{let{placeholder:e,dateFormat:r,onChange:n,value:i,size:s,className:o,...a}=t,[u]=Kg("picker"),{trigger:f}=Hu({size:s,className:o}),[d,g]=B.useState(!1),y=B.useMemo(()=>{if(typeof i>"u")return e??u.selectDate},[i,e,u]);return $.jsx(Ake,{open:d,onOpenChange:g,contentProps:{className:"oui-w-auto oui-p-0"},content:$.jsx(jj,{onSelect:(b,A,x,k)=>{var R;(R=a.onSelect)==null||R.call(a,b,A,x,k),b&&(n==null||n(b),g(!1))},...a}),children:$.jsxs("button",{className:f({className:"orderly-datepicker-trigger oui-group"}),children:[$.jsx("span",{className:"orderly-datepicker-trigger-icon",children:$.jsx(Oj,{size:14,className:"oui-text-inherit",opacity:1})}),$.jsx("span",{children:y}),$.jsx(gS,{size:12,className:"orderly-datepicker-trigger-arrow oui-text-inherit oui-transition-transform group-data-[state=open]:oui-rotate-180 group-data-[state=closed]:oui-rotate-0",opacity:1})]})})};qj.displayName="DatePicker";var b4t=t=>$.jsx("div",{children:$.jsx(qj,{size:"xs",...t,mode:"single",onChange:e=>{}})}),v4t=t=>{let{onChange:e,...r}=t;return $.jsx("div",{className:"oui-min-w-[180px]",children:$.jsx(Hj,{size:"xs",...r,onChange:n=>{typeof e=="function"&&e(n)}})})},w4t=t=>{let{onChange:e,type:r,isCombine:n,...i}=t;switch(r){case"select":return $.jsx("div",{className:"oui-min-w-24",children:n?$.jsx(Rke,{size:"xs",...i,onValueChange:e}):$.jsx($j,{size:"xs",...i,onValueChange:e})});case"date":return $.jsx(b4t,{...i});case"range":return $.jsx(v4t,{...i,onChange:e});case"symbol":return $.jsx("div",{});case"input":default:return $.jsx("div",{children:"No Component"})}},VNt=t=>$.jsxs(Il,{justify:"start",gapX:3,py:3,width:"100%",className:Dt("oui-data-filter-bar oui-border-b oui-border-line",t.className),children:[t.items.map((e,r)=>(e.type==="date"&&(e.mode="range"),$.jsx(w4t,{...e,onChange:n=>{t.onFilter({name:e.name??e.type,value:n})}},r))),t.trailing&&$.jsx("div",{className:"oui-flex-1 oui-flex oui-justify-end",children:t.trailing})]}),GNt=t=>{let e=B.useRef(0),[r,n]=B.useState((t==null?void 0:t.page)??1),[i,s]=B.useState((t==null?void 0:t.pageSize)??10),o=B.useCallback(d=>{if(s(d),e.current>0){let g=Math.ceil(e.current/d);r>g&&n(g)}},[r]),a=d=>{let g=(d==null?void 0:d.total)??e.current;e.current=g;let y=(d==null?void 0:d.records_per_page)??i,b=g?Math.ceil(g/y):0,A=Math.min((d==null?void 0:d.current_page)??r,b);return{count:g,page:A,pageSize:y,pageTotal:b}},u=B.useCallback(d=>({...a(d),onPageChange:n,onPageSizeChange:o}),[r,i]),f=B.useMemo(()=>({page:r,pageSize:i,onPageChange:n,onPageSizeChange:o}),[u]);return B.useEffect(()=>{(t==null?void 0:t.resetPageWhenPageSizeChange)!==!1&&n(1)},[i,t==null?void 0:t.resetPageWhenPageSizeChange]),{page:r,pageSize:i,setPage:n,setPageSize:o,parseMeta:a,pagination:f,parsePagination:u}};function S4t(){return $.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none",viewBox:"0 0 64 64",children:[$.jsx("rect",{width:"36",height:"48",x:"18",y:"5",fill:"#07080A",rx:"4"}),$.jsx("rect",{width:"36",height:"48",x:"11",y:"12",fill:"url(#paint0_linear_309_13641)",rx:"4"}),$.jsx("rect",{width:"36",height:"48",x:"9",y:"10",fill:"url(#paint1_linear_309_13641)",rx:"4"}),$.jsx("path",{fill:"#303237",d:"M36.636 53.323V50H6v3.323C6 55.91 7.943 58 10.462 58H41c-2.392 0-4.364-2.168-4.364-4.663"}),$.jsx("rect",{width:"9",height:"2",x:"15",y:"16",fill:"#3F4146",rx:"1"}),$.jsx("rect",{width:"16",height:"2",x:"15",y:"24",fill:"#3F4146",rx:"1"}),$.jsx("rect",{width:"12",height:"3",x:"28",y:"29",fill:"#45484E",rx:"1.5"}),$.jsx("path",{fill:"#45484E",d:"M33 23a2 2 0 012-2h1.5a1.5 1.5 0 010 3H34a1 1 0 01-1-1z"}),$.jsx("rect",{width:"9",height:"3",x:"29",y:"37",fill:"#45484E",rx:"1.5"}),$.jsx("rect",{width:"13",height:"2",x:"15",y:"30",fill:"#3F4146",rx:"1"}),$.jsx("rect",{width:"15",height:"2",x:"15",y:"36",fill:"#3F4146",rx:"1"}),$.jsx("rect",{width:"24",height:"2",x:"15",y:"42",fill:"#3F4146",rx:"1"}),$.jsx("path",{fill:"#181A1D",fillRule:"evenodd",d:"M27.24 30.022a12.451 12.451 0 1122.195 9.87l5.328 5.328-1.58 1.58-5.241-5.24a12.452 12.452 0 01-20.703-11.537zm14.193 12.39A10.156 10.156 0 1037.47 22.49a10.156 10.156 0 003.963 19.92z",clipRule:"evenodd"}),$.jsx("path",{fill:"#54565B",fillRule:"evenodd",d:"M27.24 29.022a12.451 12.451 0 1122.195 9.87l5.328 5.328-1.58 1.58-5.241-5.24a12.452 12.452 0 01-20.703-11.537zm14.193 12.39A10.156 10.156 0 1037.47 21.49a10.156 10.156 0 003.963 19.92z",clipRule:"evenodd"}),$.jsx("path",{fill:"#16181B",d:"M51.755 43.867c-.99.99-.99 2.596 0 3.586l3.754 3.754a2.536 2.536 0 103.586-3.586l-3.754-3.754a2.536 2.536 0 00-3.586 0z"}),$.jsx("path",{fill:"#4E525C",d:"M51.755 42.867c-.99.99-.99 2.596 0 3.586l3.754 3.754a2.536 2.536 0 103.586-3.586l-3.754-3.754a2.536 2.536 0 00-3.586 0z"}),$.jsxs("defs",{children:[$.jsxs("linearGradient",{id:"paint0_linear_309_13641",x1:"27.286",x2:"48.844",y1:"55.742",y2:"25.703",gradientUnits:"userSpaceOnUse",children:[$.jsx("stop",{stopColor:"#0C0D10"}),$.jsx("stop",{offset:"1",stopColor:"#121418"})]}),$.jsxs("linearGradient",{id:"paint1_linear_309_13641",x1:"25.286",x2:"46.844",y1:"53.742",y2:"23.703",gradientUnits:"userSpaceOnUse",children:[$.jsx("stop",{stopColor:"#1B1D22"}),$.jsx("stop",{offset:"1",stopColor:"#26292E"})]})]})]})}var _4t=S4t,qke=t=>{let[e]=Kg("empty");return $.jsxs(Il,{itemAlign:"center",direction:"column",gapY:4,className:t.className,children:[$.jsx(Wg,{children:$.jsx(_4t,{})}),$.jsx(mS,{as:"div",intensity:36,size:"2xs",children:t.title??e.description})]})};Hke({name:"emptyDataIdentifier",positions:["emptyDataIdentifier"]})(qke);var A4t={};Ij(A4t,{DownloadFeature:()=>x4t});var x4t={createTable:t=>{t.getPlainTextData=()=>{let e=t.getAllColumns().filter(n=>n.columnDef.meta.type!=="action").map(n=>{let{title:i,plantTextTitle:s}=n.columnDef.meta;return s||i}),r=t.getRowModel().rows.map(n=>n.getVisibleCells().filter(i=>i.column.columnDef.meta.type!=="action").map(i=>{let{original:s,index:o}=i.row,{renderPlantText:a}=i.column.columnDef.meta||{},u=i.getValue();return typeof a=="function"&&(u=a(u,s,o)),`"${u}"`}));return[e,...r]},t.download=e=>{let r=t.getPlainTextData();k4t(r,e)}}};function E4t(t){return t.map(e=>e.join(",")).join(`
`)}function k4t(t,e=`${Date.now()}.csv`){let r=E4t(t),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.setAttribute("download",e),s.click(),URL.revokeObjectURL(i)}var xy=Dl({slots:{overlay:["oui-dialog-overlay","oui-fixed","oui-inset-0","oui-z-50","oui-bg-black/80","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0"],content:["oui-dialog-content","oui-fixed","oui-left-[50%]","oui-top-[50%]","oui-z-50","oui-w-full","oui-max-w-lg","oui-translate-x-[-50%]","oui-translate-y-[-50%]","oui-text-base-contrast-54","oui-px-4 lg:oui-px-5","oui-shadow-lg","oui-duration-200","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[state=closed]:oui-slide-out-to-left-1/2","data-[state=closed]:oui-slide-out-to-top-[48%]","data-[state=open]:oui-slide-in-from-left-1/2","data-[state=open]:oui-slide-in-from-top-[48%]","sm:oui-rounded-xl"],body:["oui-dialog-body","oui-py-4 lg:oui-py-5","oui-text-xs"],close:["oui-dialog-close-btn","oui-absolute","oui-right-4","oui-top-4","oui-ring-offset-background","oui-transition-opacity","hover:oui-opacity-100","disabled:oui-pointer-events-none"],header:["oui-dialog-header","oui-flex","oui-flex-col"],footer:["oui-dialog-footer","oui-flex","oui-flex-row","oui-justify-end","oui-space-x-2","oui-pb-5","oui-pt-2 lg:oui-pt-3"],title:["oui-dialog-title","oui-text-base","oui-min-h-11 lg:oui-min-h-[46px]","oui-flex","oui-items-center","oui-text-base-contrast"],desc:["oui-dialog-desc","oui-text-xs","oui-text-warning-darken","oui-pt-2","oui-text-center","oui-pb-3"]},variants:{size:{xs:{content:["oui-max-w-xs"]},sm:{content:["oui-max-w-sm"]},md:{content:["oui-max-w-md"]},lg:{content:["oui-max-w-lg"]},xl:{content:["oui-max-w-xl"]}},intensity:{100:{content:["oui-bg-base-1"]},200:{content:["oui-bg-base-2"]},300:{content:["oui-bg-base-3"]},400:{content:["oui-bg-base-4"]},500:{content:["oui-bg-base-5"]},600:{content:["oui-bg-base-6"]},700:{content:["oui-bg-base-7"]},800:{content:["oui-bg-base-8"]},900:{content:["oui-bg-base-9"]}}},defaultVariants:{intensity:800}}),T4t=S2e,I4t=_2e,Vke=B.forwardRef(({className:t,...e},r)=>{let{overlay:n}=xy();return $.jsx(d8,{ref:r,className:n({className:t}),...e})});Vke.displayName=d8.displayName;var Gke=B.forwardRef(({className:t,children:e,size:r,closable:n=!0,intensity:i,...s},o)=>{let{content:a,close:u}=xy({className:t,size:r,intensity:i});return $.jsxs(I4t,{children:[$.jsx(Vke,{}),$.jsxs(h8,{ref:o,className:a({className:t}),...s,children:[e,n&&$.jsxs(A2e,{className:u(),"data-testid":"oui-testid-dialog-content-close-btn",children:[$.jsx(A8,{size:16,color:"white",opacity:.98}),$.jsx("span",{className:"oui-sr-only",children:"Close"})]})]})]})});Gke.displayName=h8.displayName;var Yke=({className:t,...e})=>{let{header:r}=xy();return $.jsx("div",{className:r({className:t}),...e})};Yke.displayName="DialogHeader";var R4t=({className:t,...e})=>{let{body:r}=xy();return $.jsx("div",{className:r({className:t}),...e})},Zke=({className:t,...e})=>{let{footer:r}=xy();return $.jsx("div",{className:r({className:t}),...e})};Zke.displayName="DialogFooter";var Xke=B.forwardRef(({className:t,...e},r)=>{let{title:n}=xy();return $.jsx(pj,{ref:r,className:n({className:t}),...e})});Xke.displayName=pj.displayName;var Qke=B.forwardRef(({className:t,...e},r)=>{let{desc:n}=xy();return $.jsx(p8,{ref:r,className:n({className:t}),...e})});Qke.displayName=p8.displayName;var M4t=bs({base:["oui-pointer-events-none oui-box-content"],variants:{intensity:{4:"oui-border-line-4",6:"oui-border-line-6",8:"oui-border-line",12:"oui-border-line-12",16:"oui-border-line-16"},direction:{horizontal:["oui-border-b"],vertical:["oui-border-l"]},lineStyle:{dashed:"oui-border-dashed",dotted:"oui-border-dotted"},mx:{2:"oui-mx-2",4:"oui-mx-4",6:"oui-mx-6",8:"oui-mx-8",10:"oui-mx-10"},my:{2:"oui-my-2",4:"oui-my-4",6:"oui-my-6",8:"oui-my-8",10:"oui-my-10"}},defaultVariants:{direction:"horizontal",intensity:4}}),T8=Ct.forwardRef((t,e)=>{let{className:r,intensity:n,direction:i,lineStyle:s,mx:o,my:a,...u}=t;return $.jsx("div",{ref:e,...u,className:M4t({direction:i,intensity:n,className:r,lineStyle:s,mx:o,my:a})})});T8.displayName="Divider";var C4t=t=>{var s,o;let{actions:e}=t,[r,n]=B.useState(((s=e==null?void 0:e.primary)==null?void 0:s.loading)??!1);if(B.useEffect(()=>{var a,u;return(a=e==null?void 0:e.primary)!=null&&a.loading&&n((u=e==null?void 0:e.primary)==null?void 0:u.loading),()=>{n(!1)}},[(o=e==null?void 0:e.primary)==null?void 0:o.loading]),!e)return null;let i=B.useMemo(()=>{var u,f;let a=[];if(e.secondary&&typeof e.secondary.onClick=="function"){let{fullWidth:d=!0,color:g="gray",label:y,...b}=e.secondary;a.push($.jsx(Mj,{...b,"data-testid":(u=e.secondary)==null?void 0:u["data-testid"],color:g,fullWidth:d,children:y},"secondary"))}if(e.primary&&typeof e.primary.onClick=="function"){let{fullWidth:d=!0,color:g,disabled:y,label:b,onClick:A,...x}=e.primary;a.push($.jsx(aIt,{...x,"data-testid":(f=e.primary)==null?void 0:f["data-testid"],onClick:async k=>{if(!r)try{n(!0),await A(k)}catch{}finally{n(!1)}},disabled:y||r,loading:r,fullWidth:d,color:g,children:b},"primary"))}return a},[e,r]);return $.jsx(Zke,{className:t.className,children:i})},I8=t=>{var r,n,i;let e=typeof t.title=="function"?t.title():t.title;return $.jsx(T4t,{open:t.open,onOpenChange:t.onOpenChange,children:$.jsxs(Gke,{size:t.size,closable:t.closable,onOpenAutoFocus:s=>s.preventDefault(),onCloseAutoFocus:s=>s.preventDefault(),className:(r=t.classNames)==null?void 0:r.content,...t.contentProps,children:[e&&$.jsxs($.Fragment,{children:[$.jsx(Yke,{children:$.jsx(Xke,{children:e})}),$.jsx(T8,{})]}),$.jsx(R4t,{className:(n=t.classNames)==null?void 0:n.body,children:t.children}),typeof t.description<"u"&&$.jsx(Qke,{children:t.description}),$.jsx(C4t,{actions:t.actions,className:(i=t.classNames)==null?void 0:i.footer})]})})};function P4t(t){let e=s=>typeof window<"u"?window.matchMedia(s).matches:!1,[r,n]=B.useState(e(t));function i(){n(e(t))}return B.useEffect(()=>{var o;let s=window==null?void 0:window.matchMedia(t);return i(),s!=null&&s.addListener?s==null||s.addListener(i):(o=s==null?void 0:s.addEventListener)==null||o.call(s,"change",i),()=>{var a;s!=null&&s.removeListener?s==null||s.removeListener(i):(a=s==null?void 0:s.removeEventListener)==null||a.call(s,"change",i)}},[t]),r}function Jke(){let t=P4t("(max-width: 768px)");return{isMobile:t,isDesktop:!t}}function YNt(t,e){B.useEffect(()=>{if(!t)return;let r=new ResizeObserver(n=>{for(let i of n)e(i)});return r.observe(t),()=>{r.unobserve(t)}},[t])}var N4t=t=>{let[e]=Kg("dialog"),{title:r,message:n,open:i,onOpenChange:s,onOk:o,onCancel:a,okLabel:u=e.ok,cancelLabel:f=e.cancel,size:d,classNames:g}=t,{isMobile:y}=Jke(),b=B.useMemo(()=>{var x,k;if(typeof o!="function"&&typeof a!="function")return;let A={};return typeof a=="function"&&(A.secondary={label:f,onClick:a,size:"md",fullWidth:!0,...(x=t.actions)==null?void 0:x.secondary}),typeof o=="function"&&(A.primary={label:u,size:"md",fullWidth:!0,className:"oui-w-full lg:oui-w-[154px]",onClick:o,...(k=t.actions)==null?void 0:k.primary}),A},[o,a,u,f,t.actions]);return $.jsx(I8,{open:i,title:r,size:d||(y?"xs":"sm"),actions:b,onOpenChange:s,classNames:{content:Dt("oui-bg-base-8 oui-font-semibold oui-border oui-border-line-6","oui-p-4 oui-pt-0 lg:oui-p-5 lg:oui-pt-0",g==null?void 0:g.content),body:Dt("oui-py-4 lg:oui-py-5",g==null?void 0:g.body),footer:Dt("oui-justify-center oui-pb-0 oui-pt-2 lg:oui-pt-3",g==null?void 0:g.footer)},children:n})},RB=Symbol("modalId"),B4t=0,O4t=()=>`__modal_${B4t++}`,Vj=t=>typeof t=="string"?t:(t[RB]||(t[RB]=O4t()),t[RB]);function Ey(t,e){let r=B.useContext(R8),n=B.useContext(t3e),i,s=t&&typeof t!="string";if(t?i=Vj(t):i=n,!i)throw new Error("modalId is required");let o=i;B.useEffect(()=>{s&&Gj(o,t,e)},[s,i,t,e]);let a=r[o],u=B.useCallback(R=>ol.show(o,R),[o]),f=B.useCallback(()=>ol.hide(o),[o]),d=B.useCallback(()=>ol.remove(o),[o]),g=B.useCallback(R=>{R||(x("cancel"),f())},[o]),y=B.useCallback(R=>{ol.setStates(o,R)},[o]),b=B.useCallback(R=>{ol.updateArgs(o,R)},[o]),A=B.useCallback(R=>{var C;(C=mh[o])==null||C.resolve(R),delete mh[o]},[o]),x=B.useCallback(R=>{var C;(C=mh[o])==null||C.reject(R),delete mh[o]},[o]),k=B.useCallback(R=>{var C;(C=Kb[o])==null||C.resolve(R),delete Kb[o]},[]);return{id:o,args:a==null?void 0:a.args,states:a==null?void 0:a.states,visible:!!(a!=null&&a.visible),keepMounted:!!(a!=null&&a.keepMounted),show:u,hide:f,onOpenChange:g,setStates:y,updateArgs:b,remove:d,resolve:A,reject:x,resolveHide:k}}var gh=new Map,rE=t=>({id:e,defaultVisible:r,keepMounted:n,...i})=>{var d;let{args:s,show:o}=Ey(e),a=B.useContext(R8),u=!!a[e];B.useEffect(()=>(r&&o(),Sx[e]=!0,()=>{n||delete Sx[e]}),[e,o,r]),B.useEffect(()=>{n&&ol.setStates(e,{keepMounted:!0})},[e,n]);let f=(d=a[e])==null?void 0:d.delayVisible;return B.useEffect(()=>{f&&o(s)},[f,s,o]),u?$.jsx(t3e.Provider,{value:e,children:$.jsx(t,{...i,...s})}):null};function Gj(t,e,r){gh.has(t)?gh.set(t,{comp:gh.get(t).comp,props:r}):gh.set(t,{comp:e,props:r})}var L4t=t=>{gh.delete(t)},e3e={},Sx={},R8=B.createContext(e3e),t3e=B.createContext(null),mh={},Kb={},yS=()=>{throw new Error("No dispatch method detected, did you embed your app with Modal.Provider?")};function D4t(t,e){return{type:"SHOW_MODAL",payload:{id:t,args:e}}}function F4t(t){return{type:"HIDE_MODAL",payload:{id:t}}}function $4t(t){return{type:"DESTROY_MODAL",payload:{id:t}}}function U4t(t,e){return{type:"UPDATE_ARGS",payload:{id:t,args:e}}}function z4t(t,e){return{type:"SET_MODAL_STATES",payload:{id:t,states:e}}}var W4t=(t,e)=>{let{id:r,args:n}=e.payload;switch(e.type){case"SHOW_MODAL":return{...t,[r]:{...t[r],id:r,args:n,visible:!!Sx[r],delayVisible:!Sx[r]}};case"HIDE_MODAL":return{...t,[r]:{...t[r],visible:!1}};case"DESTROY_MODAL":{let i={...t};return delete i[r],i}case"UPDATE_ARGS":return{...t,[r]:{...t[r],args:{...t[r].args,...n}}};case"SET_MODAL_STATES":return{...t,[r]:{...t[r],states:{...t.states,...e.payload.states}}};default:return t}},K4t=()=>{let t=B.useContext(R8),e=Object.keys(t).filter(n=>!!t[n]);e.forEach(n=>{!gh.has(n)&&Sx[n]});let r=e.filter(n=>gh.has(n)).map(n=>({id:n,...gh.get(n)}));return $.jsx($.Fragment,{children:r.map(n=>{let i=n.comp;return $.jsx(i,{id:n.id,...n.props},n.id)})})},ZNt=t=>{let[e,r]=B.useReducer(W4t,e3e);return yS=r,$.jsxs(R8.Provider,{value:e,children:[t.children,$.jsx(K4t,{})]})};function j4t(t,e){let r=Vj(t);if(typeof t!="string"&&!gh.has(r)&&Gj(r,t),yS(D4t(r,e)),!mh[r]){let n,i,s=new Promise((o,a)=>{n=o,i=a});mh[r]={resolve:n,reject:i,promise:s}}return mh[r].promise}function H4t(t){let e=Vj(t);if(yS(F4t(e)),delete mh[e],!Kb[e]){let r,n,i=new Promise((s,o)=>{r=s,n=o});Kb[e]={resolve:r,reject:n,promise:i}}return Kb[e].promise}function q4t(t){yS($4t(t)),delete mh[t],delete Kb[t]}function V4t(t,e){yS(z4t(t,e))}function G4t(t,e){yS(U4t(t,e))}var ol={show:j4t,hide:H4t,remove:q4t,setStates:V4t,updateArgs:G4t},r3e=S2e,Y4t=ukt,Z4t=_2e,n3e=B.forwardRef(({className:t,...e},r)=>$.jsx(d8,{className:Dt("oui-fixed oui-inset-0 oui-z-50 oui-bg-black/80  data-[state=open]:oui-animate-in data-[state=closed]:oui-animate-out data-[state=closed]:oui-fade-out-0 data-[state=open]:oui-fade-in-0",t),...e,ref:r}));n3e.displayName=d8.displayName;var X4t=Dl({base:"oui-fixed oui-z-50 oui-gap-4 oui-bg-base-8 oui-px-4 oui-shadow-lg oui-transition oui-ease-in-out data-[state=closed]:oui-duration-260 data-[state=open]:oui-duration-300 data-[state=open]:oui-animate-in data-[state=closed]:oui-animate-out",variants:{side:{top:"oui-inset-x-0 oui-top-0 oui-border-b data-[state=closed]:oui-slide-out-to-top data-[state=open]:oui-slide-in-from-top",bottom:"oui-inset-x-0 oui-bottom-0 oui-rounded-t-2xl data-[state=closed]:oui-slide-out-to-bottom data-[state=open]:oui-slide-in-from-bottom",left:"oui-inset-y-0 oui-left-0 oui-h-full oui-w-3/4 data-[state=closed]:oui-slide-out-to-left data-[state=open]:oui-slide-in-from-left sm:oui-max-w-sm",right:"oui-inset-y-0 oui-right-0 oui-h-full oui-w-3/4 oui-border-l data-[state=closed]:oui-slide-out-to-right data-[state=open]:oui-slide-in-from-right sm:oui-max-w-sm"}},defaultVariants:{side:"bottom"}}),Yj=B.forwardRef(({side:t="bottom",closeable:e=!0,className:r,children:n,...i},s)=>$.jsxs(Z4t,{children:[$.jsx(n3e,{}),$.jsxs(h8,{ref:s,className:Dt(X4t({side:t}),r),onOpenAutoFocus:o=>o.preventDefault(),onCloseAutoFocus:o=>o.preventDefault(),...i,children:[e&&$.jsxs(A2e,{className:Dt("oui-absolute oui-right-4 oui-top-4 oui-rounded-sm oui-ring-offset-base-700 oui-transition-opacity  focus:oui-outline-none focus:oui-ring-2 focus:oui-ring-ring focus:oui-ring-offset-2 disabled:oui-pointer-events-none data-[state=open]:oui-bg-secondary"),children:[$.jsx(A8,{size:16,color:"white",opacity:.98}),$.jsx("span",{className:"oui-sr-only",children:"Close"})]}),n]})]}));Yj.displayName=h8.displayName;var i3e=({className:t,leading:e,...r})=>$.jsxs("div",{className:Dt("oui-sheet-header oui-grid oui-grid-cols-[40px_1fr_40px] oui-items-center oui-min-h-12"),children:[$.jsx("div",{children:e}),$.jsx("div",{...r,className:Dt("oui-flex oui-flex-col oui-space-y-2 oui-text-center oui-text-lg oui-text-base-contrast",t)})]});i3e.displayName="SheetHeader";var s3e=({className:t,...e})=>$.jsx("div",{className:Dt("oui-py-4",t),...e});s3e.displayName="DialogBody";var o3e=B.forwardRef(({className:t,leading:e,...r},n)=>$.jsxs("div",{className:"oui-sheet-header oui-grid oui-grid-cols-[40px_1fr_40px] oui-items-center",ref:n,children:[$.jsx("div",{children:e}),$.jsx("div",{className:Dt("oui-flex oui-flex-col oui-space-y-2 oui-text-center oui-text-lg oui-text-base-contrast",t),...r})]}));o3e.displayName=pj.displayName;var Q4t=B.forwardRef(({className:t,...e},r)=>$.jsx(p8,{ref:r,className:Dt("oui-sheet-description oui-text-2xs oui-text-base-contrast-54",t),...e}));Q4t.displayName=p8.displayName;function J4t(t){return M8.create(e=>{let{title:r,leading:n,classNames:i,contentProps:s,closable:o,...a}=e,{visible:u,hide:f,resolve:d,reject:g,onOpenChange:y}=Ey();return $.jsx(a3e,{open:u,onOpenChange:y,title:r,leading:n,classNames:i,closable:o,contentProps:s,children:$.jsx(t,{...a,close:f,resolve:d,reject:g})})})}function XNt(t,e,r){M8.register(t,J4t(e),r)}var eRt=t=>{let{action:e}=t,r=B.useCallback(()=>{var i;typeof e.onClick=="function"?e.onClick(e):(i=t.onClick)==null||i.call(t,{...e,index:t.index})},[e]),n=B.useMemo(()=>e.label,[e.label]);return $.jsx("div",{className:Dt("oui-flex oui-justify-center oui-items-center oui-text-lg oui-h-[52px] oui-cursor-pointer",t.active&&"oui-text-primary-darken"),onClick:r,children:n})},tRt=t=>$.jsx("div",{className:"oui-relative oui-h-[1px] oui-bg-base-300 oui-mt-[-1px]"}),rRt=t=>$.jsx($.Fragment,{children:t.actionSheets.map((e,r)=>e.type==="division"?$.jsx(tRt,{},r):$.jsxs(B.Fragment,{children:[e.value==="cancel"&&$.jsx("div",{className:"oui-h-2 oui-bg-base-10"}),$.jsx(eRt,{onClick:n=>{var i,s;n.value!=="cancel"&&(typeof e.onClick=="function"?e.onClick(e):((i=t.onValueChange)==null||i.call(t,n.value),(s=t.onClose)==null||s.call(t)))},index:r,action:e,active:typeof t.value<"u"&&t.value.value===e.value}),r<t.actionSheets.length-1&&$.jsx(T8,{className:"oui-border-base-contrast/10"})]},e.value||r))}),nRt=t=>{let[e]=Kg("modal"),r=B.useMemo(()=>{let n=[];if(Array.isArray(t.actionSheets))for(let i of t.actionSheets)typeof i=="string"?i==="Cancel"?n.push({label:e.cancel,value:"cancel",onClick:()=>{var s;(s=t.onClose)==null||s.call(t)}}):i==="Confirm"?n.push({label:e.confirm,value:"confirm"}):i.startsWith("---")&&n.push({label:"---",value:"---",type:"division"}):n.push(i);return n},[t.actionSheets]);return $.jsxs(r3e,{open:t.open,onOpenChange:t.onOpenChange,children:[typeof t.children<"u"&&$.jsx(Y4t,{asChild:!0,children:t.children}),$.jsx(Yj,{closeable:!1,className:"oui-action-sheet-content !oui-p-0 oui-pb-[env(safe-area-inset-bottom)]",onOpenAutoFocus:n=>n.preventDefault(),children:$.jsx(rRt,{actionSheets:r,onClose:t.onClose,onValueChange:t.onValueChange,value:t.value})})]})},a3e=t=>{let{open:e,onOpenChange:r,classNames:n,contentProps:i,closable:s=!0}=t,o=typeof t.title=="function"?t.title():t.title;return $.jsx(r3e,{open:e,onOpenChange:r,children:$.jsxs(Yj,{onOpenAutoFocus:a=>a.preventDefault(),className:n==null?void 0:n.content,closeable:s,...i,children:[o&&$.jsxs($.Fragment,{children:[$.jsx(i3e,{leading:t.leading,children:$.jsx(o3e,{children:o})}),$.jsx(T8,{})]}),$.jsx(s3e,{className:n==null?void 0:n.body,children:t.children})]})})},iRt=rE(t=>{let{visible:e,onOpenChange:r}=Ey();return $.jsx(a3e,{open:e,onOpenChange:r,...t,children:t.content})}),sRt=t=>ol.show(iRt,t),oRt=rE(t=>{let{onOk:e}=t,{visible:r,hide:n,onOpenChange:i}=Ey(),s=B.useCallback(()=>Promise.resolve().then(e).then(n),[e]);return $.jsx(N4t,{open:r,onOpenChange:i,...t,onOk:s})}),aRt=t=>ol.show(oRt,t),uRt=rE(t=>{let{visible:e,onOpenChange:r}=Ey();return $.jsx(I8,{title:t.title,open:e,onOpenChange:r,size:t.size,closable:t.closable,children:t.content})}),cRt=t=>ol.show(uRt,t),lRt=rE(t=>{let{size:e}=t,{visible:r,hide:n,resolve:i,reject:s,onOpenChange:o}=Ey(),[a]=Kg("modal"),{isMobile:u}=Jke(),f=u?"xs":"sm",d=typeof t.title=="function"?t.title():t.title;return $.jsx(I8,{open:r,title:$.jsx(mS,{size:"base",weight:"semibold",children:d}),size:e||f,classNames:{content:t.contentClassName,body:t.bodyClassName,...t.classNames},closable:!0,onOpenChange:g=>{g||s(),o(g)},actions:{primary:{label:t.okLabel??a.confirm,className:"oui-text-sm oui-font-semibold oui-w-[100%] oui-h-8","data-testid":"oui-testid-confirm-dialog-confirm-btn",onClick:()=>Promise.resolve().then(()=>typeof t.onOk=="function"?t.onOk():!0).then(g=>{i(g),n()},g=>{s(g),n()})},secondary:{label:t.cancelLabel??a.cancel,className:"oui-text-sm oui-font-semibold oui-w-[100%] oui-h-8","data-testid":"oui-testid-confirm-dialog-cancel-btn",onClick:()=>Promise.resolve().then(()=>typeof t.onCancel=="function"?t.onCancel():Promise.reject("cancel")).then(g=>{i(g),n()},g=>{s(g),n()})}},children:$.jsx("div",{className:"oui-text-2xs lg:oui-text-sm",children:t.content})})}),fRt=t=>ol.show(lRt,t),M8={create:rE,register:Gj,unregister:L4t,...ol,confirm:fRt,alert:aRt,sheet:sRt,dialog:cRt};function dRt(t){return M8.create(e=>{let{visible:r,hide:n,resolve:i,reject:s,onOpenChange:o}=Ey(),{title:a,size:u,contentClassName:f,bodyClassName:d,closable:g,classNames:y,...b}=e;return $.jsx(I8,{open:r,onOpenChange:o,size:u,title:a,closable:g,classNames:{content:f,body:d,...y},contentProps:{onInteractOutside:A=>{document.querySelector("#privy-dialog")&&A.preventDefault()}},children:$.jsx(t,{...b,close:n,resolve:i,reject:s})})})}function QNt(t,e,r){M8.register(t,dRt(e),r)}var Zj=bs({slots:{list:["oui-header-list","oui-flex","oui-items-center"],content:["oui-ring-offset-background","focus-visible:oui-outline-none","focus-visible:oui-ring-2","focus-visible:oui-ring-ring","focus-visible:oui-ring-offset-2"],trigger:["oui-tab-trigger","oui-inline-flex","oui-items-center","oui-justify-center","oui-whitespace-nowrap","oui-box-content","oui-font-medium","oui-text-base-contrast-36 hover:oui-text-base-contrast-54","oui-ring-offset-background","oui-transition-all","oui-space-x-1","focus-visible:oui-outline-none","focus-visible:oui-ring-2","focus-visible:oui-ring-ring","focus-visible:oui-ring-offset-2","disabled:oui-pointer-events-none","disabled:oui-opacity-50"],icon:["oui-text-inherit"]},variants:{variant:{text:{list:["oui-space-x-6","oui-border-b","oui-border-line-6","oui-px-1"],trigger:["oui-pb-2","oui-relative","data-[state=active]:oui-text-base-contrast","data-[state=active]:after:oui-content-['']","data-[state=active]:after:oui-block","data-[state=active]:after:oui-h-[3px]","data-[state=active]:after:oui-bg-white","data-[state=active]:after:oui-absolute","data-[state=active]:after:oui-rounded-full","data-[state=active]:after:-oui-bottom-0","data-[state=active]:after:oui-left-0","data-[state=active]:after:oui-right-0"]},contained:{list:["oui-space-x-[6px]"],trigger:["oui-rounded","oui-px-3","oui-bg-base-7 hover:oui-bg-base-5","oui-text-base-contrast-36","data-[state=active]:oui-bg-base-5","data-[state=active]:oui-text-base-contrast"],icon:["oui-text-inherit"]}},size:{sm:{},md:{},lg:{},xl:{}}},compoundVariants:[{size:"sm",variant:"text",className:{trigger:["oui-text-sm","oui-h-5"],icon:["oui-w-[10px]","oui-h-[10px]"]}},{size:"md",variant:"text",className:{trigger:["oui-text-base","oui-h-6"],icon:["oui-w-3","oui-h-3"]}},{size:"lg",variant:"text",className:{trigger:["oui-text-lg","oui-h-7"],icon:["oui-w-[14px]","oui-h-[14px]"]}},{size:"xl",variant:"text",className:{trigger:["oui-text-lg","oui-h-7"],icon:["oui-w-4","oui-h-4"]}},{size:"sm",variant:"contained",className:{list:["oui-space-x-1"],trigger:["oui-text-2xs","oui-h-6"],icon:["oui-w-[10px]","oui-h-[10px]"]}},{size:"md",variant:"contained",className:{trigger:["oui-text-2xs","oui-h-7"],icon:["oui-w-3","oui-h-3"]}},{size:"lg",variant:"contained",className:{trigger:["oui-text-sm","oui-h-8","oui-rounded-md"],icon:["oui-w-[14px]","oui-h-[14px]"]}},{size:"xl",variant:"contained",className:{trigger:["oui-text-base","oui-h-9","oui-rounded-md"],icon:["oui-w-4","oui-h-4"]}}],defaultVariants:{size:"md",variant:"text"}}),hRt=Skt,u3e=B.forwardRef(({className:t,size:e,variant:r,...n},i)=>{let{list:s}=Zj({size:e,variant:r});return $.jsx(z2e,{ref:i,className:s({className:t}),...n})});u3e.displayName=z2e.displayName;var c3e=B.forwardRef(({className:t,size:e,children:r,icon:n,variant:i,...s},o)=>{let{trigger:a,icon:u}=Zj({size:e,variant:i});return $.jsxs(W2e,{ref:o,className:a({className:t}),...s,children:[typeof n<"u"?B.cloneElement(n,{className:u(),opacity:1}):null,$.jsx("span",{children:r})]})});c3e.displayName=W2e.displayName;var l3e=B.forwardRef(({className:t,size:e,...r},n)=>{let{content:i}=Zj({size:e});return $.jsx(K2e,{ref:n,className:i({className:t}),...r})});l3e.displayName=K2e.displayName;var pRt=t=>(B.useEffect(()=>{if(t.components&&Object.keys(t.components).length)for(let e in t.components){let r=t.components[e];Hke({name:r.displayName??`custom-component-${e}`,positions:[e],__isInternal:!1})(n=>$.jsx(r,{...n}))}},[t.components]),t.children),f3e=B.createContext({}),gRt=()=>B.useContext(f3e),JNt=t=>{let e=(r,n)=>{var i;return((i=t.overrides)==null?void 0:i[r])||n};return $.jsx(f3e.Provider,{value:{getComponentTheme:e},children:$.jsx(pRt,{components:t.components,children:t.children})})};function mRt(t){let[e,r]=B.useState(!1),[n,i]=B.useState(0),[s,o]=B.useState(0);return{handleMouseDown:a=>{t.current&&(r(!0),i(a.pageX-t.current.offsetLeft),o(t.current.scrollLeft))},handleMouseMove:a=>{if(!e||!t.current)return;a.preventDefault();let u=a.pageX-t.current.offsetLeft-n;t.current.scrollLeft=s-u},handleMouseUp:()=>{r(!1)},isDragging:e}}function yRt(){let[t,e]=B.useState(!1),[r,n]=B.useState(!1),i=B.useRef(null);return B.useEffect(()=>{if(!i.current)return;let s=()=>{let u=i.current;u&&(e(u.scrollLeft>0),n(u.scrollLeft+u.clientWidth<u.scrollWidth))},o=new IntersectionObserver(u=>{u.forEach(f=>{f.isIntersecting&&s()})}),a=i.current;return a.addEventListener("scroll",s),o.observe(a),()=>{a.removeEventListener("scroll",s),o.disconnect()}},[]),B.useEffect(()=>{if(!i.current)return;let s=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting})});return s.observe(i.current),()=>{s.disconnect()}},[]),{containerRef:i,leadingVisible:t,tailingVisible:r,onScoll:s=>{var o,a;s==="left"?(o=i.current)==null||o.scrollBy({left:-100,behavior:"smooth"}):(a=i.current)==null||a.scrollBy({left:100,behavior:"smooth"})}}}var Rre=t=>{let{visible:e,leading:r,tailing:n,onClick:i}=t;return e?$.jsxs("button",{onClick:()=>{i==null||i(r?"left":"right")},className:Dt(r?"oui-scroll-indicator-leading":"oui-scroll-indicator-tailing","oui-group oui-flex","oui-absolute oui-top-0 oui-bottom-0",r&&"oui-left-0 oui-flex-row-reverse",n&&"oui-right-0"),children:[$.jsx("div",{className:Dt("oui-w-6 oui-h-full","oui-bg-[linear-gradient(90deg,rgba(var(--oui-color-base-9)_/_0)_0%,rgba(var(--oui-color-base-9)_/_1)_100%)]",r&&"oui-rotate-180")}),$.jsx("div",{className:Dt("oui-flex oui-justify-center oui-items-center","oui-w-3 oui-bg-base-9 oui-h-full"),children:$.jsx(bRt,{className:Dt("oui-text-base-contrast-54 group-hover:oui-text-base-contrast",r&&"oui-rotate-180")})})]}):null},bRt=t=>$.jsx("svg",{width:"6",height:"14",viewBox:"0 0 6 14",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:$.jsx("path",{d:"M1.194.025C.944-.026.675-.005.446.15a1.027 1.027 0 0 0-.28 1.406l3.612 5.437L.166 12.43c-.305.459-.177 1.1.28 1.406a1.02 1.02 0 0 0 1.401-.281l3.986-6a1.03 1.03 0 0 0 0-1.125l-3.986-6C1.695.2 1.444.075 1.194.025"})}),vRt=t=>{let{containerRef:e,leadingVisible:r,tailingVisible:n,onScoll:i}=yRt(),{handleMouseDown:s,handleMouseMove:o,handleMouseUp:a,isDragging:u}=mRt(e);return $.jsxs("div",{className:Dt("oui-scroll-indicator","oui-relative oui-overflow-hidden oui-select-none",t.className),children:[$.jsx("div",{ref:e,className:Dt("oui-overflow-x-scroll oui-hide-scrollbar",u?"oui-cursor-grabbing":"oui-cursor-grab"),onMouseDown:s,onMouseMove:o,onMouseUp:a,onMouseLeave:a,children:t.children}),$.jsx(Rre,{leading:!0,onClick:i,visible:r}),$.jsx(Rre,{tailing:!0,onClick:i,visible:n})]})},d3e=B.createContext({}),wRt=t=>{let{getComponentTheme:e}=gRt(),{classNames:r,contentVisible:n=!0,variant:i,showScrollIndicator:s,...o}=t,a=e("tabs",{variant:"contained"}),[u,f]=B.useState({}),d=y=>{f(b=>({...b,[y.value]:y}))},g=()=>{var b,A;let y=$.jsx(u3e,{variant:a.variant,size:o.size,className:Dt("oui-flex-1 oui-border-0",(b=t.classNames)==null?void 0:b.tabsList),children:Object.keys(u).map(x=>{let k=u[x];return $.jsx(c3e,{value:k.value,icon:k.icon,variant:a.variant,size:o.size,"data-testid":k.testid,children:k.title},x)})});return s?$.jsx(vRt,{className:(A=t.classNames)==null?void 0:A.scrollIndicator,children:y}):y};return $.jsxs(d3e.Provider,{value:{registerTab:d},children:[t.children,$.jsxs(hRt,{...o,children:[$.jsxs(Il,{justify:"between",itemAlign:"center",width:"100%",className:Dt(a.variant!=="contained"&&"oui-border-b oui-border-b-line-6"),children:[t.leading,g(),t.trailing]}),n&&Object.keys(u).map(y=>{var A;let b=u[y];return $.jsx(l3e,{value:b.value,className:(A=t.classNames)==null?void 0:A.tabsContent,children:b.content},y)})]})]})};wRt.displayName="Tabs";var SRt=t=>{let{title:e,value:r,icon:n,testid:i}=t,{registerTab:s}=B.useContext(d3e);return B.useEffect(()=>{let o={title:e,value:r,icon:n,testid:i,content:t.children};s(o)},[t.children,e,r]),null};SRt.displayName="TabPanel";var _Rt=bs({base:["oui-card-root","oui-card","oui-rounded-xl","oui-shadow","oui-text-base-contrast","oui-p-6"],variants:{...ske.variants},defaultVariants:{intensity:900}}),h3e=Ct.forwardRef(({className:t,intensity:e,...r},n)=>$.jsx("div",{ref:n,className:_Rt({intensity:e,className:t}),...r}));h3e.displayName="CardBase";var p3e=Ct.forwardRef(({className:t,...e},r)=>$.jsx("div",{ref:r,className:Dt("oui-card-header oui-flex oui-flex-col oui-space-y-1.5",t),...e}));p3e.displayName="CardHeader";var g3e=Ct.forwardRef(({className:t,...e},r)=>$.jsx("h3",{ref:r,className:Dt("oui-card-header-title oui-font-semibold oui-leading-none oui-tracking-tight oui-text-lg",t),...e}));g3e.displayName="CardTitle";var ARt=Ct.forwardRef(({className:t,...e},r)=>$.jsx("p",{ref:r,className:Dt("oui-text-sm oui-text-muted-foreground",t),...e}));ARt.displayName="CardDescription";var m3e=Ct.forwardRef(({className:t,...e},r)=>$.jsx("div",{ref:r,className:Dt("oui-card-content oui-pt-4",t),...e}));m3e.displayName="CardContent";var y3e=Ct.forwardRef(({className:t,...e},r)=>$.jsx("div",{ref:r,className:t,...e}));y3e.displayName="CardFooter";var xRt=B.forwardRef((t,e)=>{let{title:r,children:n,footer:i,classNames:s,...o}=t;return $.jsxs(h3e,{...o,className:s==null?void 0:s.root,ref:e,children:[$.jsx(p3e,{className:s==null?void 0:s.header,children:typeof t.title=="string"?$.jsx(g3e,{children:r}):r}),$.jsx(m3e,{className:s==null?void 0:s.content,children:n}),i&&$.jsx(y3e,{className:s==null?void 0:s.footer,children:i})]})});xRt.displayName="Card";var ERt=Ikt,kRt=Rkt,b3e=B.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>$.jsx(X2e,{ref:i,align:e,sideOffset:r,className:Dt("oui-z-[100] oui-w-64 oui-rounded-md oui-bg-base-8 oui-p-3 oui-text-base-contrast oui-shadow-md oui-outline-none data-[state=open]:oui-animate-in data-[state=closed]:oui-animate-out data-[state=closed]:oui-fade-out-0 data-[state=open]:oui-fade-in-0 data-[state=closed]:oui-zoom-out-95 data-[state=open]:oui-zoom-in-95 data-[side=bottom]:oui-slide-in-from-top-2 data-[side=left]:oui-slide-in-from-right-2 data-[side=right]:oui-slide-in-from-left-2 data-[side=top]:oui-slide-in-from-bottom-2",t),...n}));b3e.displayName=X2e.displayName;var TRt=t=>{let{content:e,open:r,defaultOpen:n,onOpenChange:i,children:s,...o}=t;return $.jsxs(ERt,{open:r,defaultOpen:n,onOpenChange:i,children:[$.jsx(kRt,{asChild:!0,children:s}),$.jsx(Mkt,{children:$.jsxs(b3e,{...o,children:[e,$.jsx(Ckt,{width:11,height:5,className:"oui-fill-base-4"})]})})]})};TRt.displayName="HoverCard";var IRt=bs({base:"oui-flex oui-flex-row oui-items-stretch oui-rounded-md oui-cursor-pointer oui-border oui-border-line-6 oui-bg-line-4 oui-text-base-contrast-54",variants:{size:{sm:"oui-px-2 oui-h-[22px] oui-text-2xs",base:"oui-px-3 oui-h-[40px]",lg:"oui-px-6 oui-py-3"},fullWidth:{true:"oui-w-full"},disabled:{true:"oui-opacity-50 oui-cursor-not-allowed"},color:{base:"oui-text-base-contract",buy:"oui-text-trade-profit",sell:"oui-text-trade-loss"}},defaultVariants:{size:"base",color:"base"}}),e5t=B.forwardRef(({size:t,color:e,value:r,label:n,placeholder:i,className:s,options:o,fullWidth:a,disabled:u,...f},d)=>{let[g,y]=B.useState(!1),b=B.useMemo(()=>{if(r&&r.value)return r;if(typeof r=="number"||typeof r=="string"){let k=o.find(R=>R.value===r);if(k)return k}},[r,o]),A=B.useMemo(()=>b?b.label:i||n||"",[b,n,i]),x=B.useMemo(()=>[...o,"---","Cancel"],[o]);return $.jsx(nRt,{actionSheets:x,onOpenChange:y,open:g,onClose:()=>y(!1),value:b,onValueChange:f.onValueChange,children:$.jsxs("div",{className:Dt("oui-space-x-1 oui-text-base-contrast-54 ","oui-rounded-md","oui-bg-base-8",IRt({size:t,color:e,fullWidth:a,disabled:u||o.length===0,className:s})),children:[$.jsx("div",{className:"oui-flex-1 oui-flex oui-justify-start oui-items-center oui-text-inherit oui-text-2xs",children:A}),$.jsx("div",{className:"oui-flex oui-items-center",children:g?$.jsx(hke,{size:14,color:"white"}):$.jsx(dke,{size:14,color:"white"})})]})})}),RRt=qj;RRt.range=Hj;function Mre(t,[e,r]){return Math.min(r,Math.max(e,t))}function v3e(t,e,r){let n=r-e;if(n===0)return Mre(0,[0,100]);let i=100/n*(t-e);return Mre(i,[0,100])}function MRt(t,e){return r=>{let n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function CRt(t,e,r){let n=t/2,i=MRt([0,50],[0,n]);return(n-i(e)*r)*r}var PRt=bs({slots:{root:"oui-relative oui-flex oui-w-full oui-touch-none oui-select-none oui-items-center",thumb:["oui-block","oui-h-[10px]","oui-w-[10px]","oui-rounded-full","oui-border-[2px]","oui-border-primary","oui-bg-base-6","oui-shadow","oui-group","oui-transition-colors","focus-visible:oui-outline-none","focus:oui-shadow-[0_0_0_8px]","focus:oui-shadow-base-contrast/20","focus:oui-h-[14px]","focus:oui-w-[14px]","data-[disabled]:oui-pointer-events-none","data-[disabled]:oui-border-base-2","data-[disabled]:oui-hidden"],track:"oui-relative oui-h-[8px] oui-w-full oui-grow oui-overflow-hidden oui-rounded-full",trackInner:"oui-absolute oui-left-0 oui-right-0 oui-h-[2px] oui-top-[3px]  oui-pointer-events-none oui-bg-base-2",range:"oui-absolute oui-h-[2px] oui-top-[3px] oui-bg-primary data-[disabled]:oui-bg-base-2",mark:"oui-absolute oui-top-[1px] oui-w-[6px] oui-h-[6px] oui-rounded oui-border oui-border-base-2 oui-bg-base-6 oui-pointer-events-none oui-translate-x-[-50%]",tips:["oui-absolute","oui-hidden","oui-rounded","oui-drop-shadow","oui-w-[36px]","oui-h-[19px]","oui-translate-x-[-12px]","oui-top-[-28px]","oui-font-semibold","oui-text-center","group-focus:oui-inline-block","after:oui-block","after:oui-absolute","after:oui-bottom-[-8px]","after:oui-w-0","after:oui-h-0","after:oui-border-4","after:oui-left-1/2","after:oui-translate-x-[-50%]","after:oui-border-solid","after:oui-border-transparent","after:oui-border-t-inherit","oui-text-base-5","oui-text-2xs"]},variants:{color:{primary:{thumb:["oui-border-primary","oui-bg-base-5"],range:"oui-bg-primary",tips:"oui-bg-primary after:oui-border-t-primary"},primaryLight:{thumb:["oui-border-primary-light","oui-bg-base-5"],range:"oui-bg-primary-light",tips:"oui-bg-primary-light after:oui-border-t-primary-light"},buy:{thumb:["oui-border-success","oui-bg-base-5"],range:"oui-bg-success",tips:["oui-bg-success after:oui-border-t-success"]},sell:{thumb:["oui-border-danger","oui-bg-base-5"],range:"oui-bg-danger",tips:["oui-bg-danger after:oui-border-t-danger"]}}}}),Xj=B.forwardRef(({className:t,color:e,marks:r,markCount:n,classNames:i,markLabelVisible:s,showTip:o,onValueChange:a,value:u,...f},d)=>{let{track:g,range:y,thumb:b,root:A,trackInner:x,mark:k,tips:R}=PRt({color:e}),[C,P]=B.useState(u);B.useEffect(()=>{P(Q=>!Q||u!=null&&u.some((Y,X)=>Y!==Q[X])?u:Q)},[u]);let O=B.useMemo(()=>{if(Array.isArray(r)&&r.length>0)return r;let Q=f.max;if(Q||(Q=100),typeof n<"u"){let Y=[],X=Q/n,Z=n-1;for(let le=0;le<=Z;le++){let I=le*X;Y.push({value:I,label:`${I}`})}return Y.push({value:Q,label:"100"}),Y}return[]},[r,n,f.max]),q=Q=>{P(Q),a==null||a(Q)};return $.jsxs(fEe,{ref:d,className:A({className:t}),value:a?u:C,onValueChange:a||q,...f,children:[$.jsxs(Vkt,{className:g({className:i==null?void 0:i.track}),children:[$.jsx("div",{className:x()}),$.jsx(Gkt,{className:y({className:i==null?void 0:i.range})})]}),Array.isArray(O)&&O.length>0&&$.jsx(NRt,{value:C,color:e,marks:O,isInnerMask:!Array.isArray(r)||r.length===0,markLabelVisible:s,disabled:f.disabled,className:k(),step:f.step}),$.jsx(Ykt,{className:b({className:Dt(i==null?void 0:i.thumb,"oui-slider-thumb")}),children:o&&$.jsx(BRt,{value:C,className:R({color:e}),max:f.max??100,min:0,tipFormatter:f.tipFormatter})})]})});Xj.displayName=fEe.displayName;var NRt=t=>{let{marks:e,value:r,isInnerMask:n,markLabelVisible:i,className:s,color:o="primary"}=t,a=B.useMemo(()=>(r==null?void 0:r[0])??0,[r]),u=B.useMemo(()=>{if(!(typeof t.step>"u"))return Math.floor(a/t.step)},[a,t.step]),f=B.useMemo(()=>{switch(o){case"primary":return"oui-border-primary oui-bg-primary";case"buy":return"oui-border-trade-profit oui-bg-trade-profit";case"sell":return"oui-border-trade-loss oui-bg-trade-loss";case"primaryLight":return"oui-border-primary-light oui-bg-primary-light"}},[o]),d=B.useMemo(()=>{switch(o){case"primary":return"oui-text-primary";case"buy":return"oui-texttrade-profit";case"sell":return"oui-text-trade-loss";case"primaryLight":return"oui-text-primary-light"}},[o]);return $.jsx($.Fragment,{children:e==null?void 0:e.map((g,y)=>{let b=v3e(y,0,e.length-1),A=CRt(6,b,1),x=n?g.value:y,k=(n?a>=x:(u??0)>=x)&&a>=0&&!t.disabled?f:"";return $.jsxs(B.Fragment,{children:[$.jsx("span",{className:Dt(s,k),style:{left:`calc(${b}% + ${A}px)`}}),!t.disabled&&i&&$.jsx("span",{"data-testid":`oui-testid-slider-mark-label-${g.label}`,className:Dt("oui-absolute oui-top-[16px] oui-text-2xs xl:oui-text-xs oui-text-base-contrast-54 oui-cursor-pointer oui-translate-x-[-50%]",u===y&&d),style:{left:`calc(${b}% + ${A}px)`},children:g.label},y)]},y)})})},BRt=t=>{var o,a;let{className:e,min:r,max:n}=t,i=((o=t.value)==null?void 0:o[0])??0,s=v3e(i,r,n);return $.jsx("span",{className:e,style:{lineHeight:"19px"},children:((a=t.tipFormatter)==null?void 0:a.call(t,i,r,n,s))??`${s.toFixed()}%`})},w3e=B.forwardRef((t,e)=>{let r=B.useMemo(()=>[t.value],[t.value]);return $.jsx(Xj,{...t,value:r,ref:e,onValueChange:typeof t.onValueChange=="function"?n=>{t.onValueChange(n[0])}:void 0,onValueCommit:typeof t.onValueCommit=="function"?n=>{t.onValueCommit(n[0])}:void 0})});w3e.displayName="SingleSlider";var ORt=Xj;ORt.single=w3e;var S3e=Ct.forwardRef((t,e)=>{let{opacity:r=1,viewBox:n="0 0 20 20",...i}=t;return $.jsx(Bn,{ref:e,viewBox:n,...i,children:$.jsx("path",{d:"M10 1.628a8.333 8.333 0 1 0-.001 16.666 8.333 8.333 0 0 0 0-16.666m-2.5 5c.212 0 .435.071.598.234L10 8.762l1.9-1.9a.85.85 0 0 1 .6-.234c.213 0 .436.071.6.234a.86.86 0 0 1 0 1.198l-1.902 1.901 1.901 1.9a.86.86 0 0 1 0 1.2.86.86 0 0 1-1.198 0L10 11.158 8.097 13.06a.86.86 0 0 1-1.198 0 .857.857 0 0 1 0-1.198L8.8 9.96l-1.9-1.9a.857.857 0 0 1 0-1.2.84.84 0 0 1 .6-.233",fill:"#FF447C",fillOpacity:r})})}),_3e=Ct.forwardRef((t,e)=>{let{opacity:r=1,viewBox:n="0 0 20 20",...i}=t;return $.jsx(Bn,{ref:e,viewBox:n,...i,children:$.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.678 10a8.333 8.333 0 1 1 16.667-.001 8.333 8.333 0 0 1-16.667 0m12.477-3.907c.189-.18.448-.26.697-.26s.507.08.697.26c.38.362.38.969 0 1.33l-6.793 6.473a1.033 1.033 0 0 1-1.394 0l-2.911-2.774a.92.92 0 0 1 0-1.33 1.034 1.034 0 0 1 1.395 0l2.213 2.11z",fill:"#00B49E"})})}),A3e=Ct.forwardRef((t,e)=>{let{opacity:r=1,viewBox:n="0 0 20 20",...i}=t;return $.jsx(Bn,{ref:e,viewBox:n,...i,children:$.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 3.333c0-.46.373-.833.833-.833A7.5 7.5 0 1 1 2.5 10a.833.833 0 0 1 1.667 0A5.834 5.834 0 1 0 10 4.167a.833.833 0 0 1-.833-.834",fill:"#4774F6",fillOpacity:r})})});S3e.displayName="ToasterErrorIcon";_3e.displayName="ToastSuccessIcon";A3e.displayName="ToastLoadingIcon";var t5t=t=>$.jsx(F3t,{toastOptions:{duration:3e3,success:{iconTheme:{primary:"rgba(123, 220, 138, 1)",secondary:"rgba(25, 14, 44, 1)"},style:{background:"rgba(40, 46, 58, 1)"}},loading:{duration:5e3,style:{background:"rgba(40, 46, 58, 1)"}},error:{iconTheme:{primary:"rgba(217, 91, 129, 1)",secondary:"rgba(25, 14, 44, 1)"},style:{background:"rgba(40, 46, 58, 1)"}}},...t,containerClassName:Dt("!top-[62px] md:!top-[80px] oui-font-semibold",t.className),children:e=>$.jsx(mEe,{toast:e,style:{...e.style,color:"rgba(255, 255, 255, 0.8)",borderRadius:"6px",wordBreak:"break-all",maxWidth:800,boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.36)"},children:({icon:r,message:n})=>{let i=r;return e.type==="error"?i=$.jsx(S3e,{className:"w-[16px] h-[16px] md:w-[24px] md:h-[24px]"}):e.type==="success"?i=$.jsx(_3e,{size:20}):e.type==="loading"&&(i=$.jsx("div",{className:"oui-animate-rotate-360 oui-rounded-full",children:$.jsx(A3e,{className:"w-[16px] h-[16px] md:w-[24px] md:h-[24px]"})})),$.jsxs("div",{className:"oui-flex oui-items-center oui-padding-[12px] md:oui-padding-[16px]",children:[i,$.jsx("div",{className:"oui-text-base oui-px-[2px]",children:n}),$.jsx("button",{onClick:()=>Yo.dismiss(e.id),className:"oui-hidden md:oui-block",children:$.jsx(A8,{size:16,className:" oui-text-base-contrast-54"})})]})}})});function LRt(t,e){let r=B.useRef(),n=B.useRef(e);n.current=e,B.useEffect(()=>{let i={root:null,rootMargin:"0px",threshold:0},s=o=>{o.forEach(a=>{var u;a.isIntersecting&&((u=n.current)==null||u.call(n))})};return r.current=new IntersectionObserver(s,i),()=>{var o;(o=r.current)==null||o.disconnect()}},[]),B.useEffect(()=>{var i;(i=r.current)==null||i.observe(t.current)},[])}var DRt=(t,e)=>{let r=B.useRef(null),n=B.useRef(null);LRt(r,()=>{var a;t.isLoading||((a=t.loadMore)==null||a.call(t))});let i=B.useMemo(()=>Array.isArray(t.dataSource)&&t.dataSource.length<=0,[t.dataSource]),s=B.useMemo(()=>t.dataSource?i?t.emptyView||$.jsx(Il,{direction:"column",height:"100%",itemAlign:"center",justify:"center",mt:3,children:$.jsx(qke,{})}):t.dataSource.map((a,u)=>$.jsx(Ct.Fragment,{children:t.renderItem(a,u,t.extraData)},u)):null,[i,t.dataSource,t.extraData,t.emptyView]),o=B.useMemo(()=>{var a;return(((a=t.dataSource)==null?void 0:a.length)||0)===0||!t.isLoading?null:$.jsx("div",{className:"oui-flex oui-py-2 oui-justify-center oui-items-center",children:$.jsx(Rj,{})})},[t.isLoading,t.dataSource]);return B.useImperativeHandle(e,()=>({scroll:a=>{var u;(u=n.current)==null||u.scroll({left:a.x,top:a.y,behavior:"smooth"})}})),$.jsxs("div",{style:t.style,ref:n,className:Dt("oui-relative oui-min-h-[180px] oui-custom-scrollbar oui-overflow-auto",t.className),children:[$.jsx("div",{className:Dt("oui-space-y-3 oui-h-full oui-w-full",i&&"oui-absolute oui-left-0 oui-right-0 oui-top-0 oui-bottom-0",t.contentClassName),children:s}),$.jsx("div",{ref:r,className:"oui-relative oui-invisible oui-h-[1px] oui-top-[-300px]"}),o]})},r5t=B.forwardRef(DRt);B.createContext({});var FRt=GTt,$Rt=YTt,n5t=ZTt,URt=XEe,C8=Dl({slots:{content:["oui-z-50","oui-min-w-[8rem]","oui-overflow-hidden","oui-rounded-xl","oui-p-1","oui-bg-base-8","oui-text-base-contrast","oui-shadow-md","oui-border","oui-border-line-6","data-[state=open]:oui-animate-in","data-[state=closed]:oui-animate-out","data-[state=closed]:oui-fade-out-0","data-[state=open]:oui-fade-in-0","data-[state=closed]:oui-zoom-out-95","data-[state=open]:oui-zoom-in-95","data-[side=bottom]:oui-slide-in-from-top-2","data-[side=left]:oui-slide-in-from-right-2","data-[side=right]:oui-slide-in-from-left-2","data-[side=top]:oui-slide-in-from-bottom-2"],item:["oui-relative","oui-flex","oui-cursor-default","oui-select-none","oui-items-center","oui-px-2","oui-py-1.5","oui-text-sm","oui-outline-none","oui-transition-colors","hover:oui-bg-base-5","focus:oui-bg-accent","focus:oui-text-accent-foreground","data-[disabled]:oui-pointer-events-none","data-[disabled]:oui-opacity-50"],label:"oui-px-2 oui-py-1.5 oui-text-sm oui-font-semibold",separator:"-oui-mx-1 oui-my-1 oui-h-px oui-bg-muted",shortcut:"oui-ml-auto oui-text-xs oui-tracking-widest oui-opacity-60"},variants:{size:{xs:{content:"oui-rounded",item:["oui-px-2","oui-py-1.5","oui-h-6","oui-rounded","oui-text-2xs"]},sm:{content:"oui-rounded",item:["oui-px-2","oui-py-1.5","oui-h-6","oui-rounded","oui-text-2xs"]},md:{content:"oui-rounded-md",item:["oui-px-4","oui-py-3","oui-h-6","oui-rounded"]},lg:{content:"oui-rounded-lg",item:["oui-px-4","oui-py-3","oui-h-6","oui-rounded-md"]},xl:{content:"oui-rounded-xl",item:["oui-px-4","oui-py-3","oui-h-10","oui-rounded-lg","oui-text-base"]}},inset:{true:{item:["oui-pl-8"],label:["oui-pl-8"]}}},defaultVariants:{inset:!1,size:"lg"}}),x3e=B.forwardRef(({className:t,sideOffset:e=4,size:r,...n},i)=>{let{content:s}=C8({size:r});return $.jsx(XEe,{children:$.jsx(QEe,{ref:i,sideOffset:e,className:s({className:t}),...n})})});x3e.displayName=QEe.displayName;var E3e=B.forwardRef(({className:t,inset:e,size:r,...n},i)=>{let{item:s}=C8({size:r});return $.jsx(eke,{ref:i,className:s({className:t,inset:e}),...n})});E3e.displayName=eke.displayName;var zRt=B.forwardRef(({className:t,inset:e,...r},n)=>{let{label:i}=C8({inset:e});return $.jsx(JEe,{ref:n,className:i({className:t}),...r})});zRt.displayName=JEe.displayName;var WRt=B.forwardRef(({className:t,...e},r)=>{let{separator:n}=C8();return $.jsx(tke,{ref:r,className:n({className:t}),...e})});WRt.displayName=tke.displayName;var i5t=t=>{let{currentValue:e,menu:r,render:n,size:i,children:s,...o}=t,a=B.useMemo(()=>typeof t.render=="function"?t.menu.map((u,f)=>{var d;return(d=t.render)==null?void 0:d.call(t,u,f)}):t.menu.map(u=>$.jsx(E3e,{textValue:u.value,onSelect:f=>{var d;(d=t.onSelect)==null||d.call(t,u)},size:i,"data-testid":u.testId,children:$.jsxs(Il,{justify:"between",width:"100%",children:[u.label,e==u.value&&$.jsx(Wg,{width:4,height:4,gradient:"primary",r:"full"})]})},u.value)),[t.menu,t.render,e]);return $.jsxs(FRt,{children:[$.jsx($Rt,{asChild:!0,children:s}),$.jsx(URt,{children:$.jsx(x3e,{onCloseAutoFocus:u=>{u.preventDefault()},size:i,...o,children:a})})]})},s5t=B.memo(t=>{let{value:e,children:r,left:n}=t;return B.useMemo(()=>!!(typeof e=="function"?e():e),[e])?r:n}),o5t=t=>{let{value:e,case:r,default:n,...i}=t,s=typeof e=="function"?e():e;if(typeof r=="function"){let a=r(s);return a?$.jsx(Us,{children:a,...i}):typeof n>"u"?void 0:$.jsx(Us,{children:n,...i})}let o=Object.keys(r);for(;o.length;){let a=o.pop();if(a===s.toString())return $.jsx(Us,{children:r[a],...i})}return $.jsx(Us,{children:n,...i})},a5t=(t,e)=>typeof t>"u"||t===null?e??void 0:t.charAt(0).toUpperCase()+t.slice(1),KRt={};Ij(KRt,{default:()=>jRt});var jRt={};const Pr=t=>typeof t=="string",m_=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},Cre=t=>t==null?"":""+t,HRt=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},qRt=/###/g,Pre=t=>t&&t.indexOf("###")>-1?t.replace(qRt,"."):t,Nre=t=>!t||Pr(t),gA=(t,e,r)=>{const n=Pr(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Nre(t))return{};const s=Pre(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return Nre(t)?{}:{obj:t,k:Pre(n[i])}},Bre=(t,e,r)=>{const{obj:n,k:i}=gA(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=gA(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=gA(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=r},VRt=(t,e,r,n)=>{const{obj:i,k:s}=gA(t,e,Object);i[s]=i[s]||[],i[s].push(r)},VI=(t,e)=>{const{obj:r,k:n}=gA(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},GRt=(t,e,r)=>{const n=VI(t,r);return n!==void 0?n:VI(e,r)},k3e=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Pr(t[n])||t[n]instanceof String||Pr(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):k3e(t[n],e[n],r):t[n]=e[n]);return t},s1=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var YRt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ZRt=t=>Pr(t)?t.replace(/[&<>"'\/]/g,e=>YRt[e]):t;class XRt{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const QRt=[" ",",","?","!",";"],JRt=new XRt(20),eMt=(t,e,r)=>{e=e||"",r=r||"";const n=QRt.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=JRt.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},m9=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,a="";for(let u=s;u<n.length;++u)if(u!==s&&(a+=r),a+=n[u],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<n.length-1)continue;s+=u-s+1;break}i=o}return i},GI=t=>t==null?void 0:t.replace("_","-"),tMt={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class YI{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||tMt,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Pr(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new YI(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new YI(this.logger,e)}}var Tf=new YI;class P8{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,u]=o;for(let f=0;f<u;f++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,u]=o;for(let f=0;f<u;f++)a.apply(a,[e,...n])})}}class Ore extends P8{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){var f,d;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):Pr(n)&&s?a.push(...n.split(s)):a.push(n)));const u=VI(this.data,a);return!u&&!r&&!n&&e.indexOf(".")>-1&&(e=a[0],r=a[1],n=a.slice(2).join(".")),u||!o||!Pr(n)?u:m9((d=(f=this.data)==null?void 0:f[e])==null?void 0:d[r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,r];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=r,r=a[1]),this.addNamespaces(r),Bre(this.data,a,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(Pr(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=r,r=a[1]),this.addNamespaces(r);let u=VI(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?k3e(u,n,s):u={...u,...n},Bre(this.data,a,u),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var T3e={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,r,n,i))??e}),e}};const Lre={},Dre=t=>!Pr(t)&&typeof t!="boolean"&&typeof t!="number";class ZI extends P8{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),HRt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Tf.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return(n==null?void 0:n.res)!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!eMt(e,n,i);if(o&&!a){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Pr(s)?[s]:s};const f=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(f[0])>-1)&&(s=f.shift()),e=f.join(i)}return{key:e,namespaces:Pr(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],r),u=a[a.length-1],f=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode"){if(d){const I=r.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${I}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${I}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o}const g=this.resolve(e,r);let y=g==null?void 0:g.res;const b=(g==null?void 0:g.usedKey)||o,A=(g==null?void 0:g.exactUsedKey)||o,x=["[object Number]","[object Function]","[object RegExp]"],k=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,C=r.count!==void 0&&!Pr(r.count),P=ZI.hasDefaultValue(r),O=C?this.pluralResolver.getSuffix(f,r.count,r):"",q=r.ordinal&&C?this.pluralResolver.getSuffix(f,r.count,{ordinal:!1}):"",Q=C&&!r.ordinal&&r.count===0,Y=Q&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${O}`]||r[`defaultValue${q}`]||r.defaultValue;let X=y;R&&!y&&P&&(X=Y);const Z=Dre(X),le=Object.prototype.toString.apply(X);if(R&&X&&Z&&x.indexOf(le)<0&&!(Pr(k)&&Array.isArray(X))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,X,{...r,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(g.res=I,g.usedParams=this.getUsedParamsDetails(r),g):I}if(s){const I=Array.isArray(X),c=I?[]:{},h=I?A:b;for(const p in X)if(Object.prototype.hasOwnProperty.call(X,p)){const m=`${h}${s}${p}`;P&&!y?c[p]=this.translate(m,{...r,defaultValue:Dre(Y)?Y[p]:void 0,joinArrays:!1,ns:a}):c[p]=this.translate(m,{...r,joinArrays:!1,ns:a}),c[p]===m&&(c[p]=X[p])}y=c}}else if(R&&Pr(k)&&Array.isArray(y))y=y.join(k),y&&(y=this.extendTranslation(y,e,r,n));else{let I=!1,c=!1;!this.isValidLookup(y)&&P&&(I=!0,y=Y),this.isValidLookup(y)||(c=!0,y=o);const p=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&c?void 0:y,m=P&&Y!==y&&this.options.updateMissing;if(c||I||m){if(this.logger.log(m?"updateKey":"missingKey",f,u,o,m?Y:y),s){const w=this.resolve(o,{...r,keySeparator:!1});w&&w.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let v=[];const _=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_&&_[0])for(let w=0;w<_.length;w++)v.push(_[w]);else this.options.saveMissingTo==="all"?v=this.languageUtils.toResolveHierarchy(r.lng||this.language):v.push(r.lng||this.language);const T=(w,l,S)=>{var F;const N=P&&S!==y?S:p;this.options.missingKeyHandler?this.options.missingKeyHandler(w,u,l,N,m,r):(F=this.backendConnector)!=null&&F.saveMissing&&this.backendConnector.saveMissing(w,u,l,N,m,r),this.emit("missingKey",w,u,l,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?v.forEach(w=>{const l=this.pluralResolver.getSuffixes(w,r);Q&&r[`defaultValue${this.options.pluralSeparator}zero`]&&l.indexOf(`${this.options.pluralSeparator}zero`)<0&&l.push(`${this.options.pluralSeparator}zero`),l.forEach(S=>{T([w],o+S,r[`defaultValue${S}`]||Y)})}):T(v,o,Y))}y=this.extendTranslation(y,e,r,g,n),c&&y===o&&this.options.appendNamespaceToMissingKey&&(y=`${u}:${o}`),(c||I)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${o}`:o,I?y:void 0))}return i?(g.res=y,g.usedParams=this.getUsedParamsDetails(r),g):y}extendTranslation(e,r,n,i,s){var f,d;var o=this;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const g=Pr(e)&&(((d=n==null?void 0:n.interpolation)==null?void 0:d.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(g){const A=e.match(this.interpolator.nestingRegexp);y=A&&A.length}let b=n.replace&&!Pr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,n.lng||this.language||i.usedLng,n),g){const A=e.match(this.interpolator.nestingRegexp),x=A&&A.length;y<x&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var A=arguments.length,x=new Array(A),k=0;k<A;k++)x[k]=arguments[k];return(s==null?void 0:s[0])===x[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):o.translate(...x,r)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,u=Pr(a)?[a]:a;return e!=null&&(u!=null&&u.length)&&n.applyPostProcessor!==!1&&(e=T3e.handle(u,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,o,a;return Pr(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(u,r),d=f.key;i=d;let g=f.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const y=r.count!==void 0&&!Pr(r.count),b=y&&!r.ordinal&&r.count===0,A=r.context!==void 0&&(Pr(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);g.forEach(k=>{var R,C;this.isValidLookup(n)||(a=k,!Lre[`${x[0]}-${k}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((C=this.utils)!=null&&C.hasLoadedNamespace(a))&&(Lre[`${x[0]}-${k}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(P=>{var Q;if(this.isValidLookup(n))return;o=P;const O=[d];if((Q=this.i18nFormat)!=null&&Q.addLookupKeys)this.i18nFormat.addLookupKeys(O,d,P,k,r);else{let Y;y&&(Y=this.pluralResolver.getSuffix(P,r.count,r));const X=`${this.options.pluralSeparator}zero`,Z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(O.push(d+Y),r.ordinal&&Y.indexOf(Z)===0&&O.push(d+Y.replace(Z,this.options.pluralSeparator)),b&&O.push(d+X)),A){const le=`${d}${this.options.contextSeparator}${r.context}`;O.push(le),y&&(O.push(le+Y),r.ordinal&&Y.indexOf(Z)===0&&O.push(le+Y.replace(Z,this.options.pluralSeparator)),b&&O.push(le+X))}}let q;for(;q=O.pop();)this.isValidLookup(n)||(s=q,n=this.getResource(P,k,q,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){var s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Pr(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Fre{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tf.create("languageUtils")}getScriptPartFromCode(e){if(e=GI(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=GI(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Pr(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Pr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Pr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Pr(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const $re={zero:0,one:1,two:2,few:3,many:4,other:5},Ure={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rMt{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Tf.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=GI(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ure;if(!e.match(/-|_/))return Ure;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,r)}return this.pluralRulesCache[s]=o,o}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>$re[i]-$re[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const zre=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=GRt(t,e,r);return!s&&i&&Pr(r)&&(s=m9(t,r,n),s===void 0&&(s=m9(e,r,n))),s},MB=t=>t.replace(/\$/g,"$$$$");class nMt{constructor(){var r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tf.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:u,formatSeparator:f,unescapeSuffix:d,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:A,nestingSuffixEscaped:x,nestingOptionsSeparator:k,maxReplaces:R,alwaysFormat:C}=e.interpolation;this.escape=r!==void 0?r:ZRt,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?s1(s):o||"{{",this.suffix=a?s1(a):u||"}}",this.formatSeparator=f||",",this.unescapePrefix=d?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=y?s1(y):b||s1("$t("),this.nestingSuffix=A?s1(A):x||s1(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=R||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){var b;let s,o,a;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=A=>{if(A.indexOf(this.formatSeparator)<0){const C=zre(r,u,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,n,{...i,...r,interpolationkey:A}):C}const x=A.split(this.formatSeparator),k=x.shift().trim(),R=x.join(this.formatSeparator).trim();return this.format(zre(r,u,k,this.options.keySeparator,this.options.ignoreJSONStructure),R,n,{...i,...r,interpolationkey:k})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>MB(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?MB(this.escape(A)):MB(A)}].forEach(A=>{for(a=0;s=A.regex.exec(e);){const x=s[1].trim();if(o=f(x),o===void 0)if(typeof d=="function"){const R=d(e,s,i);o=Pr(R)?R:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),o="";else!Pr(o)&&!this.useRawValueToEscape&&(o=Cre(o));const k=A.safeValue(o);if(e=e.replace(s[0],k),g?(A.regex.lastIndex+=o.length,A.regex.lastIndex-=s[0].length):A.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(u,f)=>{const d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;const g=u.split(new RegExp(`${d}[ ]*{`));let y=`{${g[1]}`;u=g[0],y=this.interpolate(y,o);const b=y.match(/'/g),A=y.match(/"/g);(((b==null?void 0:b.length)??0)%2===0&&!A||A.length%2!==0)&&(y=y.replace(/'/g,'"'));try{o=JSON.parse(y),f&&(o={...f,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,x),`${u}${d}${y}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];o={...n},o=o.replace&&!Pr(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let f=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=d.shift(),u=d,f=!0}if(s=r(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!Pr(s))return s;Pr(s)||(s=Cre(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),f&&(s=u.reduce((d,g)=>this.format(d,g,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const iMt=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...u]=o.split(":"),f=u.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();r[d]||(r[d]=f),f==="false"&&(r[d]=!1),f==="true"&&(r[d]=!0),isNaN(f)||(r[d]=parseInt(f,10))}})}return{formatName:e,formatOptions:r}},o1=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let a=e[o];return a||(a=t(GI(n),i),e[o]=a),a(r)}};class sMt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tf.create("formatter"),this.options=e,this.formats={number:o1((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:o1((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:o1((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:o1((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:o1((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=o1(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(u=>u.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,u)=>{var g;const{formatName:f,formatOptions:d}=iMt(u);if(this.formats[f]){let y=a;try{const b=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},A=b.locale||b.lng||i.locale||i.lng||n;y=this.formats[f](a,A,{...d,...i,...b})}catch(b){this.logger.warn(b)}return y}else this.logger.warn(`there was no format function for ${f}`);return a},e)}}const oMt=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class aMt extends P8{constructor(e,r,n){var s,o;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Tf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},a={},u={};return e.forEach(f=>{let d=!0;r.forEach(g=>{const y=`${f}|${g}`;!n.reload&&this.store.hasResourceBundle(f,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?o[y]===void 0&&(o[y]=!0):(this.state[y]=1,d=!1,o[y]===void 0&&(o[y]=!0),s[y]===void 0&&(s[y]=!0),u[g]===void 0&&(u[g]=!0)))}),d||(a[f]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const a={};this.queue.forEach(u=>{VRt(u.loaded,[s],o),oMt(u,e),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(f=>{a[f]||(a[f]={});const d=u.loaded[f];d.length&&d.forEach(g=>{a[f][g]===void 0&&(a[f][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(u=>!u.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(f,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(f&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(f,d)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const f=u(e,r);f&&typeof f.then=="function"?f.then(d=>a(null,d)).catch(a):a(null,f)}catch(f){a(f)}return}return u(e,r,a)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Pr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pr(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,r,n,i,s){var u,f,d,g,y;let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace&&!((g=(d=this.services)==null?void 0:d.utils)!=null&&g.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((y=this.backend)!=null&&y.create){const b={...o,isUpdate:s},A=this.backend.create.bind(this.backend);if(A.length<6)try{let x;A.length===5?x=A(e,r,n,i,b):x=A(e,r,n,i),x&&typeof x.then=="function"?x.then(k=>a(null,k)).catch(a):a(null,x)}catch(x){a(x)}else A(e,r,n,i,a,b)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Wre=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Pr(t[1])&&(e.defaultValue=t[1]),Pr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Kre=t=>{var e,r;return Pr(t.ns)&&(t.ns=[t.ns]),Pr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Pr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Gk=()=>{},uMt=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class _x extends P8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Kre(e),this.services={},this.logger=Tf,this.modules={external:[]},uMt(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(Pr(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=Wre();this.options={...i,...this.options,...Kre(r)},this.options.interpolation={...i.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Tf.init(s(this.modules.logger),this.options):Tf.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=sMt;const g=new Fre(this.options);this.store=new Ore(this.options.resources,this.options);const y=this.services;y.logger=Tf,y.resourceStore=this.store,y.languageUtils=g,y.pluralResolver=new rMt(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(y.formatter=s(d),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new nMt(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new aMt(s(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",function(b){for(var A=arguments.length,x=new Array(A>1?A-1:0),k=1;k<A;k++)x[k-1]=arguments[k];e.emit(b,...x)}),this.modules.languageDetector&&(y.languageDetector=s(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=s(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new ZI(this.services,this.options),this.translator.on("*",function(b){for(var A=arguments.length,x=new Array(A>1?A-1:0),k=1;k<A;k++)x[k-1]=arguments[k];e.emit(b,...x)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Gk),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const u=m_(),f=()=>{const d=(g,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(y),n(g,y)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),u}loadResources(e){var s,o;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gk;const i=Pr(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],u=f=>{if(!f||f==="cimode")return;this.services.languageUtils.toResolveHierarchy(f).forEach(g=>{g!=="cimode"&&a.indexOf(g)<0&&a.push(g)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>u(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,f=>u(f)),this.services.backendConnector.load(a,this.options.ns,f=>{!f&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(f)})}else n(null)}reloadResources(e,r,n){const i=m_();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Gk),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&T3e.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=m_();this.emit("languageChanging",e);const s=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,f)=>{f?(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(u,function(){return n.t(...arguments)})},a=u=>{var d,g;!e&&!u&&this.services.languageDetector&&(u=[]);const f=Pr(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);f&&(this.language||s(f),this.translator.language||this.translator.changeLanguage(f),(g=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||g.call(d,f)),this.loadResources(f,y=>{o(y,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,r,n){var i=this;const s=function(o,a){let u;if(typeof a!="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),g=2;g<f;g++)d[g-2]=arguments[g];u=i.options.overloadTranslationOptionHandler([o,a].concat(d))}else u={...a};u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||s.keyPrefix);const y=i.options.keySeparator||".";let b;return u.keyPrefix&&Array.isArray(o)?b=o.map(A=>`${u.keyPrefix}${y}${A}`):b=u.keyPrefix?`${u.keyPrefix}${y}${o}`:o,i.t(b,u)};return Pr(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){var i;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(i=this.translator)==null?void 0:i.translate(...r)}exists(){var i;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(i=this.translator)==null?void 0:i.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,u)=>{const f=this.services.backendConnector.state[`${a}|${u}`];return f===-1||f===0||f===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=m_();return this.options.ns?(Pr(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=m_();Pr(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new Fre(Wre());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new _x(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gk;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new _x(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const a=Object.keys(this.store.data).reduce((u,f)=>(u[f]={...this.store.data[f]},Object.keys(u[f]).reduce((d,g)=>(d[g]={...u[f][g]},d),{})),{});s.store=new Ore(a,i),s.services.resourceStore=s.store}return s.translator=new ZI(s.services,i),s.translator.on("*",function(a){for(var u=arguments.length,f=new Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];s.emit(a,...f)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ta=_x.createInstance();Ta.createInstance=_x.createInstance;const cMt=Ta.createInstance;Ta.dir;Ta.init;Ta.loadResources;Ta.reloadResources;Ta.use;Ta.changeLanguage;Ta.getFixedT;Ta.t;Ta.exists;Ta.setDefaultNamespace;Ta.hasLoadedNamespace;Ta.loadNamespaces;Ta.loadLanguages;const lMt=(t,e,r,n)=>{var s,o,a,u;const i=[r,{code:e,...n||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);hm(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&u.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},jre={},y9=(t,e,r,n)=>{hm(r)&&jre[r]||(hm(r)&&(jre[r]=new Date),lMt(t,e,r,n))},I3e=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},b9=(t,e,r)=>{t.loadNamespaces(e,I3e(t,r))},Hre=(t,e,r,n)=>{if(hm(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return b9(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,I3e(t,n))},fMt=(t,e,r={})=>!e.languages||!e.languages.length?(y9(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{var s;if(((s=r.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),hm=t=>typeof t=="string",dMt=t=>typeof t=="object"&&t!==null,hMt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pMt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},gMt=t=>pMt[t],mMt=t=>t.replace(hMt,gMt);let yMt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mMt};const bMt=()=>yMt;let vMt;const wMt=()=>vMt,R3e=B.createContext();class SMt{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _Mt=(t,e)=>{const r=B.useRef();return B.useEffect(()=>{r.current=t},[t,e]),r.current},M3e=(t,e,r,n)=>t.getFixedT(e,r,n),AMt=(t,e,r,n)=>B.useCallback(M3e(t,e,r,n),[t,e,r,n]),xMt=(t,e={})=>{var O,q,Q,Y;const{i18n:r}=e,{i18n:n,defaultNS:i}=B.useContext(R3e)||{},s=r||n||wMt();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new SMt),!s){y9(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const X=(le,I)=>hm(I)?I:dMt(I)&&hm(I.defaultValue)?I.defaultValue:Array.isArray(le)?le[le.length-1]:le,Z=[X,{},!1];return Z.t=X,Z.i18n={},Z.ready=!1,Z}(O=s.options.react)!=null&&O.wait&&y9(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...bMt(),...s.options.react,...e},{useSuspense:a,keyPrefix:u}=o;let f=t||i||((q=s.options)==null?void 0:q.defaultNS);f=hm(f)?[f]:f||["translation"],(Y=(Q=s.reportNamespaces).addUsedNamespaces)==null||Y.call(Q,f);const d=(s.isInitialized||s.initializedStoreOnce)&&f.every(X=>fMt(X,s,o)),g=AMt(s,e.lng||null,o.nsMode==="fallback"?f:f[0],u),y=()=>g,b=()=>M3e(s,e.lng||null,o.nsMode==="fallback"?f:f[0],u),[A,x]=B.useState(y);let k=f.join();e.lng&&(k=`${e.lng}${k}`);const R=_Mt(k),C=B.useRef(!0);B.useEffect(()=>{const{bindI18n:X,bindI18nStore:Z}=o;C.current=!0,!d&&!a&&(e.lng?Hre(s,e.lng,f,()=>{C.current&&x(b)}):b9(s,f,()=>{C.current&&x(b)})),d&&R&&R!==k&&C.current&&x(b);const le=()=>{C.current&&x(b)};return X&&(s==null||s.on(X,le)),Z&&(s==null||s.store.on(Z,le)),()=>{C.current=!1,s&&(X==null||X.split(" ").forEach(I=>s.off(I,le))),Z&&s&&Z.split(" ").forEach(I=>s.store.off(I,le))}},[s,k]),B.useEffect(()=>{C.current&&d&&x(y)},[s,u,d]);const P=[A,s,d];if(P.t=A,P.i18n=s,P.ready=d,d||!d&&!a)return P;throw new Promise(X=>{e.lng?Hre(s,e.lng,f,()=>X()):b9(s,f,()=>X())})},{slice:EMt,forEach:kMt}=[];function TMt(t){return kMt.call(EMt.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function IMt(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const qre=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,RMt=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!qre.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!qre.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},Vre={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=RMt(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var MMt={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Vre.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:s}=e;r&&typeof document<"u"&&Vre.create(r,t,n,i,s)}},CMt={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const u=o[a].indexOf("=");u>0&&o[a].substring(0,u)===e&&(r=o[a].substring(u+1))}}return r}};let a1=null;const Gre=()=>{if(a1!==null)return a1;try{if(a1=typeof window<"u"&&window.localStorage!==null,!a1)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{a1=!1}return a1};var PMt={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Gre())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&Gre()&&window.localStorage.setItem(r,t)}};let u1=null;const Yre=()=>{if(u1!==null)return u1;try{if(u1=typeof window<"u"&&window.sessionStorage!==null,!u1)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{u1=!1}return u1};var NMt={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Yre())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&Yre()&&window.sessionStorage.setItem(r,t)}},BMt={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let s=0;s<r.length;s++)e.push(r[s]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},OMt={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},LMt={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(i=r[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},DMt={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let C3e=!1;try{document.cookie,C3e=!0}catch{}const P3e=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];C3e||P3e.splice(1,1);const FMt=()=>({order:P3e,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class N3e{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=TMt(r,this.options||{},FMt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(MMt),this.addDetector(CMt),this.addDetector(PMt),this.addDetector(NMt),this.addDetector(BMt),this.addDetector(OMt),this.addDetector(LMt),this.addDetector(DMt)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!IMt(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}N3e.type="languageDetector";var $Mt=(t=>(t.en="en",t.zh="zh",t.ja="ja",t.es="es",t.ko="ko",t.vi="vi",t.de="de",t.fr="fr",t.nl="nl",t.id="id",t))($Mt||{}),B3e="en",UMt="translation",zMt="orderly_i18nLng",WMt={"markets.favorites":"Favorites","markets.recent":"Recent","markets.newListings":"New listings","markets.allMarkets":"All markets","markets.openInterest":"Open interest","markets.openInterest.tooltip":"Total size of positions per side.","markets.topGainers":"Top gainers","markets.topLosers":"Top losers","markets.search.placeholder":"Search market","markets.dataList.favorites.empty":"Click on the <0/> icon next to a market to add it to your list.","markets.dataList.column.8hFunding":"8h funding","markets.dataList.column.moveTop":"Move to top","markets.favorites.dropdown.title":"Select lists for","markets.favorites.dropdown.addPlaceholder":"Add a new watchlist","markets.favorites.tabs.maxList":"Maximum 10 groups in the favorite list","markets.favorites.tabs.maxName":"List name cannot exceed 15 characters","markets.favorites.tabs.delete.dialog.title":"Delete list","markets.favorites.tabs.delete.dialog.description":"Are you sure you want to delete {{name}}?","markets.column.market":"Market","markets.column.24hChange":"24h change","markets.column.24hVolume":"24h volume","markets.column.market&Volume":"Market / Volume","markets.column.price&Change":"Price / change","markets.column.last":"Last","markets.column.24hPercentage":"24h%","markets.funding.comparison":"Comparison","markets.funding.column.estFunding":"Est. funding","markets.funding.column.lastFunding":"Last funding","markets.funding.column.1dAvg":"1D avg.","markets.funding.column.3dAvg":"3D avg.","markets.funding.column.7dAvg":"7D avg.","markets.funding.column.14dAvg":"14D avg.","markets.funding.column.30dAvg":"30D avg.","markets.funding.column.90dAvg":"90D avg.","markets.funding.column.positiveRate":"Positive rate","markets.symbolInfoBar.Mark":"Mark","markets.symbolInfoBar.Mark.tooltip":"Price for the computation of unrealized PnL and liquidation.","markets.symbolInfoBar.Index":"Index","markets.symbolInfoBar.Index.tooltip":"Average of the last prices across other exchanges.","markets.symbolInfoBar.24hVolume":"24h volume","markets.symbolInfoBar.24hVolume.tooltip":"24 hour total trading volume on the Orderly Network.","markets.symbolInfoBar.predFundingRate":"Pred. funding rate","markets.symbolInfoBar.predFundingRate.tooltip":"Funding rates are payments between traders who are long and short. When positive, long positions pay short positions funding. When negative, short positions pay long positions."},KMt={"portfolio.feeTier":"Fee tier","portfolio.apiKeys":"API Keys","portfolio.setting":"Setting","portfolio.overview.availableWithdraw":"Available to withdraw","portfolio.overview.performance":"Performance","portfolio.overview.performance.roi":"{{period}} ROI","portfolio.overview.performance.pnl":"{{period}} PnL","portfolio.overview.performance.volume":"{{period}} Volume (USDC)","portfolio.overview.performance.dailyPnl":"Daily PnL","portfolio.overview.performance.cumulativePnl":"Cumulative PnL","portfolio.overview.deposits&Withdrawals":"Deposits & Withdrawals","portfolio.overview.distribution":"Distribution","portfolio.overview.column.txId":"TxID","portfolio.overview.column.funding&AnnualRate":"Funding rate / Annual rate","portfolio.overview.column.paymentType":"Payment type","portfolio.overview.column.paymentType.paid":"Paid","portfolio.overview.column.paymentType.received":"Received","portfolio.overview.column.fundingFee":"Funding fee","portfolio.overview.distribution.type.referralCommission":"Referral commission","portfolio.overview.distribution.type.refereeRebate":"Referee rebate","portfolio.overview.distribution.type.brokerFee":"Broker fee","portfolio.feeTier.updatedDailyBy":"Updated daily by","portfolio.feeTier.header.yourTier":"Your tier","portfolio.feeTier.header.30dVolume":"30D trading volume","portfolio.feeTier.header.takerFeeRate":"Taker fee rate","portfolio.feeTier.header.makerFeeRate":"Maker fee rate","portfolio.feeTier.column.tier":"Tier","portfolio.feeTier.column.30dVolume":"30 day volume","portfolio.feeTier.column.30dVolume.above":"Above {{volume}}","portfolio.feeTier.column.maker":"Maker","portfolio.feeTier.column.taker":"Taker","portfolio.apiKey.accountId":"Account ID","portfolio.apiKey.accountId.copied":"Account id copied","portfolio.apiKey.uid":"UID","portfolio.apiKey.secretKey":"Secret key","portfolio.apiKey.secretKey.copied":"Secret key copied","portfolio.apiKey.ip":"IP","portfolio.apiKey.permissions":"Permissions","portfolio.apiKey.permissions.read":"Read","portfolio.apiKey.permissions.trading":"Trading","portfolio.apiKey.description":"Create API keys to suit your trading needs. For your security, don't share your API keys with anyone.","portfolio.apiKey.readApiGuide":"Read API guide","portfolio.apiKey.column.apiKey":"API key","portfolio.apiKey.column.apiKey.copy":"API key copied","portfolio.apiKey.column.permissionType":"Permission type","portfolio.apiKey.column.restrictedIP":"Restricted IP","portfolio.apiKey.column.restrictedIP.copy":"Restricted IP copied","portfolio.apiKey.column.expirationDate":"Expiration date","portfolio.apiKey.create.dialog.title":"Create API key","portfolio.apiKey.create.connectWallet.tooltip":"Please connect wallet before create API key","portfolio.apiKey.create.signIn.tooltip":"Please sign in before create API key","portfolio.apiKey.create.enableTrading.tooltip":"Please enable trading before create API key","portfolio.apiKey.create.wrongNetwork.tooltip":"Please switch to a supported network to create API key","portfolio.apiKey.create.ipRestriction":"IP restriction (optional)","portfolio.apiKey.create.ipRestriction.placeholder":"Add IP addresses, separated by commas.","portfolio.apiKey.created.warning":"Please copy the API secret. Once you close this pop-up, the API secret will be encrypted.","portfolio.apiKey.created.button.copyApiInfo":"Copy API info","portfolio.apiKey.apiInfo.copied":"API info copied","portfolio.apiKey.created":"API key created","portfolio.apiKey.deleted":"API key deleted","portfolio.apiKey.updated":"API key updated","portfolio.apiKey.edit.dialog.title":"Edit API key","portfolio.apiKey.delete.dialog.title":"Delete API key","portfolio.apiKey.delete.dialog.description":"Delete your API key <0>{{apiKey}}</0>?","portfolio.setting.systemUpgrade":"System upgrade","portfolio.setting.cancelOpenOrders":"Cancel open orders during system upgrade","portfolio.setting.cancelOpenOrders.description":"During the upgrade period, all open orders will be cancelled to manage your risk in case of high market volatility."},jMt={"trading.layout":"Layout","trading.layout.right":"Advanced (right)","trading.layout.left":"Advanced (left)","trading.orders.closeAll":"Close All","trading.hideOtherSymbols":"Hide other symbols","trading.history":"History","trading.portfolioSettings":"Portfolio Settings","trading.portfolioSettings.decimalPrecision":"Decimal Precision for PnL & Notional","trading.portfolioSettings.unrealPnlPriceBasis":"Unrealized PnL Price Basis","trading.orderBook":"Order book","trading.lastTrades":"Last trades","trading.orderBook.column.value":"Value","trading.tabs.chart":"Chart","trading.tabs.trades":"Trades","trading.tabs.data":"Data","trading.column.24High":"24h high","trading.column.24Low":"24h low","trading.orderBook.sum":"Sum","trading.orderBook.markPrice.tooltip":"Obtained from a third-party oracle, the mark price is calculated as the median of three prices: the last price, the fair price based on the funding rate basis, and the fair price based on the order books.","trading.orderBook.spreadRatio.tooltip":"Spread Ratio of the ask1 and bid1.","trading.faucet.getTestUSDC":"Get test USDC","trading.faucet.getTestUSDC.success":"{{quantity}} USDC will be added to your balance. Please note this may take up to 3 minutes. Please check back later.","trading.asset.startTrading":"Start trading","trading.asset.startTrading.description":"You can deposit assets from various networks","trading.asset.myAssets":"My Assets","trading.asset.freeCollateral":"Free collateral","trading.asset.freeCollateral.tooltip":"Free collateral for placing new orders.","trading.asset.freeCollateral.formula":"Free collateral = Total balance + Total unsettlement PnL - Total position initial margin","trading.asset.marginRatio":"Margin ratio","trading.asset.marginRatio.tooltip":"The margin ratio represents the proportion of collateral relative to the total position value.","trading.asset.marginRatio.formula":"Account margin ratio = (Total collateral value / Total position notional) * 100%","trading.asset.unsettledPnl":"Unsettled PnL","trading.asset.free&TotalCollateral":"Free / Total Collateral","trading.asset.availableBalance":"Available Balance","trading.asset.maintenanceMarginRatio":"Maintenance margin ratio","trading.asset.maintenanceMarginRatio.tooltip":"The minimum margin ratio required to protect your positions from being liquidated. If the Margin ratio falls below the Maintenance margin ratio, the account will be liquidated.","trading.asset.maintenanceMarginRatio.formula":"Account maintenance margin ratio = Sum(Position notional * Symbol maintenance Margin Ratio)  / Total position notional * 100%","trading.riskRate":"Risk rate","trading.riskRate.tooltip":"The Risk rate is used to assess the risk level of an account. When the Risk rate reaches 100%, the account will be liquidated","trading.riskRate.formula":"Risk rate = Maintenance margin ratio / Margin ratio * 100%","trading.asset&Margin":"Asset & Margin","trading.fundingRate.predFundingRate":"Pred. funding rate"},HMt={"chart.now":"Now"},qMt={"positions.positionHistory":"Position history","positions.liquidation":"Liquidation","positions.closePosition":"Close Position","positions.column.liqPrice":"Liq. price","positions.column.liqPrice.tooltip":"Estimated price at which your position will be liquidated. Prices are estimated and depend on multiple factors across all positions.","positions.column.unrealPnl.tooltip":"Current unrealized profit or loss on your open positions across all widgets calculated using Mark Price.","positions.column.unrealPnl.priceBasis":"Unrealized PnL Price Basis","positions.column.margin":"Margin","positions.column.margin.tooltip":"The minimum equity to keep your position.","positions.column.margin.formula":"Margin = Position size * Mark price * MMR","positions.column.close":"Close","positions.limitClose":"Limit close","positions.limitClose.description":"You agree closing {{quantity}} {{base}} position at limit price.","positions.marketClose":"Market close","positions.marketClose.description":"You agree closing {{quantity}} {{base}} position at market price.","positions.history.status.closed":"Closed","positions.history.status.partialClosed":"Partially closed","positions.history.type.adl":"Adl","positions.history.type.liquidated":"Liquidated","positions.history.liquidated.liquidationId":"Liquidation id","positions.history.liquidated.liquidatorFee":"Liquidator fee","positions.history.liquidated.insFundFee":"Ins. Fund fee","positions.history.column.closed":"Closed","positions.history.column.maxClosed":"Max closed","positions.history.column.closed&maxClosed":"Closed / Max closed","positions.history.column.netPnl":"Net PnL","positions.history.column.timeOpened":"Time opened","positions.history.column.timeClosed":"Time closed","positions.history.column.updatedTime":"Updated time","positions.history.netPnl.fundingFee":"Funding fee","positions.history.netPnl.tradingFee":"Trading fee","positions.Liquidation.column.liquidationId":"Liquidation id","positions.Liquidation.column.insFundTransfer":"Ins. fund transfer","positions.Liquidation.column.liquidationFee":"Liquidation fee"},VMt={"orders.orderHistory":"Order history","orders.status.pending":"Pending","orders.status.filled":"Filled","orders.status.partialFilled":"Partial filled","orders.status.canceled":"Canceled","orders.status.rejected":"Rejected","orders.status.incomplete":"Incomplete","orders.status.completed":"Completed","orders.status.opened.toast.title":"Order opened","orders.status.filled.toast.title":"Order filled","orders.status.canceled.toast.title":"Order canceled","orders.status.rejected.toast.title":"Order rejected","orders.status.replaced.toast.title":"Order edited","orders.column.orderPrice":"Order price","orders.column.fill&Quantity":"Filled / Quantity","orders.column.triggerPrice":"Trigger price","orders.column.orderTime":"Order time","orders.column.hidden":"Hidden","orders.editOrder":"Edit order","order.edit.confirm.quantity":"You agree changing the quantity of {{base}}-PERP order to <0>{{value}}</0>.","order.edit.confirm.price":"You agree changing the price of {{base}}-PERP order to <0>{{value}}</0>.","order.edit.confirm.triggerPrice":"You agree changing the trigger price of {{base}}-PERP order to <0>{{value}}</0>.","orders.cancelOrder":"Cancel order","orders.cancelOrder.description":"Are you sure you want to cancel your pending order.","orders.cancelAll":"Cancel all","orders.pending.cancelAll":"Cancel all pending orders","orders.pending.cancelAll.description":"Are you sure you want to cancel all of your pending orders?","orders.tpsl.cancelAll":"Cancel all TP/SL orders","orders.tpsl.cancelAll.description":"Are you sure you want to cancel all of your TP/SL orders?","orders.price.greaterThan":"Price can not be greater than {{max}} USDC.","orders.price.lessThan":"Price can not be less than {{min}} USDC.","orders.quantity.lessThan":"Quantity should be less than {{quantity}}","orders.quantity.lessThanPosition":"Quantity should be less than position quantity : {{quantity}}","orders.history.renew":"Renew","orders.download.tooltip":"The downloaded data will reflect only the applied filters (e.g., status, time, side, and pagination) and may not include all records."},GMt={"tpsl.tp":"TP","tpsl.sl":"SL","tpsl.tpPrice":"TP Price","tpsl.slPrice":"SL Price","tpsl.tpPnl":"TP PnL","tpsl.slPnl":"SL PnL","tpsl.tpTrigger":"TP trigger","tpsl.slTrigger":"SL trigger","tpsl.pnl":"PnL","tpsl.offset":"Offset","tpsl.positionTpsl":"Position TP/SL","tpsl.entirePosition":"Entire position","tpsl.estPnl":"Est. PNL","tpsl.takeProfit":"Take profit","tpsl.stopLoss":"Stop loss","tpsl.cancelOrder.description":"Are you sure you want to cancel this TP/SL order?","tpsl.confirmOrder":"Confirm Order"},YMt={"share.pnl.sharePnl":"Share PnL","share.pnl.share.long":"LONG","share.pnl.share.short":"SHORT","share.pnl.displayFormat":"PnL display format","share.pnl.displayFormat.roi&Pnl":"ROI & PnL","share.pnl.displayFormat.roi":"ROI","share.pnl.displayFormat.pnl":"PnL","share.pnl.optionalInfo":"Optional information to share","share.pnl.optionalInfo.openPrice":"Open price","share.pnl.optionalInfo.closePrice":"Close price","share.pnl.optionalInfo.openTime":"Opened at","share.pnl.optionalInfo.closeTime":"Closed at","share.pnl.optionalInfo.message":"Your message","share.pnl.optionalInfo.message.placeholder":"Max 25 characters","share.pnl.optionalInfo.message.maxLength":"Maximum support of 25 characters","share.pnl.image.copied":"Image copied","share.pnl.copy.failed.description":"Browser version outdated, please update in order to copy image to clipboard."},ZMt={"orderEntry.buyLong":"Buy / Long","orderEntry.sellShort":"Sell / Short","orderEntry.reduceOnly":"Reduce only","orderEntry.orderType.limit":"Limit","orderEntry.orderType.market":"Market","orderEntry.orderType.limitOrder":"Limit order","orderEntry.orderType.marketOrder":"Market order","orderEntry.orderType.stopLimit":"Stop limit","orderEntry.orderType.stopMarket":"Stop market","orderEntry.orderType.postOnly":"Post only","orderEntry.orderType.ioc":"IOC","orderEntry.orderType.fok":"FOK","orderEntry.bbo":"BBO","orderEntry.bbo.counterparty1":"Counterparty 1","orderEntry.bbo.counterparty5":"Counterparty 5","orderEntry.bbo.queue1":"Queue 1","orderEntry.bbo.queue5":"Queue 5","orderEntry.bbo.disabled.tips":"BBO is not supported when TP/SL, Post-Only, IOC, or FOK is selected.","orderEntry.estLiqPrice":"Est. liq. price","orderEntry.disableOrderConfirm":"Disable order confirmation","orderEntry.orderConfirm":"Order confirm","orderEntry.hidden":"Hidden","orderEntry.keepVisible":"Keep visible","orderEntry.maxBuy":"Max buy","orderEntry.maxSell":"Max sell","orderEntry.tpMarkPrice":"TP price (Mark)","orderEntry.slMarkPrice":"SL price (Mark)","orderEntry.tpsl.trigger.description":"TP/SL triggers at the specified mark price and executes as a market order.","orderEntry.estRoi":"Est.ROI","orderEntry.estPnL":"Est.PnL","orderEntry.tpsl.tips":"TP/SL triggers at the specified mark price and executes as a market order. By default, it applies to the entire position. Adjust settings in open positions for partial TP/SL.","orderEntry.orderQuantity.error.required":"Quantity is required","orderEntry.orderQuantity.error.min":"Quantity must be greater than {{value}}","orderEntry.orderQuantity.error.max":"Quantity must be less than {{value}}","orderEntry.orderPrice.error.required":"Price is required","orderEntry.orderPrice.error.min":"Price must be greater than {{value}}","orderEntry.orderPrice.error.max":"Price must be less than {{value}}","orderEntry.triggerPrice.error.required":"Trigger price is required","orderEntry.triggerPrice.error.min":"Trigger price must be greater than {{value}}","orderEntry.triggerPrice.error.max":"Trigger price must be less than {{value}}","orderEntry.tpTriggerPrice.error.min":"TP Price must be greater than {{value}}","orderEntry.tpTriggerPrice.error.max":"TP Price must be less than {{value}}","orderEntry.slTriggerPrice.error.min":"SL Price must be greater than {{value}}","orderEntry.slTriggerPrice.error.max":"SL Price must be less than {{value}}","orderEntry.total.error.min":"The order value should be greater or equal to {{value}} USDC"},XMt={"leverage.maxAccountLeverage":"Max account leverage","leverage.accountLeverage":"Account leverage","leverage.currentLeverage":"Current leverage","leverage.maxLeverage":"Max leverage","leverage.updated":"Leverage updated"},QMt={"scaffold.footer.operational":"Operational","scaffold.footer.joinCommunity":"Join our community","scaffold.footer.poweredBy":"Powered by","scaffold.maintenance.dialog.title":"System upgrade in progress","scaffold.maintenance.dialog.description":"Sorry, {{brokerName}} is temporarily unavailable due to a scheduled upgrade. The service is expected to be back by {{endDate}}.","scaffold.maintenance.tips.description":"{{brokerName}} will be temporarily unavailable for a scheduled upgrade from {{startDate}} to {{endDate}}.","scaffold.restrictedInfo.description.default":" You are accessing {{brokerName}} from an IP address ({{ip}}) associated with a restricted country."},JMt={"tradingRewards.rewards":"Rewards","tradingRewards.subtitle":"Trade with {{brokerName}} to earn esORDER.","tradingRewards.learnMore":"Learn more here","tradingRewards.myEstRewards":"My est. rewards","tradingRewards.epoch":"Epoch","tradingRewards.epochRewards":"Epoch rewards","tradingRewards.otherOrderlyDex":"Other Orderly DEX","tradingRewards.claim":"Claim","tradingRewards.availableClaim":"Available to claim","tradingRewards.stake":"Stake","tradingRewards.booster":"Booster","tradingRewards.stakeBooster":"Stake booster","tradingRewards.avgStakedAmount":"Avg. staked amount","tradingRewards.rewardHistory":"Reward history","tradingRewards.rewardsEarned":"Rewards earned","tradingRewards.rewardHistory.column.start&EndDate":"Start / End date","tradingRewards.rewardHistory.column.startDate":"Start","tradingRewards.rewardHistory.column.endDate":"End date"},e8t={"tradingView.timeInterval.1m":"1m","tradingView.timeInterval.3m":"3m","tradingView.timeInterval.5m":"5m","tradingView.timeInterval.15m":"15m","tradingView.timeInterval.30m":"30m","tradingView.timeInterval.1h":"1h","tradingView.timeInterval.2h":"2h","tradingView.timeInterval.4h":"4h","tradingView.timeInterval.6h":"6h","tradingView.timeInterval.12h":"12h","tradingView.timeInterval.1d":"1D","tradingView.timeInterval.3d":"3D","tradingView.timeInterval.1w":"1W","tradingView.timeInterval.1M":"1M","tradingView.timeInterval.more":"More","tradingView.lineType.bars":"Bars","tradingView.lineType.candles":"Candles","tradingView.lineType.hollowCandles":"Hollow candles","tradingView.lineType.line":"Line","tradingView.lineType.area":"Area","tradingView.lineType.baseline":"Baseline","tradingView.displayControl.buySell":"Buy/Sell","tradingView.displayControl.limitOrders":"Limit orders","tradingView.displayControl.stopOrders":"Stop orders","tradingView.noScriptSrc":"Due to TradingView's policy, you will need to apply for your own license.","tradingView.noScriptSrc.1":"1. Please apply for your TradingView Advanced Chart license <0>here</0>","tradingView.noScriptSrc.2":"2. Follow the instructions on <0>orderly.network</0> to set up."},t8t={"connector.testnet":"Testnet","connector.mainnet":"Mainnet","connector.disconnect":"Disconnect","connector.connectWallet":"Connect wallet","connector.signIn":"Sign in","connector.signIn.description":"Confirm you are the owner of this wallet","connector.enableTrading":"Enable trading","connector.enableTrading.description":"Enable secure access to our API for lightning fast trading","connector.switchNetwork":"Switch Network","connector.wrongNetwork":"Wrong network","connector.wrongNetwork.tooltip":"Please switch to a supported network to continue.","connector.expired":"Your previous access has expired, you will receive a signature request to enable trading. Signing is free and will not send a transaction.","connector.rememberMe":"Remember me","connector.rememberMe.description":"Toggle this option to skip these steps next time you want to trade.","connector.referralCode.placeholder":"Referral code (Optional)","connector.referralCode.invalid":"The referral_code must be 4 to 10 characters long, only accept upper case roman characters and numbers","connector.referralCode.notExist":"This referral code does not exist.","connector.somethingWentWrong":"Something went wrong","connector.userRejected":"User rejected the request.","connector.walletConnected":"Wallet connected","connector.networkSwitched":"Network switched","connector.switchChain.failed":"Switch chain failed","connector.trade.connectWallet.tooltip":"Please connect wallet before starting to trade","connector.trade.signIn.tooltip":"Please sign in before starting to trade","connector.trade.enableTrading.tooltip":"Please enable trading before starting to trade","connector.setUp.connectWallet.tooltip":"Please connect wallet before set up","connector.setUp.signIn.tooltip":"Please sign in before set up","connector.setUp.enableTrading.tooltip":"Please enable trading before set up","connector.ledger.signMessageFailed":"Sign Message Failed","connector.ledger.signMessageFailed.description":"Are you using Ledger Wallet?","connector.loginIn":"Login in","connector.logout":"Log out","connector.email":"Email","connector.google":"Google","connector.twitter":"X / Twitter","connector.myWallet":"My wallet","connector.addEvmWallet":"Add Evm wallet","connector.addSolanaWallet":"Add Solana wallet","connector.createEvmWallet":"Create Evm wallet","connector.createSolanaWallet":"Create Solana wallet","connector.termsOfUse":"By connecting your wallet, you acknowledge and agree to the <0>terms of use</0>.","connector.supportedEvmChain":"Supported Evm chain","connector.supportedSolanaChain":"Supported Solana chain","connector.noWallet":"No wallet","connector.noWallet.description":"Please create a wallet to proceed. Only you can access the private key. You can export the private key and import your wallet into another wallet client, such as MetaMask or Phantom, at any time."},r8t={"transfer.network":"Network","transfer.lowestFee":"lowest fee","transfer.web3Wallet":"Your Web3 Wallet","transfer.brokerAccount":"Your {{brokerName}} account","transfer.quantity.invalid":"Please input a valid number","transfer.insufficientBalance":"Insufficient balance","transfer.rejectTransaction":"Rejected transaction","transfer.deposit.approve.symbol":"Approve {{symbol}}","transfer.deposit.approve.success":"Approve success","transfer.deposit.approve.failed":"Approve failed","transfer.deposit.increase.symbol":"Increase {{symbol}} authorized amount","transfer.deposit.requested":"Deposit requested","transfer.deposit.completed":"Deposit completed","transfer.deposit.failed":"Deposit failed","transfer.deposit.destinationGasFee":"Destination gas fee","transfer.deposit.destinationGasFee.description":"Additional gas tokens are required to cover operations on the destination chain.","transfer.withdraw.unsupported.chain":"Withdrawals are not supported on this chain. Please switch to any of the bridgeless networks.","transfer.withdraw.unsupported.networkName":"Withdrawals are not supported on {{networkName}}. Please switch to any of the bridgeless networks.","transfer.withdraw.crossChain.confirmWithdraw":"Confirm to withdraw","transfer.withdraw.crossChain.recipientAddress":"Recipient address","transfer.withdraw.crossChain.recipientNetwork":"Recipient network","transfer.withdraw.crossChain.withdrawAmount":"Withdraw amount","transfer.withdraw.crossChain.process":"Your cross-chain withdrawal is being processed...","transfer.withdraw.crossChain.warning":"Withdrawals that require cross-chain rebalancing can't be cancelled or followed up with more withdrawals until they've been processed.","transfer.withdraw.crossChain.vaultWarning":"Withdrawal exceeds the balance of the {{networkName}} vault ( {{chainVaultBalance}} USDC ). Cross-chain rebalancing fee will be charged for withdrawal to {{networkName}}.","transfer.withdraw.minAmount.error":"quantity must large than {{minAmount}}","transfer.withdraw.requested":"Withdraw requested","transfer.withdraw.completed":"Withdraw completed","transfer.withdraw.failed":"Withdraw failed"},n8t={"affiliate.referral":"Referral","affiliate.trader":"Trader","affiliate.enter":"Enter","affiliate.statistics":"Statistics","affiliate.connectWallet.tooltip":"Please connect your wallet to use this function","affiliate.page.title":"Earn more as a <0>{{shortBrokerName}}</0> affiliate","affiliate.page.subTitle":"Grow your brand | Get 40% commission | Unlock exclusive perks","affiliate.page.learnMore":"Learn how it works","affiliate.asAffiliate.title":"As an affiliate","affiliate.asAffiliate.description":"Onboard traders to earn passive income","affiliate.asAffiliate.button":"Become an affiliate","affiliate.asTrader.title":"As a trader","affiliate.asTrader.description":"Onboard traders to earn passive income","affiliate.asTrader.button":"Enter code","affiliate.referralCode":"Referral code","affiliate.referralCode.dialog.title":"Bind a referral code","affiliate.referralCode.dialog.description":"Bind a referral code to earn trading fee rebates.","affiliate.referralCode.label":"Enter referral code","affiliate.referralCode.bound":"Referral code bound","affiliate.referralCode.notExist":"This referral code does not exist.","affiliate.process.title":"Becoming an affiliate is easy","affiliate.process.step1.title.title":"Apply","affiliate.process.step1.description":"Fill out the application form","affiliate.process.step2.title":"Share","affiliate.process.step2.description":"Unlock your affiliate link and share it with your community","affiliate.process.step3.title":"Earn","affiliate.process.step3.description":"Get paid and receive special treatment 24/7, 365","affiliate.summary":"Summary","affiliate.summary.refereesTraded":"Referees that traded","affiliate.referralLink":"Referral link","affiliate.referralLink.earn":"Earn","affiliate.referralLink.earn.tooltip":"{{brokerName}} net fee that deduct Orderly fee.","affiliate.referralLink.share":"Share","affiliate.referralLink.share.tooltip":"Your referees get <0>{{value}}</0> of their {{brokerName}} net fee","affiliate.referralVol":"Referral vol.","affiliate.referralCodes":"Referral codes","affiliate.referralCodes.remaining":"Remaining referral codes","affiliate.referralCodes.column.you&Referee":"You / Referee","affiliate.referralCodes.column.traders":"Traders","affiliate.referralCodes.column.referees&Traders":"Referees / Traders","affiliate.referralCodes.copyLink":"Copy link","affiliate.commission":"Commission","affiliate.commission.30d":"30d commission","affiliate.commission.column.activeUsers":"Referral active users","affiliate.myReferees":"My referees","affiliate.referees":"Referees","affiliate.referees.column.refereeAddress":"Referee address","affiliate.referees.column.totalCommission":"Total commission","affiliate.referees.column.totalVol":"Total vol.","affiliate.referees.column.invitationTime":"Invitation time","affiliate.trader.yourReferrer":"Your referrer","affiliate.trader.rebate":"Rebate","affiliate.trader.rebates":"Rebates","affiliate.trader.myRebates":"My rebates","affiliate.trader.tradingVol":"Trading vol."},i8t={"ui.pagination.morePages":"More pages","ui.pagination.rowsPerPage":"Rows per page","ui.picker.selectDate":"Select Date","ui.empty.description":"No results found."},s8t={"tradingLeaderboard.leaderboard":"Leaderboard","tradingLeaderboard.campaigns":"Campaigns","tradingLeaderboard.ongoing":"Ongoing","tradingLeaderboard.past":"Past","tradingLeaderboard.future":"Future","tradingLeaderboard.learnMore":"Learn more","tradingLeaderboard.tradeNow":"Trade now","tradingLeaderboard.tradingVolume":"Trading volume","tradingLeaderboard.rank":"Rank"},o8t={"common.cancel":"Cancel","common.confirm":"Confirm","common.ok":"OK","common.yes":"Yes","common.no":"No","common.all":"All","common.buy":"Buy","common.sell":"Sell","common.edit":"Edit","common.save":"Save","common.add":"Add","common.delete":"Delete","common.tips":"Tips","common.max":"Max","common.download":"Download","common.copy":"Copy","common.copy.failed":"Copy failed","common.copy.copied":"Copied","common.share":"Share","common.export":"Export","common.select.1d":"1D","common.select.3d":"3D","common.select.7d":"7D","common.select.14d":"14D","common.select.30d":"30D","common.select.90d":"90D","common.price":"Price","common.quantity":"Quantity","common.qty":"Qty","common.status":"Status","common.status.all":"All status","common.date":"Date","common.time":"Time","common.volume":"Volume","common.total":"Total","common.symbol":"Symbol","common.token":"Token","common.amount":"Amount","common.side":"Side","common.side.all":"All sides","common.type":"Type","common.notional":"Notional","common.fee":"Fee","common.avgPrice":"Avg. price","common.avgOpen":"Avg. open","common.avgClose":"Avg. close","common.trigger":"Trigger","common.lastPrice":"Last price","common.indexPrice":"Index price","common.markPrice":"Mark price","common.limitPrice":"Limit price","common.marketPrice":"Market","common.unrealizedPnl":"Unrealized PnL","common.realizedPnl":"Realized PnL","common.totalValue":"Total value","common.address":"Address","common.address.search.placeholder":"Search address","common.available":"Available","common.overview":"Overview","common.funding":"Funding","common.assets":"Assets","common.countdown":"Countdown","common.current":"Current","common.account":"Account","common.deposit":"Deposit","common.withdraw":"Withdraw","common.settle":"Settle","common.markets":"Markets","common.portfolio":"Portfolio","common.positions":"Positions","common.position":"Position","common.orders":"Orders","common.tpsl":"TP/SL","common.leverage":"Leverage","common.affiliate":"Affiliate","common.tradingRewards":"Trading rewards","common.trading":"Trading","common.language":"Language","assetHistory.status.pending":"Pending","assetHistory.status.confirm":"Confirm","assetHistory.status.processing":"Processing","assetHistory.status.completed":"Completed","assetHistory.status.failed":"Failed","assetHistory.status.pendingRebalance":"Pending rebalance","linkDevice.createQRCode.loading.description":"Approve QR code with wallet...","linkDevice.createQRCode.linkMobileDevice":"Link Mobile Device","linkDevice.createQRCode.linkMobileDevice.description":"Open {{hostname}} on your mobile device and scan the QR code to link this wallet. For security, the QR code will expire in 60 seconds. <br/> The QR code allows mobile trading but does not enable withdrawals. Ensure you are not sharing your screen or any screenshots of the QR code.","linkDevice.createQRCode.success.description":"Scan the QR code or paste the URL into another browser/<br/>device to continue.","linkDevice.createQRCode.success.copyUrl":"Copy URL","linkDevice.scanQRCode":"Scan QR Code","linkDevice.scanQRCode.description":"Click the <0/> icon in the top right corner on desktop to generate a QR code to scan.","linkDevice.scanQRCode.tooltip":"Link to Desktop via QR Code","linkDevice.scanQRCode.connected.description":"You are connected via another device. This mode is for trading only. To switch networks, deposit or withdraw assets, please disconnect and reconnect your wallet on this device.","settle.settlePnl":"Settle PnL","settle.settlePnl.warning":"Please settle your balance","settle.settlePnl.description":"Are you sure you want to settle your PnL? <br/> Settlement will take up to 1 minute before you can withdraw your available balance.","settle.unsettled":"Unsettled","settle.unsettled.tooltip":"Unsettled balance can not be withdrawn. In order to withdraw, please settle your balance first.","settle.settlement.requested":"Settlement requested","settle.settlement.completed":"Settlement completed","settle.settlement.failed":"Settlement failed","settle.settlement.error":"Settlement is only allowed once every 10 minutes. Please try again later.",...WMt,...KMt,...jMt,...HMt,...qMt,...VMt,...GMt,...YMt,...ZMt,...XMt,...QMt,...JMt,...e8t,...t8t,...r8t,...n8t,...i8t,...s8t},a8t={[B3e]:{[UMt]:o8t}},u8t=new N3e(null,{lookupLocalStorage:zMt}),O3e=cMt({fallbackLng:B3e,interpolation:{escapeValue:!1},resources:a8t}).use(u8t);O3e.init();var Q_=O3e,c8t=B.createContext({languages:[]}),u5t=()=>B.useContext(c8t);function c5t(t,e){let r=B.useContext(R3e);return xMt(t,{i18n:(r==null?void 0:r.i18n)||Q_,...e})}function l5t(){let[t,e]=B.useState(Q_.language);return B.useEffect(()=>{let r=n=>{e(n)};return Q_.on("languageChanged",r),()=>{Q_.off("languageChanged",r)}},[Q_]),t}export{mS as $,$Rt as A,URt as B,wRt as C,x3e as D,EIt as E,UNt as F,M8 as G,XPt as H,Vh as I,jSe as J,dNt as K,bs as L,Dt as M,zIt as N,QNt as O,E8 as P,XNt as Q,gRt as R,SRt as S,Dg as T,Wn as U,kIt as V,s5t as W,_6t as X,FRt as Y,c5t as Z,Wg as _,zj as a,R3e as a$,Jke as a0,pNt as a1,m8t as a2,o5t as a3,LNt as a4,a4t as a5,u4t as a6,FPt as a7,mNt as a8,ga as a9,L2 as aA,GPt as aB,ZPt as aC,HPt as aD,Ake as aE,$M as aF,kh as aG,I8 as aH,u5t as aI,_ke as aJ,a6t as aK,Dj as aL,DIt as aM,$It as aN,fke as aO,C4t as aP,Iyt as aQ,Hke as aR,n5t as aS,zNt as aT,E3e as aU,y9 as aV,wMt as aW,bMt as aX,hm as aY,lMt as aZ,dMt as a_,Gh as aa,z6t as ab,L6t as ac,A6t as ad,xIt as ae,Rj as af,a5t as ag,qke as ah,qh as ai,Fyt as aj,YNt as ak,xa as al,z$e as am,cNt as an,bl as ao,T4t as ap,Gke as aq,Yke as ar,Xke as as,R4t as at,Dyt as au,Gf as av,K6t as aw,Pj as ax,Nj as ay,dke as az,AIt as b,TCt as b$,Vf as b0,rB as b1,h_ as b2,p_ as b3,Gvt as b4,JNt as b5,fNt as b6,HNt as b7,KNt as b8,ZNt as b9,QPt as bA,RCt as bB,dIt as bC,JPt as bD,RIt as bE,WNt as bF,Fj as bG,i1t as bH,gNt as bI,yNt as bJ,o6t as bK,or as bL,F6t as bM,nNt as bN,di as bO,kbt as bP,aIt as bQ,Ey as bR,v3e as bS,KM as bT,yae as bU,i5t as bV,gS as bW,VNt as bX,r5t as bY,nB as bZ,Nyt as b_,t5t as ba,Zv as bb,l5t as bc,$Mt as bd,TK as be,UPt as bf,ANt as bg,ar as bh,zPt as bi,MCt as bj,gl as bk,F$e as bl,eNt as bm,tNt as bn,lNt as bo,PCt as bp,Ai as bq,hIt as br,If as bs,CCt as bt,BSe as bu,kn as bv,kf as bw,ORt as bx,tE as by,vc as bz,p1t as c,ee as c$,Ht as c0,hNt as c1,TRt as c2,iNt as c3,FIt as c4,qv as c5,gIt as c6,LIt as c7,jM as c8,a3e as c9,LA as cA,v6t as cB,w6t as cC,Uj as cD,Nke as cE,UIt as cF,$Nt as cG,vNt as cH,Tbt as cI,bNt as cJ,GIt as cK,kw as cL,Pe as cM,Bt as cN,Se as cO,xe as cP,er as cQ,st as cR,Vt as cS,En as cT,Cs as cU,ve as cV,Tc as cW,Ic as cX,Rt as cY,Wi as cZ,pe as c_,KSe as ca,A4t as cb,e5t as cc,VSe as cd,one as ce,d8t as cf,rNt as cg,wK as ch,yIt as ci,YHe as cj,_Nt as ck,yw as cl,eu as cm,y_e as cn,SNt as co,O$e as cp,VCe as cq,GCe as cr,PSe as cs,qIt as ct,t6t as cu,WPt as cv,SIt as cw,bae as cx,YPt as cy,HIt as cz,cKe as d,Moe as d$,Ee as d0,ke as d1,De as d2,Qr as d3,Tg as d4,rr as d5,Ve as d6,cr as d7,Uu as d8,At as d9,MPt as dA,Lm as dB,x6 as dC,Zw as dD,TPt as dE,jat as dF,Aa as dG,Wae as dH,Kae as dI,B7 as dJ,UA as dK,eKe as dL,qWe as dM,CWe as dN,Sa as dO,zu as dP,pi as dQ,Rc as dR,Cu as dS,zae as dT,_f as dU,dk as dV,HO as dW,NCt as dX,ms as dY,Pn as dZ,Wue as d_,an as da,ru as db,Pw as dc,Mg as dd,a6 as de,Iw as df,Rw as dg,Tw as dh,zs as di,M8t as dj,T8t as dk,x8t as dl,Ie as dm,Ehe as dn,Ofe as dp,IPt as dq,Af as dr,ua as ds,Ts as dt,A2 as du,CPt as dv,RPt as dw,Lat as dx,Ihe as dy,ix as dz,Rs as e,p0 as e0,Noe as e1,_T as e2,Tt as e3,Qt as e4,DA as e5,rA as e6,lKe as e7,sue as e8,pKe as e9,d1t as eA,z6 as ea,Lyt as eb,W$e as ec,hbt as ed,D$e as ee,Du as ef,iB as eg,Em as eh,C_ as ei,B$e as ej,xRt as ek,QCe as el,ICt as em,sNt as en,aNt as eo,g3e as ep,NIt as eq,BIt as er,fa as es,oNt as et,Ui as eu,uNt as ev,CIt as ew,OIt as ex,WIt as ey,wNt as ez,ig as f,Fe as g,GNt as h,VPt as i,qNt as j,KPt as k,a1t as l,iue as m,nd as n,jNt as o,fIt as p,Q_ as q,UM as r,qPt as s,T8 as t,jPt as u,g1t as v,$Pt as w,Mj as x,A8 as y,Il as z};
