import{aW as ue,ac as D,ad as h,aX as f,aY as He,aZ as I,a_ as ce,a$ as ze,b0 as je,b1 as P,b2 as w,b3 as $,b4 as U,b5 as te}from"./root-GkU6dJ0W.js";function A(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function fe(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function sn(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");A(e.outputLen),A(e.blockLen)}function C(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function le(e,t){fe(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const O=BigInt(2**32-1),ne=BigInt(32);function ke(e,t=!1){return t?{h:Number(e&O),l:Number(e>>ne&O)}:{h:Number(e>>ne&O)|0,l:Number(e&O)|0}}function Ne(e,t=!1){let n=new Uint32Array(e.length),s=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:r}=ke(e[i],t);[n[i],s[i]]=[o,r]}return[n,s]}const Ve=(e,t,n)=>e<<n|t>>>32-n,Se=(e,t,n)=>t<<n|e>>>32-n,_e=(e,t,n)=>t<<n-32|e>>>64-n,Me=(e,t,n)=>e<<n-32|t>>>64-n,S=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const he=e=>e instanceof Uint8Array,Re=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),_=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),g=(e,t)=>e<<32-t|e>>>t,De=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!De)throw new Error("Non little-endian hardware is not supported");function Ke(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function K(e){if(typeof e=="string"&&(e=Ke(e)),!he(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function rn(...e){const t=new Uint8Array(e.reduce((s,i)=>s+i.length,0));let n=0;return e.forEach(s=>{if(!he(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class de{clone(){return this._cloneInto()}}function be(e){const t=s=>e().update(K(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function on(e=32){if(S&&typeof S.getRandomValues=="function")return S.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[pe,ge,ye]=[[],[],[]],We=BigInt(0),E=BigInt(1),Xe=BigInt(2),Ye=BigInt(7),Ze=BigInt(256),Je=BigInt(113);for(let e=0,t=E,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],pe.push(2*(5*s+n)),ge.push((e+1)*(e+2)/2%64);let i=We;for(let o=0;o<7;o++)t=(t<<E^(t>>Ye)*Je)%Ze,t&Xe&&(i^=E<<(E<<BigInt(o))-E);ye.push(i)}const[Qe,qe]=Ne(ye,!0),se=(e,t,n)=>n>32?_e(e,t,n):Ve(e,t,n),ie=(e,t,n)=>n>32?Me(e,t,n):Se(e,t,n);function et(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const a=(r+8)%10,u=(r+2)%10,l=n[u],d=n[u+1],c=se(l,d,1)^n[a],p=ie(l,d,1)^n[a+1];for(let b=0;b<50;b+=10)e[r+b]^=c,e[r+b+1]^=p}let i=e[2],o=e[3];for(let r=0;r<24;r++){const a=ge[r],u=se(i,o,a),l=ie(i,o,a),d=pe[r];i=e[d],o=e[d+1],e[d]=u,e[d+1]=l}for(let r=0;r<50;r+=10){for(let a=0;a<10;a++)n[a]=e[r+a];for(let a=0;a<10;a++)e[r+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Qe[s],e[1]^=qe[s]}n.fill(0)}class W extends de{constructor(t,n,s,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,A(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Re(this.state)}keccak(){et(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){C(this);const{blockLen:n,state:s}=this;t=K(t);const i=t.length;for(let o=0;o<i;){const r=Math.min(n-this.pos,i-o);for(let a=0;a<r;a++)s[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:s,blockLen:i}=this;t[s]^=n,n&128&&s===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){C(this,!1),fe(t),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,o=t.length;i<o;){this.posOut>=s&&this.keccak();const r=Math.min(s-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+r),i),this.posOut+=r,i+=r}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return A(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(le(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:s,outputLen:i,rounds:o,enableXOF:r}=this;return t||(t=new W(n,s,i,r,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=s,t.outputLen=i,t.enableXOF=r,t.destroyed=this.destroyed,t}}const tt=(e,t,n)=>be(()=>new W(t,e,n)),nt=tt(1,136,256/8);function st(e,t){const n=t||"hex",s=nt(D(e,{strict:!1})?ue(e):e);return n==="bytes"?s:h(s)}class z extends f{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class me extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const M=new me(8192);function it(e,t){if(M.has(`${e}.${t}`))return M.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=st(He(n),"bytes"),i=n.split("");for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&i[r]&&(i[r]=i[r].toUpperCase()),(s[r>>1]&15)>=8&&i[r+1]&&(i[r+1]=i[r+1].toUpperCase());const o=`0x${i.join("")}`;return M.set(`${e}.${t}`,o),o}const rt=/^0x[a-fA-F0-9]{40}$/,R=new me(8192);function j(e,t){const{strict:n=!0}=t??{};if(R.has(e))return R.get(e);const s=rt.test(e)?e.toLowerCase()===e?!0:n?it(e)===e:!0:!1;return R.set(e,s),s}function an(e){return typeof e[0]=="string"?k(e):ot(e)}function ot(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let s=0;for(const i of e)n.set(i,s),s+=i.length;return n}function k(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function at(e,t,n,{strict:s}={}){return D(e,{strict:!1})?ct(e,t,n,{strict:s}):ut(e,t,n,{strict:s})}function xe(e,t){if(typeof t=="number"&&t>0&&t>I(e)-1)throw new ce({offset:t,position:"start",size:I(e)})}function we(e,t,n){if(typeof t=="number"&&typeof n=="number"&&I(e)!==n-t)throw new ce({offset:n,position:"end",size:I(e)})}function ut(e,t,n,{strict:s}={}){xe(e,t);const i=e.slice(t,n);return s&&we(i,t,n),i}function ct(e,t,n,{strict:s}={}){xe(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&we(i,t,n),i}class re extends f{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class ft extends f{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class lt extends f{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const ht={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new lt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ft({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new re({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new re({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Pe(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(ht);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function H(e,t="wei"){return ze(e,je[t])}function dt(e){const t=Object.entries(e).map(([s,i])=>i===void 0||i===!1?null:[s,i]).filter(Boolean),n=t.reduce((s,[i])=>Math.max(s,i.length),0);return t.map(([s,i])=>`  ${`${s}:`.padEnd(n+1)}  ${i}`).join(`
`)}class un extends f{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class bt extends f{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class pt extends f{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",dt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class gt extends f{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class cn extends f{constructor({blockHash:t,blockNumber:n,blockTag:s,hash:i,index:o}){let r="Transaction";s&&o!==void 0&&(r=`Transaction at block time "${s}" at index "${o}"`),t&&o!==void 0&&(r=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(r=`Transaction at block number "${n}" at index "${o}"`),i&&(r=`Transaction with hash "${i}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class fn extends f{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class ln extends f{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class ve extends f{constructor({cause:t,message:n}={}){var i;const s=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ve,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class N extends f{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${H(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(N,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class yt extends f{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${H(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class mt extends f{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(mt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class xt extends f{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(xt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class wt extends f{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(wt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Pt extends f{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class vt extends f{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(vt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class It extends f{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(It,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Bt extends f{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ie extends f{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${H(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${H(s)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Ie,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class hn extends f{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function V(e,t){return({exclude:n,format:s})=>({exclude:n,format:i=>{const o=t(i);if(n)for(const r of n)delete o[r];return{...o,...s(i)}},type:e})}const Tt={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Et(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>P(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=w(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=w(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=w(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=w(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=w(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=w(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Tt[e.type]),typeof e.value<"u"&&(t.value=w(e.value)),t}const dn=V("transactionRequest",Et),Be={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function Te(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?$(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?$(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Be[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const bn=V("transaction",Te);function Ut(e){var n;const t=(n=e.transactions)==null?void 0:n.map(s=>typeof s=="string"?s:Te(s));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const pn=V("block",Ut);function Ee(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>U(o)):e.blobs,i=[];for(const o of s)i.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?i:i.map(o=>P(o))}function Ue(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(r=>U(r)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(r=>U(r)):e.commitments,o=[];for(let r=0;r<s.length;r++){const a=s[r],u=i[r];o.push(Uint8Array.from(t.computeBlobKzgProof(a,u)))}return n==="bytes"?o:o.map(r=>P(r))}function Lt(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const i=BigInt(32),o=BigInt(4294967295),r=Number(n>>i&o),a=Number(n&o),u=s?4:0,l=s?0:4;e.setUint32(t+u,r,s),e.setUint32(t+l,a,s)}class Ft extends de{constructor(t,n,s,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=_(this.buffer)}update(t){C(this);const{view:n,buffer:s,blockLen:i}=this;t=K(t);const o=t.length;for(let r=0;r<o;){const a=Math.min(i-this.pos,o-r);if(a===i){const u=_(t);for(;i<=o-r;r+=i)this.process(u,r);continue}s.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){C(this),le(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:o}=this;let{pos:r}=this;n[r++]=128,this.buffer.subarray(r).fill(0),this.padOffset>i-r&&(this.process(s,0),r=0);for(let c=r;c<i;c++)n[c]=0;Lt(s,i-8,BigInt(this.length*8),o),this.process(s,0);const a=_(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)a.setUint32(4*c,d[c],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:o,destroyed:r,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=r,i%n&&t.buffer.set(s),t}}const Gt=(e,t,n)=>e&t^~e&n,Ot=(e,t,n)=>e&t^e&n^t&n,$t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),m=new Uint32Array(64);class At extends Ft{constructor(){super(64,32,8,!1),this.A=y[0]|0,this.B=y[1]|0,this.C=y[2]|0,this.D=y[3]|0,this.E=y[4]|0,this.F=y[5]|0,this.G=y[6]|0,this.H=y[7]|0}get(){const{A:t,B:n,C:s,D:i,E:o,F:r,G:a,H:u}=this;return[t,n,s,i,o,r,a,u]}set(t,n,s,i,o,r,a,u){this.A=t|0,this.B=n|0,this.C=s|0,this.D=i|0,this.E=o|0,this.F=r|0,this.G=a|0,this.H=u|0}process(t,n){for(let c=0;c<16;c++,n+=4)m[c]=t.getUint32(n,!1);for(let c=16;c<64;c++){const p=m[c-15],b=m[c-2],F=g(p,7)^g(p,18)^p>>>3,v=g(b,17)^g(b,19)^b>>>10;m[c]=v+m[c-7]+F+m[c-16]|0}let{A:s,B:i,C:o,D:r,E:a,F:u,G:l,H:d}=this;for(let c=0;c<64;c++){const p=g(a,6)^g(a,11)^g(a,25),b=d+p+Gt(a,u,l)+$t[c]+m[c]|0,v=(g(s,2)^g(s,13)^g(s,22))+Ot(s,i,o)|0;d=l,l=u,u=a,a=r+b|0,r=o,o=i,i=s,s=b+v|0}s=s+this.A|0,i=i+this.B|0,o=o+this.C|0,r=r+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(s,i,o,r,a,u,l,d)}roundClean(){m.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ct=be(()=>new At);function Ht(e,t){const n=t||"hex",s=Ct(D(e,{strict:!1})?ue(e):e);return n==="bytes"?s:h(s)}function zt(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),i=Ht(t,"bytes");return i.set([n],0),s==="bytes"?i:P(i)}function jt(e){const{commitments:t,version:n}=e,s=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const o of t)i.push(zt({commitment:o,to:s,version:n}));return i}const oe=6,Le=32,X=4096,Fe=Le*X,ae=Fe*oe-1-1*X*oe,Ge=1;class kt extends f{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Oe extends f{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class Nt extends f{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class Vt extends f{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Ge}`,`Received: ${n}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}function St(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?U(e.data):e.data,s=I(n);if(!s)throw new Oe;if(s>ae)throw new kt({maxSize:ae,size:s});const i=[];let o=!0,r=0;for(;o;){const a=Pe(new Uint8Array(Fe));let u=0;for(;u<X;){const l=n.slice(r,r+(Le-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),o=!1;break}u++,r+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>P(a.bytes))}function _t(e){const{data:t,kzg:n,to:s}=e,i=e.blobs??St({data:t,to:s}),o=e.commitments??Ee({blobs:i,kzg:n,to:s}),r=e.proofs??Ue({blobs:i,commitments:o,kzg:n,to:s}),a=[];for(let u=0;u<i.length;u++)a.push({blob:i[u],commitment:o[u],proof:r[u]});return a}function Mt(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new pt({transaction:e})}function Rt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}class gn extends f{constructor({blockNumber:t,chain:n,contract:s}){super(`Chain "${n.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class yn extends f{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class Y extends f{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function mn(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function L(e,t="hex"){const n=$e(e),s=Pe(new Uint8Array(n.length));return n.encode(s),t==="hex"?P(s.bytes):s.bytes}function $e(e){return Array.isArray(e)?Dt(e.map(t=>$e(t))):Kt(e)}function Dt(e){const t=e.reduce((i,o)=>i+o.length,0),n=Ae(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:o}of e)o(i)}}}function Kt(e){const t=typeof e=="string"?U(e):e,n=Ae(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function Ae(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new f("Length is too large.")}const Wt={"0x0":"reverted","0x1":"success"};function Xt(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>Rt(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?$(e.transactionIndex):null,status:e.status?Wt[e.status]:null,type:e.type?Be[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const xn=V("transactionReceipt",Xt);function Yt(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Oe;for(const n of t){const s=I(n),i=$(at(n,0,1));if(s!==32)throw new Nt({hash:n,size:s});if(i!==Ge)throw new Vt({hash:n,version:i})}}Ce(e)}function Ce(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Y({chainId:t});if(i&&!j(i))throw new z({address:i});if(s&&s>2n**256n-1n)throw new N({maxFeePerGas:s});if(n&&s&&n>s)throw new Ie({maxFeePerGas:s,maxPriorityFeePerGas:n})}function Zt(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:i,to:o}=e;if(t<=0)throw new Y({chainId:t});if(o&&!j(o))throw new z({address:o});if(n||i)throw new f("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(s&&s>2n**256n-1n)throw new N({maxFeePerGas:s})}function Jt(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:s,maxFeePerGas:i,to:o,accessList:r}=e;if(o&&!j(o))throw new z({address:o});if(typeof t<"u"&&t<=0)throw new Y({chainId:t});if(n||i)throw new f("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(s&&s>2n**256n-1n)throw new N({maxFeePerGas:s});if(r)throw new f("`accessList` is not a valid Legacy Transaction attribute.")}function Z(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:i}=e[n];for(let o=0;o<i.length;o++)if(i[o].length-2!==64)throw new gt({storageKey:i[o]});if(!j(s,{strict:!1}))throw new z({address:s});t.push([s,i])}return t}function wn(e,t){const n=Mt(e);return n==="eip1559"?qt(e,t):n==="eip2930"?en(e,t):n==="eip4844"?Qt(e,t):tn(e,t)}function Qt(e,t){const{chainId:n,gas:s,nonce:i,to:o,value:r,maxFeePerBlobGas:a,maxFeePerGas:u,maxPriorityFeePerGas:l,accessList:d,data:c}=e;Yt(e);let p=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof b>"u")){const x=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(T=>P(T)),G=e.kzg,B=Ee({blobs:x,kzg:G});if(typeof p>"u"&&(p=jt({commitments:B})),typeof b>"u"){const T=Ue({blobs:x,commitments:B,kzg:G});b=_t({blobs:x,commitments:B,proofs:T})}}const F=Z(d),v=[h(n),i?h(i):"0x",l?h(l):"0x",u?h(u):"0x",s?h(s):"0x",o??"0x",r?h(r):"0x",c??"0x",F,a?h(a):"0x",p??[],...J(e,t)],Q=[],q=[],ee=[];if(b)for(let x=0;x<b.length;x++){const{blob:G,commitment:B,proof:T}=b[x];Q.push(G),q.push(B),ee.push(T)}return k(["0x03",L(b?[v,Q,q,ee]:v)])}function qt(e,t){const{chainId:n,gas:s,nonce:i,to:o,value:r,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Ce(e);const c=Z(l),p=[h(n),i?h(i):"0x",u?h(u):"0x",a?h(a):"0x",s?h(s):"0x",o??"0x",r?h(r):"0x",d??"0x",c,...J(e,t)];return k(["0x02",L(p)])}function en(e,t){const{chainId:n,gas:s,data:i,nonce:o,to:r,value:a,accessList:u,gasPrice:l}=e;Zt(e);const d=Z(u),c=[h(n),o?h(o):"0x",l?h(l):"0x",s?h(s):"0x",r??"0x",a?h(a):"0x",i??"0x",d,...J(e,t)];return k(["0x01",L(c)])}function tn(e,t){const{chainId:n=0,gas:s,data:i,nonce:o,to:r,value:a,gasPrice:u}=e;Jt(e);let l=[o?h(o):"0x",u?h(u):"0x",s?h(s):"0x",r??"0x",a?h(a):"0x",i??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const c=27n+(t.v===27n?0n:1n);if(t.v!==c)throw new bt({v:t.v});return c})();l=[...l,h(d),t.r,t.s]}else n>0&&(l=[...l,h(n),"0x","0x"]);return L(l)}function J(e,t){const{r:n,s,v:i,yParity:o}=t??e;return typeof n>"u"?[]:typeof s>"u"?[]:typeof i>"u"&&typeof o>"u"?[]:[typeof o=="number"?o?h(1):"0x":i===0n?"0x":i===1n?h(1):i===27n?"0x":h(1),te(n),te(s)]}const Pn=2n**16n-1n;export{pn as $,yn as A,cn as B,gn as C,Te as D,ve as E,N as F,fn as G,Xt as H,z as I,de as J,sn as K,K as L,C as M,mt as N,fe as O,ft as P,on as Q,rn as R,Ct as S,Bt as T,hn as U,Pn as V,ln as W,Y as X,bt as Y,pt as Z,gt as _,k as a,bn as a0,Be as a1,xn as a2,dn as a3,Tt as a4,L as a5,Ce as a6,Zt as a7,Jt as a8,zt as a9,St as aa,ot as ab,mn as ac,Ht as ad,Z as ae,wn as af,ct as ag,J as ah,Pe as b,an as c,it as d,ut as e,H as f,yt as g,xt as h,j as i,wt as j,st as k,Pt as l,vt as m,It as n,Ie as o,dt as p,un as q,Ut as r,at as s,Ee as t,jt as u,Ue as v,_t as w,Mt as x,Et as y,Rt as z};
